var LM=Object.defineProperty;var Gx=e=>{throw TypeError(e)};var MM=(e,t,n)=>t in e?LM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var he=(e,t,n)=>MM(e,typeof t!="symbol"?t+"":t,n),S0=(e,t,n)=>t.has(e)||Gx("Cannot "+n);var D=(e,t,n)=>(S0(e,t,"read from private field"),n?n.call(e):t.get(e)),Re=(e,t,n)=>t.has(e)?Gx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),be=(e,t,n,r)=>(S0(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),de=(e,t,n)=>(S0(e,t,"access private method"),n);var Du=(e,t,n,r)=>({set _(i){be(e,t,i,n)},get _(){return D(e,t,r)}});function RM(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ls=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Rg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function mo(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var mA={exports:{}},Pg={},vA={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pf=Symbol.for("react.element"),PM=Symbol.for("react.portal"),OM=Symbol.for("react.fragment"),NM=Symbol.for("react.strict_mode"),BM=Symbol.for("react.profiler"),DM=Symbol.for("react.provider"),FM=Symbol.for("react.context"),UM=Symbol.for("react.forward_ref"),GM=Symbol.for("react.suspense"),zM=Symbol.for("react.memo"),HM=Symbol.for("react.lazy"),zx=Symbol.iterator;function WM(e){return e===null||typeof e!="object"?null:(e=zx&&e[zx]||e["@@iterator"],typeof e=="function"?e:null)}var yA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bA=Object.assign,wA={};function yu(e,t,n){this.props=e,this.context=t,this.refs=wA,this.updater=n||yA}yu.prototype.isReactComponent={};yu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xA(){}xA.prototype=yu.prototype;function e1(e,t,n){this.props=e,this.context=t,this.refs=wA,this.updater=n||yA}var t1=e1.prototype=new xA;t1.constructor=e1;bA(t1,yu.prototype);t1.isPureReactComponent=!0;var Hx=Array.isArray,SA=Object.prototype.hasOwnProperty,n1={current:null},EA={key:!0,ref:!0,__self:!0,__source:!0};function CA(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)SA.call(t,r)&&!EA.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var a=Array(c),d=0;d<c;d++)a[d]=arguments[d+2];i.children=a}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Pf,type:e,key:s,ref:o,props:i,_owner:n1.current}}function jM(e,t){return{$$typeof:Pf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function r1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pf}function VM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Wx=/\/+/g;function E0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?VM(""+e.key):t.toString(36)}function sp(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Pf:case PM:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+E0(o,0):r,Hx(i)?(n="",e!=null&&(n=e.replace(Wx,"$&/")+"/"),sp(i,t,n,"",function(d){return d})):i!=null&&(r1(i)&&(i=jM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Wx,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Hx(e))for(var c=0;c<e.length;c++){s=e[c];var a=r+E0(s,c);o+=sp(s,t,n,a,i)}else if(a=WM(e),typeof a=="function")for(e=a.call(e),c=0;!(s=e.next()).done;)s=s.value,a=r+E0(s,c++),o+=sp(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ph(e,t,n){if(e==null)return e;var r=[],i=0;return sp(e,r,"","",function(s){return t.call(n,s,i++)}),r}function KM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wr={current:null},op={transition:null},YM={ReactCurrentDispatcher:wr,ReactCurrentBatchConfig:op,ReactCurrentOwner:n1};function AA(){throw Error("act(...) is not supported in production builds of React.")}it.Children={map:ph,forEach:function(e,t,n){ph(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ph(e,function(){t++}),t},toArray:function(e){return ph(e,function(t){return t})||[]},only:function(e){if(!r1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};it.Component=yu;it.Fragment=OM;it.Profiler=BM;it.PureComponent=e1;it.StrictMode=NM;it.Suspense=GM;it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YM;it.act=AA;it.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=bA({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=n1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(a in t)SA.call(t,a)&&!EA.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&c!==void 0?c[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){c=Array(a);for(var d=0;d<a;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:Pf,type:e.type,key:i,ref:s,props:r,_owner:o}};it.createContext=function(e){return e={$$typeof:FM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:DM,_context:e},e.Consumer=e};it.createElement=CA;it.createFactory=function(e){var t=CA.bind(null,e);return t.type=e,t};it.createRef=function(){return{current:null}};it.forwardRef=function(e){return{$$typeof:UM,render:e}};it.isValidElement=r1;it.lazy=function(e){return{$$typeof:HM,_payload:{_status:-1,_result:e},_init:KM}};it.memo=function(e,t){return{$$typeof:zM,type:e,compare:t===void 0?null:t}};it.startTransition=function(e){var t=op.transition;op.transition={};try{e()}finally{op.transition=t}};it.unstable_act=AA;it.useCallback=function(e,t){return wr.current.useCallback(e,t)};it.useContext=function(e){return wr.current.useContext(e)};it.useDebugValue=function(){};it.useDeferredValue=function(e){return wr.current.useDeferredValue(e)};it.useEffect=function(e,t){return wr.current.useEffect(e,t)};it.useId=function(){return wr.current.useId()};it.useImperativeHandle=function(e,t,n){return wr.current.useImperativeHandle(e,t,n)};it.useInsertionEffect=function(e,t){return wr.current.useInsertionEffect(e,t)};it.useLayoutEffect=function(e,t){return wr.current.useLayoutEffect(e,t)};it.useMemo=function(e,t){return wr.current.useMemo(e,t)};it.useReducer=function(e,t,n){return wr.current.useReducer(e,t,n)};it.useRef=function(e){return wr.current.useRef(e)};it.useState=function(e){return wr.current.useState(e)};it.useSyncExternalStore=function(e,t,n){return wr.current.useSyncExternalStore(e,t,n)};it.useTransition=function(){return wr.current.useTransition()};it.version="18.3.1";vA.exports=it;var U=vA.exports;const Vr=Rg(U),qv=RM({__proto__:null,default:Vr},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZM=U,qM=Symbol.for("react.element"),XM=Symbol.for("react.fragment"),QM=Object.prototype.hasOwnProperty,JM=ZM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eR={key:!0,ref:!0,__self:!0,__source:!0};function _A(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)QM.call(t,r)&&!eR.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:qM,type:e,key:s,ref:o,props:i,_owner:JM.current}}Pg.Fragment=XM;Pg.jsx=_A;Pg.jsxs=_A;mA.exports=Pg;var B=mA.exports;const Gd={black:"#000",white:"#fff"},Ol={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Nl={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Bl={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Dl={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Fl={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Fu={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},tR={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function dl(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const nR=Object.freeze(Object.defineProperty({__proto__:null,default:dl},Symbol.toStringTag,{value:"Module"})),Qc="$$material";function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(null,arguments)}function Te(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function rR(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function iR(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var sR=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(iR(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=rR(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Qn="-ms-",Np="-moz-",pt="-webkit-",kA="comm",i1="rule",s1="decl",oR="@import",IA="@keyframes",aR="@layer",lR=Math.abs,Og=String.fromCharCode,cR=Object.assign;function uR(e,t){return Fn(e,0)^45?(((t<<2^Fn(e,0))<<2^Fn(e,1))<<2^Fn(e,2))<<2^Fn(e,3):0}function TA(e){return e.trim()}function dR(e,t){return(e=t.exec(e))?e[0]:e}function gt(e,t,n){return e.replace(t,n)}function Xv(e,t){return e.indexOf(t)}function Fn(e,t){return e.charCodeAt(t)|0}function zd(e,t,n){return e.slice(t,n)}function ms(e){return e.length}function o1(e){return e.length}function gh(e,t){return t.push(e),e}function fR(e,t){return e.map(t).join("")}var Ng=1,Jc=1,$A=0,Or=0,un=0,bu="";function Bg(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Ng,column:Jc,length:o,return:""}}function Uu(e,t){return cR(Bg("",null,null,"",null,null,0),e,{length:-e.length},t)}function hR(){return un}function pR(){return un=Or>0?Fn(bu,--Or):0,Jc--,un===10&&(Jc=1,Ng--),un}function Zr(){return un=Or<$A?Fn(bu,Or++):0,Jc++,un===10&&(Jc=1,Ng++),un}function Es(){return Fn(bu,Or)}function ap(){return Or}function Of(e,t){return zd(bu,e,t)}function Hd(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function LA(e){return Ng=Jc=1,$A=ms(bu=e),Or=0,[]}function MA(e){return bu="",e}function lp(e){return TA(Of(Or-1,Qv(e===91?e+2:e===40?e+1:e)))}function gR(e){for(;(un=Es())&&un<33;)Zr();return Hd(e)>2||Hd(un)>3?"":" "}function mR(e,t){for(;--t&&Zr()&&!(un<48||un>102||un>57&&un<65||un>70&&un<97););return Of(e,ap()+(t<6&&Es()==32&&Zr()==32))}function Qv(e){for(;Zr();)switch(un){case e:return Or;case 34:case 39:e!==34&&e!==39&&Qv(un);break;case 40:e===41&&Qv(e);break;case 92:Zr();break}return Or}function vR(e,t){for(;Zr()&&e+un!==57;)if(e+un===84&&Es()===47)break;return"/*"+Of(t,Or-1)+"*"+Og(e===47?e:Zr())}function yR(e){for(;!Hd(Es());)Zr();return Of(e,Or)}function bR(e){return MA(cp("",null,null,null,[""],e=LA(e),0,[0],e))}function cp(e,t,n,r,i,s,o,c,a){for(var d=0,l=0,u=o,h=0,p=0,f=0,g=1,m=1,v=1,y=0,x="",C=i,b=s,S=r,I=x;m;)switch(f=y,y=Zr()){case 40:if(f!=108&&Fn(I,u-1)==58){Xv(I+=gt(lp(y),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:I+=lp(y);break;case 9:case 10:case 13:case 32:I+=gR(f);break;case 92:I+=mR(ap()-1,7);continue;case 47:switch(Es()){case 42:case 47:gh(wR(vR(Zr(),ap()),t,n),a);break;default:I+="/"}break;case 123*g:c[d++]=ms(I)*v;case 125*g:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+l:v==-1&&(I=gt(I,/\f/g,"")),p>0&&ms(I)-u&&gh(p>32?Vx(I+";",r,n,u-1):Vx(gt(I," ","")+";",r,n,u-2),a);break;case 59:I+=";";default:if(gh(S=jx(I,t,n,d,l,i,c,x,C=[],b=[],u),s),y===123)if(l===0)cp(I,t,S,S,C,s,u,c,b);else switch(h===99&&Fn(I,3)===110?100:h){case 100:case 108:case 109:case 115:cp(e,S,S,r&&gh(jx(e,S,S,0,0,i,c,x,i,C=[],u),b),i,b,u,c,r?C:b);break;default:cp(I,S,S,S,[""],b,0,c,b)}}d=l=p=0,g=v=1,x=I="",u=o;break;case 58:u=1+ms(I),p=f;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&pR()==125)continue}switch(I+=Og(y),y*g){case 38:v=l>0?1:(I+="\f",-1);break;case 44:c[d++]=(ms(I)-1)*v,v=1;break;case 64:Es()===45&&(I+=lp(Zr())),h=Es(),l=u=ms(x=I+=yR(ap())),y++;break;case 45:f===45&&ms(I)==2&&(g=0)}}return s}function jx(e,t,n,r,i,s,o,c,a,d,l){for(var u=i-1,h=i===0?s:[""],p=o1(h),f=0,g=0,m=0;f<r;++f)for(var v=0,y=zd(e,u+1,u=lR(g=o[f])),x=e;v<p;++v)(x=TA(g>0?h[v]+" "+y:gt(y,/&\f/g,h[v])))&&(a[m++]=x);return Bg(e,t,n,i===0?i1:c,a,d,l)}function wR(e,t,n){return Bg(e,t,n,kA,Og(hR()),zd(e,2,-2),0)}function Vx(e,t,n,r){return Bg(e,t,n,s1,zd(e,0,r),zd(e,r+1,-1),r)}function kc(e,t){for(var n="",r=o1(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function xR(e,t,n,r){switch(e.type){case aR:if(e.children.length)break;case oR:case s1:return e.return=e.return||e.value;case kA:return"";case IA:return e.return=e.value+"{"+kc(e.children,r)+"}";case i1:e.value=e.props.join(",")}return ms(n=kc(e.children,r))?e.return=e.value+"{"+n+"}":""}function SR(e){var t=o1(e);return function(n,r,i,s){for(var o="",c=0;c<t;c++)o+=e[c](n,r,i,s)||"";return o}}function ER(e){return function(t){t.root||(t=t.return)&&e(t)}}function RA(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var CR=function(t,n,r){for(var i=0,s=0;i=s,s=Es(),i===38&&s===12&&(n[r]=1),!Hd(s);)Zr();return Of(t,Or)},AR=function(t,n){var r=-1,i=44;do switch(Hd(i)){case 0:i===38&&Es()===12&&(n[r]=1),t[r]+=CR(Or-1,n,r);break;case 2:t[r]+=lp(i);break;case 4:if(i===44){t[++r]=Es()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Og(i)}while(i=Zr());return t},_R=function(t,n){return MA(AR(LA(t),n))},Kx=new WeakMap,kR=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Kx.get(r))&&!i){Kx.set(t,!0);for(var s=[],o=_R(n,s),c=r.props,a=0,d=0;a<o.length;a++)for(var l=0;l<c.length;l++,d++)t.props[d]=s[a]?o[a].replace(/&\f/g,c[l]):c[l]+" "+o[a]}}},IR=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function PA(e,t){switch(uR(e,t)){case 5103:return pt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return pt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return pt+e+Np+e+Qn+e+e;case 6828:case 4268:return pt+e+Qn+e+e;case 6165:return pt+e+Qn+"flex-"+e+e;case 5187:return pt+e+gt(e,/(\w+).+(:[^]+)/,pt+"box-$1$2"+Qn+"flex-$1$2")+e;case 5443:return pt+e+Qn+"flex-item-"+gt(e,/flex-|-self/,"")+e;case 4675:return pt+e+Qn+"flex-line-pack"+gt(e,/align-content|flex-|-self/,"")+e;case 5548:return pt+e+Qn+gt(e,"shrink","negative")+e;case 5292:return pt+e+Qn+gt(e,"basis","preferred-size")+e;case 6060:return pt+"box-"+gt(e,"-grow","")+pt+e+Qn+gt(e,"grow","positive")+e;case 4554:return pt+gt(e,/([^-])(transform)/g,"$1"+pt+"$2")+e;case 6187:return gt(gt(gt(e,/(zoom-|grab)/,pt+"$1"),/(image-set)/,pt+"$1"),e,"")+e;case 5495:case 3959:return gt(e,/(image-set\([^]*)/,pt+"$1$`$1");case 4968:return gt(gt(e,/(.+:)(flex-)?(.*)/,pt+"box-pack:$3"+Qn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+pt+e+e;case 4095:case 3583:case 4068:case 2532:return gt(e,/(.+)-inline(.+)/,pt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ms(e)-1-t>6)switch(Fn(e,t+1)){case 109:if(Fn(e,t+4)!==45)break;case 102:return gt(e,/(.+:)(.+)-([^]+)/,"$1"+pt+"$2-$3$1"+Np+(Fn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Xv(e,"stretch")?PA(gt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Fn(e,t+1)!==115)break;case 6444:switch(Fn(e,ms(e)-3-(~Xv(e,"!important")&&10))){case 107:return gt(e,":",":"+pt)+e;case 101:return gt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+pt+(Fn(e,14)===45?"inline-":"")+"box$3$1"+pt+"$2$3$1"+Qn+"$2box$3")+e}break;case 5936:switch(Fn(e,t+11)){case 114:return pt+e+Qn+gt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return pt+e+Qn+gt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return pt+e+Qn+gt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return pt+e+Qn+e+e}return e}var TR=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case s1:t.return=PA(t.value,t.length);break;case IA:return kc([Uu(t,{value:gt(t.value,"@","@"+pt)})],i);case i1:if(t.length)return fR(t.props,function(s){switch(dR(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return kc([Uu(t,{props:[gt(s,/:(read-\w+)/,":"+Np+"$1")]})],i);case"::placeholder":return kc([Uu(t,{props:[gt(s,/:(plac\w+)/,":"+pt+"input-$1")]}),Uu(t,{props:[gt(s,/:(plac\w+)/,":"+Np+"$1")]}),Uu(t,{props:[gt(s,/:(plac\w+)/,Qn+"input-$1")]})],i)}return""})}},$R=[TR],OA=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var m=g.getAttribute("data-emotion");m.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=t.stylisPlugins||$R,s={},o,c=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var m=g.getAttribute("data-emotion").split(" "),v=1;v<m.length;v++)s[m[v]]=!0;c.push(g)});var a,d=[kR,IR];{var l,u=[xR,ER(function(g){l.insert(g)})],h=SR(d.concat(i,u)),p=function(m){return kc(bR(m),h)};a=function(m,v,y,x){l=y,p(m?m+"{"+v.styles+"}":v.styles),x&&(f.inserted[v.name]=!0)}}var f={key:n,sheet:new sR({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:a};return f.sheet.hydrate(c),f},NA={exports:{}},It={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rn=typeof Symbol=="function"&&Symbol.for,a1=Rn?Symbol.for("react.element"):60103,l1=Rn?Symbol.for("react.portal"):60106,Dg=Rn?Symbol.for("react.fragment"):60107,Fg=Rn?Symbol.for("react.strict_mode"):60108,Ug=Rn?Symbol.for("react.profiler"):60114,Gg=Rn?Symbol.for("react.provider"):60109,zg=Rn?Symbol.for("react.context"):60110,c1=Rn?Symbol.for("react.async_mode"):60111,Hg=Rn?Symbol.for("react.concurrent_mode"):60111,Wg=Rn?Symbol.for("react.forward_ref"):60112,jg=Rn?Symbol.for("react.suspense"):60113,LR=Rn?Symbol.for("react.suspense_list"):60120,Vg=Rn?Symbol.for("react.memo"):60115,Kg=Rn?Symbol.for("react.lazy"):60116,MR=Rn?Symbol.for("react.block"):60121,RR=Rn?Symbol.for("react.fundamental"):60117,PR=Rn?Symbol.for("react.responder"):60118,OR=Rn?Symbol.for("react.scope"):60119;function ei(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case a1:switch(e=e.type,e){case c1:case Hg:case Dg:case Ug:case Fg:case jg:return e;default:switch(e=e&&e.$$typeof,e){case zg:case Wg:case Kg:case Vg:case Gg:return e;default:return t}}case l1:return t}}}function BA(e){return ei(e)===Hg}It.AsyncMode=c1;It.ConcurrentMode=Hg;It.ContextConsumer=zg;It.ContextProvider=Gg;It.Element=a1;It.ForwardRef=Wg;It.Fragment=Dg;It.Lazy=Kg;It.Memo=Vg;It.Portal=l1;It.Profiler=Ug;It.StrictMode=Fg;It.Suspense=jg;It.isAsyncMode=function(e){return BA(e)||ei(e)===c1};It.isConcurrentMode=BA;It.isContextConsumer=function(e){return ei(e)===zg};It.isContextProvider=function(e){return ei(e)===Gg};It.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===a1};It.isForwardRef=function(e){return ei(e)===Wg};It.isFragment=function(e){return ei(e)===Dg};It.isLazy=function(e){return ei(e)===Kg};It.isMemo=function(e){return ei(e)===Vg};It.isPortal=function(e){return ei(e)===l1};It.isProfiler=function(e){return ei(e)===Ug};It.isStrictMode=function(e){return ei(e)===Fg};It.isSuspense=function(e){return ei(e)===jg};It.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Dg||e===Hg||e===Ug||e===Fg||e===jg||e===LR||typeof e=="object"&&e!==null&&(e.$$typeof===Kg||e.$$typeof===Vg||e.$$typeof===Gg||e.$$typeof===zg||e.$$typeof===Wg||e.$$typeof===RR||e.$$typeof===PR||e.$$typeof===OR||e.$$typeof===MR)};It.typeOf=ei;NA.exports=It;var NR=NA.exports,DA=NR,BR={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},DR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},FA={};FA[DA.ForwardRef]=BR;FA[DA.Memo]=DR;var FR=!0;function UA(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var u1=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||FR===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},d1=function(t,n,r){u1(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function UR(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var GR={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},zR=/[A-Z]|^ms/g,HR=/_EMO_([^_]+?)_([^]*?)_EMO_/g,GA=function(t){return t.charCodeAt(1)===45},Yx=function(t){return t!=null&&typeof t!="boolean"},C0=RA(function(e){return GA(e)?e:e.replace(zR,"-$&").toLowerCase()}),Zx=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(HR,function(r,i,s){return vs={name:i,styles:s,next:vs},i})}return GR[t]!==1&&!GA(t)&&typeof n=="number"&&n!==0?n+"px":n};function Wd(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return vs={name:i.name,styles:i.styles,next:vs},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)vs={name:o.name,styles:o.styles,next:vs},o=o.next;var c=s.styles+";";return c}return WR(e,t,n)}case"function":{if(e!==void 0){var a=vs,d=n(e);return vs=a,Wd(e,t,d)}break}}var l=n;if(t==null)return l;var u=t[l];return u!==void 0?u:l}function WR(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Wd(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var c=o;t!=null&&t[c]!==void 0?r+=s+"{"+t[c]+"}":Yx(c)&&(r+=C0(s)+":"+Zx(s,c)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)Yx(o[a])&&(r+=C0(s)+":"+Zx(s,o[a])+";");else{var d=Wd(e,t,o);switch(s){case"animation":case"animationName":{r+=C0(s)+":"+d+";";break}default:r+=s+"{"+d+"}"}}}return r}var qx=/label:\s*([^\s;{]+)\s*(;|$)/g,vs;function Yg(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";vs=void 0;var s=e[0];if(s==null||s.raw===void 0)r=!1,i+=Wd(n,t,s);else{var o=s;i+=o[0]}for(var c=1;c<e.length;c++)if(i+=Wd(n,t,e[c]),r){var a=s;i+=a[c]}qx.lastIndex=0;for(var d="",l;(l=qx.exec(i))!==null;)d+="-"+l[1];var u=UR(i)+d;return{name:u,styles:i,next:vs}}var jR=function(t){return t()},zA=qv.useInsertionEffect?qv.useInsertionEffect:!1,HA=zA||jR,Xx=zA||U.useLayoutEffect,WA=U.createContext(typeof HTMLElement<"u"?OA({key:"css"}):null),VR=WA.Provider,f1=function(t){return U.forwardRef(function(n,r){var i=U.useContext(WA);return t(n,i,r)})},wu=U.createContext({}),h1={}.hasOwnProperty,Jv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",KR=function(t,n){var r={};for(var i in n)h1.call(n,i)&&(r[i]=n[i]);return r[Jv]=t,r},YR=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return u1(n,r,i),HA(function(){return d1(n,r,i)}),null},ZR=f1(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[Jv],s=[r],o="";typeof e.className=="string"?o=UA(t.registered,s,e.className):e.className!=null&&(o=e.className+" ");var c=Yg(s,void 0,U.useContext(wu));o+=t.key+"-"+c.name;var a={};for(var d in e)h1.call(e,d)&&d!=="css"&&d!==Jv&&(a[d]=e[d]);return a.className=o,n&&(a.ref=n),U.createElement(U.Fragment,null,U.createElement(YR,{cache:t,serialized:c,isStringTag:typeof i=="string"}),U.createElement(i,a))}),qR=ZR,A0={exports:{}},Qx;function jA(){return Qx||(Qx=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(A0)),A0.exports}jA();var Jx=function(t,n){var r=arguments;if(n==null||!h1.call(n,"css"))return U.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=qR,s[1]=KR(t,n);for(var o=2;o<i;o++)s[o]=r[o];return U.createElement.apply(null,s)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Jx||(Jx={}));var XR=f1(function(e,t){var n=e.styles,r=Yg([n],void 0,U.useContext(wu)),i=U.useRef();return Xx(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),c=!1,a=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),a!==null&&(c=!0,a.setAttribute("data-emotion",s),o.hydrate([a])),i.current=[o,c],function(){o.flush()}},[t]),Xx(function(){var s=i.current,o=s[0],c=s[1];if(c){s[1]=!1;return}if(r.next!==void 0&&d1(t,r.next,!0),o.tags.length){var a=o.tags[o.tags.length-1].nextElementSibling;o.before=a,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function Zg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Yg(t)}function xu(){var e=Zg.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var QR=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,JR=RA(function(e){return QR.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),e5=JR,t5=function(t){return t!=="theme"},eS=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?e5:t5},tS=function(t,n,r){var i;if(n){var s=n.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(o){return t.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},n5=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return u1(n,r,i),HA(function(){return d1(n,r,i)}),null},r5=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,s,o;n!==void 0&&(s=n.label,o=n.target);var c=tS(t,n,r),a=c||eS(i),d=!a("as");return function(){var l=arguments,u=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&u.push("label:"+s+";"),l[0]==null||l[0].raw===void 0)u.push.apply(u,l);else{var h=l[0];u.push(h[0]);for(var p=l.length,f=1;f<p;f++)u.push(l[f],h[f])}var g=f1(function(m,v,y){var x=d&&m.as||i,C="",b=[],S=m;if(m.theme==null){S={};for(var I in m)S[I]=m[I];S.theme=U.useContext(wu)}typeof m.className=="string"?C=UA(v.registered,b,m.className):m.className!=null&&(C=m.className+" ");var L=Yg(u.concat(b),v.registered,S);C+=v.key+"-"+L.name,o!==void 0&&(C+=" "+o);var T=d&&c===void 0?eS(x):a,$={};for(var P in m)d&&P==="as"||T(P)&&($[P]=m[P]);return $.className=C,y&&($.ref=y),U.createElement(U.Fragment,null,U.createElement(n5,{cache:v,serialized:L,isStringTag:typeof x=="string"}),U.createElement(x,$))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=u,g.__emotion_forwardProp=c,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(m,v){var y=e(m,H({},n,v,{shouldForwardProp:tS(g,v,!0)}));return y.apply(void 0,u)},g}},i5=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],ey=r5.bind(null);i5.forEach(function(e){ey[e]=ey(e)});var VA={exports:{}},s5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",o5=s5,a5=o5;function KA(){}function YA(){}YA.resetWarningCache=KA;var l5=function(){function e(r,i,s,o,c,a){if(a!==a5){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:YA,resetWarningCache:KA};return n.PropTypes=n,n};VA.exports=l5();var p1=VA.exports;let ty;typeof document=="object"&&(ty=OA({key:"css",prepend:!0}));function c5(e){const{injectFirst:t,children:n}=e;return t&&ty?B.jsx(VR,{value:ty,children:n}):n}function u5(e){return e==null||Object.keys(e).length===0}function ZA(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(u5(i)?n:i):t;return B.jsx(XR,{styles:r})}function qA(e,t){return ey(e,t)}const d5=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},f5=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:ZA,StyledEngineProvider:c5,ThemeContext:wu,css:Zg,default:qA,internal_processStyles:d5,keyframes:xu},Symbol.toStringTag,{value:"Module"}));function jo(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function XA(e){if(U.isValidElement(e)||!jo(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=XA(e[n])}),t}function qr(e,t,n={clone:!0}){const r=n.clone?H({},e):e;return jo(e)&&jo(t)&&Object.keys(t).forEach(i=>{U.isValidElement(t[i])?r[i]=t[i]:jo(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&jo(e[i])?r[i]=qr(e[i],t[i],n):n.clone?r[i]=jo(t[i])?XA(t[i]):t[i]:r[i]=t[i]}),r}const h5=Object.freeze(Object.defineProperty({__proto__:null,default:qr,isPlainObject:jo},Symbol.toStringTag,{value:"Module"})),p5=["values","unit","step"],g5=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>H({},n,{[r.key]:r.val}),{})};function QA(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=Te(e,p5),s=g5(t),o=Object.keys(s);function c(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n})`}function a(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-r/100}${n})`}function d(h,p){const f=o.indexOf(p);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n}) and (max-width:${(f!==-1&&typeof t[o[f]]=="number"?t[o[f]]:p)-r/100}${n})`}function l(h){return o.indexOf(h)+1<o.length?d(h,o[o.indexOf(h)+1]):c(h)}function u(h){const p=o.indexOf(h);return p===0?c(o[1]):p===o.length-1?a(o[p]):d(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return H({keys:o,values:s,up:c,down:a,between:d,only:l,not:u,unit:n},i)}const m5={borderRadius:4};function Sd(e,t){return t?qr(e,t,{clone:!1}):e}const g1={xs:0,sm:600,md:900,lg:1200,xl:1536},nS={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${g1[e]}px)`};function co(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const s=r.breakpoints||nS;return t.reduce((o,c,a)=>(o[s.up(s.keys[a])]=n(t[a]),o),{})}if(typeof t=="object"){const s=r.breakpoints||nS;return Object.keys(t).reduce((o,c)=>{if(Object.keys(s.values||g1).indexOf(c)!==-1){const a=s.up(c);o[a]=n(t[c],c)}else{const a=c;o[a]=t[a]}return o},{})}return n(t)}function v5(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,i)=>{const s=e.up(i);return r[s]={},r},{}))||{}}function y5(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function ye(e){if(typeof e!="string")throw new Error(dl(7));return e.charAt(0).toUpperCase()+e.slice(1)}const b5=Object.freeze(Object.defineProperty({__proto__:null,default:ye},Symbol.toStringTag,{value:"Module"}));function qg(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Bp(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=qg(e,n)||r,t&&(i=t(i,r,e)),i}function on(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,s=o=>{if(o[t]==null)return null;const c=o[t],a=o.theme,d=qg(a,r)||{};return co(o,c,u=>{let h=Bp(d,i,u);return u===h&&typeof u=="string"&&(h=Bp(d,i,`${t}${u==="default"?"":ye(u)}`,u)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[t],s}function w5(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const x5={m:"margin",p:"padding"},S5={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},rS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},E5=w5(e=>{if(e.length>2)if(rS[e])e=rS[e];else return[e];const[t,n]=e.split(""),r=x5[t],i=S5[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),m1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],v1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...m1,...v1];function Nf(e,t,n,r){var i;const s=(i=qg(e,t,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function JA(e){return Nf(e,"spacing",8)}function Bf(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function C5(e,t){return n=>e.reduce((r,i)=>(r[i]=Bf(t,n),r),{})}function A5(e,t,n,r){if(t.indexOf(n)===-1)return null;const i=E5(n),s=C5(i,r),o=e[n];return co(e,o,s)}function e_(e,t){const n=JA(e.theme);return Object.keys(e).map(r=>A5(e,t,r,n)).reduce(Sd,{})}function en(e){return e_(e,m1)}en.propTypes={};en.filterProps=m1;function tn(e){return e_(e,v1)}tn.propTypes={};tn.filterProps=v1;function _5(e=8){if(e.mui)return e;const t=JA({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=t(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Xg(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>t[s]?Sd(i,t[s](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function mi(e){return typeof e!="number"?e:`${e}px solid`}function ki(e,t){return on({prop:e,themeKey:"borders",transform:t})}const k5=ki("border",mi),I5=ki("borderTop",mi),T5=ki("borderRight",mi),$5=ki("borderBottom",mi),L5=ki("borderLeft",mi),M5=ki("borderColor"),R5=ki("borderTopColor"),P5=ki("borderRightColor"),O5=ki("borderBottomColor"),N5=ki("borderLeftColor"),B5=ki("outline",mi),D5=ki("outlineColor"),Qg=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Nf(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Bf(t,r)});return co(e,e.borderRadius,n)}return null};Qg.propTypes={};Qg.filterProps=["borderRadius"];Xg(k5,I5,T5,$5,L5,M5,R5,P5,O5,N5,Qg,B5,D5);const Jg=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Nf(e.theme,"spacing",8),n=r=>({gap:Bf(t,r)});return co(e,e.gap,n)}return null};Jg.propTypes={};Jg.filterProps=["gap"];const em=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Nf(e.theme,"spacing",8),n=r=>({columnGap:Bf(t,r)});return co(e,e.columnGap,n)}return null};em.propTypes={};em.filterProps=["columnGap"];const tm=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Nf(e.theme,"spacing",8),n=r=>({rowGap:Bf(t,r)});return co(e,e.rowGap,n)}return null};tm.propTypes={};tm.filterProps=["rowGap"];const F5=on({prop:"gridColumn"}),U5=on({prop:"gridRow"}),G5=on({prop:"gridAutoFlow"}),z5=on({prop:"gridAutoColumns"}),H5=on({prop:"gridAutoRows"}),W5=on({prop:"gridTemplateColumns"}),j5=on({prop:"gridTemplateRows"}),V5=on({prop:"gridTemplateAreas"}),K5=on({prop:"gridArea"});Xg(Jg,em,tm,F5,U5,G5,z5,H5,W5,j5,V5,K5);function Ic(e,t){return t==="grey"?t:e}const Y5=on({prop:"color",themeKey:"palette",transform:Ic}),Z5=on({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ic}),q5=on({prop:"backgroundColor",themeKey:"palette",transform:Ic});Xg(Y5,Z5,q5);function jr(e){return e<=1&&e!==0?`${e*100}%`:e}const X5=on({prop:"width",transform:jr}),y1=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,i;const s=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||g1[n];return s?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${e.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:jr(n)}};return co(e,e.maxWidth,t)}return null};y1.filterProps=["maxWidth"];const Q5=on({prop:"minWidth",transform:jr}),J5=on({prop:"height",transform:jr}),e3=on({prop:"maxHeight",transform:jr}),t3=on({prop:"minHeight",transform:jr});on({prop:"size",cssProperty:"width",transform:jr});on({prop:"size",cssProperty:"height",transform:jr});const n3=on({prop:"boxSizing"});Xg(X5,y1,Q5,J5,e3,t3,n3);const Df={border:{themeKey:"borders",transform:mi},borderTop:{themeKey:"borders",transform:mi},borderRight:{themeKey:"borders",transform:mi},borderBottom:{themeKey:"borders",transform:mi},borderLeft:{themeKey:"borders",transform:mi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:mi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Qg},color:{themeKey:"palette",transform:Ic},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ic},backgroundColor:{themeKey:"palette",transform:Ic},p:{style:tn},pt:{style:tn},pr:{style:tn},pb:{style:tn},pl:{style:tn},px:{style:tn},py:{style:tn},padding:{style:tn},paddingTop:{style:tn},paddingRight:{style:tn},paddingBottom:{style:tn},paddingLeft:{style:tn},paddingX:{style:tn},paddingY:{style:tn},paddingInline:{style:tn},paddingInlineStart:{style:tn},paddingInlineEnd:{style:tn},paddingBlock:{style:tn},paddingBlockStart:{style:tn},paddingBlockEnd:{style:tn},m:{style:en},mt:{style:en},mr:{style:en},mb:{style:en},ml:{style:en},mx:{style:en},my:{style:en},margin:{style:en},marginTop:{style:en},marginRight:{style:en},marginBottom:{style:en},marginLeft:{style:en},marginX:{style:en},marginY:{style:en},marginInline:{style:en},marginInlineStart:{style:en},marginInlineEnd:{style:en},marginBlock:{style:en},marginBlockStart:{style:en},marginBlockEnd:{style:en},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Jg},rowGap:{style:tm},columnGap:{style:em},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:jr},maxWidth:{style:y1},minWidth:{transform:jr},height:{transform:jr},maxHeight:{transform:jr},minHeight:{transform:jr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function r3(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function i3(e,t){return typeof e=="function"?e(t):e}function t_(){function e(n,r,i,s){const o={[n]:r,theme:i},c=s[n];if(!c)return{[n]:r};const{cssProperty:a=n,themeKey:d,transform:l,style:u}=c;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[n]:r};const h=qg(i,d)||{};return u?u(o):co(o,r,f=>{let g=Bp(h,l,f);return f===g&&typeof f=="string"&&(g=Bp(h,l,`${n}${f==="default"?"":ye(f)}`,f)),a===!1?g:{[a]:g}})}function t(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:Df;function c(a){let d=a;if(typeof a=="function")d=a(s);else if(typeof a!="object")return a;if(!d)return null;const l=v5(s.breakpoints),u=Object.keys(l);let h=l;return Object.keys(d).forEach(p=>{const f=i3(d[p],s);if(f!=null)if(typeof f=="object")if(o[p])h=Sd(h,e(p,f,s,o));else{const g=co({theme:s},f,m=>({[p]:m}));r3(g,f)?h[p]=t({sx:f,theme:s}):h=Sd(h,g)}else h=Sd(h,e(p,f,s,o))}),y5(u,h)}return Array.isArray(i)?i.map(c):c(i)}return t}const Ff=t_();Ff.filterProps=["sx"];function n_(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const s3=["breakpoints","palette","spacing","shape"];function b1(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=e,o=Te(e,s3),c=QA(n),a=_5(i);let d=qr({breakpoints:c,direction:"ltr",components:{},palette:H({mode:"light"},r),spacing:a,shape:H({},m5,s)},o);return d.applyStyles=n_,d=t.reduce((l,u)=>qr(l,u),d),d.unstable_sxConfig=H({},Df,o==null?void 0:o.unstable_sxConfig),d.unstable_sx=function(u){return Ff({sx:u,theme:this})},d}const o3=Object.freeze(Object.defineProperty({__proto__:null,default:b1,private_createBreakpoints:QA,unstable_applyStyles:n_},Symbol.toStringTag,{value:"Module"}));function a3(e){return Object.keys(e).length===0}function w1(e=null){const t=U.useContext(wu);return!t||a3(t)?e:t}const l3=b1();function x1(e=l3){return w1(e)}function c3({styles:e,themeId:t,defaultTheme:n={}}){const r=x1(n),i=typeof e=="function"?e(t&&r[t]||r):e;return B.jsx(ZA,{styles:i})}const u3=["sx"],d3=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:Df;return Object.keys(e).forEach(s=>{i[s]?r.systemProps[s]=e[s]:r.otherProps[s]=e[s]}),r};function S1(e){const{sx:t}=e,n=Te(e,u3),{systemProps:r,otherProps:i}=d3(n);let s;return Array.isArray(t)?s=[r,...t]:typeof t=="function"?s=(...o)=>{const c=t(...o);return jo(c)?H({},r,c):r}:s=H({},r,t),H({},i,{sx:s})}const f3=Object.freeze(Object.defineProperty({__proto__:null,default:Ff,extendSxProp:S1,unstable_createStyleFunctionSx:t_,unstable_defaultSxConfig:Df},Symbol.toStringTag,{value:"Module"})),iS=e=>e,h3=()=>{let e=iS;return{configure(t){e=t},generate(t){return e(t)},reset(){e=iS}}},E1=h3();function r_(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=r_(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ke(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=r_(e))&&(r&&(r+=" "),r+=t);return r}const p3=["className","component"];function g3(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,s=qA("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(Ff);return U.forwardRef(function(a,d){const l=x1(n),u=S1(a),{className:h,component:p="div"}=u,f=Te(u,p3);return B.jsx(s,H({as:p,ref:d,className:ke(h,i?i(r):r),theme:t&&l[t]||l},f))})}const m3={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function tt(e,t,n="Mui"){const r=m3[t];return r?`${n}-${r}`:`${E1.generate(e)}-${t}`}function et(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=tt(e,i,n)}),r}var i_={exports:{}},Pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C1=Symbol.for("react.transitional.element"),A1=Symbol.for("react.portal"),nm=Symbol.for("react.fragment"),rm=Symbol.for("react.strict_mode"),im=Symbol.for("react.profiler"),sm=Symbol.for("react.consumer"),om=Symbol.for("react.context"),am=Symbol.for("react.forward_ref"),lm=Symbol.for("react.suspense"),cm=Symbol.for("react.suspense_list"),um=Symbol.for("react.memo"),dm=Symbol.for("react.lazy"),v3=Symbol.for("react.view_transition"),y3=Symbol.for("react.client.reference");function Ii(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case C1:switch(e=e.type,e){case nm:case im:case rm:case lm:case cm:case v3:return e;default:switch(e=e&&e.$$typeof,e){case om:case am:case dm:case um:return e;case sm:return e;default:return t}}case A1:return t}}}Pt.ContextConsumer=sm;Pt.ContextProvider=om;Pt.Element=C1;Pt.ForwardRef=am;Pt.Fragment=nm;Pt.Lazy=dm;Pt.Memo=um;Pt.Portal=A1;Pt.Profiler=im;Pt.StrictMode=rm;Pt.Suspense=lm;Pt.SuspenseList=cm;Pt.isContextConsumer=function(e){return Ii(e)===sm};Pt.isContextProvider=function(e){return Ii(e)===om};Pt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===C1};Pt.isForwardRef=function(e){return Ii(e)===am};Pt.isFragment=function(e){return Ii(e)===nm};Pt.isLazy=function(e){return Ii(e)===dm};Pt.isMemo=function(e){return Ii(e)===um};Pt.isPortal=function(e){return Ii(e)===A1};Pt.isProfiler=function(e){return Ii(e)===im};Pt.isStrictMode=function(e){return Ii(e)===rm};Pt.isSuspense=function(e){return Ii(e)===lm};Pt.isSuspenseList=function(e){return Ii(e)===cm};Pt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===nm||e===im||e===rm||e===lm||e===cm||typeof e=="object"&&e!==null&&(e.$$typeof===dm||e.$$typeof===um||e.$$typeof===om||e.$$typeof===sm||e.$$typeof===am||e.$$typeof===y3||e.getModuleId!==void 0)};Pt.typeOf=Ii;i_.exports=Pt;var sS=i_.exports;const b3=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function s_(e){const t=`${e}`.match(b3);return t&&t[1]||""}function o_(e,t=""){return e.displayName||e.name||s_(e)||t}function oS(e,t,n){const r=o_(t);return e.displayName||(r!==""?`${n}(${r})`:n)}function w3(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return o_(e,"Component");if(typeof e=="object")switch(e.$$typeof){case sS.ForwardRef:return oS(e,e.render,"ForwardRef");case sS.Memo:return oS(e,e.type,"memo");default:return}}}const x3=Object.freeze(Object.defineProperty({__proto__:null,default:w3,getFunctionName:s_},Symbol.toStringTag,{value:"Module"}));function jd(e,t){const n=H({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=H({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},s=t[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=H({},s),Object.keys(i).forEach(o=>{n[r][o]=jd(i[o],s[o])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function S3(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:jd(t.components[n].defaultProps,r)}const Si=typeof window<"u"?U.useLayoutEffect:U.useEffect;function E3(e,t,n,r,i){const[s,o]=U.useState(()=>i&&n?n(e).matches:r?r(e).matches:t);return Si(()=>{let c=!0;if(!n)return;const a=n(e),d=()=>{c&&o(a.matches)};return d(),a.addListener(d),()=>{c=!1,a.removeListener(d)}},[e,n]),s}const a_=U.useSyncExternalStore;function C3(e,t,n,r,i){const s=U.useCallback(()=>t,[t]),o=U.useMemo(()=>{if(i&&n)return()=>n(e).matches;if(r!==null){const{matches:l}=r(e);return()=>l}return s},[s,e,r,i,n]),[c,a]=U.useMemo(()=>{if(n===null)return[s,()=>()=>{}];const l=n(e);return[()=>l.matches,u=>(l.addListener(u),()=>{l.removeListener(u)})]},[s,n,e]);return a_(a,c,o)}function A3(e,t={}){const n=w1(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:s=r?window.matchMedia:null,ssrMatchMedia:o=null,noSsr:c=!1}=S3({name:"MuiUseMediaQuery",props:t,theme:n});let a=typeof e=="function"?e(n):e;return a=a.replace(/^@media( ?)/m,""),(a_!==void 0?C3:E3)(a,i,s,o,c)}function _3(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const k3=Object.freeze(Object.defineProperty({__proto__:null,default:_3},Symbol.toStringTag,{value:"Module"}));function ny(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function fm(e,t=166){let n;function r(...i){const s=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(s,t)}return r.clear=()=>{clearTimeout(n)},r}function I3(e,t){return()=>null}function Ed(e,t){var n,r;return U.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function $r(e){return e&&e.ownerDocument||document}function Ms(e){return $r(e).defaultView||window}function T3(e,t){return()=>null}function Dp(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let aS=0;function $3(e){const[t,n]=U.useState(e),r=e||t;return U.useEffect(()=>{t==null&&(aS+=1,n(`mui-${aS}`))},[t]),r}const lS=qv.useId;function hm(e){if(lS!==void 0){const t=lS();return e??t}return $3(e)}function L3(e,t,n,r,i){return null}function ry({controlled:e,default:t,name:n,state:r="value"}){const{current:i}=U.useRef(e!==void 0),[s,o]=U.useState(t),c=i?e:s,a=U.useCallback(d=>{i||o(d)},[]);return[c,a]}function Qo(e){const t=U.useRef(e);return Si(()=>{t.current=e}),U.useRef((...n)=>(0,t.current)(...n)).current}function fn(...e){return U.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{Dp(n,t)})},e)}const cS={};function M3(e,t){const n=U.useRef(cS);return n.current===cS&&(n.current=e(t)),n}const R3=[];function P3(e){U.useEffect(e,R3)}class pm{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new pm}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function l_(){const e=M3(pm.create).current;return P3(e.disposeEffect),e}let gm=!0,iy=!1;const O3=new pm,N3={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function B3(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&N3[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function D3(e){e.metaKey||e.altKey||e.ctrlKey||(gm=!0)}function _0(){gm=!1}function F3(){this.visibilityState==="hidden"&&iy&&(gm=!0)}function U3(e){e.addEventListener("keydown",D3,!0),e.addEventListener("mousedown",_0,!0),e.addEventListener("pointerdown",_0,!0),e.addEventListener("touchstart",_0,!0),e.addEventListener("visibilitychange",F3,!0)}function G3(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return gm||B3(t)}function c_(){const e=U.useCallback(i=>{i!=null&&U3(i.ownerDocument)},[]),t=U.useRef(!1);function n(){return t.current?(iy=!0,O3.start(100,()=>{iy=!1}),t.current=!1,!0):!1}function r(i){return G3(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function u_(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function rt(e,t,n=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((s,o)=>{if(o){const c=t(o);c!==""&&s.push(c),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}function eu(e){return typeof e=="string"}function z3(e,t,n){return e===void 0||eu(e)?t:H({},t,{ownerState:H({},t.ownerState,n)})}function d_(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function uS(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function H3(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=e;if(!t){const p=ke(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),f=H({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),g=H({},n,i,r);return p.length>0&&(g.className=p),Object.keys(f).length>0&&(g.style=f),{props:g,internalRef:void 0}}const o=d_(H({},i,r)),c=uS(r),a=uS(i),d=t(o),l=ke(d==null?void 0:d.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),u=H({},d==null?void 0:d.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=H({},d,n,a,c);return l.length>0&&(h.className=l),Object.keys(u).length>0&&(h.style=u),{props:h,internalRef:d.ref}}function W3(e,t,n){return typeof e=="function"?e(t,n):e}const j3=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function tu(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=e,o=Te(e,j3),c=s?{}:W3(r,i),{props:a,internalRef:d}=H3(H({},o,{externalSlotProps:c})),l=fn(d,c==null?void 0:c.ref,(t=e.additionalProps)==null?void 0:t.ref);return z3(n,H({},a,{ref:l}),i)}function Su(e){if(parseInt(U.version,10)>=19){var t;return(e==null||(t=e.props)==null?void 0:t.ref)||null}return(e==null?void 0:e.ref)||null}const f_=U.createContext(null);function h_(){return U.useContext(f_)}const V3=typeof Symbol=="function"&&Symbol.for,K3=V3?Symbol.for("mui.nested"):"__THEME_NESTED__";function Y3(e,t){return typeof t=="function"?t(e):H({},e,t)}function Z3(e){const{children:t,theme:n}=e,r=h_(),i=U.useMemo(()=>{const s=r===null?n:Y3(r,n);return s!=null&&(s[K3]=r!==null),s},[n,r]);return B.jsx(f_.Provider,{value:i,children:t})}const q3=["value"],p_=U.createContext();function X3(e){let{value:t}=e,n=Te(e,q3);return B.jsx(p_.Provider,H({value:t??!0},n))}const g_=()=>{const e=U.useContext(p_);return e??!1},m_=U.createContext(void 0);function Q3({value:e,children:t}){return B.jsx(m_.Provider,{value:e,children:t})}function J3(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?jd(i.defaultProps,r):!i.styleOverrides&&!i.variants?jd(i,r):r}function eP({props:e,name:t}){const n=U.useContext(m_);return J3({props:e,name:t,theme:{components:n}})}const dS={};function fS(e,t,n,r=!1){return U.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const s=n(i),o=e?H({},t,{[e]:s}):s;return r?()=>o:o}return e?H({},t,{[e]:n}):H({},t,n)},[e,t,n,r])}function tP(e){const{children:t,theme:n,themeId:r}=e,i=w1(dS),s=h_()||dS,o=fS(r,i,n),c=fS(r,s,n,!0),a=o.direction==="rtl";return B.jsx(Z3,{theme:c,children:B.jsx(wu.Provider,{value:o,children:B.jsx(X3,{value:a,children:B.jsx(Q3,{value:o==null?void 0:o.components,children:t})})})})}function nP(e,t){return H({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var an={},v_={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(v_);var Cl=v_.exports;const rP=mo(nR),iP=mo(k3);var y_=Cl;Object.defineProperty(an,"__esModule",{value:!0});var vt=an.alpha=S_;an.blend=vP;an.colorChannel=void 0;var sP=an.darken=k1;an.decomposeColor=Ei;an.emphasize=E_;var oP=an.getContrastRatio=fP;an.getLuminance=Fp;an.hexToRgb=b_;an.hslToRgb=x_;var aP=an.lighten=I1;an.private_safeAlpha=hP;an.private_safeColorChannel=void 0;an.private_safeDarken=pP;an.private_safeEmphasize=mP;an.private_safeLighten=gP;an.recomposeColor=Eu;an.rgbToHex=dP;var hS=y_(rP),lP=y_(iP);function _1(e,t=0,n=1){return(0,lP.default)(e,t,n)}function b_(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function cP(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function Ei(e){if(e.type)return e;if(e.charAt(0)==="#")return Ei(b_(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,hS.default)(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,hS.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const w_=e=>{const t=Ei(e);return t.values.slice(0,3).map((n,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};an.colorChannel=w_;const uP=(e,t)=>{try{return w_(e)}catch{return e}};an.private_safeColorChannel=uP;function Eu(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function dP(e){if(e.indexOf("#")===0)return e;const{values:t}=Ei(e);return`#${t.map((n,r)=>cP(r===3?Math.round(255*n):n)).join("")}`}function x_(e){e=Ei(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),o=(d,l=(d+n/30)%12)=>i-s*Math.max(Math.min(l-3,9-l,1),-1);let c="rgb";const a=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(c+="a",a.push(t[3])),Eu({type:c,values:a})}function Fp(e){e=Ei(e);let t=e.type==="hsl"||e.type==="hsla"?Ei(x_(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function fP(e,t){const n=Fp(e),r=Fp(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function S_(e,t){return e=Ei(e),t=_1(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Eu(e)}function hP(e,t,n){try{return S_(e,t)}catch{return e}}function k1(e,t){if(e=Ei(e),t=_1(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Eu(e)}function pP(e,t,n){try{return k1(e,t)}catch{return e}}function I1(e,t){if(e=Ei(e),t=_1(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Eu(e)}function gP(e,t,n){try{return I1(e,t)}catch{return e}}function E_(e,t=.15){return Fp(e)>.5?k1(e,t):I1(e,t)}function mP(e,t,n){try{return E_(e,t)}catch{return e}}function vP(e,t,n,r=1){const i=(a,d)=>Math.round((a**(1/r)*(1-n)+d**(1/r)*n)**r),s=Ei(e),o=Ei(t),c=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return Eu({type:"rgb",values:c})}const yP=["mode","contrastThreshold","tonalOffset"],pS={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Gd.white,default:Gd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},k0={text:{primary:Gd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Gd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function gS(e,t,n,r){const i=r.light||r,s=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=aP(e.main,i):t==="dark"&&(e.dark=sP(e.main,s)))}function bP(e="light"){return e==="dark"?{main:Bl[200],light:Bl[50],dark:Bl[400]}:{main:Bl[700],light:Bl[400],dark:Bl[800]}}function wP(e="light"){return e==="dark"?{main:Nl[200],light:Nl[50],dark:Nl[400]}:{main:Nl[500],light:Nl[300],dark:Nl[700]}}function xP(e="light"){return e==="dark"?{main:Ol[500],light:Ol[300],dark:Ol[700]}:{main:Ol[700],light:Ol[400],dark:Ol[800]}}function SP(e="light"){return e==="dark"?{main:Dl[400],light:Dl[300],dark:Dl[700]}:{main:Dl[700],light:Dl[500],dark:Dl[900]}}function EP(e="light"){return e==="dark"?{main:Fl[400],light:Fl[300],dark:Fl[700]}:{main:Fl[800],light:Fl[500],dark:Fl[900]}}function CP(e="light"){return e==="dark"?{main:Fu[400],light:Fu[300],dark:Fu[700]}:{main:"#ed6c02",light:Fu[500],dark:Fu[900]}}function AP(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=Te(e,yP),s=e.primary||bP(t),o=e.secondary||wP(t),c=e.error||xP(t),a=e.info||SP(t),d=e.success||EP(t),l=e.warning||CP(t);function u(g){return oP(g,k0.text.primary)>=n?k0.text.primary:pS.text.primary}const h=({color:g,name:m,mainShade:v=500,lightShade:y=300,darkShade:x=700})=>{if(g=H({},g),!g.main&&g[v]&&(g.main=g[v]),!g.hasOwnProperty("main"))throw new Error(dl(11,m?` (${m})`:"",v));if(typeof g.main!="string")throw new Error(dl(12,m?` (${m})`:"",JSON.stringify(g.main)));return gS(g,"light",y,r),gS(g,"dark",x,r),g.contrastText||(g.contrastText=u(g.main)),g},p={dark:k0,light:pS};return qr(H({common:H({},Gd),mode:t,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:c,name:"error"}),warning:h({color:l,name:"warning"}),info:h({color:a,name:"info"}),success:h({color:d,name:"success"}),grey:tR,contrastThreshold:n,getContrastText:u,augmentColor:h,tonalOffset:r},p[t]),i)}const _P=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function kP(e){return Math.round(e*1e5)/1e5}const mS={textTransform:"uppercase"},vS='"Roboto", "Helvetica", "Arial", sans-serif';function IP(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=vS,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:c=500,fontWeightBold:a=700,htmlFontSize:d=16,allVariants:l,pxToRem:u}=n,h=Te(n,_P),p=i/14,f=u||(v=>`${v/d*p}rem`),g=(v,y,x,C,b)=>H({fontFamily:r,fontWeight:v,fontSize:f(y),lineHeight:x},r===vS?{letterSpacing:`${kP(C/y)}em`}:{},b,l),m={h1:g(s,96,1.167,-1.5),h2:g(s,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(c,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(c,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(c,14,1.75,.4,mS),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,mS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return qr(H({htmlFontSize:d,pxToRem:f,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:c,fontWeightBold:a},m),h,{clone:!1})}const TP=.2,$P=.14,LP=.12;function Wt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${TP})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${$P})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${LP})`].join(",")}const MP=["none",Wt(0,2,1,-1,0,1,1,0,0,1,3,0),Wt(0,3,1,-2,0,2,2,0,0,1,5,0),Wt(0,3,3,-2,0,3,4,0,0,1,8,0),Wt(0,2,4,-1,0,4,5,0,0,1,10,0),Wt(0,3,5,-1,0,5,8,0,0,1,14,0),Wt(0,3,5,-1,0,6,10,0,0,1,18,0),Wt(0,4,5,-2,0,7,10,1,0,2,16,1),Wt(0,5,5,-3,0,8,10,1,0,3,14,2),Wt(0,5,6,-3,0,9,12,1,0,3,16,2),Wt(0,6,6,-3,0,10,14,1,0,4,18,3),Wt(0,6,7,-4,0,11,15,1,0,4,20,3),Wt(0,7,8,-4,0,12,17,2,0,5,22,4),Wt(0,7,8,-4,0,13,19,2,0,5,24,4),Wt(0,7,9,-4,0,14,21,2,0,5,26,4),Wt(0,8,9,-5,0,15,22,2,0,6,28,5),Wt(0,8,10,-5,0,16,24,2,0,6,30,5),Wt(0,8,11,-5,0,17,26,2,0,6,32,5),Wt(0,9,11,-5,0,18,28,2,0,7,34,6),Wt(0,9,12,-6,0,19,29,2,0,7,36,6),Wt(0,10,13,-6,0,20,31,3,0,8,38,7),Wt(0,10,13,-6,0,21,33,3,0,8,40,7),Wt(0,10,14,-6,0,22,35,3,0,8,42,7),Wt(0,11,14,-7,0,23,36,3,0,9,44,8),Wt(0,11,15,-7,0,24,38,3,0,9,46,8)],RP=["duration","easing","delay"],PP={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},OP={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function yS(e){return`${Math.round(e)}ms`}function NP(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function BP(e){const t=H({},PP,e.easing),n=H({},OP,e.duration);return H({getAutoHeightDuration:NP,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:c=t.easeInOut,delay:a=0}=s;return Te(s,RP),(Array.isArray(i)?i:[i]).map(d=>`${d} ${typeof o=="string"?o:yS(o)} ${c} ${typeof a=="string"?a:yS(a)}`).join(",")}},e,{easing:t,duration:n})}const DP={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},FP=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function T1(e={},...t){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=e,o=Te(e,FP);if(e.vars&&e.generateCssVars===void 0)throw new Error(dl(18));const c=AP(r),a=b1(e);let d=qr(a,{mixins:nP(a.breakpoints,n),palette:c,shadows:MP.slice(),typography:IP(c,s),transitions:BP(i),zIndex:H({},DP)});return d=qr(d,o),d=t.reduce((l,u)=>qr(l,u),d),d.unstable_sxConfig=H({},Df,o==null?void 0:o.unstable_sxConfig),d.unstable_sx=function(u){return Ff({sx:u,theme:this})},d}const $1=T1();function Cu(){const e=x1($1);return e[Qc]||e}var Uf={},I0={exports:{}},bS;function UP(){return bS||(bS=1,function(e){function t(n,r){if(n==null)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.indexOf(s)!==-1)continue;i[s]=n[s]}return i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(I0)),I0.exports}const GP=mo(f5),zP=mo(h5),HP=mo(b5),WP=mo(x3),jP=mo(o3),VP=mo(f3);var Au=Cl;Object.defineProperty(Uf,"__esModule",{value:!0});var KP=Uf.default=oO;Uf.shouldForwardProp=up;Uf.systemDefaultTheme=void 0;var fi=Au(jA()),sy=Au(UP()),wS=eO(GP),YP=zP;Au(HP);Au(WP);var ZP=Au(jP),qP=Au(VP);const XP=["ownerState"],QP=["variants"],JP=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function C_(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(C_=function(r){return r?n:t})(e)}function eO(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=C_(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}function tO(e){return Object.keys(e).length===0}function nO(e){return typeof e=="string"&&e.charCodeAt(0)>96}function up(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const rO=Uf.systemDefaultTheme=(0,ZP.default)(),iO=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function mh({defaultTheme:e,theme:t,themeId:n}){return tO(t)?e:t[n]||t}function sO(e){return e?(t,n)=>n[e]:null}function dp(e,t){let{ownerState:n}=t,r=(0,sy.default)(t,XP);const i=typeof e=="function"?e((0,fi.default)({ownerState:n},r)):e;if(Array.isArray(i))return i.flatMap(s=>dp(s,(0,fi.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let c=(0,sy.default)(i,QP);return s.forEach(a=>{let d=!0;typeof a.props=="function"?d=a.props((0,fi.default)({ownerState:n},r,n)):Object.keys(a.props).forEach(l=>{(n==null?void 0:n[l])!==a.props[l]&&r[l]!==a.props[l]&&(d=!1)}),d&&(Array.isArray(c)||(c=[c]),c.push(typeof a.style=="function"?a.style((0,fi.default)({ownerState:n},r,n)):a.style))}),c}return i}function oO(e={}){const{themeId:t,defaultTheme:n=rO,rootShouldForwardProp:r=up,slotShouldForwardProp:i=up}=e,s=o=>(0,qP.default)((0,fi.default)({},o,{theme:mh((0,fi.default)({},o,{defaultTheme:n,themeId:t}))}));return s.__mui_systemSx=!0,(o,c={})=>{(0,wS.internal_processStyles)(o,b=>b.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:a,slot:d,skipVariantsResolver:l,skipSx:u,overridesResolver:h=sO(iO(d))}=c,p=(0,sy.default)(c,JP),f=l!==void 0?l:d&&d!=="Root"&&d!=="root"||!1,g=u||!1;let m,v=up;d==="Root"||d==="root"?v=r:d?v=i:nO(o)&&(v=void 0);const y=(0,wS.default)(o,(0,fi.default)({shouldForwardProp:v,label:m},p)),x=b=>typeof b=="function"&&b.__emotion_real!==b||(0,YP.isPlainObject)(b)?S=>dp(b,(0,fi.default)({},S,{theme:mh({theme:S.theme,defaultTheme:n,themeId:t})})):b,C=(b,...S)=>{let I=x(b);const L=S?S.map(x):[];a&&h&&L.push(P=>{const k=mh((0,fi.default)({},P,{defaultTheme:n,themeId:t}));if(!k.components||!k.components[a]||!k.components[a].styleOverrides)return null;const A=k.components[a].styleOverrides,w={};return Object.entries(A).forEach(([E,_])=>{w[E]=dp(_,(0,fi.default)({},P,{theme:k}))}),h(P,w)}),a&&!f&&L.push(P=>{var k;const A=mh((0,fi.default)({},P,{defaultTheme:n,themeId:t})),w=A==null||(k=A.components)==null||(k=k[a])==null?void 0:k.variants;return dp({variants:w},(0,fi.default)({},P,{theme:A}))}),g||L.push(s);const T=L.length-S.length;if(Array.isArray(b)&&T>0){const P=new Array(T).fill("");I=[...b,...P],I.raw=[...b.raw,...P]}const $=y(I,...L);return o.muiName&&($.muiName=o.muiName),$};return y.withConfig&&(C.withConfig=y.withConfig),C}}function A_(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Br=e=>A_(e)&&e!=="classes",Ee=KP({themeId:Qc,defaultTheme:$1,rootShouldForwardProp:Br}),aO=["theme"];function lO(e){let{theme:t}=e,n=Te(e,aO);const r=t[Qc];let i=r||t;return typeof t!="function"&&(r&&!r.vars?i=H({},r,{vars:null}):t&&!t.vars&&(i=H({},t,{vars:null}))),B.jsx(tP,H({},n,{themeId:r?Qc:void 0,theme:i}))}const xS=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function nt(e){return eP(e)}function cO(e){return tt("MuiSvgIcon",e)}et("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const uO=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],dO=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${ye(t)}`,`fontSize${ye(n)}`]};return rt(i,cO,r)},fO=Ee("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${ye(n.color)}`],t[`fontSize${ye(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,i,s,o,c,a,d,l,u,h,p,f;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=e.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((c=e.typography)==null||(a=c.pxToRem)==null?void 0:a.call(c,24))||"1.5rem",large:((d=e.typography)==null||(l=d.pxToRem)==null?void 0:l.call(d,35))||"2.1875rem"}[t.fontSize],color:(u=(h=(e.vars||e).palette)==null||(h=h[t.color])==null?void 0:h.main)!=null?u:{action:(p=(e.vars||e).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(f=(e.vars||e).palette)==null||(f=f.action)==null?void 0:f.disabled,inherit:void 0}[t.color]}}),oy=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:c="svg",fontSize:a="medium",htmlColor:d,inheritViewBox:l=!1,titleAccess:u,viewBox:h="0 0 24 24"}=r,p=Te(r,uO),f=U.isValidElement(i)&&i.type==="svg",g=H({},r,{color:o,component:c,fontSize:a,instanceFontSize:t.fontSize,inheritViewBox:l,viewBox:h,hasSvgAsChild:f}),m={};l||(m.viewBox=h);const v=dO(g);return B.jsxs(fO,H({as:c,className:ke(v.root,s),focusable:"false",color:d,"aria-hidden":u?void 0:!0,role:u?"img":void 0,ref:n},m,p,f&&i.props,{ownerState:g,children:[f?i.props.children:i,u?B.jsx("title",{children:u}):null]}))});oy.muiName="SvgIcon";function ti(e,t){function n(r,i){return B.jsx(oy,H({"data-testid":`${t}Icon`,ref:i},r,{children:e}))}return n.muiName=oy.muiName,U.memo(U.forwardRef(n))}const hO={configure:e=>{E1.configure(e)}},pO=Object.freeze(Object.defineProperty({__proto__:null,capitalize:ye,createChainedFunction:ny,createSvgIcon:ti,debounce:fm,deprecatedPropType:I3,isMuiElement:Ed,ownerDocument:$r,ownerWindow:Ms,requirePropFactory:T3,setRef:Dp,unstable_ClassNameGenerator:hO,unstable_useEnhancedEffect:Si,unstable_useId:hm,unsupportedProp:L3,useControlled:ry,useEventCallback:Qo,useForkRef:fn,useIsFocusVisible:c_},Symbol.toStringTag,{value:"Module"}));function ay(e,t){return ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ay(e,t)}function __(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ay(e,t)}var k_={exports:{}},ni={},I_={exports:{}},T_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,O){var N=M.length;M.push(O);e:for(;0<N;){var F=N-1>>>1,G=M[F];if(0<i(G,O))M[F]=O,M[N]=G,N=F;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var O=M[0],N=M.pop();if(N!==O){M[0]=N;e:for(var F=0,G=M.length,z=G>>>1;F<z;){var j=2*(F+1)-1,V=M[j],Z=j+1,X=M[Z];if(0>i(V,N))Z<G&&0>i(X,V)?(M[F]=X,M[Z]=N,F=Z):(M[F]=V,M[j]=N,F=j);else if(Z<G&&0>i(X,N))M[F]=X,M[Z]=N,F=Z;else break e}}return O}function i(M,O){var N=M.sortIndex-O.sortIndex;return N!==0?N:M.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var a=[],d=[],l=1,u=null,h=3,p=!1,f=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(M){for(var O=n(d);O!==null;){if(O.callback===null)r(d);else if(O.startTime<=M)r(d),O.sortIndex=O.expirationTime,t(a,O);else break;O=n(d)}}function C(M){if(g=!1,x(M),!f)if(n(a)!==null)f=!0,_(b);else{var O=n(d);O!==null&&R(C,O.startTime-M)}}function b(M,O){f=!1,g&&(g=!1,v(L),L=-1),p=!0;var N=h;try{for(x(O),u=n(a);u!==null&&(!(u.expirationTime>O)||M&&!P());){var F=u.callback;if(typeof F=="function"){u.callback=null,h=u.priorityLevel;var G=F(u.expirationTime<=O);O=e.unstable_now(),typeof G=="function"?u.callback=G:u===n(a)&&r(a),x(O)}else r(a);u=n(a)}if(u!==null)var z=!0;else{var j=n(d);j!==null&&R(C,j.startTime-O),z=!1}return z}finally{u=null,h=N,p=!1}}var S=!1,I=null,L=-1,T=5,$=-1;function P(){return!(e.unstable_now()-$<T)}function k(){if(I!==null){var M=e.unstable_now();$=M;var O=!0;try{O=I(!0,M)}finally{O?A():(S=!1,I=null)}}else S=!1}var A;if(typeof y=="function")A=function(){y(k)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,E=w.port2;w.port1.onmessage=k,A=function(){E.postMessage(null)}}else A=function(){m(k,0)};function _(M){I=M,S||(S=!0,A())}function R(M,O){L=m(function(){M(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){f||p||(f=!0,_(b))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var N=h;h=O;try{return M()}finally{h=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,O){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var N=h;h=M;try{return O()}finally{h=N}},e.unstable_scheduleCallback=function(M,O,N){var F=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?F+N:F):N=F,M){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=N+G,M={id:l++,callback:O,priorityLevel:M,startTime:N,expirationTime:G,sortIndex:-1},N>F?(M.sortIndex=N,t(d,M),n(a)===null&&M===n(d)&&(g?(v(L),L=-1):g=!0,R(C,N-F))):(M.sortIndex=G,t(a,M),f||p||(f=!0,_(b))),M},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(M){var O=h;return function(){var N=h;h=O;try{return M.apply(this,arguments)}finally{h=N}}}})(T_);I_.exports=T_;var gO=I_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mO=U,Jr=gO;function me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $_=new Set,Vd={};function Al(e,t){nu(e,t),nu(e+"Capture",t)}function nu(e,t){for(Vd[e]=t,e=0;e<t.length;e++)$_.add(t[e])}var uo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ly=Object.prototype.hasOwnProperty,vO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,SS={},ES={};function yO(e){return ly.call(ES,e)?!0:ly.call(SS,e)?!1:vO.test(e)?ES[e]=!0:(SS[e]=!0,!1)}function bO(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wO(e,t,n,r){if(t===null||typeof t>"u"||bO(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xr(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){jn[e]=new xr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];jn[t]=new xr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){jn[e]=new xr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){jn[e]=new xr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){jn[e]=new xr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){jn[e]=new xr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){jn[e]=new xr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){jn[e]=new xr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){jn[e]=new xr(e,5,!1,e.toLowerCase(),null,!1,!1)});var L1=/[\-:]([a-z])/g;function M1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(L1,M1);jn[t]=new xr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(L1,M1);jn[t]=new xr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(L1,M1);jn[t]=new xr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){jn[e]=new xr(e,1,!1,e.toLowerCase(),null,!1,!1)});jn.xlinkHref=new xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){jn[e]=new xr(e,1,!1,e.toLowerCase(),null,!0,!0)});function R1(e,t,n,r){var i=jn.hasOwnProperty(t)?jn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wO(t,n,i,r)&&(n=null),r||i===null?yO(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var vo=mO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vh=Symbol.for("react.element"),rc=Symbol.for("react.portal"),ic=Symbol.for("react.fragment"),P1=Symbol.for("react.strict_mode"),cy=Symbol.for("react.profiler"),L_=Symbol.for("react.provider"),M_=Symbol.for("react.context"),O1=Symbol.for("react.forward_ref"),uy=Symbol.for("react.suspense"),dy=Symbol.for("react.suspense_list"),N1=Symbol.for("react.memo"),Fo=Symbol.for("react.lazy"),R_=Symbol.for("react.offscreen"),CS=Symbol.iterator;function Gu(e){return e===null||typeof e!="object"?null:(e=CS&&e[CS]||e["@@iterator"],typeof e=="function"?e:null)}var Xt=Object.assign,T0;function pd(e){if(T0===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);T0=t&&t[1]||""}return`
`+T0+e}var $0=!1;function L0(e,t){if(!e||$0)return"";$0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,c=s.length-1;1<=o&&0<=c&&i[o]!==s[c];)c--;for(;1<=o&&0<=c;o--,c--)if(i[o]!==s[c]){if(o!==1||c!==1)do if(o--,c--,0>c||i[o]!==s[c]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=c);break}}}finally{$0=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pd(e):""}function xO(e){switch(e.tag){case 5:return pd(e.type);case 16:return pd("Lazy");case 13:return pd("Suspense");case 19:return pd("SuspenseList");case 0:case 2:case 15:return e=L0(e.type,!1),e;case 11:return e=L0(e.type.render,!1),e;case 1:return e=L0(e.type,!0),e;default:return""}}function fy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ic:return"Fragment";case rc:return"Portal";case cy:return"Profiler";case P1:return"StrictMode";case uy:return"Suspense";case dy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case M_:return(e.displayName||"Context")+".Consumer";case L_:return(e._context.displayName||"Context")+".Provider";case O1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N1:return t=e.displayName||null,t!==null?t:fy(e.type)||"Memo";case Fo:t=e._payload,e=e._init;try{return fy(e(t))}catch{}}return null}function SO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fy(t);case 8:return t===P1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ha(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function P_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function EO(e){var t=P_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yh(e){e._valueTracker||(e._valueTracker=EO(e))}function O_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=P_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Up(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hy(e,t){var n=t.checked;return Xt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function AS(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ha(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function N_(e,t){t=t.checked,t!=null&&R1(e,"checked",t,!1)}function py(e,t){N_(e,t);var n=ha(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gy(e,t.type,n):t.hasOwnProperty("defaultValue")&&gy(e,t.type,ha(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _S(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function gy(e,t,n){(t!=="number"||Up(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gd=Array.isArray;function Tc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ha(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function my(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(me(91));return Xt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kS(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(me(92));if(gd(n)){if(1<n.length)throw Error(me(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ha(n)}}function B_(e,t){var n=ha(t.value),r=ha(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function IS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function D_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?D_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bh,F_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bh=bh||document.createElement("div"),bh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kd(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Cd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CO=["Webkit","ms","Moz","O"];Object.keys(Cd).forEach(function(e){CO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cd[t]=Cd[e]})});function U_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Cd.hasOwnProperty(e)&&Cd[e]?(""+t).trim():t+"px"}function G_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=U_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var AO=Xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yy(e,t){if(t){if(AO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(me(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(me(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(me(62))}}function by(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wy=null;function B1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xy=null,$c=null,Lc=null;function TS(e){if(e=Hf(e)){if(typeof xy!="function")throw Error(me(280));var t=e.stateNode;t&&(t=wm(t),xy(e.stateNode,e.type,t))}}function z_(e){$c?Lc?Lc.push(e):Lc=[e]:$c=e}function H_(){if($c){var e=$c,t=Lc;if(Lc=$c=null,TS(e),t)for(e=0;e<t.length;e++)TS(t[e])}}function W_(e,t){return e(t)}function j_(){}var M0=!1;function V_(e,t,n){if(M0)return e(t,n);M0=!0;try{return W_(e,t,n)}finally{M0=!1,($c!==null||Lc!==null)&&(j_(),H_())}}function Yd(e,t){var n=e.stateNode;if(n===null)return null;var r=wm(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(me(231,t,typeof n));return n}var Sy=!1;if(uo)try{var zu={};Object.defineProperty(zu,"passive",{get:function(){Sy=!0}}),window.addEventListener("test",zu,zu),window.removeEventListener("test",zu,zu)}catch{Sy=!1}function _O(e,t,n,r,i,s,o,c,a){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(l){this.onError(l)}}var Ad=!1,Gp=null,zp=!1,Ey=null,kO={onError:function(e){Ad=!0,Gp=e}};function IO(e,t,n,r,i,s,o,c,a){Ad=!1,Gp=null,_O.apply(kO,arguments)}function TO(e,t,n,r,i,s,o,c,a){if(IO.apply(this,arguments),Ad){if(Ad){var d=Gp;Ad=!1,Gp=null}else throw Error(me(198));zp||(zp=!0,Ey=d)}}function _l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function K_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $S(e){if(_l(e)!==e)throw Error(me(188))}function $O(e){var t=e.alternate;if(!t){if(t=_l(e),t===null)throw Error(me(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $S(i),e;if(s===r)return $S(i),t;s=s.sibling}throw Error(me(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o)throw Error(me(189))}}if(n.alternate!==r)throw Error(me(190))}if(n.tag!==3)throw Error(me(188));return n.stateNode.current===n?e:t}function Y_(e){return e=$O(e),e!==null?Z_(e):null}function Z_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Z_(e);if(t!==null)return t;e=e.sibling}return null}var q_=Jr.unstable_scheduleCallback,LS=Jr.unstable_cancelCallback,LO=Jr.unstable_shouldYield,MO=Jr.unstable_requestPaint,sn=Jr.unstable_now,RO=Jr.unstable_getCurrentPriorityLevel,D1=Jr.unstable_ImmediatePriority,X_=Jr.unstable_UserBlockingPriority,Hp=Jr.unstable_NormalPriority,PO=Jr.unstable_LowPriority,Q_=Jr.unstable_IdlePriority,mm=null,Cs=null;function OO(e){if(Cs&&typeof Cs.onCommitFiberRoot=="function")try{Cs.onCommitFiberRoot(mm,e,void 0,(e.current.flags&128)===128)}catch{}}var es=Math.clz32?Math.clz32:DO,NO=Math.log,BO=Math.LN2;function DO(e){return e>>>=0,e===0?32:31-(NO(e)/BO|0)|0}var wh=64,xh=4194304;function md(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wp(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var c=o&~i;c!==0?r=md(c):(s&=o,s!==0&&(r=md(s)))}else o=n&~i,o!==0?r=md(o):s!==0&&(r=md(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-es(t),i=1<<n,r|=e[n],t&=~i;return r}function FO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UO(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-es(s),c=1<<o,a=i[o];a===-1?(!(c&n)||c&r)&&(i[o]=FO(c,t)):a<=t&&(e.expiredLanes|=c),s&=~c}}function Cy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function J_(){var e=wh;return wh<<=1,!(wh&4194240)&&(wh=64),e}function R0(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gf(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-es(t),e[t]=n}function GO(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-es(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function F1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-es(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function ek(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tk,U1,nk,rk,ik,Ay=!1,Sh=[],ta=null,na=null,ra=null,Zd=new Map,qd=new Map,Vo=[],zO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function MS(e,t){switch(e){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":ra=null;break;case"pointerover":case"pointerout":Zd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qd.delete(t.pointerId)}}function Hu(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Hf(t),t!==null&&U1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function HO(e,t,n,r,i){switch(t){case"focusin":return ta=Hu(ta,e,t,n,r,i),!0;case"dragenter":return na=Hu(na,e,t,n,r,i),!0;case"mouseover":return ra=Hu(ra,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Zd.set(s,Hu(Zd.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,qd.set(s,Hu(qd.get(s)||null,e,t,n,r,i)),!0}return!1}function sk(e){var t=za(e.target);if(t!==null){var n=_l(t);if(n!==null){if(t=n.tag,t===13){if(t=K_(n),t!==null){e.blockedOn=t,ik(e.priority,function(){nk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_y(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);wy=r,n.target.dispatchEvent(r),wy=null}else return t=Hf(n),t!==null&&U1(t),e.blockedOn=n,!1;t.shift()}return!0}function RS(e,t,n){fp(e)&&n.delete(t)}function WO(){Ay=!1,ta!==null&&fp(ta)&&(ta=null),na!==null&&fp(na)&&(na=null),ra!==null&&fp(ra)&&(ra=null),Zd.forEach(RS),qd.forEach(RS)}function Wu(e,t){e.blockedOn===t&&(e.blockedOn=null,Ay||(Ay=!0,Jr.unstable_scheduleCallback(Jr.unstable_NormalPriority,WO)))}function Xd(e){function t(i){return Wu(i,e)}if(0<Sh.length){Wu(Sh[0],e);for(var n=1;n<Sh.length;n++){var r=Sh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ta!==null&&Wu(ta,e),na!==null&&Wu(na,e),ra!==null&&Wu(ra,e),Zd.forEach(t),qd.forEach(t),n=0;n<Vo.length;n++)r=Vo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Vo.length&&(n=Vo[0],n.blockedOn===null);)sk(n),n.blockedOn===null&&Vo.shift()}var Mc=vo.ReactCurrentBatchConfig,jp=!0;function jO(e,t,n,r){var i=kt,s=Mc.transition;Mc.transition=null;try{kt=1,G1(e,t,n,r)}finally{kt=i,Mc.transition=s}}function VO(e,t,n,r){var i=kt,s=Mc.transition;Mc.transition=null;try{kt=4,G1(e,t,n,r)}finally{kt=i,Mc.transition=s}}function G1(e,t,n,r){if(jp){var i=_y(e,t,n,r);if(i===null)H0(e,t,r,Vp,n),MS(e,r);else if(HO(i,e,t,n,r))r.stopPropagation();else if(MS(e,r),t&4&&-1<zO.indexOf(e)){for(;i!==null;){var s=Hf(i);if(s!==null&&tk(s),s=_y(e,t,n,r),s===null&&H0(e,t,r,Vp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else H0(e,t,r,null,n)}}var Vp=null;function _y(e,t,n,r){if(Vp=null,e=B1(r),e=za(e),e!==null)if(t=_l(e),t===null)e=null;else if(n=t.tag,n===13){if(e=K_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vp=e,null}function ok(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RO()){case D1:return 1;case X_:return 4;case Hp:case PO:return 16;case Q_:return 536870912;default:return 16}default:return 16}}var Jo=null,z1=null,hp=null;function ak(){if(hp)return hp;var e,t=z1,n=t.length,r,i="value"in Jo?Jo.value:Jo.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return hp=i.slice(e,1<r?1-r:void 0)}function pp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Eh(){return!0}function PS(){return!1}function ri(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Eh:PS,this.isPropagationStopped=PS,this}return Xt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Eh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Eh)},persist:function(){},isPersistent:Eh}),t}var _u={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},H1=ri(_u),zf=Xt({},_u,{view:0,detail:0}),KO=ri(zf),P0,O0,ju,vm=Xt({},zf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:W1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ju&&(ju&&e.type==="mousemove"?(P0=e.screenX-ju.screenX,O0=e.screenY-ju.screenY):O0=P0=0,ju=e),P0)},movementY:function(e){return"movementY"in e?e.movementY:O0}}),OS=ri(vm),YO=Xt({},vm,{dataTransfer:0}),ZO=ri(YO),qO=Xt({},zf,{relatedTarget:0}),N0=ri(qO),XO=Xt({},_u,{animationName:0,elapsedTime:0,pseudoElement:0}),QO=ri(XO),JO=Xt({},_u,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eN=ri(JO),tN=Xt({},_u,{data:0}),NS=ri(tN),nN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iN[e])?!!t[e]:!1}function W1(){return sN}var oN=Xt({},zf,{key:function(e){if(e.key){var t=nN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:W1,charCode:function(e){return e.type==="keypress"?pp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),aN=ri(oN),lN=Xt({},vm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),BS=ri(lN),cN=Xt({},zf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:W1}),uN=ri(cN),dN=Xt({},_u,{propertyName:0,elapsedTime:0,pseudoElement:0}),fN=ri(dN),hN=Xt({},vm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pN=ri(hN),gN=[9,13,27,32],j1=uo&&"CompositionEvent"in window,_d=null;uo&&"documentMode"in document&&(_d=document.documentMode);var mN=uo&&"TextEvent"in window&&!_d,lk=uo&&(!j1||_d&&8<_d&&11>=_d),DS=" ",FS=!1;function ck(e,t){switch(e){case"keyup":return gN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sc=!1;function vN(e,t){switch(e){case"compositionend":return uk(t);case"keypress":return t.which!==32?null:(FS=!0,DS);case"textInput":return e=t.data,e===DS&&FS?null:e;default:return null}}function yN(e,t){if(sc)return e==="compositionend"||!j1&&ck(e,t)?(e=ak(),hp=z1=Jo=null,sc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lk&&t.locale!=="ko"?null:t.data;default:return null}}var bN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function US(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bN[e.type]:t==="textarea"}function dk(e,t,n,r){z_(r),t=Kp(t,"onChange"),0<t.length&&(n=new H1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var kd=null,Qd=null;function wN(e){Sk(e,0)}function ym(e){var t=lc(e);if(O_(t))return e}function xN(e,t){if(e==="change")return t}var fk=!1;if(uo){var B0;if(uo){var D0="oninput"in document;if(!D0){var GS=document.createElement("div");GS.setAttribute("oninput","return;"),D0=typeof GS.oninput=="function"}B0=D0}else B0=!1;fk=B0&&(!document.documentMode||9<document.documentMode)}function zS(){kd&&(kd.detachEvent("onpropertychange",hk),Qd=kd=null)}function hk(e){if(e.propertyName==="value"&&ym(Qd)){var t=[];dk(t,Qd,e,B1(e)),V_(wN,t)}}function SN(e,t,n){e==="focusin"?(zS(),kd=t,Qd=n,kd.attachEvent("onpropertychange",hk)):e==="focusout"&&zS()}function EN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ym(Qd)}function CN(e,t){if(e==="click")return ym(t)}function AN(e,t){if(e==="input"||e==="change")return ym(t)}function _N(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var is=typeof Object.is=="function"?Object.is:_N;function Jd(e,t){if(is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ly.call(t,i)||!is(e[i],t[i]))return!1}return!0}function HS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function WS(e,t){var n=HS(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=HS(n)}}function pk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gk(){for(var e=window,t=Up();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Up(e.document)}return t}function V1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kN(e){var t=gk(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pk(n.ownerDocument.documentElement,n)){if(r!==null&&V1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=WS(n,s);var o=WS(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var IN=uo&&"documentMode"in document&&11>=document.documentMode,oc=null,ky=null,Id=null,Iy=!1;function jS(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Iy||oc==null||oc!==Up(r)||(r=oc,"selectionStart"in r&&V1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Id&&Jd(Id,r)||(Id=r,r=Kp(ky,"onSelect"),0<r.length&&(t=new H1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=oc)))}function Ch(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ac={animationend:Ch("Animation","AnimationEnd"),animationiteration:Ch("Animation","AnimationIteration"),animationstart:Ch("Animation","AnimationStart"),transitionend:Ch("Transition","TransitionEnd")},F0={},mk={};uo&&(mk=document.createElement("div").style,"AnimationEvent"in window||(delete ac.animationend.animation,delete ac.animationiteration.animation,delete ac.animationstart.animation),"TransitionEvent"in window||delete ac.transitionend.transition);function bm(e){if(F0[e])return F0[e];if(!ac[e])return e;var t=ac[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mk)return F0[e]=t[n];return e}var vk=bm("animationend"),yk=bm("animationiteration"),bk=bm("animationstart"),wk=bm("transitionend"),xk=new Map,VS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wa(e,t){xk.set(e,t),Al(t,[e])}for(var U0=0;U0<VS.length;U0++){var G0=VS[U0],TN=G0.toLowerCase(),$N=G0[0].toUpperCase()+G0.slice(1);wa(TN,"on"+$N)}wa(vk,"onAnimationEnd");wa(yk,"onAnimationIteration");wa(bk,"onAnimationStart");wa("dblclick","onDoubleClick");wa("focusin","onFocus");wa("focusout","onBlur");wa(wk,"onTransitionEnd");nu("onMouseEnter",["mouseout","mouseover"]);nu("onMouseLeave",["mouseout","mouseover"]);nu("onPointerEnter",["pointerout","pointerover"]);nu("onPointerLeave",["pointerout","pointerover"]);Al("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Al("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Al("onBeforeInput",["compositionend","keypress","textInput","paste"]);Al("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Al("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Al("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LN=new Set("cancel close invalid load scroll toggle".split(" ").concat(vd));function KS(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,TO(r,t,void 0,e),e.currentTarget=null}function Sk(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var c=r[o],a=c.instance,d=c.currentTarget;if(c=c.listener,a!==s&&i.isPropagationStopped())break e;KS(i,c,d),s=a}else for(o=0;o<r.length;o++){if(c=r[o],a=c.instance,d=c.currentTarget,c=c.listener,a!==s&&i.isPropagationStopped())break e;KS(i,c,d),s=a}}}if(zp)throw e=Ey,zp=!1,Ey=null,e}function Bt(e,t){var n=t[Ry];n===void 0&&(n=t[Ry]=new Set);var r=e+"__bubble";n.has(r)||(Ek(t,e,2,!1),n.add(r))}function z0(e,t,n){var r=0;t&&(r|=4),Ek(n,e,r,t)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function ef(e){if(!e[Ah]){e[Ah]=!0,$_.forEach(function(n){n!=="selectionchange"&&(LN.has(n)||z0(n,!1,e),z0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ah]||(t[Ah]=!0,z0("selectionchange",!1,t))}}function Ek(e,t,n,r){switch(ok(t)){case 1:var i=jO;break;case 4:i=VO;break;default:i=G1}n=i.bind(null,t,n,e),i=void 0,!Sy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function H0(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;c!==null;){if(o=za(c),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}c=c.parentNode}}r=r.return}V_(function(){var d=s,l=B1(n),u=[];e:{var h=xk.get(e);if(h!==void 0){var p=H1,f=e;switch(e){case"keypress":if(pp(n)===0)break e;case"keydown":case"keyup":p=aN;break;case"focusin":f="focus",p=N0;break;case"focusout":f="blur",p=N0;break;case"beforeblur":case"afterblur":p=N0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=OS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ZO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=uN;break;case vk:case yk:case bk:p=QO;break;case wk:p=fN;break;case"scroll":p=KO;break;case"wheel":p=pN;break;case"copy":case"cut":case"paste":p=eN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=BS}var g=(t&4)!==0,m=!g&&e==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var y=d,x;y!==null;){x=y;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,v!==null&&(C=Yd(y,v),C!=null&&g.push(tf(y,C,x)))),m)break;y=y.return}0<g.length&&(h=new p(h,f,null,n,l),u.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==wy&&(f=n.relatedTarget||n.fromElement)&&(za(f)||f[fo]))break e;if((p||h)&&(h=l.window===l?l:(h=l.ownerDocument)?h.defaultView||h.parentWindow:window,p?(f=n.relatedTarget||n.toElement,p=d,f=f?za(f):null,f!==null&&(m=_l(f),f!==m||f.tag!==5&&f.tag!==6)&&(f=null)):(p=null,f=d),p!==f)){if(g=OS,C="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=BS,C="onPointerLeave",v="onPointerEnter",y="pointer"),m=p==null?h:lc(p),x=f==null?h:lc(f),h=new g(C,y+"leave",p,n,l),h.target=m,h.relatedTarget=x,C=null,za(l)===d&&(g=new g(v,y+"enter",f,n,l),g.target=x,g.relatedTarget=m,C=g),m=C,p&&f)t:{for(g=p,v=f,y=0,x=g;x;x=Ul(x))y++;for(x=0,C=v;C;C=Ul(C))x++;for(;0<y-x;)g=Ul(g),y--;for(;0<x-y;)v=Ul(v),x--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=Ul(g),v=Ul(v)}g=null}else g=null;p!==null&&YS(u,h,p,g,!1),f!==null&&m!==null&&YS(u,m,f,g,!0)}}e:{if(h=d?lc(d):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var b=xN;else if(US(h))if(fk)b=AN;else{b=EN;var S=SN}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=CN);if(b&&(b=b(e,d))){dk(u,b,n,l);break e}S&&S(e,h,d),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&gy(h,"number",h.value)}switch(S=d?lc(d):window,e){case"focusin":(US(S)||S.contentEditable==="true")&&(oc=S,ky=d,Id=null);break;case"focusout":Id=ky=oc=null;break;case"mousedown":Iy=!0;break;case"contextmenu":case"mouseup":case"dragend":Iy=!1,jS(u,n,l);break;case"selectionchange":if(IN)break;case"keydown":case"keyup":jS(u,n,l)}var I;if(j1)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else sc?ck(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(lk&&n.locale!=="ko"&&(sc||L!=="onCompositionStart"?L==="onCompositionEnd"&&sc&&(I=ak()):(Jo=l,z1="value"in Jo?Jo.value:Jo.textContent,sc=!0)),S=Kp(d,L),0<S.length&&(L=new NS(L,e,null,n,l),u.push({event:L,listeners:S}),I?L.data=I:(I=uk(n),I!==null&&(L.data=I)))),(I=mN?vN(e,n):yN(e,n))&&(d=Kp(d,"onBeforeInput"),0<d.length&&(l=new NS("onBeforeInput","beforeinput",null,n,l),u.push({event:l,listeners:d}),l.data=I))}Sk(u,t)})}function tf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kp(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Yd(e,n),s!=null&&r.unshift(tf(e,s,i)),s=Yd(e,t),s!=null&&r.push(tf(e,s,i))),e=e.return}return r}function Ul(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function YS(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var c=n,a=c.alternate,d=c.stateNode;if(a!==null&&a===r)break;c.tag===5&&d!==null&&(c=d,i?(a=Yd(n,s),a!=null&&o.unshift(tf(n,a,c))):i||(a=Yd(n,s),a!=null&&o.push(tf(n,a,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var MN=/\r\n?/g,RN=/\u0000|\uFFFD/g;function ZS(e){return(typeof e=="string"?e:""+e).replace(MN,`
`).replace(RN,"")}function _h(e,t,n){if(t=ZS(t),ZS(e)!==t&&n)throw Error(me(425))}function Yp(){}var Ty=null,$y=null;function Ly(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var My=typeof setTimeout=="function"?setTimeout:void 0,PN=typeof clearTimeout=="function"?clearTimeout:void 0,qS=typeof Promise=="function"?Promise:void 0,ON=typeof queueMicrotask=="function"?queueMicrotask:typeof qS<"u"?function(e){return qS.resolve(null).then(e).catch(NN)}:My;function NN(e){setTimeout(function(){throw e})}function W0(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Xd(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Xd(t)}function ia(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function XS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ku=Math.random().toString(36).slice(2),bs="__reactFiber$"+ku,nf="__reactProps$"+ku,fo="__reactContainer$"+ku,Ry="__reactEvents$"+ku,BN="__reactListeners$"+ku,DN="__reactHandles$"+ku;function za(e){var t=e[bs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fo]||n[bs]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=XS(e);e!==null;){if(n=e[bs])return n;e=XS(e)}return t}e=n,n=e.parentNode}return null}function Hf(e){return e=e[bs]||e[fo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function lc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(me(33))}function wm(e){return e[nf]||null}var Py=[],cc=-1;function xa(e){return{current:e}}function Gt(e){0>cc||(e.current=Py[cc],Py[cc]=null,cc--)}function Ot(e,t){cc++,Py[cc]=e.current,e.current=t}var pa={},lr=xa(pa),Lr=xa(!1),fl=pa;function ru(e,t){var n=e.type.contextTypes;if(!n)return pa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Mr(e){return e=e.childContextTypes,e!=null}function Zp(){Gt(Lr),Gt(lr)}function QS(e,t,n){if(lr.current!==pa)throw Error(me(168));Ot(lr,t),Ot(Lr,n)}function Ck(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(me(108,SO(e)||"Unknown",i));return Xt({},n,r)}function qp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pa,fl=lr.current,Ot(lr,e),Ot(Lr,Lr.current),!0}function JS(e,t,n){var r=e.stateNode;if(!r)throw Error(me(169));n?(e=Ck(e,t,fl),r.__reactInternalMemoizedMergedChildContext=e,Gt(Lr),Gt(lr),Ot(lr,e)):Gt(Lr),Ot(Lr,n)}var Ys=null,xm=!1,j0=!1;function Ak(e){Ys===null?Ys=[e]:Ys.push(e)}function FN(e){xm=!0,Ak(e)}function Sa(){if(!j0&&Ys!==null){j0=!0;var e=0,t=kt;try{var n=Ys;for(kt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ys=null,xm=!1}catch(i){throw Ys!==null&&(Ys=Ys.slice(e+1)),q_(D1,Sa),i}finally{kt=t,j0=!1}}return null}var uc=[],dc=0,Xp=null,Qp=0,vi=[],yi=0,hl=null,ro=1,io="";function Ma(e,t){uc[dc++]=Qp,uc[dc++]=Xp,Xp=e,Qp=t}function _k(e,t,n){vi[yi++]=ro,vi[yi++]=io,vi[yi++]=hl,hl=e;var r=ro;e=io;var i=32-es(r)-1;r&=~(1<<i),n+=1;var s=32-es(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ro=1<<32-es(t)+i|n<<i|r,io=s+e}else ro=1<<s|n<<i|r,io=e}function K1(e){e.return!==null&&(Ma(e,1),_k(e,1,0))}function Y1(e){for(;e===Xp;)Xp=uc[--dc],uc[dc]=null,Qp=uc[--dc],uc[dc]=null;for(;e===hl;)hl=vi[--yi],vi[yi]=null,io=vi[--yi],vi[yi]=null,ro=vi[--yi],vi[yi]=null}var Xr=null,Kr=null,jt=!1,Xi=null;function kk(e,t){var n=bi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function eE(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xr=e,Kr=ia(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xr=e,Kr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hl!==null?{id:ro,overflow:io}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=bi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xr=e,Kr=null,!0):!1;default:return!1}}function Oy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ny(e){if(jt){var t=Kr;if(t){var n=t;if(!eE(e,t)){if(Oy(e))throw Error(me(418));t=ia(n.nextSibling);var r=Xr;t&&eE(e,t)?kk(r,n):(e.flags=e.flags&-4097|2,jt=!1,Xr=e)}}else{if(Oy(e))throw Error(me(418));e.flags=e.flags&-4097|2,jt=!1,Xr=e}}}function tE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xr=e}function kh(e){if(e!==Xr)return!1;if(!jt)return tE(e),jt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ly(e.type,e.memoizedProps)),t&&(t=Kr)){if(Oy(e))throw Ik(),Error(me(418));for(;t;)kk(e,t),t=ia(t.nextSibling)}if(tE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(me(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Kr=ia(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Kr=null}}else Kr=Xr?ia(e.stateNode.nextSibling):null;return!0}function Ik(){for(var e=Kr;e;)e=ia(e.nextSibling)}function iu(){Kr=Xr=null,jt=!1}function Z1(e){Xi===null?Xi=[e]:Xi.push(e)}var UN=vo.ReactCurrentBatchConfig;function Vu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(me(309));var r=n.stateNode}if(!r)throw Error(me(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var c=i.refs;o===null?delete c[s]:c[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(me(284));if(!n._owner)throw Error(me(290,e))}return e}function Ih(e,t){throw e=Object.prototype.toString.call(t),Error(me(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nE(e){var t=e._init;return t(e._payload)}function Tk(e){function t(v,y){if(e){var x=v.deletions;x===null?(v.deletions=[y],v.flags|=16):x.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=la(v,y),v.index=0,v.sibling=null,v}function s(v,y,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<y?(v.flags|=2,y):x):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function c(v,y,x,C){return y===null||y.tag!==6?(y=Q0(x,v.mode,C),y.return=v,y):(y=i(y,x),y.return=v,y)}function a(v,y,x,C){var b=x.type;return b===ic?l(v,y,x.props.children,C,x.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Fo&&nE(b)===y.type)?(C=i(y,x.props),C.ref=Vu(v,y,x),C.return=v,C):(C=xp(x.type,x.key,x.props,null,v.mode,C),C.ref=Vu(v,y,x),C.return=v,C)}function d(v,y,x,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=J0(x,v.mode,C),y.return=v,y):(y=i(y,x.children||[]),y.return=v,y)}function l(v,y,x,C,b){return y===null||y.tag!==7?(y=sl(x,v.mode,C,b),y.return=v,y):(y=i(y,x),y.return=v,y)}function u(v,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Q0(""+y,v.mode,x),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case vh:return x=xp(y.type,y.key,y.props,null,v.mode,x),x.ref=Vu(v,null,y),x.return=v,x;case rc:return y=J0(y,v.mode,x),y.return=v,y;case Fo:var C=y._init;return u(v,C(y._payload),x)}if(gd(y)||Gu(y))return y=sl(y,v.mode,x,null),y.return=v,y;Ih(v,y)}return null}function h(v,y,x,C){var b=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return b!==null?null:c(v,y,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case vh:return x.key===b?a(v,y,x,C):null;case rc:return x.key===b?d(v,y,x,C):null;case Fo:return b=x._init,h(v,y,b(x._payload),C)}if(gd(x)||Gu(x))return b!==null?null:l(v,y,x,C,null);Ih(v,x)}return null}function p(v,y,x,C,b){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(x)||null,c(y,v,""+C,b);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case vh:return v=v.get(C.key===null?x:C.key)||null,a(y,v,C,b);case rc:return v=v.get(C.key===null?x:C.key)||null,d(y,v,C,b);case Fo:var S=C._init;return p(v,y,x,S(C._payload),b)}if(gd(C)||Gu(C))return v=v.get(x)||null,l(y,v,C,b,null);Ih(y,C)}return null}function f(v,y,x,C){for(var b=null,S=null,I=y,L=y=0,T=null;I!==null&&L<x.length;L++){I.index>L?(T=I,I=null):T=I.sibling;var $=h(v,I,x[L],C);if($===null){I===null&&(I=T);break}e&&I&&$.alternate===null&&t(v,I),y=s($,y,L),S===null?b=$:S.sibling=$,S=$,I=T}if(L===x.length)return n(v,I),jt&&Ma(v,L),b;if(I===null){for(;L<x.length;L++)I=u(v,x[L],C),I!==null&&(y=s(I,y,L),S===null?b=I:S.sibling=I,S=I);return jt&&Ma(v,L),b}for(I=r(v,I);L<x.length;L++)T=p(I,v,L,x[L],C),T!==null&&(e&&T.alternate!==null&&I.delete(T.key===null?L:T.key),y=s(T,y,L),S===null?b=T:S.sibling=T,S=T);return e&&I.forEach(function(P){return t(v,P)}),jt&&Ma(v,L),b}function g(v,y,x,C){var b=Gu(x);if(typeof b!="function")throw Error(me(150));if(x=b.call(x),x==null)throw Error(me(151));for(var S=b=null,I=y,L=y=0,T=null,$=x.next();I!==null&&!$.done;L++,$=x.next()){I.index>L?(T=I,I=null):T=I.sibling;var P=h(v,I,$.value,C);if(P===null){I===null&&(I=T);break}e&&I&&P.alternate===null&&t(v,I),y=s(P,y,L),S===null?b=P:S.sibling=P,S=P,I=T}if($.done)return n(v,I),jt&&Ma(v,L),b;if(I===null){for(;!$.done;L++,$=x.next())$=u(v,$.value,C),$!==null&&(y=s($,y,L),S===null?b=$:S.sibling=$,S=$);return jt&&Ma(v,L),b}for(I=r(v,I);!$.done;L++,$=x.next())$=p(I,v,L,$.value,C),$!==null&&(e&&$.alternate!==null&&I.delete($.key===null?L:$.key),y=s($,y,L),S===null?b=$:S.sibling=$,S=$);return e&&I.forEach(function(k){return t(v,k)}),jt&&Ma(v,L),b}function m(v,y,x,C){if(typeof x=="object"&&x!==null&&x.type===ic&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case vh:e:{for(var b=x.key,S=y;S!==null;){if(S.key===b){if(b=x.type,b===ic){if(S.tag===7){n(v,S.sibling),y=i(S,x.props.children),y.return=v,v=y;break e}}else if(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Fo&&nE(b)===S.type){n(v,S.sibling),y=i(S,x.props),y.ref=Vu(v,S,x),y.return=v,v=y;break e}n(v,S);break}else t(v,S);S=S.sibling}x.type===ic?(y=sl(x.props.children,v.mode,C,x.key),y.return=v,v=y):(C=xp(x.type,x.key,x.props,null,v.mode,C),C.ref=Vu(v,y,x),C.return=v,v=C)}return o(v);case rc:e:{for(S=x.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(v,y.sibling),y=i(y,x.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=J0(x,v.mode,C),y.return=v,v=y}return o(v);case Fo:return S=x._init,m(v,y,S(x._payload),C)}if(gd(x))return f(v,y,x,C);if(Gu(x))return g(v,y,x,C);Ih(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,x),y.return=v,v=y):(n(v,y),y=Q0(x,v.mode,C),y.return=v,v=y),o(v)):n(v,y)}return m}var su=Tk(!0),$k=Tk(!1),Jp=xa(null),eg=null,fc=null,q1=null;function X1(){q1=fc=eg=null}function Q1(e){var t=Jp.current;Gt(Jp),e._currentValue=t}function By(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Rc(e,t){eg=e,q1=fc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ir=!0),e.firstContext=null)}function Ci(e){var t=e._currentValue;if(q1!==e)if(e={context:e,memoizedValue:t,next:null},fc===null){if(eg===null)throw Error(me(308));fc=e,eg.dependencies={lanes:0,firstContext:e}}else fc=fc.next=e;return t}var Ha=null;function J1(e){Ha===null?Ha=[e]:Ha.push(e)}function Lk(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,J1(t)):(n.next=i.next,i.next=n),t.interleaved=n,ho(e,r)}function ho(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Uo=!1;function ew(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ct&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ho(e,n)}return i=r.interleaved,i===null?(t.next=t,J1(r)):(t.next=i.next,i.next=t),r.interleaved=t,ho(e,n)}function gp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,F1(e,n)}}function rE(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function tg(e,t,n,r){var i=e.updateQueue;Uo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var a=c,d=a.next;a.next=null,o===null?s=d:o.next=d,o=a;var l=e.alternate;l!==null&&(l=l.updateQueue,c=l.lastBaseUpdate,c!==o&&(c===null?l.firstBaseUpdate=d:c.next=d,l.lastBaseUpdate=a))}if(s!==null){var u=i.baseState;o=0,l=d=a=null,c=s;do{var h=c.lane,p=c.eventTime;if((r&h)===h){l!==null&&(l=l.next={eventTime:p,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var f=e,g=c;switch(h=t,p=n,g.tag){case 1:if(f=g.payload,typeof f=="function"){u=f.call(p,u,h);break e}u=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=g.payload,h=typeof f=="function"?f.call(p,u,h):f,h==null)break e;u=Xt({},u,h);break e;case 2:Uo=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[c]:h.push(c))}else p={eventTime:p,lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},l===null?(d=l=p,a=u):l=l.next=p,o|=h;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;h=c,c=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(l===null&&(a=u),i.baseState=a,i.firstBaseUpdate=d,i.lastBaseUpdate=l,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);gl|=o,e.lanes=o,e.memoizedState=u}}function iE(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(me(191,i));i.call(r)}}}var Wf={},As=xa(Wf),rf=xa(Wf),sf=xa(Wf);function Wa(e){if(e===Wf)throw Error(me(174));return e}function tw(e,t){switch(Ot(sf,t),Ot(rf,e),Ot(As,Wf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vy(t,e)}Gt(As),Ot(As,t)}function ou(){Gt(As),Gt(rf),Gt(sf)}function Rk(e){Wa(sf.current);var t=Wa(As.current),n=vy(t,e.type);t!==n&&(Ot(rf,e),Ot(As,n))}function nw(e){rf.current===e&&(Gt(As),Gt(rf))}var Yt=xa(0);function ng(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var V0=[];function rw(){for(var e=0;e<V0.length;e++)V0[e]._workInProgressVersionPrimary=null;V0.length=0}var mp=vo.ReactCurrentDispatcher,K0=vo.ReactCurrentBatchConfig,pl=0,qt=null,bn=null,Tn=null,rg=!1,Td=!1,of=0,GN=0;function Zn(){throw Error(me(321))}function iw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!is(e[n],t[n]))return!1;return!0}function sw(e,t,n,r,i,s){if(pl=s,qt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mp.current=e===null||e.memoizedState===null?jN:VN,e=n(r,i),Td){s=0;do{if(Td=!1,of=0,25<=s)throw Error(me(301));s+=1,Tn=bn=null,t.updateQueue=null,mp.current=KN,e=n(r,i)}while(Td)}if(mp.current=ig,t=bn!==null&&bn.next!==null,pl=0,Tn=bn=qt=null,rg=!1,t)throw Error(me(300));return e}function ow(){var e=of!==0;return of=0,e}function fs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?qt.memoizedState=Tn=e:Tn=Tn.next=e,Tn}function Ai(){if(bn===null){var e=qt.alternate;e=e!==null?e.memoizedState:null}else e=bn.next;var t=Tn===null?qt.memoizedState:Tn.next;if(t!==null)Tn=t,bn=e;else{if(e===null)throw Error(me(310));bn=e,e={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},Tn===null?qt.memoizedState=Tn=e:Tn=Tn.next=e}return Tn}function af(e,t){return typeof t=="function"?t(e):t}function Y0(e){var t=Ai(),n=t.queue;if(n===null)throw Error(me(311));n.lastRenderedReducer=e;var r=bn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var c=o=null,a=null,d=s;do{var l=d.lane;if((pl&l)===l)a!==null&&(a=a.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var u={lane:l,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};a===null?(c=a=u,o=r):a=a.next=u,qt.lanes|=l,gl|=l}d=d.next}while(d!==null&&d!==s);a===null?o=r:a.next=c,is(r,t.memoizedState)||(Ir=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,qt.lanes|=s,gl|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Z0(e){var t=Ai(),n=t.queue;if(n===null)throw Error(me(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);is(s,t.memoizedState)||(Ir=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Pk(){}function Ok(e,t){var n=qt,r=Ai(),i=t(),s=!is(r.memoizedState,i);if(s&&(r.memoizedState=i,Ir=!0),r=r.queue,aw(Dk.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Tn!==null&&Tn.memoizedState.tag&1){if(n.flags|=2048,lf(9,Bk.bind(null,n,r,i,t),void 0,null),Mn===null)throw Error(me(349));pl&30||Nk(n,t,i)}return i}function Nk(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=qt.updateQueue,t===null?(t={lastEffect:null,stores:null},qt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Bk(e,t,n,r){t.value=n,t.getSnapshot=r,Fk(t)&&Uk(e)}function Dk(e,t,n){return n(function(){Fk(t)&&Uk(e)})}function Fk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!is(e,n)}catch{return!0}}function Uk(e){var t=ho(e,1);t!==null&&ts(t,e,1,-1)}function sE(e){var t=fs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:af,lastRenderedState:e},t.queue=e,e=e.dispatch=WN.bind(null,qt,e),[t.memoizedState,e]}function lf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=qt.updateQueue,t===null?(t={lastEffect:null,stores:null},qt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Gk(){return Ai().memoizedState}function vp(e,t,n,r){var i=fs();qt.flags|=e,i.memoizedState=lf(1|t,n,void 0,r===void 0?null:r)}function Sm(e,t,n,r){var i=Ai();r=r===void 0?null:r;var s=void 0;if(bn!==null){var o=bn.memoizedState;if(s=o.destroy,r!==null&&iw(r,o.deps)){i.memoizedState=lf(t,n,s,r);return}}qt.flags|=e,i.memoizedState=lf(1|t,n,s,r)}function oE(e,t){return vp(8390656,8,e,t)}function aw(e,t){return Sm(2048,8,e,t)}function zk(e,t){return Sm(4,2,e,t)}function Hk(e,t){return Sm(4,4,e,t)}function Wk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jk(e,t,n){return n=n!=null?n.concat([e]):null,Sm(4,4,Wk.bind(null,t,e),n)}function lw(){}function Vk(e,t){var n=Ai();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&iw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Kk(e,t){var n=Ai();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&iw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yk(e,t,n){return pl&21?(is(n,t)||(n=J_(),qt.lanes|=n,gl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ir=!0),e.memoizedState=n)}function zN(e,t){var n=kt;kt=n!==0&&4>n?n:4,e(!0);var r=K0.transition;K0.transition={};try{e(!1),t()}finally{kt=n,K0.transition=r}}function Zk(){return Ai().memoizedState}function HN(e,t,n){var r=aa(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qk(e))Xk(t,n);else if(n=Lk(e,t,n,r),n!==null){var i=yr();ts(n,e,r,i),Qk(n,t,r)}}function WN(e,t,n){var r=aa(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qk(e))Xk(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,c=s(o,n);if(i.hasEagerState=!0,i.eagerState=c,is(c,o)){var a=t.interleaved;a===null?(i.next=i,J1(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Lk(e,t,i,r),n!==null&&(i=yr(),ts(n,e,r,i),Qk(n,t,r))}}function qk(e){var t=e.alternate;return e===qt||t!==null&&t===qt}function Xk(e,t){Td=rg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qk(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,F1(e,n)}}var ig={readContext:Ci,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},jN={readContext:Ci,useCallback:function(e,t){return fs().memoizedState=[e,t===void 0?null:t],e},useContext:Ci,useEffect:oE,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,vp(4194308,4,Wk.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vp(4194308,4,e,t)},useInsertionEffect:function(e,t){return vp(4,2,e,t)},useMemo:function(e,t){var n=fs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=fs();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=HN.bind(null,qt,e),[r.memoizedState,e]},useRef:function(e){var t=fs();return e={current:e},t.memoizedState=e},useState:sE,useDebugValue:lw,useDeferredValue:function(e){return fs().memoizedState=e},useTransition:function(){var e=sE(!1),t=e[0];return e=zN.bind(null,e[1]),fs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=qt,i=fs();if(jt){if(n===void 0)throw Error(me(407));n=n()}else{if(n=t(),Mn===null)throw Error(me(349));pl&30||Nk(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,oE(Dk.bind(null,r,s,e),[e]),r.flags|=2048,lf(9,Bk.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=fs(),t=Mn.identifierPrefix;if(jt){var n=io,r=ro;n=(r&~(1<<32-es(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=of++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=GN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},VN={readContext:Ci,useCallback:Vk,useContext:Ci,useEffect:aw,useImperativeHandle:jk,useInsertionEffect:zk,useLayoutEffect:Hk,useMemo:Kk,useReducer:Y0,useRef:Gk,useState:function(){return Y0(af)},useDebugValue:lw,useDeferredValue:function(e){var t=Ai();return Yk(t,bn.memoizedState,e)},useTransition:function(){var e=Y0(af)[0],t=Ai().memoizedState;return[e,t]},useMutableSource:Pk,useSyncExternalStore:Ok,useId:Zk,unstable_isNewReconciler:!1},KN={readContext:Ci,useCallback:Vk,useContext:Ci,useEffect:aw,useImperativeHandle:jk,useInsertionEffect:zk,useLayoutEffect:Hk,useMemo:Kk,useReducer:Z0,useRef:Gk,useState:function(){return Z0(af)},useDebugValue:lw,useDeferredValue:function(e){var t=Ai();return bn===null?t.memoizedState=e:Yk(t,bn.memoizedState,e)},useTransition:function(){var e=Z0(af)[0],t=Ai().memoizedState;return[e,t]},useMutableSource:Pk,useSyncExternalStore:Ok,useId:Zk,unstable_isNewReconciler:!1};function Ri(e,t){if(e&&e.defaultProps){t=Xt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Dy(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Xt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Em={isMounted:function(e){return(e=e._reactInternals)?_l(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=yr(),i=aa(e),s=oo(r,i);s.payload=t,n!=null&&(s.callback=n),t=sa(e,s,i),t!==null&&(ts(t,e,i,r),gp(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=yr(),i=aa(e),s=oo(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=sa(e,s,i),t!==null&&(ts(t,e,i,r),gp(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=yr(),r=aa(e),i=oo(n,r);i.tag=2,t!=null&&(i.callback=t),t=sa(e,i,r),t!==null&&(ts(t,e,r,n),gp(t,e,r))}};function aE(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Jd(n,r)||!Jd(i,s):!0}function Jk(e,t,n){var r=!1,i=pa,s=t.contextType;return typeof s=="object"&&s!==null?s=Ci(s):(i=Mr(t)?fl:lr.current,r=t.contextTypes,s=(r=r!=null)?ru(e,i):pa),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Em,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function lE(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Em.enqueueReplaceState(t,t.state,null)}function Fy(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ew(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Ci(s):(s=Mr(t)?fl:lr.current,i.context=ru(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Dy(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Em.enqueueReplaceState(i,i.state,null),tg(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function au(e,t){try{var n="",r=t;do n+=xO(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function q0(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Uy(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var YN=typeof WeakMap=="function"?WeakMap:Map;function eI(e,t,n){n=oo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){og||(og=!0,qy=r),Uy(e,t)},n}function tI(e,t,n){n=oo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Uy(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Uy(e,t),typeof r!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function cE(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new YN;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=lB.bind(null,e,t,n),t.then(e,e))}function uE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dE(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=oo(-1,1),t.tag=2,sa(n,t,1))),n.lanes|=1),e)}var ZN=vo.ReactCurrentOwner,Ir=!1;function pr(e,t,n,r){t.child=e===null?$k(t,null,n,r):su(t,e.child,n,r)}function fE(e,t,n,r,i){n=n.render;var s=t.ref;return Rc(t,i),r=sw(e,t,n,r,s,i),n=ow(),e!==null&&!Ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,po(e,t,i)):(jt&&n&&K1(t),t.flags|=1,pr(e,t,r,i),t.child)}function hE(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!mw(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,nI(e,t,s,r,i)):(e=xp(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Jd,n(o,r)&&e.ref===t.ref)return po(e,t,i)}return t.flags|=1,e=la(s,r),e.ref=t.ref,e.return=t,t.child=e}function nI(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Jd(s,r)&&e.ref===t.ref)if(Ir=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Ir=!0);else return t.lanes=e.lanes,po(e,t,i)}return Gy(e,t,n,r,i)}function rI(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(pc,Wr),Wr|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ot(pc,Wr),Wr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ot(pc,Wr),Wr|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ot(pc,Wr),Wr|=r;return pr(e,t,i,n),t.child}function iI(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Gy(e,t,n,r,i){var s=Mr(n)?fl:lr.current;return s=ru(t,s),Rc(t,i),n=sw(e,t,n,r,s,i),r=ow(),e!==null&&!Ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,po(e,t,i)):(jt&&r&&K1(t),t.flags|=1,pr(e,t,n,i),t.child)}function pE(e,t,n,r,i){if(Mr(n)){var s=!0;qp(t)}else s=!1;if(Rc(t,i),t.stateNode===null)yp(e,t),Jk(t,n,r),Fy(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var a=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Ci(d):(d=Mr(n)?fl:lr.current,d=ru(t,d));var l=n.getDerivedStateFromProps,u=typeof l=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==r||a!==d)&&lE(t,o,r,d),Uo=!1;var h=t.memoizedState;o.state=h,tg(t,r,o,i),a=t.memoizedState,c!==r||h!==a||Lr.current||Uo?(typeof l=="function"&&(Dy(t,n,l,r),a=t.memoizedState),(c=Uo||aE(t,n,c,r,h,a,d))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=d,r=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Mk(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:Ri(t.type,c),o.props=d,u=t.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ci(a):(a=Mr(n)?fl:lr.current,a=ru(t,a));var p=n.getDerivedStateFromProps;(l=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==u||h!==a)&&lE(t,o,r,a),Uo=!1,h=t.memoizedState,o.state=h,tg(t,r,o,i);var f=t.memoizedState;c!==u||h!==f||Lr.current||Uo?(typeof p=="function"&&(Dy(t,n,p,r),f=t.memoizedState),(d=Uo||aE(t,n,d,r,h,f,a)||!1)?(l||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,f,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,f,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=a,r=d):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return zy(e,t,n,r,s,i)}function zy(e,t,n,r,i,s){iI(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&JS(t,n,!1),po(e,t,s);r=t.stateNode,ZN.current=t;var c=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=su(t,e.child,null,s),t.child=su(t,null,c,s)):pr(e,t,c,s),t.memoizedState=r.state,i&&JS(t,n,!0),t.child}function sI(e){var t=e.stateNode;t.pendingContext?QS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&QS(e,t.context,!1),tw(e,t.containerInfo)}function gE(e,t,n,r,i){return iu(),Z1(i),t.flags|=256,pr(e,t,n,r),t.child}var Hy={dehydrated:null,treeContext:null,retryLane:0};function Wy(e){return{baseLanes:e,cachePool:null,transitions:null}}function oI(e,t,n){var r=t.pendingProps,i=Yt.current,s=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ot(Yt,i&1),e===null)return Ny(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=_m(o,r,0,null),e=sl(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Wy(n),t.memoizedState=Hy,e):cw(t,o));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return qN(e,t,o,r,c,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,c=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=la(i,a),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?s=la(c,s):(s=sl(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Wy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Hy,r}return s=e.child,e=s.sibling,r=la(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function cw(e,t){return t=_m({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Th(e,t,n,r){return r!==null&&Z1(r),su(t,e.child,null,n),e=cw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qN(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=q0(Error(me(422))),Th(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=_m({mode:"visible",children:r.children},i,0,null),s=sl(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&su(t,e.child,null,o),t.child.memoizedState=Wy(o),t.memoizedState=Hy,s);if(!(t.mode&1))return Th(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error(me(419)),r=q0(s,r,void 0),Th(e,t,o,r)}if(c=(o&e.childLanes)!==0,Ir||c){if(r=Mn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ho(e,i),ts(r,e,i,-1))}return gw(),r=q0(Error(me(421))),Th(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=cB.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Kr=ia(i.nextSibling),Xr=t,jt=!0,Xi=null,e!==null&&(vi[yi++]=ro,vi[yi++]=io,vi[yi++]=hl,ro=e.id,io=e.overflow,hl=t),t=cw(t,r.children),t.flags|=4096,t)}function mE(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),By(e.return,t,n)}function X0(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function aI(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(pr(e,t,r.children,n),r=Yt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mE(e,n,t);else if(e.tag===19)mE(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ot(Yt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ng(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),X0(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ng(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}X0(t,!0,n,null,s);break;case"together":X0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function po(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(me(153));if(t.child!==null){for(e=t.child,n=la(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=la(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function XN(e,t,n){switch(t.tag){case 3:sI(t),iu();break;case 5:Rk(t);break;case 1:Mr(t.type)&&qp(t);break;case 4:tw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ot(Jp,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ot(Yt,Yt.current&1),t.flags|=128,null):n&t.child.childLanes?oI(e,t,n):(Ot(Yt,Yt.current&1),e=po(e,t,n),e!==null?e.sibling:null);Ot(Yt,Yt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return aI(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ot(Yt,Yt.current),r)break;return null;case 22:case 23:return t.lanes=0,rI(e,t,n)}return po(e,t,n)}var lI,jy,cI,uI;lI=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jy=function(){};cI=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Wa(As.current);var s=null;switch(n){case"input":i=hy(e,i),r=hy(e,r),s=[];break;case"select":i=Xt({},i,{value:void 0}),r=Xt({},r,{value:void 0}),s=[];break;case"textarea":i=my(e,i),r=my(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Yp)}yy(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var c=i[d];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Vd.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var a=r[d];if(c=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&a!==c&&(a!=null||c!=null))if(d==="style")if(c){for(o in c)!c.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&c[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(d,n)),n=a;else d==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,c=c?c.__html:void 0,a!=null&&c!==a&&(s=s||[]).push(d,a)):d==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(d,""+a):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Vd.hasOwnProperty(d)?(a!=null&&d==="onScroll"&&Bt("scroll",e),s||c===a||(s=[])):(s=s||[]).push(d,a))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};uI=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ku(e,t){if(!jt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function QN(e,t,n){var r=t.pendingProps;switch(Y1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qn(t),null;case 1:return Mr(t.type)&&Zp(),qn(t),null;case 3:return r=t.stateNode,ou(),Gt(Lr),Gt(lr),rw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(kh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xi!==null&&(Jy(Xi),Xi=null))),jy(e,t),qn(t),null;case 5:nw(t);var i=Wa(sf.current);if(n=t.type,e!==null&&t.stateNode!=null)cI(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(me(166));return qn(t),null}if(e=Wa(As.current),kh(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[bs]=t,r[nf]=s,e=(t.mode&1)!==0,n){case"dialog":Bt("cancel",r),Bt("close",r);break;case"iframe":case"object":case"embed":Bt("load",r);break;case"video":case"audio":for(i=0;i<vd.length;i++)Bt(vd[i],r);break;case"source":Bt("error",r);break;case"img":case"image":case"link":Bt("error",r),Bt("load",r);break;case"details":Bt("toggle",r);break;case"input":AS(r,s),Bt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Bt("invalid",r);break;case"textarea":kS(r,s),Bt("invalid",r)}yy(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var c=s[o];o==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&_h(r.textContent,c,e),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&_h(r.textContent,c,e),i=["children",""+c]):Vd.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&Bt("scroll",r)}switch(n){case"input":yh(r),_S(r,s,!0);break;case"textarea":yh(r),IS(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Yp)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=D_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[bs]=t,e[nf]=r,lI(e,t,!1,!1),t.stateNode=e;e:{switch(o=by(n,r),n){case"dialog":Bt("cancel",e),Bt("close",e),i=r;break;case"iframe":case"object":case"embed":Bt("load",e),i=r;break;case"video":case"audio":for(i=0;i<vd.length;i++)Bt(vd[i],e);i=r;break;case"source":Bt("error",e),i=r;break;case"img":case"image":case"link":Bt("error",e),Bt("load",e),i=r;break;case"details":Bt("toggle",e),i=r;break;case"input":AS(e,r),i=hy(e,r),Bt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Xt({},r,{value:void 0}),Bt("invalid",e);break;case"textarea":kS(e,r),i=my(e,r),Bt("invalid",e);break;default:i=r}yy(n,i),c=i;for(s in c)if(c.hasOwnProperty(s)){var a=c[s];s==="style"?G_(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&F_(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Kd(e,a):typeof a=="number"&&Kd(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vd.hasOwnProperty(s)?a!=null&&s==="onScroll"&&Bt("scroll",e):a!=null&&R1(e,s,a,o))}switch(n){case"input":yh(e),_S(e,r,!1);break;case"textarea":yh(e),IS(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ha(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Tc(e,!!r.multiple,s,!1):r.defaultValue!=null&&Tc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Yp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qn(t),null;case 6:if(e&&t.stateNode!=null)uI(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(me(166));if(n=Wa(sf.current),Wa(As.current),kh(t)){if(r=t.stateNode,n=t.memoizedProps,r[bs]=t,(s=r.nodeValue!==n)&&(e=Xr,e!==null))switch(e.tag){case 3:_h(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_h(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bs]=t,t.stateNode=r}return qn(t),null;case 13:if(Gt(Yt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(jt&&Kr!==null&&t.mode&1&&!(t.flags&128))Ik(),iu(),t.flags|=98560,s=!1;else if(s=kh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(me(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(me(317));s[bs]=t}else iu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qn(t),s=!1}else Xi!==null&&(Jy(Xi),Xi=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Yt.current&1?xn===0&&(xn=3):gw())),t.updateQueue!==null&&(t.flags|=4),qn(t),null);case 4:return ou(),jy(e,t),e===null&&ef(t.stateNode.containerInfo),qn(t),null;case 10:return Q1(t.type._context),qn(t),null;case 17:return Mr(t.type)&&Zp(),qn(t),null;case 19:if(Gt(Yt),s=t.memoizedState,s===null)return qn(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Ku(s,!1);else{if(xn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ng(e),o!==null){for(t.flags|=128,Ku(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ot(Yt,Yt.current&1|2),t.child}e=e.sibling}s.tail!==null&&sn()>lu&&(t.flags|=128,r=!0,Ku(s,!1),t.lanes=4194304)}else{if(!r)if(e=ng(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ku(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!jt)return qn(t),null}else 2*sn()-s.renderingStartTime>lu&&n!==1073741824&&(t.flags|=128,r=!0,Ku(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=sn(),t.sibling=null,n=Yt.current,Ot(Yt,r?n&1|2:n&1),t):(qn(t),null);case 22:case 23:return pw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Wr&1073741824&&(qn(t),t.subtreeFlags&6&&(t.flags|=8192)):qn(t),null;case 24:return null;case 25:return null}throw Error(me(156,t.tag))}function JN(e,t){switch(Y1(t),t.tag){case 1:return Mr(t.type)&&Zp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ou(),Gt(Lr),Gt(lr),rw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return nw(t),null;case 13:if(Gt(Yt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(me(340));iu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Gt(Yt),null;case 4:return ou(),null;case 10:return Q1(t.type._context),null;case 22:case 23:return pw(),null;case 24:return null;default:return null}}var $h=!1,rr=!1,eB=typeof WeakSet=="function"?WeakSet:Set,_e=null;function hc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nn(e,t,r)}else n.current=null}function Vy(e,t,n){try{n()}catch(r){nn(e,t,r)}}var vE=!1;function tB(e,t){if(Ty=jp,e=gk(),V1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,c=-1,a=-1,d=0,l=0,u=e,h=null;t:for(;;){for(var p;u!==n||i!==0&&u.nodeType!==3||(c=o+i),u!==s||r!==0&&u.nodeType!==3||(a=o+r),u.nodeType===3&&(o+=u.nodeValue.length),(p=u.firstChild)!==null;)h=u,u=p;for(;;){if(u===e)break t;if(h===n&&++d===i&&(c=o),h===s&&++l===r&&(a=o),(p=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=p}n=c===-1||a===-1?null:{start:c,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for($y={focusedElem:e,selectionRange:n},jp=!1,_e=t;_e!==null;)if(t=_e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_e=e;else for(;_e!==null;){t=_e;try{var f=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var g=f.memoizedProps,m=f.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ri(t.type,g),m);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(C){nn(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,_e=e;break}_e=t.return}return f=vE,vE=!1,f}function $d(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Vy(t,n,s)}i=i.next}while(i!==r)}}function Cm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ky(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function dI(e){var t=e.alternate;t!==null&&(e.alternate=null,dI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bs],delete t[nf],delete t[Ry],delete t[BN],delete t[DN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fI(e){return e.tag===5||e.tag===3||e.tag===4}function yE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Yp));else if(r!==4&&(e=e.child,e!==null))for(Yy(e,t,n),e=e.sibling;e!==null;)Yy(e,t,n),e=e.sibling}function Zy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Zy(e,t,n),e=e.sibling;e!==null;)Zy(e,t,n),e=e.sibling}var Dn=null,Ki=!1;function Ao(e,t,n){for(n=n.child;n!==null;)hI(e,t,n),n=n.sibling}function hI(e,t,n){if(Cs&&typeof Cs.onCommitFiberUnmount=="function")try{Cs.onCommitFiberUnmount(mm,n)}catch{}switch(n.tag){case 5:rr||hc(n,t);case 6:var r=Dn,i=Ki;Dn=null,Ao(e,t,n),Dn=r,Ki=i,Dn!==null&&(Ki?(e=Dn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Dn.removeChild(n.stateNode));break;case 18:Dn!==null&&(Ki?(e=Dn,n=n.stateNode,e.nodeType===8?W0(e.parentNode,n):e.nodeType===1&&W0(e,n),Xd(e)):W0(Dn,n.stateNode));break;case 4:r=Dn,i=Ki,Dn=n.stateNode.containerInfo,Ki=!0,Ao(e,t,n),Dn=r,Ki=i;break;case 0:case 11:case 14:case 15:if(!rr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Vy(n,t,o),i=i.next}while(i!==r)}Ao(e,t,n);break;case 1:if(!rr&&(hc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){nn(n,t,c)}Ao(e,t,n);break;case 21:Ao(e,t,n);break;case 22:n.mode&1?(rr=(r=rr)||n.memoizedState!==null,Ao(e,t,n),rr=r):Ao(e,t,n);break;default:Ao(e,t,n)}}function bE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new eB),t.forEach(function(r){var i=uB.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $i(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:Dn=c.stateNode,Ki=!1;break e;case 3:Dn=c.stateNode.containerInfo,Ki=!0;break e;case 4:Dn=c.stateNode.containerInfo,Ki=!0;break e}c=c.return}if(Dn===null)throw Error(me(160));hI(s,o,i),Dn=null,Ki=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(d){nn(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pI(t,e),t=t.sibling}function pI(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($i(t,e),cs(e),r&4){try{$d(3,e,e.return),Cm(3,e)}catch(g){nn(e,e.return,g)}try{$d(5,e,e.return)}catch(g){nn(e,e.return,g)}}break;case 1:$i(t,e),cs(e),r&512&&n!==null&&hc(n,n.return);break;case 5:if($i(t,e),cs(e),r&512&&n!==null&&hc(n,n.return),e.flags&32){var i=e.stateNode;try{Kd(i,"")}catch(g){nn(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,c=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&N_(i,s),by(c,o);var d=by(c,s);for(o=0;o<a.length;o+=2){var l=a[o],u=a[o+1];l==="style"?G_(i,u):l==="dangerouslySetInnerHTML"?F_(i,u):l==="children"?Kd(i,u):R1(i,l,u,d)}switch(c){case"input":py(i,s);break;case"textarea":B_(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Tc(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Tc(i,!!s.multiple,s.defaultValue,!0):Tc(i,!!s.multiple,s.multiple?[]:"",!1))}i[nf]=s}catch(g){nn(e,e.return,g)}}break;case 6:if($i(t,e),cs(e),r&4){if(e.stateNode===null)throw Error(me(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){nn(e,e.return,g)}}break;case 3:if($i(t,e),cs(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xd(t.containerInfo)}catch(g){nn(e,e.return,g)}break;case 4:$i(t,e),cs(e);break;case 13:$i(t,e),cs(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(fw=sn())),r&4&&bE(e);break;case 22:if(l=n!==null&&n.memoizedState!==null,e.mode&1?(rr=(d=rr)||l,$i(t,e),rr=d):$i(t,e),cs(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!l&&e.mode&1)for(_e=e,l=e.child;l!==null;){for(u=_e=l;_e!==null;){switch(h=_e,p=h.child,h.tag){case 0:case 11:case 14:case 15:$d(4,h,h.return);break;case 1:hc(h,h.return);var f=h.stateNode;if(typeof f.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){nn(r,n,g)}}break;case 5:hc(h,h.return);break;case 22:if(h.memoizedState!==null){xE(u);continue}}p!==null?(p.return=h,_e=p):xE(u)}l=l.sibling}e:for(l=null,u=e;;){if(u.tag===5){if(l===null){l=u;try{i=u.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=u.stateNode,a=u.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,c.style.display=U_("display",o))}catch(g){nn(e,e.return,g)}}}else if(u.tag===6){if(l===null)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(g){nn(e,e.return,g)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;l===u&&(l=null),u=u.return}l===u&&(l=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:$i(t,e),cs(e),r&4&&bE(e);break;case 21:break;default:$i(t,e),cs(e)}}function cs(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(fI(n)){var r=n;break e}n=n.return}throw Error(me(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Kd(i,""),r.flags&=-33);var s=yE(e);Zy(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,c=yE(e);Yy(e,c,o);break;default:throw Error(me(161))}}catch(a){nn(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nB(e,t,n){_e=e,gI(e)}function gI(e,t,n){for(var r=(e.mode&1)!==0;_e!==null;){var i=_e,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||$h;if(!o){var c=i.alternate,a=c!==null&&c.memoizedState!==null||rr;c=$h;var d=rr;if($h=o,(rr=a)&&!d)for(_e=i;_e!==null;)o=_e,a=o.child,o.tag===22&&o.memoizedState!==null?SE(i):a!==null?(a.return=o,_e=a):SE(i);for(;s!==null;)_e=s,gI(s),s=s.sibling;_e=i,$h=c,rr=d}wE(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,_e=s):wE(e)}}function wE(e){for(;_e!==null;){var t=_e;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rr||Cm(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!rr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ri(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&iE(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}iE(t,o,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var l=d.memoizedState;if(l!==null){var u=l.dehydrated;u!==null&&Xd(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}rr||t.flags&512&&Ky(t)}catch(h){nn(t,t.return,h)}}if(t===e){_e=null;break}if(n=t.sibling,n!==null){n.return=t.return,_e=n;break}_e=t.return}}function xE(e){for(;_e!==null;){var t=_e;if(t===e){_e=null;break}var n=t.sibling;if(n!==null){n.return=t.return,_e=n;break}_e=t.return}}function SE(e){for(;_e!==null;){var t=_e;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Cm(4,t)}catch(a){nn(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){nn(t,i,a)}}var s=t.return;try{Ky(t)}catch(a){nn(t,s,a)}break;case 5:var o=t.return;try{Ky(t)}catch(a){nn(t,o,a)}}}catch(a){nn(t,t.return,a)}if(t===e){_e=null;break}var c=t.sibling;if(c!==null){c.return=t.return,_e=c;break}_e=t.return}}var rB=Math.ceil,sg=vo.ReactCurrentDispatcher,uw=vo.ReactCurrentOwner,wi=vo.ReactCurrentBatchConfig,ct=0,Mn=null,dn=null,Hn=0,Wr=0,pc=xa(0),xn=0,cf=null,gl=0,Am=0,dw=0,Ld=null,_r=null,fw=0,lu=1/0,js=null,og=!1,qy=null,oa=null,Lh=!1,ea=null,ag=0,Md=0,Xy=null,bp=-1,wp=0;function yr(){return ct&6?sn():bp!==-1?bp:bp=sn()}function aa(e){return e.mode&1?ct&2&&Hn!==0?Hn&-Hn:UN.transition!==null?(wp===0&&(wp=J_()),wp):(e=kt,e!==0||(e=window.event,e=e===void 0?16:ok(e.type)),e):1}function ts(e,t,n,r){if(50<Md)throw Md=0,Xy=null,Error(me(185));Gf(e,n,r),(!(ct&2)||e!==Mn)&&(e===Mn&&(!(ct&2)&&(Am|=n),xn===4&&Ko(e,Hn)),Rr(e,r),n===1&&ct===0&&!(t.mode&1)&&(lu=sn()+500,xm&&Sa()))}function Rr(e,t){var n=e.callbackNode;UO(e,t);var r=Wp(e,e===Mn?Hn:0);if(r===0)n!==null&&LS(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&LS(n),t===1)e.tag===0?FN(EE.bind(null,e)):Ak(EE.bind(null,e)),ON(function(){!(ct&6)&&Sa()}),n=null;else{switch(ek(r)){case 1:n=D1;break;case 4:n=X_;break;case 16:n=Hp;break;case 536870912:n=Q_;break;default:n=Hp}n=EI(n,mI.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function mI(e,t){if(bp=-1,wp=0,ct&6)throw Error(me(327));var n=e.callbackNode;if(Pc()&&e.callbackNode!==n)return null;var r=Wp(e,e===Mn?Hn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=lg(e,r);else{t=r;var i=ct;ct|=2;var s=yI();(Mn!==e||Hn!==t)&&(js=null,lu=sn()+500,il(e,t));do try{oB();break}catch(c){vI(e,c)}while(!0);X1(),sg.current=s,ct=i,dn!==null?t=0:(Mn=null,Hn=0,t=xn)}if(t!==0){if(t===2&&(i=Cy(e),i!==0&&(r=i,t=Qy(e,i))),t===1)throw n=cf,il(e,0),Ko(e,r),Rr(e,sn()),n;if(t===6)Ko(e,r);else{if(i=e.current.alternate,!(r&30)&&!iB(i)&&(t=lg(e,r),t===2&&(s=Cy(e),s!==0&&(r=s,t=Qy(e,s))),t===1))throw n=cf,il(e,0),Ko(e,r),Rr(e,sn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(me(345));case 2:Ra(e,_r,js);break;case 3:if(Ko(e,r),(r&130023424)===r&&(t=fw+500-sn(),10<t)){if(Wp(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){yr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=My(Ra.bind(null,e,_r,js),t);break}Ra(e,_r,js);break;case 4:if(Ko(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-es(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=sn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rB(r/1960))-r,10<r){e.timeoutHandle=My(Ra.bind(null,e,_r,js),r);break}Ra(e,_r,js);break;case 5:Ra(e,_r,js);break;default:throw Error(me(329))}}}return Rr(e,sn()),e.callbackNode===n?mI.bind(null,e):null}function Qy(e,t){var n=Ld;return e.current.memoizedState.isDehydrated&&(il(e,t).flags|=256),e=lg(e,t),e!==2&&(t=_r,_r=n,t!==null&&Jy(t)),e}function Jy(e){_r===null?_r=e:_r.push.apply(_r,e)}function iB(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!is(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ko(e,t){for(t&=~dw,t&=~Am,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-es(t),r=1<<n;e[n]=-1,t&=~r}}function EE(e){if(ct&6)throw Error(me(327));Pc();var t=Wp(e,0);if(!(t&1))return Rr(e,sn()),null;var n=lg(e,t);if(e.tag!==0&&n===2){var r=Cy(e);r!==0&&(t=r,n=Qy(e,r))}if(n===1)throw n=cf,il(e,0),Ko(e,t),Rr(e,sn()),n;if(n===6)throw Error(me(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ra(e,_r,js),Rr(e,sn()),null}function hw(e,t){var n=ct;ct|=1;try{return e(t)}finally{ct=n,ct===0&&(lu=sn()+500,xm&&Sa())}}function ml(e){ea!==null&&ea.tag===0&&!(ct&6)&&Pc();var t=ct;ct|=1;var n=wi.transition,r=kt;try{if(wi.transition=null,kt=1,e)return e()}finally{kt=r,wi.transition=n,ct=t,!(ct&6)&&Sa()}}function pw(){Wr=pc.current,Gt(pc)}function il(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,PN(n)),dn!==null)for(n=dn.return;n!==null;){var r=n;switch(Y1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zp();break;case 3:ou(),Gt(Lr),Gt(lr),rw();break;case 5:nw(r);break;case 4:ou();break;case 13:Gt(Yt);break;case 19:Gt(Yt);break;case 10:Q1(r.type._context);break;case 22:case 23:pw()}n=n.return}if(Mn=e,dn=e=la(e.current,null),Hn=Wr=t,xn=0,cf=null,dw=Am=gl=0,_r=Ld=null,Ha!==null){for(t=0;t<Ha.length;t++)if(n=Ha[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ha=null}return e}function vI(e,t){do{var n=dn;try{if(X1(),mp.current=ig,rg){for(var r=qt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}rg=!1}if(pl=0,Tn=bn=qt=null,Td=!1,of=0,uw.current=null,n===null||n.return===null){xn=1,cf=t,dn=null;break}e:{var s=e,o=n.return,c=n,a=t;if(t=Hn,c.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var d=a,l=c,u=l.tag;if(!(l.mode&1)&&(u===0||u===11||u===15)){var h=l.alternate;h?(l.updateQueue=h.updateQueue,l.memoizedState=h.memoizedState,l.lanes=h.lanes):(l.updateQueue=null,l.memoizedState=null)}var p=uE(o);if(p!==null){p.flags&=-257,dE(p,o,c,s,t),p.mode&1&&cE(s,d,t),t=p,a=d;var f=t.updateQueue;if(f===null){var g=new Set;g.add(a),t.updateQueue=g}else f.add(a);break e}else{if(!(t&1)){cE(s,d,t),gw();break e}a=Error(me(426))}}else if(jt&&c.mode&1){var m=uE(o);if(m!==null){!(m.flags&65536)&&(m.flags|=256),dE(m,o,c,s,t),Z1(au(a,c));break e}}s=a=au(a,c),xn!==4&&(xn=2),Ld===null?Ld=[s]:Ld.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=eI(s,a,t);rE(s,v);break e;case 1:c=a;var y=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(oa===null||!oa.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var C=tI(s,c,t);rE(s,C);break e}}s=s.return}while(s!==null)}wI(n)}catch(b){t=b,dn===n&&n!==null&&(dn=n=n.return);continue}break}while(!0)}function yI(){var e=sg.current;return sg.current=ig,e===null?ig:e}function gw(){(xn===0||xn===3||xn===2)&&(xn=4),Mn===null||!(gl&268435455)&&!(Am&268435455)||Ko(Mn,Hn)}function lg(e,t){var n=ct;ct|=2;var r=yI();(Mn!==e||Hn!==t)&&(js=null,il(e,t));do try{sB();break}catch(i){vI(e,i)}while(!0);if(X1(),ct=n,sg.current=r,dn!==null)throw Error(me(261));return Mn=null,Hn=0,xn}function sB(){for(;dn!==null;)bI(dn)}function oB(){for(;dn!==null&&!LO();)bI(dn)}function bI(e){var t=SI(e.alternate,e,Wr);e.memoizedProps=e.pendingProps,t===null?wI(e):dn=t,uw.current=null}function wI(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=JN(n,t),n!==null){n.flags&=32767,dn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xn=6,dn=null;return}}else if(n=QN(n,t,Wr),n!==null){dn=n;return}if(t=t.sibling,t!==null){dn=t;return}dn=t=e}while(t!==null);xn===0&&(xn=5)}function Ra(e,t,n){var r=kt,i=wi.transition;try{wi.transition=null,kt=1,aB(e,t,n,r)}finally{wi.transition=i,kt=r}return null}function aB(e,t,n,r){do Pc();while(ea!==null);if(ct&6)throw Error(me(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(me(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(GO(e,s),e===Mn&&(dn=Mn=null,Hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lh||(Lh=!0,EI(Hp,function(){return Pc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=wi.transition,wi.transition=null;var o=kt;kt=1;var c=ct;ct|=4,uw.current=null,tB(e,n),pI(n,e),kN($y),jp=!!Ty,$y=Ty=null,e.current=n,nB(n),MO(),ct=c,kt=o,wi.transition=s}else e.current=n;if(Lh&&(Lh=!1,ea=e,ag=i),s=e.pendingLanes,s===0&&(oa=null),OO(n.stateNode),Rr(e,sn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(og)throw og=!1,e=qy,qy=null,e;return ag&1&&e.tag!==0&&Pc(),s=e.pendingLanes,s&1?e===Xy?Md++:(Md=0,Xy=e):Md=0,Sa(),null}function Pc(){if(ea!==null){var e=ek(ag),t=wi.transition,n=kt;try{if(wi.transition=null,kt=16>e?16:e,ea===null)var r=!1;else{if(e=ea,ea=null,ag=0,ct&6)throw Error(me(331));var i=ct;for(ct|=4,_e=e.current;_e!==null;){var s=_e,o=s.child;if(_e.flags&16){var c=s.deletions;if(c!==null){for(var a=0;a<c.length;a++){var d=c[a];for(_e=d;_e!==null;){var l=_e;switch(l.tag){case 0:case 11:case 15:$d(8,l,s)}var u=l.child;if(u!==null)u.return=l,_e=u;else for(;_e!==null;){l=_e;var h=l.sibling,p=l.return;if(dI(l),l===d){_e=null;break}if(h!==null){h.return=p,_e=h;break}_e=p}}}var f=s.alternate;if(f!==null){var g=f.child;if(g!==null){f.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(g!==null)}}_e=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,_e=o;else e:for(;_e!==null;){if(s=_e,s.flags&2048)switch(s.tag){case 0:case 11:case 15:$d(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,_e=v;break e}_e=s.return}}var y=e.current;for(_e=y;_e!==null;){o=_e;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,_e=x;else e:for(o=y;_e!==null;){if(c=_e,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Cm(9,c)}}catch(b){nn(c,c.return,b)}if(c===o){_e=null;break e}var C=c.sibling;if(C!==null){C.return=c.return,_e=C;break e}_e=c.return}}if(ct=i,Sa(),Cs&&typeof Cs.onPostCommitFiberRoot=="function")try{Cs.onPostCommitFiberRoot(mm,e)}catch{}r=!0}return r}finally{kt=n,wi.transition=t}}return!1}function CE(e,t,n){t=au(n,t),t=eI(e,t,1),e=sa(e,t,1),t=yr(),e!==null&&(Gf(e,1,t),Rr(e,t))}function nn(e,t,n){if(e.tag===3)CE(e,e,n);else for(;t!==null;){if(t.tag===3){CE(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(oa===null||!oa.has(r))){e=au(n,e),e=tI(t,e,1),t=sa(t,e,1),e=yr(),t!==null&&(Gf(t,1,e),Rr(t,e));break}}t=t.return}}function lB(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=yr(),e.pingedLanes|=e.suspendedLanes&n,Mn===e&&(Hn&n)===n&&(xn===4||xn===3&&(Hn&130023424)===Hn&&500>sn()-fw?il(e,0):dw|=n),Rr(e,t)}function xI(e,t){t===0&&(e.mode&1?(t=xh,xh<<=1,!(xh&130023424)&&(xh=4194304)):t=1);var n=yr();e=ho(e,t),e!==null&&(Gf(e,t,n),Rr(e,n))}function cB(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xI(e,n)}function uB(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(me(314))}r!==null&&r.delete(t),xI(e,n)}var SI;SI=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Lr.current)Ir=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ir=!1,XN(e,t,n);Ir=!!(e.flags&131072)}else Ir=!1,jt&&t.flags&1048576&&_k(t,Qp,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;yp(e,t),e=t.pendingProps;var i=ru(t,lr.current);Rc(t,n),i=sw(null,t,r,e,i,n);var s=ow();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mr(r)?(s=!0,qp(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ew(t),i.updater=Em,t.stateNode=i,i._reactInternals=t,Fy(t,r,e,n),t=zy(null,t,r,!0,s,n)):(t.tag=0,jt&&s&&K1(t),pr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(yp(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=fB(r),e=Ri(r,e),i){case 0:t=Gy(null,t,r,e,n);break e;case 1:t=pE(null,t,r,e,n);break e;case 11:t=fE(null,t,r,e,n);break e;case 14:t=hE(null,t,r,Ri(r.type,e),n);break e}throw Error(me(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ri(r,i),Gy(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ri(r,i),pE(e,t,r,i,n);case 3:e:{if(sI(t),e===null)throw Error(me(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Mk(e,t),tg(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=au(Error(me(423)),t),t=gE(e,t,r,n,i);break e}else if(r!==i){i=au(Error(me(424)),t),t=gE(e,t,r,n,i);break e}else for(Kr=ia(t.stateNode.containerInfo.firstChild),Xr=t,jt=!0,Xi=null,n=$k(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(iu(),r===i){t=po(e,t,n);break e}pr(e,t,r,n)}t=t.child}return t;case 5:return Rk(t),e===null&&Ny(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Ly(r,i)?o=null:s!==null&&Ly(r,s)&&(t.flags|=32),iI(e,t),pr(e,t,o,n),t.child;case 6:return e===null&&Ny(t),null;case 13:return oI(e,t,n);case 4:return tw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=su(t,null,r,n):pr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ri(r,i),fE(e,t,r,i,n);case 7:return pr(e,t,t.pendingProps,n),t.child;case 8:return pr(e,t,t.pendingProps.children,n),t.child;case 12:return pr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ot(Jp,r._currentValue),r._currentValue=o,s!==null)if(is(s.value,o)){if(s.children===i.children&&!Lr.current){t=po(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var c=s.dependencies;if(c!==null){o=s.child;for(var a=c.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=oo(-1,n&-n),a.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var l=d.pending;l===null?a.next=a:(a.next=l.next,l.next=a),d.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),By(s.return,n,t),c.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(me(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),By(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}pr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Rc(t,n),i=Ci(i),r=r(i),t.flags|=1,pr(e,t,r,n),t.child;case 14:return r=t.type,i=Ri(r,t.pendingProps),i=Ri(r.type,i),hE(e,t,r,i,n);case 15:return nI(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ri(r,i),yp(e,t),t.tag=1,Mr(r)?(e=!0,qp(t)):e=!1,Rc(t,n),Jk(t,r,i),Fy(t,r,i,n),zy(null,t,r,!0,e,n);case 19:return aI(e,t,n);case 22:return rI(e,t,n)}throw Error(me(156,t.tag))};function EI(e,t){return q_(e,t)}function dB(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(e,t,n,r){return new dB(e,t,n,r)}function mw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fB(e){if(typeof e=="function")return mw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===O1)return 11;if(e===N1)return 14}return 2}function la(e,t){var n=e.alternate;return n===null?(n=bi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xp(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")mw(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ic:return sl(n.children,i,s,t);case P1:o=8,i|=8;break;case cy:return e=bi(12,n,t,i|2),e.elementType=cy,e.lanes=s,e;case uy:return e=bi(13,n,t,i),e.elementType=uy,e.lanes=s,e;case dy:return e=bi(19,n,t,i),e.elementType=dy,e.lanes=s,e;case R_:return _m(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L_:o=10;break e;case M_:o=9;break e;case O1:o=11;break e;case N1:o=14;break e;case Fo:o=16,r=null;break e}throw Error(me(130,e==null?e:typeof e,""))}return t=bi(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function sl(e,t,n,r){return e=bi(7,e,r,t),e.lanes=n,e}function _m(e,t,n,r){return e=bi(22,e,r,t),e.elementType=R_,e.lanes=n,e.stateNode={isHidden:!1},e}function Q0(e,t,n){return e=bi(6,e,null,t),e.lanes=n,e}function J0(e,t,n){return t=bi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hB(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=R0(0),this.expirationTimes=R0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vw(e,t,n,r,i,s,o,c,a){return e=new hB(e,t,n,c,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=bi(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ew(s),e}function pB(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function CI(e){if(!e)return pa;e=e._reactInternals;e:{if(_l(e)!==e||e.tag!==1)throw Error(me(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(me(171))}if(e.tag===1){var n=e.type;if(Mr(n))return Ck(e,n,t)}return t}function AI(e,t,n,r,i,s,o,c,a){return e=vw(n,r,!0,e,i,s,o,c,a),e.context=CI(null),n=e.current,r=yr(),i=aa(n),s=oo(r,i),s.callback=t??null,sa(n,s,i),e.current.lanes=i,Gf(e,i,r),Rr(e,r),e}function km(e,t,n,r){var i=t.current,s=yr(),o=aa(i);return n=CI(n),t.context===null?t.context=n:t.pendingContext=n,t=oo(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=sa(i,t,o),e!==null&&(ts(e,i,o,s),gp(e,i,o)),o}function cg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function AE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yw(e,t){AE(e,t),(e=e.alternate)&&AE(e,t)}function gB(){return null}var _I=typeof reportError=="function"?reportError:function(e){console.error(e)};function bw(e){this._internalRoot=e}Im.prototype.render=bw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(me(409));km(e,t,null,null)};Im.prototype.unmount=bw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ml(function(){km(null,e,null,null)}),t[fo]=null}};function Im(e){this._internalRoot=e}Im.prototype.unstable_scheduleHydration=function(e){if(e){var t=rk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vo.length&&t!==0&&t<Vo[n].priority;n++);Vo.splice(n,0,e),n===0&&sk(e)}};function ww(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _E(){}function mB(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=cg(o);s.call(d)}}var o=AI(t,r,e,0,null,!1,!1,"",_E);return e._reactRootContainer=o,e[fo]=o.current,ef(e.nodeType===8?e.parentNode:e),ml(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var d=cg(a);c.call(d)}}var a=vw(e,0,!1,null,null,!1,!1,"",_E);return e._reactRootContainer=a,e[fo]=a.current,ef(e.nodeType===8?e.parentNode:e),ml(function(){km(t,a,n,r)}),a}function $m(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var c=i;i=function(){var a=cg(o);c.call(a)}}km(t,o,e,i)}else o=mB(n,t,e,i,r);return cg(o)}tk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=md(t.pendingLanes);n!==0&&(F1(t,n|1),Rr(t,sn()),!(ct&6)&&(lu=sn()+500,Sa()))}break;case 13:ml(function(){var r=ho(e,1);if(r!==null){var i=yr();ts(r,e,1,i)}}),yw(e,1)}};U1=function(e){if(e.tag===13){var t=ho(e,134217728);if(t!==null){var n=yr();ts(t,e,134217728,n)}yw(e,134217728)}};nk=function(e){if(e.tag===13){var t=aa(e),n=ho(e,t);if(n!==null){var r=yr();ts(n,e,t,r)}yw(e,t)}};rk=function(){return kt};ik=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}};xy=function(e,t,n){switch(t){case"input":if(py(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wm(r);if(!i)throw Error(me(90));O_(r),py(r,i)}}}break;case"textarea":B_(e,n);break;case"select":t=n.value,t!=null&&Tc(e,!!n.multiple,t,!1)}};W_=hw;j_=ml;var vB={usingClientEntryPoint:!1,Events:[Hf,lc,wm,z_,H_,hw]},Yu={findFiberByHostInstance:za,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yB={bundleType:Yu.bundleType,version:Yu.version,rendererPackageName:Yu.rendererPackageName,rendererConfig:Yu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Y_(e),e===null?null:e.stateNode},findFiberByHostInstance:Yu.findFiberByHostInstance||gB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mh.isDisabled&&Mh.supportsFiber)try{mm=Mh.inject(yB),Cs=Mh}catch{}}ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vB;ni.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ww(t))throw Error(me(200));return pB(e,t,null,n)};ni.createRoot=function(e,t){if(!ww(e))throw Error(me(299));var n=!1,r="",i=_I;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=vw(e,1,!1,null,null,n,!1,r,i),e[fo]=t.current,ef(e.nodeType===8?e.parentNode:e),new bw(t)};ni.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(me(188)):(e=Object.keys(e).join(","),Error(me(268,e)));return e=Y_(t),e=e===null?null:e.stateNode,e};ni.flushSync=function(e){return ml(e)};ni.hydrate=function(e,t,n){if(!Tm(t))throw Error(me(200));return $m(null,e,t,!0,n)};ni.hydrateRoot=function(e,t,n){if(!ww(e))throw Error(me(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=_I;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=AI(t,null,e,1,n??null,i,!1,s,o),e[fo]=t.current,ef(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Im(t)};ni.render=function(e,t,n){if(!Tm(t))throw Error(me(200));return $m(null,e,t,!1,n)};ni.unmountComponentAtNode=function(e){if(!Tm(e))throw Error(me(40));return e._reactRootContainer?(ml(function(){$m(null,null,e,!1,function(){e._reactRootContainer=null,e[fo]=null})}),!0):!1};ni.unstable_batchedUpdates=hw;ni.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Tm(n))throw Error(me(200));if(e==null||e._reactInternals===void 0)throw Error(me(38));return $m(e,t,n,!1,r)};ni.version="18.3.1-next-f1338f8080-20240426";function kI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kI)}catch(e){console.error(e)}}kI(),k_.exports=ni;var xw=k_.exports;const Rh=Rg(xw),kE={disabled:!1},ug=Vr.createContext(null);var bB=function(t){return t.scrollTop},yd="unmounted",Pa="exited",Oa="entering",Zl="entered",eb="exiting",os=function(e){__(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,c=o&&!o.isMounting?r.enter:r.appear,a;return s.appearStatus=null,r.in?c?(a=Pa,s.appearStatus=Oa):a=Zl:r.unmountOnExit||r.mountOnEnter?a=yd:a=Pa,s.state={status:a},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===yd?{status:Pa}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Oa&&o!==Zl&&(s=Oa):(o===Oa||o===Zl)&&(s=eb)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,c;return s=o=c=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,c=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:c}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Oa){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Rh.findDOMNode(this);o&&bB(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Pa&&this.setState({status:yd})},n.performEnter=function(i){var s=this,o=this.props.enter,c=this.context?this.context.isMounting:i,a=this.props.nodeRef?[c]:[Rh.findDOMNode(this),c],d=a[0],l=a[1],u=this.getTimeouts(),h=c?u.appear:u.enter;if(!i&&!o||kE.disabled){this.safeSetState({status:Zl},function(){s.props.onEntered(d)});return}this.props.onEnter(d,l),this.safeSetState({status:Oa},function(){s.props.onEntering(d,l),s.onTransitionEnd(h,function(){s.safeSetState({status:Zl},function(){s.props.onEntered(d,l)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),c=this.props.nodeRef?void 0:Rh.findDOMNode(this);if(!s||kE.disabled){this.safeSetState({status:Pa},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:eb},function(){i.props.onExiting(c),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Pa},function(){i.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(c){o&&(o=!1,s.nextCallback=null,i(c))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Rh.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!o||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],d=a[0],l=a[1];this.props.addEndListener(d,l)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===yd)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var c=Te(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Vr.createElement(ug.Provider,{value:null},typeof o=="function"?o(i,c):Vr.cloneElement(Vr.Children.only(o),c))},t}(Vr.Component);os.contextType=ug;os.propTypes={};function Gl(){}os.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Gl,onEntering:Gl,onEntered:Gl,onExit:Gl,onExiting:Gl,onExited:Gl};os.UNMOUNTED=yd;os.EXITED=Pa;os.ENTERING=Oa;os.ENTERED=Zl;os.EXITING=eb;function wB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sw(e,t){var n=function(s){return t&&U.isValidElement(s)?t(s):s},r=Object.create(null);return e&&U.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function xB(e,t){e=e||{},t=t||{};function n(l){return l in t?t[l]:e[l]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,c={};for(var a in t){if(r[a])for(o=0;o<r[a].length;o++){var d=r[a][o];c[r[a][o]]=n(d)}c[a]=n(a)}for(o=0;o<i.length;o++)c[i[o]]=n(i[o]);return c}function ja(e,t,n){return n[t]!=null?n[t]:e.props[t]}function SB(e,t){return Sw(e.children,function(n){return U.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:ja(n,"appear",e),enter:ja(n,"enter",e),exit:ja(n,"exit",e)})})}function EB(e,t,n){var r=Sw(e.children),i=xB(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(U.isValidElement(o)){var c=s in t,a=s in r,d=t[s],l=U.isValidElement(d)&&!d.props.in;a&&(!c||l)?i[s]=U.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:ja(o,"exit",e),enter:ja(o,"enter",e)}):!a&&c&&!l?i[s]=U.cloneElement(o,{in:!1}):a&&c&&U.isValidElement(d)&&(i[s]=U.cloneElement(o,{onExited:n.bind(null,o),in:d.props.in,exit:ja(o,"exit",e),enter:ja(o,"enter",e)}))}}),i}var CB=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},AB={component:"div",childFactory:function(t){return t}},Ew=function(e){__(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(wB(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,c=s.handleExited,a=s.firstRender;return{children:a?SB(i,c):EB(i,o,c),firstRender:!1}},n.handleExited=function(i,s){var o=Sw(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(c){var a=H({},c.children);return delete a[i.key],{children:a}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,c=Te(i,["component","childFactory"]),a=this.state.contextValue,d=CB(this.state.children).map(o);return delete c.appear,delete c.enter,delete c.exit,s===null?Vr.createElement(ug.Provider,{value:a},d):Vr.createElement(ug.Provider,{value:a},Vr.createElement(s,c,d))},t}(Vr.Component);Ew.propTypes={};Ew.defaultProps=AB;const Cw=e=>e.scrollTop;function cu(e,t){var n,r;const{timeout:i,easing:s,style:o={}}=e;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[t.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[t.mode]:s,delay:o.transitionDelay}}function _B(e){return tt("MuiPaper",e)}et("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const kB=["className","component","elevation","square","variant"],IB=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,s={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return rt(s,_B,i)},TB=Ee("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return H({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&H({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${vt("#fff",xS(t.elevation))}, ${vt("#fff",xS(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),Kt=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:c=!1,variant:a="elevation"}=r,d=Te(r,kB),l=H({},r,{component:s,elevation:o,square:c,variant:a}),u=IB(l);return B.jsx(TB,H({as:s,ownerState:l,className:ke(u.root,i),ref:n},d))});function $B(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:c,onExited:a,timeout:d}=e,[l,u]=U.useState(!1),h=ke(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},f=ke(n.child,l&&n.childLeaving,r&&n.childPulsate);return!c&&!l&&u(!0),U.useEffect(()=>{if(!c&&a!=null){const g=setTimeout(a,d);return()=>{clearTimeout(g)}}},[a,c,d]),B.jsx("span",{className:h,style:p,children:B.jsx("span",{className:f})})}const pi=et("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),LB=["center","classes","className"];let Lm=e=>e,IE,TE,$E,LE;const tb=550,MB=80,RB=xu(IE||(IE=Lm`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),PB=xu(TE||(TE=Lm`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),OB=xu($E||($E=Lm`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),NB=Ee("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),BB=Ee($B,{name:"MuiTouchRipple",slot:"Ripple"})(LE||(LE=Lm`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),pi.rippleVisible,RB,tb,({theme:e})=>e.transitions.easing.easeInOut,pi.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,pi.child,pi.childLeaving,PB,tb,({theme:e})=>e.transitions.easing.easeInOut,pi.childPulsate,OB,({theme:e})=>e.transitions.easing.easeInOut),DB=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,c=Te(r,LB),[a,d]=U.useState([]),l=U.useRef(0),u=U.useRef(null);U.useEffect(()=>{u.current&&(u.current(),u.current=null)},[a]);const h=U.useRef(!1),p=l_(),f=U.useRef(null),g=U.useRef(null),m=U.useCallback(C=>{const{pulsate:b,rippleX:S,rippleY:I,rippleSize:L,cb:T}=C;d($=>[...$,B.jsx(BB,{classes:{ripple:ke(s.ripple,pi.ripple),rippleVisible:ke(s.rippleVisible,pi.rippleVisible),ripplePulsate:ke(s.ripplePulsate,pi.ripplePulsate),child:ke(s.child,pi.child),childLeaving:ke(s.childLeaving,pi.childLeaving),childPulsate:ke(s.childPulsate,pi.childPulsate)},timeout:tb,pulsate:b,rippleX:S,rippleY:I,rippleSize:L},l.current)]),l.current+=1,u.current=T},[s]),v=U.useCallback((C={},b={},S=()=>{})=>{const{pulsate:I=!1,center:L=i||b.pulsate,fakeElement:T=!1}=b;if((C==null?void 0:C.type)==="mousedown"&&h.current){h.current=!1;return}(C==null?void 0:C.type)==="touchstart"&&(h.current=!0);const $=T?null:g.current,P=$?$.getBoundingClientRect():{width:0,height:0,left:0,top:0};let k,A,w;if(L||C===void 0||C.clientX===0&&C.clientY===0||!C.clientX&&!C.touches)k=Math.round(P.width/2),A=Math.round(P.height/2);else{const{clientX:E,clientY:_}=C.touches&&C.touches.length>0?C.touches[0]:C;k=Math.round(E-P.left),A=Math.round(_-P.top)}if(L)w=Math.sqrt((2*P.width**2+P.height**2)/3),w%2===0&&(w+=1);else{const E=Math.max(Math.abs(($?$.clientWidth:0)-k),k)*2+2,_=Math.max(Math.abs(($?$.clientHeight:0)-A),A)*2+2;w=Math.sqrt(E**2+_**2)}C!=null&&C.touches?f.current===null&&(f.current=()=>{m({pulsate:I,rippleX:k,rippleY:A,rippleSize:w,cb:S})},p.start(MB,()=>{f.current&&(f.current(),f.current=null)})):m({pulsate:I,rippleX:k,rippleY:A,rippleSize:w,cb:S})},[i,m,p]),y=U.useCallback(()=>{v({},{pulsate:!0})},[v]),x=U.useCallback((C,b)=>{if(p.clear(),(C==null?void 0:C.type)==="touchend"&&f.current){f.current(),f.current=null,p.start(0,()=>{x(C,b)});return}f.current=null,d(S=>S.length>0?S.slice(1):S),u.current=b},[p]);return U.useImperativeHandle(n,()=>({pulsate:y,start:v,stop:x}),[y,v,x]),B.jsx(NB,H({className:ke(pi.root,s.root,o),ref:g},c,{children:B.jsx(Ew,{component:null,exit:!0,children:a})}))});function FB(e){return tt("MuiButtonBase",e)}const UB=et("MuiButtonBase",["root","disabled","focusVisible"]),GB=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],zB=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=rt({root:["root",t&&"disabled",n&&"focusVisible"]},FB,i);return n&&r&&(o.root+=` ${r}`),o},HB=Ee("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${UB.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),vl=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:c,component:a="button",disabled:d=!1,disableRipple:l=!1,disableTouchRipple:u=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:f,onClick:g,onContextMenu:m,onDragLeave:v,onFocus:y,onFocusVisible:x,onKeyDown:C,onKeyUp:b,onMouseDown:S,onMouseLeave:I,onMouseUp:L,onTouchEnd:T,onTouchMove:$,onTouchStart:P,tabIndex:k=0,TouchRippleProps:A,touchRippleRef:w,type:E}=r,_=Te(r,GB),R=U.useRef(null),M=U.useRef(null),O=fn(M,w),{isFocusVisibleRef:N,onFocus:F,onBlur:G,ref:z}=c_(),[j,V]=U.useState(!1);d&&j&&V(!1),U.useImperativeHandle(i,()=>({focusVisible:()=>{V(!0),R.current.focus()}}),[]);const[Z,X]=U.useState(!1);U.useEffect(()=>{X(!0)},[]);const Y=Z&&!l&&!d;U.useEffect(()=>{j&&h&&!l&&Z&&M.current.pulsate()},[l,h,j,Z]);function Q(Fe,ln,wo=u){return Qo(xo=>(ln&&ln(xo),!wo&&M.current&&M.current[Fe](xo),!0))}const te=Q("start",S),re=Q("stop",m),pe=Q("stop",v),le=Q("stop",L),ge=Q("stop",Fe=>{j&&Fe.preventDefault(),I&&I(Fe)}),ne=Q("start",P),ve=Q("stop",T),xe=Q("stop",$),Me=Q("stop",Fe=>{G(Fe),N.current===!1&&V(!1),f&&f(Fe)},!1),Ve=Qo(Fe=>{R.current||(R.current=Fe.currentTarget),F(Fe),N.current===!0&&(V(!0),x&&x(Fe)),y&&y(Fe)}),dt=()=>{const Fe=R.current;return a&&a!=="button"&&!(Fe.tagName==="A"&&Fe.href)},De=U.useRef(!1),rn=Qo(Fe=>{h&&!De.current&&j&&M.current&&Fe.key===" "&&(De.current=!0,M.current.stop(Fe,()=>{M.current.start(Fe)})),Fe.target===Fe.currentTarget&&dt()&&Fe.key===" "&&Fe.preventDefault(),C&&C(Fe),Fe.target===Fe.currentTarget&&dt()&&Fe.key==="Enter"&&!d&&(Fe.preventDefault(),g&&g(Fe))}),pn=Qo(Fe=>{h&&Fe.key===" "&&M.current&&j&&!Fe.defaultPrevented&&(De.current=!1,M.current.stop(Fe,()=>{M.current.pulsate(Fe)})),b&&b(Fe),g&&Fe.target===Fe.currentTarget&&dt()&&Fe.key===" "&&!Fe.defaultPrevented&&g(Fe)});let Tt=a;Tt==="button"&&(_.href||_.to)&&(Tt=p);const si={};Tt==="button"?(si.type=E===void 0?"button":E,si.disabled=d):(!_.href&&!_.to&&(si.role="button"),d&&(si["aria-disabled"]=d));const ls=fn(n,z,R),Sr=H({},r,{centerRipple:s,component:a,disabled:d,disableRipple:l,disableTouchRipple:u,focusRipple:h,tabIndex:k,focusVisible:j}),yt=zB(Sr);return B.jsxs(HB,H({as:Tt,className:ke(yt.root,c),ownerState:Sr,onBlur:Me,onClick:g,onContextMenu:re,onFocus:Ve,onKeyDown:rn,onKeyUp:pn,onMouseDown:te,onMouseLeave:ge,onMouseUp:le,onDragLeave:pe,onTouchEnd:ve,onTouchMove:xe,onTouchStart:ne,ref:ls,tabIndex:d?-1:k,type:E},si,_,{children:[o,Y?B.jsx(DB,H({ref:O,center:s},A)):null]}))});function WB(e){return tt("MuiIconButton",e)}const jB=et("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),VB=["edge","children","className","color","disabled","disableFocusRipple","size"],KB=e=>{const{classes:t,disabled:n,color:r,edge:i,size:s}=e,o={root:["root",n&&"disabled",r!=="default"&&`color${ye(r)}`,i&&`edge${ye(i)}`,`size${ye(s)}`]};return rt(o,WB,t)},YB=Ee(vl,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${ye(n.color)}`],n.edge&&t[`edge${ye(n.edge)}`],t[`size${ye(n.size)}`]]}})(({theme:e,ownerState:t})=>H({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:vt(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return H({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&H({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":H({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:vt(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${jB.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),uf=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:c="default",disabled:a=!1,disableFocusRipple:d=!1,size:l="medium"}=r,u=Te(r,VB),h=H({},r,{edge:i,color:c,disabled:a,disableFocusRipple:d,size:l}),p=KB(h);return B.jsx(YB,H({className:ke(p.root,o),centerRipple:!0,focusRipple:!d,disabled:a,ref:n},u,{ownerState:h,children:s}))});function ZB(e){return tt("MuiTypography",e)}et("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const qB=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],XB=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=e,c={root:["root",s,e.align!=="inherit"&&`align${ye(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return rt(c,ZB,o)},QB=Ee("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${ye(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>H({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),ME={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},JB={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},e4=e=>JB[e]||e,ce=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiTypography"}),i=e4(r.color),s=S1(H({},r,{color:i})),{align:o="inherit",className:c,component:a,gutterBottom:d=!1,noWrap:l=!1,paragraph:u=!1,variant:h="body1",variantMapping:p=ME}=s,f=Te(s,qB),g=H({},s,{align:o,color:i,className:c,component:a,gutterBottom:d,noWrap:l,paragraph:u,variant:h,variantMapping:p}),m=a||(u?"p":p[h]||ME[h])||"span",v=XB(g);return B.jsx(QB,H({as:m,ref:n,ownerState:g,className:ke(v.root,c)},f))});function t4(e){return tt("MuiAppBar",e)}et("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const n4=["className","color","enableColorOnDark","position"],r4=e=>{const{color:t,position:n,classes:r}=e,i={root:["root",`color${ye(t)}`,`position${ye(n)}`]};return rt(i,t4,r)},Ph=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,i4=Ee(Kt,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${ye(n.position)}`],t[`color${ye(n.color)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[900];return H({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},t.position==="fixed"&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},t.position==="absolute"&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="sticky"&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="static"&&{position:"static"},t.position==="relative"&&{position:"relative"},!e.vars&&H({},t.color==="default"&&{backgroundColor:n,color:e.palette.getContrastText(n)},t.color&&t.color!=="default"&&t.color!=="inherit"&&t.color!=="transparent"&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},t.color==="inherit"&&{color:"inherit"},e.palette.mode==="dark"&&!t.enableColorOnDark&&{backgroundColor:null,color:null},t.color==="transparent"&&H({backgroundColor:"transparent",color:"inherit"},e.palette.mode==="dark"&&{backgroundImage:"none"})),e.vars&&H({},t.color==="default"&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:Ph(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:Ph(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:Ph(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:Ph(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},!["inherit","transparent"].includes(t.color)&&{backgroundColor:"var(--AppBar-background)"},{color:t.color==="inherit"?"inherit":"var(--AppBar-color)"},t.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),s4=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:o=!1,position:c="fixed"}=r,a=Te(r,n4),d=H({},r,{color:s,position:c,enableColorOnDark:o}),l=r4(d);return B.jsx(i4,H({square:!0,component:"header",ownerState:d,elevation:4,className:ke(l.root,i,c==="fixed"&&"mui-fixed"),ref:n},a))});function o4(e){return typeof e=="function"?e():e}const a4=U.forwardRef(function(t,n){const{children:r,container:i,disablePortal:s=!1}=t,[o,c]=U.useState(null),a=fn(U.isValidElement(r)?Su(r):null,n);if(Si(()=>{s||c(o4(i)||document.body)},[i,s]),Si(()=>{if(o&&!s)return Dp(n,o),()=>{Dp(n,null)}},[n,o,s]),s){if(U.isValidElement(r)){const d={ref:a};return U.cloneElement(r,d)}return B.jsx(U.Fragment,{children:r})}return B.jsx(U.Fragment,{children:o&&xw.createPortal(r,o)})}),l4=ti(B.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function c4(e){return tt("MuiChip",e)}const ft=et("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),u4=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],d4=e=>{const{classes:t,disabled:n,size:r,color:i,iconColor:s,onDelete:o,clickable:c,variant:a}=e,d={root:["root",a,n&&"disabled",`size${ye(r)}`,`color${ye(i)}`,c&&"clickable",c&&`clickableColor${ye(i)}`,o&&"deletable",o&&`deletableColor${ye(i)}`,`${a}${ye(i)}`],label:["label",`label${ye(r)}`],avatar:["avatar",`avatar${ye(r)}`,`avatarColor${ye(i)}`],icon:["icon",`icon${ye(r)}`,`iconColor${ye(s)}`],deleteIcon:["deleteIcon",`deleteIcon${ye(r)}`,`deleteIconColor${ye(i)}`,`deleteIcon${ye(a)}Color${ye(i)}`]};return rt(d,c4,t)},f4=Ee("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:i,clickable:s,onDelete:o,size:c,variant:a}=n;return[{[`& .${ft.avatar}`]:t.avatar},{[`& .${ft.avatar}`]:t[`avatar${ye(c)}`]},{[`& .${ft.avatar}`]:t[`avatarColor${ye(r)}`]},{[`& .${ft.icon}`]:t.icon},{[`& .${ft.icon}`]:t[`icon${ye(c)}`]},{[`& .${ft.icon}`]:t[`iconColor${ye(i)}`]},{[`& .${ft.deleteIcon}`]:t.deleteIcon},{[`& .${ft.deleteIcon}`]:t[`deleteIcon${ye(c)}`]},{[`& .${ft.deleteIcon}`]:t[`deleteIconColor${ye(r)}`]},{[`& .${ft.deleteIcon}`]:t[`deleteIcon${ye(a)}Color${ye(r)}`]},t.root,t[`size${ye(c)}`],t[`color${ye(r)}`],s&&t.clickable,s&&r!=="default"&&t[`clickableColor${ye(r)})`],o&&t.deletable,o&&r!=="default"&&t[`deletableColor${ye(r)}`],t[a],t[`${a}${ye(r)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return H({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${ft.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${ft.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:n,fontSize:e.typography.pxToRem(12)},[`& .${ft.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${ft.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${ft.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${ft.icon}`]:H({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&H({color:e.vars?e.vars.palette.Chip.defaultIconColor:n},t.color!=="default"&&{color:"inherit"})),[`& .${ft.deleteIcon}`]:H({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:vt(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:vt(e.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:vt(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${ft.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:vt(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${ft.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>H({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:vt(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${ft.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:vt(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${ft.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>H({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${ft.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${ft.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${ft.avatar}`]:{marginLeft:4},[`& .${ft.avatarSmall}`]:{marginLeft:2},[`& .${ft.icon}`]:{marginLeft:4},[`& .${ft.iconSmall}`]:{marginLeft:2},[`& .${ft.deleteIcon}`]:{marginRight:5},[`& .${ft.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:vt(e.palette[t.color].main,.7)}`,[`&.${ft.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:vt(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${ft.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:vt(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${ft.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:vt(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),h4=Ee("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${ye(r)}`]]}})(({ownerState:e})=>H({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.variant==="outlined"&&{paddingLeft:11,paddingRight:11},e.size==="small"&&{paddingLeft:8,paddingRight:8},e.size==="small"&&e.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function RE(e){return e.key==="Backspace"||e.key==="Delete"}const ev=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiChip"}),{avatar:i,className:s,clickable:o,color:c="default",component:a,deleteIcon:d,disabled:l=!1,icon:u,label:h,onClick:p,onDelete:f,onKeyDown:g,onKeyUp:m,size:v="medium",variant:y="filled",tabIndex:x,skipFocusWhenDisabled:C=!1}=r,b=Te(r,u4),S=U.useRef(null),I=fn(S,n),L=O=>{O.stopPropagation(),f&&f(O)},T=O=>{O.currentTarget===O.target&&RE(O)&&O.preventDefault(),g&&g(O)},$=O=>{O.currentTarget===O.target&&(f&&RE(O)?f(O):O.key==="Escape"&&S.current&&S.current.blur()),m&&m(O)},P=o!==!1&&p?!0:o,k=P||f?vl:a||"div",A=H({},r,{component:k,disabled:l,size:v,color:c,iconColor:U.isValidElement(u)&&u.props.color||c,onDelete:!!f,clickable:P,variant:y}),w=d4(A),E=k===vl?H({component:a||"div",focusVisibleClassName:w.focusVisible},f&&{disableRipple:!0}):{};let _=null;f&&(_=d&&U.isValidElement(d)?U.cloneElement(d,{className:ke(d.props.className,w.deleteIcon),onClick:L}):B.jsx(l4,{className:ke(w.deleteIcon),onClick:L}));let R=null;i&&U.isValidElement(i)&&(R=U.cloneElement(i,{className:ke(w.avatar,i.props.className)}));let M=null;return u&&U.isValidElement(u)&&(M=U.cloneElement(u,{className:ke(w.icon,u.props.className)})),B.jsxs(f4,H({as:k,className:ke(w.root,s),disabled:P&&l?!0:void 0,onClick:p,onKeyDown:T,onKeyUp:$,ref:I,tabIndex:C&&l?-1:x,ownerState:A},E,b,{children:[R||M,B.jsx(h4,{className:ke(w.label),ownerState:A,children:h}),_]}))}),p4=["onChange","maxRows","minRows","style","value"];function Oh(e){return parseInt(e,10)||0}const g4={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function m4(e){for(const t in e)return!1;return!0}function PE(e){return m4(e)||e.outerHeightStyle===0&&!e.overflowing}const v4=U.forwardRef(function(t,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:c}=t,a=Te(t,p4),{current:d}=U.useRef(c!=null),l=U.useRef(null),u=fn(n,l),h=U.useRef(null),p=U.useRef(null),f=U.useCallback(()=>{const x=l.current,C=p.current;if(!x||!C)return;const S=Ms(x).getComputedStyle(x);if(S.width==="0px")return{outerHeightStyle:0,overflowing:!1};C.style.width=S.width,C.value=x.value||t.placeholder||"x",C.value.slice(-1)===`
`&&(C.value+=" ");const I=S.boxSizing,L=Oh(S.paddingBottom)+Oh(S.paddingTop),T=Oh(S.borderBottomWidth)+Oh(S.borderTopWidth),$=C.scrollHeight;C.value="x";const P=C.scrollHeight;let k=$;s&&(k=Math.max(Number(s)*P,k)),i&&(k=Math.min(Number(i)*P,k)),k=Math.max(k,P);const A=k+(I==="border-box"?L+T:0),w=Math.abs(k-$)<=1;return{outerHeightStyle:A,overflowing:w}},[i,s,t.placeholder]),g=Qo(()=>{const x=l.current,C=f();if(!x||!C||PE(C))return!1;const b=C.outerHeightStyle;return h.current!=null&&h.current!==b}),m=U.useCallback(()=>{const x=l.current,C=f();if(!x||!C||PE(C))return;const b=C.outerHeightStyle;h.current!==b&&(h.current=b,x.style.height=`${b}px`),x.style.overflow=C.overflowing?"hidden":""},[f]),v=U.useRef(-1);Si(()=>{const x=fm(m),C=l==null?void 0:l.current;if(!C)return;const b=Ms(C);b.addEventListener("resize",x);let S;return typeof ResizeObserver<"u"&&(S=new ResizeObserver(()=>{g()&&(S.unobserve(C),cancelAnimationFrame(v.current),m(),v.current=requestAnimationFrame(()=>{S.observe(C)}))}),S.observe(C)),()=>{x.clear(),cancelAnimationFrame(v.current),b.removeEventListener("resize",x),S&&S.disconnect()}},[f,m,g]),Si(()=>{m()});const y=x=>{d||m(),r&&r(x)};return B.jsxs(U.Fragment,{children:[B.jsx("textarea",H({value:c,onChange:y,ref:u,rows:s,style:o},a)),B.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:p,tabIndex:-1,style:H({},g4.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function Iu({props:e,states:t,muiFormControl:n}){return t.reduce((r,i)=>(r[i]=e[i],n&&typeof e[i]>"u"&&(r[i]=n[i]),r),{})}const Aw=U.createContext(void 0);function Tu(){return U.useContext(Aw)}function II(e){return B.jsx(c3,H({},e,{defaultTheme:$1,themeId:Qc}))}function OE(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function dg(e,t=!1){return e&&(OE(e.value)&&e.value!==""||t&&OE(e.defaultValue)&&e.defaultValue!=="")}function y4(e){return e.startAdornment}function b4(e){return tt("MuiInputBase",e)}const uu=et("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),w4=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Mm=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${ye(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Rm=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},x4=e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:c,fullWidth:a,hiddenLabel:d,multiline:l,readOnly:u,size:h,startAdornment:p,type:f}=e,g={root:["root",`color${ye(n)}`,r&&"disabled",i&&"error",a&&"fullWidth",o&&"focused",c&&"formControl",h&&h!=="medium"&&`size${ye(h)}`,l&&"multiline",p&&"adornedStart",s&&"adornedEnd",d&&"hiddenLabel",u&&"readOnly"],input:["input",r&&"disabled",f==="search"&&"inputTypeSearch",l&&"inputMultiline",h==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",p&&"inputAdornedStart",s&&"inputAdornedEnd",u&&"readOnly"]};return rt(g,b4,t)},Pm=Ee("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Mm})(({theme:e,ownerState:t})=>H({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${uu.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&H({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),Om=Ee("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Rm})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",r=H({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),i={opacity:"0 !important"},s=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return H({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${uu.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${uu.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),S4=B.jsx(II,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),_w=U.forwardRef(function(t,n){var r;const i=nt({props:t,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:c,className:a,components:d={},componentsProps:l={},defaultValue:u,disabled:h,disableInjectingGlobalStyles:p,endAdornment:f,fullWidth:g=!1,id:m,inputComponent:v="input",inputProps:y={},inputRef:x,maxRows:C,minRows:b,multiline:S=!1,name:I,onBlur:L,onChange:T,onClick:$,onFocus:P,onKeyDown:k,onKeyUp:A,placeholder:w,readOnly:E,renderSuffix:_,rows:R,slotProps:M={},slots:O={},startAdornment:N,type:F="text",value:G}=i,z=Te(i,w4),j=y.value!=null?y.value:G,{current:V}=U.useRef(j!=null),Z=U.useRef(),X=U.useCallback(yt=>{},[]),Y=fn(Z,x,y.ref,X),[Q,te]=U.useState(!1),re=Tu(),pe=Iu({props:i,muiFormControl:re,states:["color","disabled","error","hiddenLabel","size","required","filled"]});pe.focused=re?re.focused:Q,U.useEffect(()=>{!re&&h&&Q&&(te(!1),L&&L())},[re,h,Q,L]);const le=re&&re.onFilled,ge=re&&re.onEmpty,ne=U.useCallback(yt=>{dg(yt)?le&&le():ge&&ge()},[le,ge]);Si(()=>{V&&ne({value:j})},[j,ne,V]);const ve=yt=>{if(pe.disabled){yt.stopPropagation();return}P&&P(yt),y.onFocus&&y.onFocus(yt),re&&re.onFocus?re.onFocus(yt):te(!0)},xe=yt=>{L&&L(yt),y.onBlur&&y.onBlur(yt),re&&re.onBlur?re.onBlur(yt):te(!1)},Me=(yt,...Fe)=>{if(!V){const ln=yt.target||Z.current;if(ln==null)throw new Error(dl(1));ne({value:ln.value})}y.onChange&&y.onChange(yt,...Fe),T&&T(yt,...Fe)};U.useEffect(()=>{ne(Z.current)},[]);const Ve=yt=>{Z.current&&yt.currentTarget===yt.target&&Z.current.focus(),$&&$(yt)};let dt=v,De=y;S&&dt==="input"&&(R?De=H({type:void 0,minRows:R,maxRows:R},De):De=H({type:void 0,maxRows:C,minRows:b},De),dt=v4);const rn=yt=>{ne(yt.animationName==="mui-auto-fill-cancel"?Z.current:{value:"x"})};U.useEffect(()=>{re&&re.setAdornedStart(!!N)},[re,N]);const pn=H({},i,{color:pe.color||"primary",disabled:pe.disabled,endAdornment:f,error:pe.error,focused:pe.focused,formControl:re,fullWidth:g,hiddenLabel:pe.hiddenLabel,multiline:S,size:pe.size,startAdornment:N,type:F}),Tt=x4(pn),si=O.root||d.Root||Pm,ls=M.root||l.root||{},Sr=O.input||d.Input||Om;return De=H({},De,(r=M.input)!=null?r:l.input),B.jsxs(U.Fragment,{children:[!p&&S4,B.jsxs(si,H({},ls,!eu(si)&&{ownerState:H({},pn,ls.ownerState)},{ref:n,onClick:Ve},z,{className:ke(Tt.root,ls.className,a,E&&"MuiInputBase-readOnly"),children:[N,B.jsx(Aw.Provider,{value:null,children:B.jsx(Sr,H({ownerState:pn,"aria-invalid":pe.error,"aria-describedby":s,autoComplete:o,autoFocus:c,defaultValue:u,disabled:pe.disabled,id:m,onAnimationStart:rn,name:I,placeholder:w,readOnly:E,required:pe.required,rows:R,value:j,onKeyDown:k,onKeyUp:A,type:F},De,!eu(Sr)&&{as:dt,ownerState:H({},pn,De.ownerState)},{ref:Y,className:ke(Tt.input,De.className,E&&"MuiInputBase-readOnly"),onBlur:xe,onChange:Me,onFocus:ve}))}),f,_?_(H({},pe,{startAdornment:N})):null]}))]})});function E4(e){return tt("MuiInput",e)}const Zu=H({},uu,et("MuiInput",["root","underline","input"]));function C4(e){return tt("MuiOutlinedInput",e)}const _o=H({},uu,et("MuiOutlinedInput",["root","notchedOutline","input"]));function A4(e){return tt("MuiFilledInput",e)}const Ta=H({},uu,et("MuiFilledInput",["root","underline","input"])),_4=ti(B.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),k4=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],I4={entering:{opacity:1},entered:{opacity:1}},TI=U.forwardRef(function(t,n){const r=Cu(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:c,easing:a,in:d,onEnter:l,onEntered:u,onEntering:h,onExit:p,onExited:f,onExiting:g,style:m,timeout:v=i,TransitionComponent:y=os}=t,x=Te(t,k4),C=U.useRef(null),b=fn(C,Su(c),n),S=w=>E=>{if(w){const _=C.current;E===void 0?w(_):w(_,E)}},I=S(h),L=S((w,E)=>{Cw(w);const _=cu({style:m,timeout:v,easing:a},{mode:"enter"});w.style.webkitTransition=r.transitions.create("opacity",_),w.style.transition=r.transitions.create("opacity",_),l&&l(w,E)}),T=S(u),$=S(g),P=S(w=>{const E=cu({style:m,timeout:v,easing:a},{mode:"exit"});w.style.webkitTransition=r.transitions.create("opacity",E),w.style.transition=r.transitions.create("opacity",E),p&&p(w)}),k=S(f),A=w=>{s&&s(C.current,w)};return B.jsx(y,H({appear:o,in:d,nodeRef:C,onEnter:L,onEntered:T,onEntering:I,onExit:P,onExited:k,onExiting:$,addEndListener:A,timeout:v},x,{children:(w,E)=>U.cloneElement(c,H({style:H({opacity:0,visibility:w==="exited"&&!d?"hidden":void 0},I4[w],m,c.props.style),ref:b},E))}))});function T4(e){return tt("MuiBackdrop",e)}et("MuiBackdrop",["root","invisible"]);const $4=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],L4=e=>{const{classes:t,invisible:n}=e;return rt({root:["root",n&&"invisible"]},T4,t)},M4=Ee("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>H({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),$I=U.forwardRef(function(t,n){var r,i,s;const o=nt({props:t,name:"MuiBackdrop"}),{children:c,className:a,component:d="div",components:l={},componentsProps:u={},invisible:h=!1,open:p,slotProps:f={},slots:g={},TransitionComponent:m=TI,transitionDuration:v}=o,y=Te(o,$4),x=H({},o,{component:d,invisible:h}),C=L4(x),b=(r=f.root)!=null?r:u.root;return B.jsx(m,H({in:p,timeout:v},y,{children:B.jsx(M4,H({"aria-hidden":!0},b,{as:(i=(s=g.root)!=null?s:l.Root)!=null?i:d,className:ke(C.root,a,b==null?void 0:b.className),ownerState:H({},x,b==null?void 0:b.ownerState),classes:C,ref:n,children:c}))}))}),R4=et("MuiBox",["root"]),P4=T1(),Be=g3({themeId:Qc,defaultTheme:P4,defaultClassName:R4.root,generateClassName:E1.generate});function O4(e){return tt("MuiButton",e)}const Nh=et("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),N4=U.createContext({}),B4=U.createContext(void 0),D4=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],F4=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=e,c={root:["root",s,`${s}${ye(t)}`,`size${ye(i)}`,`${s}Size${ye(i)}`,`color${ye(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${ye(i)}`],endIcon:["icon","endIcon",`iconSize${ye(i)}`]},a=rt(c,O4,o);return H({},o,a)},LI=e=>H({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),U4=Ee(vl,{shouldForwardProp:e=>Br(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${ye(n.color)}`],t[`size${ye(n.size)}`],t[`${n.variant}Size${ye(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const i=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],s=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return H({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":H({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:vt(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:vt(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:vt(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":H({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${Nh.focusVisible}`]:H({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${Nh.disabled}`]:H({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${vt(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Nh.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Nh.disabled}`]:{boxShadow:"none"}}),G4=Ee("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${ye(n.size)}`]]}})(({ownerState:e})=>H({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},LI(e))),z4=Ee("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${ye(n.size)}`]]}})(({ownerState:e})=>H({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},LI(e))),Ln=U.forwardRef(function(t,n){const r=U.useContext(N4),i=U.useContext(B4),s=jd(r,t),o=nt({props:s,name:"MuiButton"}),{children:c,color:a="primary",component:d="button",className:l,disabled:u=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:f,focusVisibleClassName:g,fullWidth:m=!1,size:v="medium",startIcon:y,type:x,variant:C="text"}=o,b=Te(o,D4),S=H({},o,{color:a,component:d,disabled:u,disableElevation:h,disableFocusRipple:p,fullWidth:m,size:v,type:x,variant:C}),I=F4(S),L=y&&B.jsx(G4,{className:I.startIcon,ownerState:S,children:y}),T=f&&B.jsx(z4,{className:I.endIcon,ownerState:S,children:f}),$=i||"";return B.jsxs(U4,H({ownerState:S,className:ke(r.className,I.root,l,$),component:d,disabled:u,focusRipple:!p,focusVisibleClassName:ke(I.focusVisible,g),ref:n,type:x},b,{classes:I,children:[L,c,T]}))});function H4(e){return tt("MuiCircularProgress",e)}et("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const W4=["className","color","disableShrink","size","style","thickness","value","variant"];let Nm=e=>e,NE,BE,DE,FE;const ko=44,j4=xu(NE||(NE=Nm`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),V4=xu(BE||(BE=Nm`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),K4=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,s={root:["root",n,`color${ye(r)}`],svg:["svg"],circle:["circle",`circle${ye(n)}`,i&&"circleDisableShrink"]};return rt(s,H4,t)},Y4=Ee("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${ye(n.color)}`]]}})(({ownerState:e,theme:t})=>H({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&Zg(DE||(DE=Nm`
      animation: ${0} 1.4s linear infinite;
    `),j4)),Z4=Ee("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),q4=Ee("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${ye(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>H({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&Zg(FE||(FE=Nm`
      animation: ${0} 1.4s ease-in-out infinite;
    `),V4)),MI=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:c=40,style:a,thickness:d=3.6,value:l=0,variant:u="indeterminate"}=r,h=Te(r,W4),p=H({},r,{color:s,disableShrink:o,size:c,thickness:d,value:l,variant:u}),f=K4(p),g={},m={},v={};if(u==="determinate"){const y=2*Math.PI*((ko-d)/2);g.strokeDasharray=y.toFixed(3),v["aria-valuenow"]=Math.round(l),g.strokeDashoffset=`${((100-l)/100*y).toFixed(3)}px`,m.transform="rotate(-90deg)"}return B.jsx(Y4,H({className:ke(f.root,i),style:H({width:c,height:c},m,a),ownerState:p,ref:n,role:"progressbar"},v,h,{children:B.jsx(Z4,{className:f.svg,ownerState:p,viewBox:`${ko/2} ${ko/2} ${ko} ${ko}`,children:B.jsx(q4,{className:f.circle,style:g,ownerState:p,cx:ko,cy:ko,r:(ko-d)/2,fill:"none",strokeWidth:d})})}))}),X4=(e,t)=>H({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),Q4=e=>H({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),J4=(e,t=!1)=>{var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([o,c])=>{var a;r[e.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:(a=c.palette)==null?void 0:a.mode}});let i=H({html:X4(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:H({margin:0},Q4(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const s=(n=e.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return s&&(i=[i,s]),i};function e6(e){const t=nt({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return B.jsxs(U.Fragment,{children:[B.jsx(II,{styles:i=>J4(i,r)}),n]})}function t6(e){const t=$r(e);return t.body===e?Ms(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Rd(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function UE(e){return parseInt(Ms(e).getComputedStyle(e).paddingRight,10)||0}function n6(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function GE(e,t,n,r,i){const s=[t,n,...r];[].forEach.call(e.children,o=>{const c=s.indexOf(o)===-1,a=!n6(o);c&&a&&Rd(o,i)})}function tv(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function r6(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(t6(r)){const o=u_($r(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${UE(r)+o}px`;const c=$r(r).querySelectorAll(".mui-fixed");[].forEach.call(c,a=>{n.push({value:a.style.paddingRight,property:"padding-right",el:a}),a.style.paddingRight=`${UE(a)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=$r(r).body;else{const o=r.parentElement,c=Ms(r);s=(o==null?void 0:o.nodeName)==="HTML"&&c.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:c})=>{s?o.style.setProperty(c,s):o.style.removeProperty(c)})}}function i6(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class s6{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&Rd(t.modalRef,!1);const i=i6(n);GE(n,t.mount,t.modalRef,i,!0);const s=tv(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=tv(this.containers,s=>s.modals.indexOf(t)!==-1),i=this.containers[r];i.restore||(i.restore=r6(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=tv(this.containers,o=>o.modals.indexOf(t)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(t),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),t.modalRef&&Rd(t.modalRef,n),GE(s.container,t.mount,t.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&Rd(o.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const o6=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function a6(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function l6(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function c6(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||l6(e))}function u6(e){const t=[],n=[];return Array.from(e.querySelectorAll(o6)).forEach((r,i)=>{const s=a6(r);s===-1||!c6(r)||(s===0?t.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function d6(){return!0}function f6(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=u6,isEnabled:o=d6,open:c}=e,a=U.useRef(!1),d=U.useRef(null),l=U.useRef(null),u=U.useRef(null),h=U.useRef(null),p=U.useRef(!1),f=U.useRef(null),g=fn(Su(t),f),m=U.useRef(null);U.useEffect(()=>{!c||!f.current||(p.current=!n)},[n,c]),U.useEffect(()=>{if(!c||!f.current)return;const x=$r(f.current);return f.current.contains(x.activeElement)||(f.current.hasAttribute("tabIndex")||f.current.setAttribute("tabIndex","-1"),p.current&&f.current.focus()),()=>{i||(u.current&&u.current.focus&&(a.current=!0,u.current.focus()),u.current=null)}},[c]),U.useEffect(()=>{if(!c||!f.current)return;const x=$r(f.current),C=I=>{m.current=I,!(r||!o()||I.key!=="Tab")&&x.activeElement===f.current&&I.shiftKey&&(a.current=!0,l.current&&l.current.focus())},b=()=>{const I=f.current;if(I===null)return;if(!x.hasFocus()||!o()||a.current){a.current=!1;return}if(I.contains(x.activeElement)||r&&x.activeElement!==d.current&&x.activeElement!==l.current)return;if(x.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let L=[];if((x.activeElement===d.current||x.activeElement===l.current)&&(L=s(f.current)),L.length>0){var T,$;const P=!!((T=m.current)!=null&&T.shiftKey&&(($=m.current)==null?void 0:$.key)==="Tab"),k=L[0],A=L[L.length-1];typeof k!="string"&&typeof A!="string"&&(P?A.focus():k.focus())}else I.focus()};x.addEventListener("focusin",b),x.addEventListener("keydown",C,!0);const S=setInterval(()=>{x.activeElement&&x.activeElement.tagName==="BODY"&&b()},50);return()=>{clearInterval(S),x.removeEventListener("focusin",b),x.removeEventListener("keydown",C,!0)}},[n,r,i,o,c,s]);const v=x=>{u.current===null&&(u.current=x.relatedTarget),p.current=!0,h.current=x.target;const C=t.props.onFocus;C&&C(x)},y=x=>{u.current===null&&(u.current=x.relatedTarget),p.current=!0};return B.jsxs(U.Fragment,{children:[B.jsx("div",{tabIndex:c?0:-1,onFocus:y,ref:d,"data-testid":"sentinelStart"}),U.cloneElement(t,{ref:g,onFocus:v}),B.jsx("div",{tabIndex:c?0:-1,onFocus:y,ref:l,"data-testid":"sentinelEnd"})]})}function h6(e){return typeof e=="function"?e():e}function p6(e){return e?e.props.hasOwnProperty("in"):!1}const g6=new s6;function m6(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=g6,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:c,children:a,onClose:d,open:l,rootRef:u}=e,h=U.useRef({}),p=U.useRef(null),f=U.useRef(null),g=fn(f,u),[m,v]=U.useState(!l),y=p6(a);let x=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(x=!1);const C=()=>$r(p.current),b=()=>(h.current.modalRef=f.current,h.current.mount=p.current,h.current),S=()=>{i.mount(b(),{disableScrollLock:r}),f.current&&(f.current.scrollTop=0)},I=Qo(()=>{const _=h6(t)||C().body;i.add(b(),_),f.current&&S()}),L=U.useCallback(()=>i.isTopModal(b()),[i]),T=Qo(_=>{p.current=_,_&&(l&&L()?S():f.current&&Rd(f.current,x))}),$=U.useCallback(()=>{i.remove(b(),x)},[x,i]);U.useEffect(()=>()=>{$()},[$]),U.useEffect(()=>{l?I():(!y||!s)&&$()},[l,$,y,s,I]);const P=_=>R=>{var M;(M=_.onKeyDown)==null||M.call(_,R),!(R.key!=="Escape"||R.which===229||!L())&&(n||(R.stopPropagation(),d&&d(R,"escapeKeyDown")))},k=_=>R=>{var M;(M=_.onClick)==null||M.call(_,R),R.target===R.currentTarget&&d&&d(R,"backdropClick")};return{getRootProps:(_={})=>{const R=d_(e);delete R.onTransitionEnter,delete R.onTransitionExited;const M=H({},R,_);return H({role:"presentation"},M,{onKeyDown:P(M),ref:g})},getBackdropProps:(_={})=>{const R=_;return H({"aria-hidden":!0},R,{onClick:k(R),open:l})},getTransitionProps:()=>{const _=()=>{v(!1),o&&o()},R=()=>{v(!0),c&&c(),s&&$()};return{onEnter:ny(_,a==null?void 0:a.props.onEnter),onExited:ny(R,a==null?void 0:a.props.onExited)}},rootRef:g,portalRef:T,isTopModal:L,exited:m,hasTransition:y}}function v6(e){return tt("MuiModal",e)}et("MuiModal",["root","hidden","backdrop"]);const y6=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],b6=e=>{const{open:t,exited:n,classes:r}=e;return rt({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},v6,r)},w6=Ee("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>H({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),x6=Ee($I,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),kw=U.forwardRef(function(t,n){var r,i,s,o,c,a;const d=nt({name:"MuiModal",props:t}),{BackdropComponent:l=x6,BackdropProps:u,className:h,closeAfterTransition:p=!1,children:f,container:g,component:m,components:v={},componentsProps:y={},disableAutoFocus:x=!1,disableEnforceFocus:C=!1,disableEscapeKeyDown:b=!1,disablePortal:S=!1,disableRestoreFocus:I=!1,disableScrollLock:L=!1,hideBackdrop:T=!1,keepMounted:$=!1,onBackdropClick:P,open:k,slotProps:A,slots:w}=d,E=Te(d,y6),_=H({},d,{closeAfterTransition:p,disableAutoFocus:x,disableEnforceFocus:C,disableEscapeKeyDown:b,disablePortal:S,disableRestoreFocus:I,disableScrollLock:L,hideBackdrop:T,keepMounted:$}),{getRootProps:R,getBackdropProps:M,getTransitionProps:O,portalRef:N,isTopModal:F,exited:G,hasTransition:z}=m6(H({},_,{rootRef:n})),j=H({},_,{exited:G}),V=b6(j),Z={};if(f.props.tabIndex===void 0&&(Z.tabIndex="-1"),z){const{onEnter:le,onExited:ge}=O();Z.onEnter=le,Z.onExited=ge}const X=(r=(i=w==null?void 0:w.root)!=null?i:v.Root)!=null?r:w6,Y=(s=(o=w==null?void 0:w.backdrop)!=null?o:v.Backdrop)!=null?s:l,Q=(c=A==null?void 0:A.root)!=null?c:y.root,te=(a=A==null?void 0:A.backdrop)!=null?a:y.backdrop,re=tu({elementType:X,externalSlotProps:Q,externalForwardedProps:E,getSlotProps:R,additionalProps:{ref:n,as:m},ownerState:j,className:ke(h,Q==null?void 0:Q.className,V==null?void 0:V.root,!j.open&&j.exited&&(V==null?void 0:V.hidden))}),pe=tu({elementType:Y,externalSlotProps:te,additionalProps:u,getSlotProps:le=>M(H({},le,{onClick:ge=>{P&&P(ge),le!=null&&le.onClick&&le.onClick(ge)}})),className:ke(te==null?void 0:te.className,u==null?void 0:u.className,V==null?void 0:V.backdrop),ownerState:j});return!$&&!k&&(!z||G)?null:B.jsx(a4,{ref:N,container:g,disablePortal:S,children:B.jsxs(X,H({},re,{children:[!T&&l?B.jsx(Y,H({},pe)):null,B.jsx(f6,{disableEnforceFocus:C,disableAutoFocus:x,disableRestoreFocus:I,isEnabled:F,open:k,children:U.cloneElement(f,Z)})]}))})});function S6(e){return tt("MuiDialog",e)}const nv=et("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),RI=U.createContext({}),E6=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],C6=Ee($I,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),A6=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=e,o={root:["root"],container:["container",`scroll${ye(n)}`],paper:["paper",`paperScroll${ye(n)}`,`paperWidth${ye(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return rt(o,S6,t)},_6=Ee(kw,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),k6=Ee("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${ye(n.scroll)}`]]}})(({ownerState:e})=>H({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),I6=Ee(Kt,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${ye(n.scroll)}`],t[`paperWidth${ye(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>H({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${nv.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${nv.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${nv.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Oc=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiDialog"}),i=Cu(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":c,BackdropComponent:a,BackdropProps:d,children:l,className:u,disableEscapeKeyDown:h=!1,fullScreen:p=!1,fullWidth:f=!1,maxWidth:g="sm",onBackdropClick:m,onClick:v,onClose:y,open:x,PaperComponent:C=Kt,PaperProps:b={},scroll:S="paper",TransitionComponent:I=TI,transitionDuration:L=s,TransitionProps:T}=r,$=Te(r,E6),P=H({},r,{disableEscapeKeyDown:h,fullScreen:p,fullWidth:f,maxWidth:g,scroll:S}),k=A6(P),A=U.useRef(),w=M=>{A.current=M.target===M.currentTarget},E=M=>{v&&v(M),A.current&&(A.current=null,m&&m(M),y&&y(M,"backdropClick"))},_=hm(c),R=U.useMemo(()=>({titleId:_}),[_]);return B.jsx(_6,H({className:ke(k.root,u),closeAfterTransition:!0,components:{Backdrop:C6},componentsProps:{backdrop:H({transitionDuration:L,as:a},d)},disableEscapeKeyDown:h,onClose:y,open:x,ref:n,onClick:E,ownerState:P},$,{children:B.jsx(I,H({appear:!0,in:x,timeout:L,role:"presentation"},T,{children:B.jsx(k6,{className:ke(k.container),onMouseDown:w,ownerState:P,children:B.jsx(I6,H({as:C,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":_},b,{className:ke(k.paper,b.className),ownerState:P,children:B.jsx(RI.Provider,{value:R,children:l})}))})}))}))});function T6(e){return tt("MuiDialogActions",e)}et("MuiDialogActions",["root","spacing"]);const $6=["className","disableSpacing"],L6=e=>{const{classes:t,disableSpacing:n}=e;return rt({root:["root",!n&&"spacing"]},T6,t)},M6=Ee("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>H({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Nc=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1}=r,o=Te(r,$6),c=H({},r,{disableSpacing:s}),a=L6(c);return B.jsx(M6,H({className:ke(a.root,i),ownerState:c,ref:n},o))});function R6(e){return tt("MuiDialogContent",e)}et("MuiDialogContent",["root","dividers"]);function P6(e){return tt("MuiDialogTitle",e)}const O6=et("MuiDialogTitle",["root"]),N6=["className","dividers"],B6=e=>{const{classes:t,dividers:n}=e;return rt({root:["root",n&&"dividers"]},R6,t)},D6=Ee("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>H({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${O6.root} + &`]:{paddingTop:0}})),Bc=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiDialogContent"}),{className:i,dividers:s=!1}=r,o=Te(r,N6),c=H({},r,{dividers:s}),a=B6(c);return B.jsx(D6,H({className:ke(a.root,i),ownerState:c,ref:n},o))}),F6=["className","id"],U6=e=>{const{classes:t}=e;return rt({root:["root"]},P6,t)},G6=Ee(ce,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Dc=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiDialogTitle"}),{className:i,id:s}=r,o=Te(r,F6),c=r,a=U6(c),{titleId:d=s}=U.useContext(RI);return B.jsx(G6,H({component:"h2",className:ke(a.root,i),ownerState:c,ref:n,variant:"h6",id:s??d},o))});function z6(e){return tt("MuiDivider",e)}const zE=et("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),H6=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],W6=e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:s,orientation:o,textAlign:c,variant:a}=e;return rt({root:["root",t&&"absolute",a,s&&"light",o==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",c==="right"&&o!=="vertical"&&"textAlignRight",c==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},z6,r)},j6=Ee("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>H({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:vt(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>H({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>H({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}),({theme:e,ownerState:t})=>H({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:e})=>H({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),V6=Ee("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>H({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),Iw=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiDivider"}),{absolute:i=!1,children:s,className:o,component:c=s?"div":"hr",flexItem:a=!1,light:d=!1,orientation:l="horizontal",role:u=c!=="hr"?"separator":void 0,textAlign:h="center",variant:p="fullWidth"}=r,f=Te(r,H6),g=H({},r,{absolute:i,component:c,flexItem:a,light:d,orientation:l,role:u,textAlign:h,variant:p}),m=W6(g);return B.jsx(j6,H({as:c,className:ke(m.root,o),role:u,ref:n,ownerState:g},f,{children:s?B.jsx(V6,{className:m.wrapper,ownerState:g,children:s}):null}))});Iw.muiSkipListHighlight=!0;const K6=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Y6(e,t,n){const r=t.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),s=Ms(t);let o;if(t.fakeTransform)o=t.fakeTransform;else{const d=s.getComputedStyle(t);o=d.getPropertyValue("-webkit-transform")||d.getPropertyValue("transform")}let c=0,a=0;if(o&&o!=="none"&&typeof o=="string"){const d=o.split("(")[1].split(")")[0].split(",");c=parseInt(d[4],10),a=parseInt(d[5],10)}return e==="left"?i?`translateX(${i.right+c-r.left}px)`:`translateX(${s.innerWidth+c-r.left}px)`:e==="right"?i?`translateX(-${r.right-i.left-c}px)`:`translateX(-${r.left+r.width-c}px)`:e==="up"?i?`translateY(${i.bottom+a-r.top}px)`:`translateY(${s.innerHeight+a-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-a}px)`:`translateY(-${r.top+r.height-a}px)`}function Z6(e){return typeof e=="function"?e():e}function Bh(e,t,n){const r=Z6(n),i=Y6(e,t,r);i&&(t.style.webkitTransform=i,t.style.transform=i)}const q6=U.forwardRef(function(t,n){const r=Cu(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:c=!0,children:a,container:d,direction:l="down",easing:u=i,in:h,onEnter:p,onEntered:f,onEntering:g,onExit:m,onExited:v,onExiting:y,style:x,timeout:C=s,TransitionComponent:b=os}=t,S=Te(t,K6),I=U.useRef(null),L=fn(Su(a),I,n),T=M=>O=>{M&&(O===void 0?M(I.current):M(I.current,O))},$=T((M,O)=>{Bh(l,M,d),Cw(M),p&&p(M,O)}),P=T((M,O)=>{const N=cu({timeout:C,style:x,easing:u},{mode:"enter"});M.style.webkitTransition=r.transitions.create("-webkit-transform",H({},N)),M.style.transition=r.transitions.create("transform",H({},N)),M.style.webkitTransform="none",M.style.transform="none",g&&g(M,O)}),k=T(f),A=T(y),w=T(M=>{const O=cu({timeout:C,style:x,easing:u},{mode:"exit"});M.style.webkitTransition=r.transitions.create("-webkit-transform",O),M.style.transition=r.transitions.create("transform",O),Bh(l,M,d),m&&m(M)}),E=T(M=>{M.style.webkitTransition="",M.style.transition="",v&&v(M)}),_=M=>{o&&o(I.current,M)},R=U.useCallback(()=>{I.current&&Bh(l,I.current,d)},[l,d]);return U.useEffect(()=>{if(h||l==="down"||l==="right")return;const M=fm(()=>{I.current&&Bh(l,I.current,d)}),O=Ms(I.current);return O.addEventListener("resize",M),()=>{M.clear(),O.removeEventListener("resize",M)}},[l,h,d]),U.useEffect(()=>{h||R()},[h,R]),B.jsx(b,H({nodeRef:I,onEnter:$,onEntered:k,onEntering:P,onExit:w,onExited:E,onExiting:A,addEndListener:_,appear:c,in:h,timeout:C},S,{children:(M,O)=>U.cloneElement(a,H({ref:L,style:H({visibility:M==="exited"&&!h?"hidden":void 0},x,a.props.style)},O))}))});function X6(e){return tt("MuiDrawer",e)}et("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Q6=["BackdropProps"],J6=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],PI=(e,t)=>{const{ownerState:n}=e;return[t.root,(n.variant==="permanent"||n.variant==="persistent")&&t.docked,t.modal]},eD=e=>{const{classes:t,anchor:n,variant:r}=e,i={root:["root"],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${ye(n)}`,r!=="temporary"&&`paperAnchorDocked${ye(n)}`]};return rt(i,X6,t)},tD=Ee(kw,{name:"MuiDrawer",slot:"Root",overridesResolver:PI})(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer})),HE=Ee("div",{shouldForwardProp:Br,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:PI})({flex:"0 0 auto"}),nD=Ee(Kt,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`paperAnchor${ye(n.anchor)}`],n.variant!=="temporary"&&t[`paperAnchorDocked${ye(n.anchor)}`]]}})(({theme:e,ownerState:t})=>H({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},t.anchor==="left"&&{left:0},t.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},t.anchor==="right"&&{right:0},t.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},t.anchor==="left"&&t.variant!=="temporary"&&{borderRight:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="top"&&t.variant!=="temporary"&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="right"&&t.variant!=="temporary"&&{borderLeft:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="bottom"&&t.variant!=="temporary"&&{borderTop:`1px solid ${(e.vars||e).palette.divider}`})),OI={left:"right",right:"left",top:"down",bottom:"up"};function rD(e){return["left","right"].indexOf(e)!==-1}function iD({direction:e},t){return e==="rtl"&&rD(t)?OI[t]:t}const sD=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiDrawer"}),i=Cu(),s=g_(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:c="left",BackdropProps:a,children:d,className:l,elevation:u=16,hideBackdrop:h=!1,ModalProps:{BackdropProps:p}={},onClose:f,open:g=!1,PaperProps:m={},SlideProps:v,TransitionComponent:y=q6,transitionDuration:x=o,variant:C="temporary"}=r,b=Te(r.ModalProps,Q6),S=Te(r,J6),I=U.useRef(!1);U.useEffect(()=>{I.current=!0},[]);const L=iD({direction:s?"rtl":"ltr"},c),$=H({},r,{anchor:c,elevation:u,open:g,variant:C},S),P=eD($),k=B.jsx(nD,H({elevation:C==="temporary"?u:0,square:!0},m,{className:ke(P.paper,m.className),ownerState:$,children:d}));if(C==="permanent")return B.jsx(HE,H({className:ke(P.root,P.docked,l),ownerState:$,ref:n},S,{children:k}));const A=B.jsx(y,H({in:g,direction:OI[L],timeout:x,appear:I.current},v,{children:k}));return C==="persistent"?B.jsx(HE,H({className:ke(P.root,P.docked,l),ownerState:$,ref:n},S,{children:A})):B.jsx(tD,H({BackdropProps:H({},a,p,{transitionDuration:x}),className:ke(P.root,P.modal,l),open:g,ownerState:$,onClose:f,hideBackdrop:h,ref:n},S,b,{children:A}))}),oD=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],aD=e=>{const{classes:t,disableUnderline:n}=e,i=rt({root:["root",!n&&"underline"],input:["input"]},A4,t);return H({},t,i)},lD=Ee(Pm,{shouldForwardProp:e=>Br(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Mm(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var n;const r=e.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",c=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return H({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s}},[`&.${Ta.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s},[`&.${Ta.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:c}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(e.vars||e).palette[t.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ta.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ta.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ta.disabled}, .${Ta.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Ta.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&H({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),cD=Ee(Om,{name:"MuiFilledInput",slot:"Input",overridesResolver:Rm})(({theme:e,ownerState:t})=>H({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Tw=U.forwardRef(function(t,n){var r,i,s,o;const c=nt({props:t,name:"MuiFilledInput"}),{components:a={},componentsProps:d,fullWidth:l=!1,inputComponent:u="input",multiline:h=!1,slotProps:p,slots:f={},type:g="text"}=c,m=Te(c,oD),v=H({},c,{fullWidth:l,inputComponent:u,multiline:h,type:g}),y=aD(c),x={root:{ownerState:v},input:{ownerState:v}},C=p??d?qr(x,p??d):x,b=(r=(i=f.root)!=null?i:a.Root)!=null?r:lD,S=(s=(o=f.input)!=null?o:a.Input)!=null?s:cD;return B.jsx(_w,H({slots:{root:b,input:S},componentsProps:C,fullWidth:l,inputComponent:u,multiline:h,ref:n,type:g},m,{classes:y}))});Tw.muiName="Input";function uD(e){return tt("MuiFormControl",e)}et("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const dD=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],fD=e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root",n!=="none"&&`margin${ye(n)}`,r&&"fullWidth"]};return rt(i,uD,t)},hD=Ee("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>H({},t.root,t[`margin${ye(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>H({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),nb=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:c="div",disabled:a=!1,error:d=!1,focused:l,fullWidth:u=!1,hiddenLabel:h=!1,margin:p="none",required:f=!1,size:g="medium",variant:m="outlined"}=r,v=Te(r,dD),y=H({},r,{color:o,component:c,disabled:a,error:d,fullWidth:u,hiddenLabel:h,margin:p,required:f,size:g,variant:m}),x=fD(y),[C,b]=U.useState(()=>{let A=!1;return i&&U.Children.forEach(i,w=>{if(!Ed(w,["Input","Select"]))return;const E=Ed(w,["Select"])?w.props.input:w;E&&y4(E.props)&&(A=!0)}),A}),[S,I]=U.useState(()=>{let A=!1;return i&&U.Children.forEach(i,w=>{Ed(w,["Input","Select"])&&(dg(w.props,!0)||dg(w.props.inputProps,!0))&&(A=!0)}),A}),[L,T]=U.useState(!1);a&&L&&T(!1);const $=l!==void 0&&!a?l:L;let P;const k=U.useMemo(()=>({adornedStart:C,setAdornedStart:b,color:o,disabled:a,error:d,filled:S,focused:$,fullWidth:u,hiddenLabel:h,size:g,onBlur:()=>{T(!1)},onEmpty:()=>{I(!1)},onFilled:()=>{I(!0)},onFocus:()=>{T(!0)},registerEffect:P,required:f,variant:m}),[C,o,a,d,S,$,u,h,P,f,g,m]);return B.jsx(Aw.Provider,{value:k,children:B.jsx(hD,H({as:c,ownerState:y,className:ke(x.root,s),ref:n},v,{children:i}))})});function pD(e){return tt("MuiFormHelperText",e)}const WE=et("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var jE;const gD=["children","className","component","disabled","error","filled","focused","margin","required","variant"],mD=e=>{const{classes:t,contained:n,size:r,disabled:i,error:s,filled:o,focused:c,required:a}=e,d={root:["root",i&&"disabled",s&&"error",r&&`size${ye(r)}`,n&&"contained",c&&"focused",o&&"filled",a&&"required"]};return rt(d,pD,t)},vD=Ee("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${ye(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(({theme:e,ownerState:t})=>H({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${WE.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${WE.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),yD=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,c=Te(r,gD),a=Tu(),d=Iu({props:r,muiFormControl:a,states:["variant","size","disabled","error","filled","focused","required"]}),l=H({},r,{component:o,contained:d.variant==="filled"||d.variant==="outlined",variant:d.variant,size:d.size,disabled:d.disabled,error:d.error,filled:d.filled,focused:d.focused,required:d.required}),u=mD(l);return B.jsx(vD,H({as:o,ownerState:l,className:ke(u.root,s),ref:n},c,{children:i===" "?jE||(jE=B.jsx("span",{className:"notranslate",children:"​"})):i}))});function bD(e){return tt("MuiFormLabel",e)}const Pd=et("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),wD=["children","className","color","component","disabled","error","filled","focused","required"],xD=e=>{const{classes:t,color:n,focused:r,disabled:i,error:s,filled:o,required:c}=e,a={root:["root",`color${ye(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",c&&"required"],asterisk:["asterisk",s&&"error"]};return rt(a,bD,t)},SD=Ee("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>H({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>H({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Pd.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${Pd.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Pd.error}`]:{color:(e.vars||e).palette.error.main}})),ED=Ee("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${Pd.error}`]:{color:(e.vars||e).palette.error.main}})),CD=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,c=Te(r,wD),a=Tu(),d=Iu({props:r,muiFormControl:a,states:["color","required","focused","disabled","error","filled"]}),l=H({},r,{color:d.color||"primary",component:o,disabled:d.disabled,error:d.error,filled:d.filled,focused:d.focused,required:d.required}),u=xD(l);return B.jsxs(SD,H({as:o,ownerState:l,className:ke(u.root,s),ref:n},c,{children:[i,d.required&&B.jsxs(ED,{ownerState:l,"aria-hidden":!0,className:u.asterisk,children:[" ","*"]})]}))}),AD=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function rb(e){return`scale(${e}, ${e**2})`}const _D={entering:{opacity:1,transform:rb(1)},entered:{opacity:1,transform:"none"}},rv=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),NI=U.forwardRef(function(t,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:c,onEnter:a,onEntered:d,onEntering:l,onExit:u,onExited:h,onExiting:p,style:f,timeout:g="auto",TransitionComponent:m=os}=t,v=Te(t,AD),y=l_(),x=U.useRef(),C=Cu(),b=U.useRef(null),S=fn(b,Su(s),n),I=E=>_=>{if(E){const R=b.current;_===void 0?E(R):E(R,_)}},L=I(l),T=I((E,_)=>{Cw(E);const{duration:R,delay:M,easing:O}=cu({style:f,timeout:g,easing:o},{mode:"enter"});let N;g==="auto"?(N=C.transitions.getAutoHeightDuration(E.clientHeight),x.current=N):N=R,E.style.transition=[C.transitions.create("opacity",{duration:N,delay:M}),C.transitions.create("transform",{duration:rv?N:N*.666,delay:M,easing:O})].join(","),a&&a(E,_)}),$=I(d),P=I(p),k=I(E=>{const{duration:_,delay:R,easing:M}=cu({style:f,timeout:g,easing:o},{mode:"exit"});let O;g==="auto"?(O=C.transitions.getAutoHeightDuration(E.clientHeight),x.current=O):O=_,E.style.transition=[C.transitions.create("opacity",{duration:O,delay:R}),C.transitions.create("transform",{duration:rv?O:O*.666,delay:rv?R:R||O*.333,easing:M})].join(","),E.style.opacity=0,E.style.transform=rb(.75),u&&u(E)}),A=I(h),w=E=>{g==="auto"&&y.start(x.current||0,E),r&&r(b.current,E)};return B.jsx(m,H({appear:i,in:c,nodeRef:b,onEnter:T,onEntered:$,onEntering:L,onExit:k,onExited:A,onExiting:P,addEndListener:w,timeout:g==="auto"?null:g},v,{children:(E,_)=>U.cloneElement(s,H({style:H({opacity:0,transform:rb(.75),visibility:E==="exited"&&!c?"hidden":void 0},_D[E],f,s.props.style),ref:S},_))}))});NI.muiSupportAuto=!0;const kD=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],ID=e=>{const{classes:t,disableUnderline:n}=e,i=rt({root:["root",!n&&"underline"],input:["input"]},E4,t);return H({},t,i)},TD=Ee(Pm,{shouldForwardProp:e=>Br(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Mm(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),H({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Zu.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Zu.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Zu.disabled}, .${Zu.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Zu.disabled}:before`]:{borderBottomStyle:"dotted"}})}),$D=Ee(Om,{name:"MuiInput",slot:"Input",overridesResolver:Rm})({}),$w=U.forwardRef(function(t,n){var r,i,s,o;const c=nt({props:t,name:"MuiInput"}),{disableUnderline:a,components:d={},componentsProps:l,fullWidth:u=!1,inputComponent:h="input",multiline:p=!1,slotProps:f,slots:g={},type:m="text"}=c,v=Te(c,kD),y=ID(c),C={root:{ownerState:{disableUnderline:a}}},b=f??l?qr(f??l,C):C,S=(r=(i=g.root)!=null?i:d.Root)!=null?r:TD,I=(s=(o=g.input)!=null?o:d.Input)!=null?s:$D;return B.jsx(_w,H({slots:{root:S,input:I},slotProps:b,fullWidth:u,inputComponent:h,multiline:p,ref:n,type:m},v,{classes:y}))});$w.muiName="Input";function LD(e){return tt("MuiInputLabel",e)}et("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const MD=["disableAnimation","margin","shrink","variant","className"],RD=e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:c}=e,a={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${ye(r)}`,o],asterisk:[c&&"asterisk"]},d=rt(a,LD,t);return H({},t,d)},PD=Ee(CD,{shouldForwardProp:e=>Br(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Pd.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(({theme:e,ownerState:t})=>H({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&H({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&H({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&H({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),ib=U.forwardRef(function(t,n){const r=nt({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,shrink:s,className:o}=r,c=Te(r,MD),a=Tu();let d=s;typeof d>"u"&&a&&(d=a.filled||a.focused||a.adornedStart);const l=Iu({props:r,muiFormControl:a,states:["size","variant","required","focused"]}),u=H({},r,{disableAnimation:i,formControl:a,shrink:d,size:l.size,variant:l.variant,required:l.required,focused:l.focused}),h=RD(u);return B.jsx(PD,H({"data-shrink":d,ownerState:u,ref:n,className:ke(h.root,o)},c,{classes:h}))}),ns=U.createContext({});function OD(e){return tt("MuiList",e)}et("MuiList",["root","padding","dense","subheader"]);const ND=["children","className","component","dense","disablePadding","subheader"],BD=e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return rt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},OD,t)},DD=Ee("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>H({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),Bm=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:c=!1,disablePadding:a=!1,subheader:d}=r,l=Te(r,ND),u=U.useMemo(()=>({dense:c}),[c]),h=H({},r,{component:o,dense:c,disablePadding:a}),p=BD(h);return B.jsx(ns.Provider,{value:u,children:B.jsxs(DD,H({as:o,className:ke(p.root,s),ref:n,ownerState:h},l,{children:[d,i]}))})});function FD(e){return tt("MuiListItem",e)}const ql=et("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);function UD(e){return tt("MuiListItemButton",e)}const Xl=et("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),GD=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],zD=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]},HD=e=>{const{alignItems:t,classes:n,dense:r,disabled:i,disableGutters:s,divider:o,selected:c}=e,d=rt({root:["root",r&&"dense",!s&&"gutters",o&&"divider",i&&"disabled",t==="flex-start"&&"alignItemsFlexStart",c&&"selected"]},UD,n);return H({},n,d)},WD=Ee(vl,{shouldForwardProp:e=>Br(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:zD})(({theme:e,ownerState:t})=>H({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Xl.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:vt(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Xl.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:vt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Xl.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:vt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:vt(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Xl.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Xl.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.alignItems==="flex-start"&&{alignItems:"flex-start"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.dense&&{paddingTop:4,paddingBottom:4})),jD=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:s=!1,component:o="div",children:c,dense:a=!1,disableGutters:d=!1,divider:l=!1,focusVisibleClassName:u,selected:h=!1,className:p}=r,f=Te(r,GD),g=U.useContext(ns),m=U.useMemo(()=>({dense:a||g.dense||!1,alignItems:i,disableGutters:d}),[i,g.dense,a,d]),v=U.useRef(null);Si(()=>{s&&v.current&&v.current.focus()},[s]);const y=H({},r,{alignItems:i,dense:m.dense,disableGutters:d,divider:l,selected:h}),x=HD(y),C=fn(v,n);return B.jsx(ns.Provider,{value:m,children:B.jsx(WD,H({ref:C,href:f.href||f.to,component:(f.href||f.to)&&o==="div"?"button":o,focusVisibleClassName:ke(x.focusVisible,u),ownerState:y,className:ke(x.root,p)},f,{classes:x,children:c}))})});function VD(e){return tt("MuiListItemSecondaryAction",e)}et("MuiListItemSecondaryAction",["root","disableGutters"]);const KD=["className"],YD=e=>{const{disableGutters:t,classes:n}=e;return rt({root:["root",t&&"disableGutters"]},VD,n)},ZD=Ee("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})(({ownerState:e})=>H({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),BI=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiListItemSecondaryAction"}),{className:i}=r,s=Te(r,KD),o=U.useContext(ns),c=H({},r,{disableGutters:o.disableGutters}),a=YD(c);return B.jsx(ZD,H({className:ke(a.root,i),ownerState:c,ref:n},s))});BI.muiName="ListItemSecondaryAction";const qD=["className"],XD=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],QD=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]},JD=e=>{const{alignItems:t,button:n,classes:r,dense:i,disabled:s,disableGutters:o,disablePadding:c,divider:a,hasSecondaryAction:d,selected:l}=e;return rt({root:["root",i&&"dense",!o&&"gutters",!c&&"padding",a&&"divider",s&&"disabled",n&&"button",t==="flex-start"&&"alignItemsFlexStart",d&&"secondaryAction",l&&"selected"],container:["container"]},FD,r)},e8=Ee("div",{name:"MuiListItem",slot:"Root",overridesResolver:QD})(({theme:e,ownerState:t})=>H({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&H({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${Xl.root}`]:{paddingRight:48}},{[`&.${ql.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${ql.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:vt(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${ql.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:vt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${ql.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ql.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:vt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:vt(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),t8=Ee("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),Lw=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiListItem"}),{alignItems:i="center",autoFocus:s=!1,button:o=!1,children:c,className:a,component:d,components:l={},componentsProps:u={},ContainerComponent:h="li",ContainerProps:{className:p}={},dense:f=!1,disabled:g=!1,disableGutters:m=!1,disablePadding:v=!1,divider:y=!1,focusVisibleClassName:x,secondaryAction:C,selected:b=!1,slotProps:S={},slots:I={}}=r,L=Te(r.ContainerProps,qD),T=Te(r,XD),$=U.useContext(ns),P=U.useMemo(()=>({dense:f||$.dense||!1,alignItems:i,disableGutters:m}),[i,$.dense,f,m]),k=U.useRef(null);Si(()=>{s&&k.current&&k.current.focus()},[s]);const A=U.Children.toArray(c),w=A.length&&Ed(A[A.length-1],["ListItemSecondaryAction"]),E=H({},r,{alignItems:i,autoFocus:s,button:o,dense:P.dense,disabled:g,disableGutters:m,disablePadding:v,divider:y,hasSecondaryAction:w,selected:b}),_=JD(E),R=fn(k,n),M=I.root||l.Root||e8,O=S.root||u.root||{},N=H({className:ke(_.root,O.className,a),disabled:g},T);let F=d||"li";return o&&(N.component=d||"div",N.focusVisibleClassName=ke(ql.focusVisible,x),F=vl),w?(F=!N.component&&!d?"div":F,h==="li"&&(F==="li"?F="div":N.component==="li"&&(N.component="div")),B.jsx(ns.Provider,{value:P,children:B.jsxs(t8,H({as:h,className:ke(_.container,p),ref:R,ownerState:E},L,{children:[B.jsx(M,H({},O,!eu(M)&&{as:F,ownerState:H({},E,O.ownerState)},N,{children:A})),A.pop()]}))})):B.jsx(ns.Provider,{value:P,children:B.jsxs(M,H({},O,{as:F,ref:R},!eu(M)&&{ownerState:H({},E,O.ownerState)},N,{children:[A,C&&B.jsx(BI,{children:C})]}))})});function n8(e){return tt("MuiListItemIcon",e)}const VE=et("MuiListItemIcon",["root","alignItemsFlexStart"]),r8=["className"],i8=e=>{const{alignItems:t,classes:n}=e;return rt({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},n8,n)},s8=Ee("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({theme:e,ownerState:t})=>H({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},t.alignItems==="flex-start"&&{marginTop:8})),o8=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiListItemIcon"}),{className:i}=r,s=Te(r,r8),o=U.useContext(ns),c=H({},r,{alignItems:o.alignItems}),a=i8(c);return B.jsx(s8,H({className:ke(a.root,i),ownerState:c,ref:n},s))});function a8(e){return tt("MuiListItemText",e)}const fg=et("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),l8=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],c8=e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:s}=e;return rt({root:["root",n&&"inset",s&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},a8,t)},u8=Ee("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${fg.primary}`]:t.primary},{[`& .${fg.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>H({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),Mw=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiListItemText"}),{children:i,className:s,disableTypography:o=!1,inset:c=!1,primary:a,primaryTypographyProps:d,secondary:l,secondaryTypographyProps:u}=r,h=Te(r,l8),{dense:p}=U.useContext(ns);let f=a??i,g=l;const m=H({},r,{disableTypography:o,inset:c,primary:!!f,secondary:!!g,dense:p}),v=c8(m);return f!=null&&f.type!==ce&&!o&&(f=B.jsx(ce,H({variant:p?"body2":"body1",className:v.primary,component:d!=null&&d.variant?void 0:"span",display:"block"},d,{children:f}))),g!=null&&g.type!==ce&&!o&&(g=B.jsx(ce,H({variant:"body2",className:v.secondary,color:"text.secondary",display:"block"},u,{children:g}))),B.jsxs(u8,H({className:ke(v.root,s),ownerState:m,ref:n},h,{children:[f,g]}))}),d8=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function iv(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function KE(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function DI(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.indexOf(t.keys.join(""))===0}function qu(e,t,n,r,i,s){let o=!1,c=i(e,t,t?n:!1);for(;c;){if(c===e.firstChild){if(o)return!1;o=!0}const a=r?!1:c.disabled||c.getAttribute("aria-disabled")==="true";if(!c.hasAttribute("tabindex")||!DI(c,s)||a)c=i(e,c,n);else return c.focus(),!0}return!1}const f8=U.forwardRef(function(t,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:c,disabledItemsFocusable:a=!1,disableListWrap:d=!1,onKeyDown:l,variant:u="selectedMenu"}=t,h=Te(t,d8),p=U.useRef(null),f=U.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Si(()=>{i&&p.current.focus()},[i]),U.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(x,{direction:C})=>{const b=!p.current.style.width;if(x.clientHeight<p.current.clientHeight&&b){const S=`${u_($r(x))}px`;p.current.style[C==="rtl"?"paddingLeft":"paddingRight"]=S,p.current.style.width=`calc(100% + ${S})`}return p.current}}),[]);const g=x=>{const C=p.current,b=x.key,S=$r(C).activeElement;if(b==="ArrowDown")x.preventDefault(),qu(C,S,d,a,iv);else if(b==="ArrowUp")x.preventDefault(),qu(C,S,d,a,KE);else if(b==="Home")x.preventDefault(),qu(C,null,d,a,iv);else if(b==="End")x.preventDefault(),qu(C,null,d,a,KE);else if(b.length===1){const I=f.current,L=b.toLowerCase(),T=performance.now();I.keys.length>0&&(T-I.lastTime>500?(I.keys=[],I.repeating=!0,I.previousKeyMatched=!0):I.repeating&&L!==I.keys[0]&&(I.repeating=!1)),I.lastTime=T,I.keys.push(L);const $=S&&!I.repeating&&DI(S,I);I.previousKeyMatched&&($||qu(C,S,!1,a,iv,I))?x.preventDefault():I.previousKeyMatched=!1}l&&l(x)},m=fn(p,n);let v=-1;U.Children.forEach(o,(x,C)=>{if(!U.isValidElement(x)){v===C&&(v+=1,v>=o.length&&(v=-1));return}x.props.disabled||(u==="selectedMenu"&&x.props.selected||v===-1)&&(v=C),v===C&&(x.props.disabled||x.props.muiSkipListHighlight||x.type.muiSkipListHighlight)&&(v+=1,v>=o.length&&(v=-1))});const y=U.Children.map(o,(x,C)=>{if(C===v){const b={};return s&&(b.autoFocus=!0),x.props.tabIndex===void 0&&u==="selectedMenu"&&(b.tabIndex=0),U.cloneElement(x,b)}return x});return B.jsx(Bm,H({role:"menu",ref:m,className:c,onKeyDown:g,tabIndex:i?0:-1},h,{children:y}))});function h8(e){return tt("MuiPopover",e)}et("MuiPopover",["root","paper"]);const p8=["onEntering"],g8=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],m8=["slotProps"];function YE(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function ZE(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function qE(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function sv(e){return typeof e=="function"?e():e}const v8=e=>{const{classes:t}=e;return rt({root:["root"],paper:["paper"]},h8,t)},y8=Ee(kw,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),FI=Ee(Kt,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),b8=U.forwardRef(function(t,n){var r,i,s;const o=nt({props:t,name:"MuiPopover"}),{action:c,anchorEl:a,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:u="anchorEl",children:h,className:p,container:f,elevation:g=8,marginThreshold:m=16,open:v,PaperProps:y={},slots:x,slotProps:C,transformOrigin:b={vertical:"top",horizontal:"left"},TransitionComponent:S=NI,transitionDuration:I="auto",TransitionProps:{onEntering:L}={},disableScrollLock:T=!1}=o,$=Te(o.TransitionProps,p8),P=Te(o,g8),k=(r=C==null?void 0:C.paper)!=null?r:y,A=U.useRef(),w=fn(A,k.ref),E=H({},o,{anchorOrigin:d,anchorReference:u,elevation:g,marginThreshold:m,externalPaperSlotProps:k,transformOrigin:b,TransitionComponent:S,transitionDuration:I,TransitionProps:$}),_=v8(E),R=U.useCallback(()=>{if(u==="anchorPosition")return l;const le=sv(a),ne=(le&&le.nodeType===1?le:$r(A.current).body).getBoundingClientRect();return{top:ne.top+YE(ne,d.vertical),left:ne.left+ZE(ne,d.horizontal)}},[a,d.horizontal,d.vertical,l,u]),M=U.useCallback(le=>({vertical:YE(le,b.vertical),horizontal:ZE(le,b.horizontal)}),[b.horizontal,b.vertical]),O=U.useCallback(le=>{const ge={width:le.offsetWidth,height:le.offsetHeight},ne=M(ge);if(u==="none")return{top:null,left:null,transformOrigin:qE(ne)};const ve=R();let xe=ve.top-ne.vertical,Me=ve.left-ne.horizontal;const Ve=xe+ge.height,dt=Me+ge.width,De=Ms(sv(a)),rn=De.innerHeight-m,pn=De.innerWidth-m;if(m!==null&&xe<m){const Tt=xe-m;xe-=Tt,ne.vertical+=Tt}else if(m!==null&&Ve>rn){const Tt=Ve-rn;xe-=Tt,ne.vertical+=Tt}if(m!==null&&Me<m){const Tt=Me-m;Me-=Tt,ne.horizontal+=Tt}else if(dt>pn){const Tt=dt-pn;Me-=Tt,ne.horizontal+=Tt}return{top:`${Math.round(xe)}px`,left:`${Math.round(Me)}px`,transformOrigin:qE(ne)}},[a,u,R,M,m]),[N,F]=U.useState(v),G=U.useCallback(()=>{const le=A.current;if(!le)return;const ge=O(le);ge.top!==null&&(le.style.top=ge.top),ge.left!==null&&(le.style.left=ge.left),le.style.transformOrigin=ge.transformOrigin,F(!0)},[O]);U.useEffect(()=>(T&&window.addEventListener("scroll",G),()=>window.removeEventListener("scroll",G)),[a,T,G]);const z=(le,ge)=>{L&&L(le,ge),G()},j=()=>{F(!1)};U.useEffect(()=>{v&&G()}),U.useImperativeHandle(c,()=>v?{updatePosition:()=>{G()}}:null,[v,G]),U.useEffect(()=>{if(!v)return;const le=fm(()=>{G()}),ge=Ms(a);return ge.addEventListener("resize",le),()=>{le.clear(),ge.removeEventListener("resize",le)}},[a,v,G]);let V=I;I==="auto"&&!S.muiSupportAuto&&(V=void 0);const Z=f||(a?$r(sv(a)).body:void 0),X=(i=x==null?void 0:x.root)!=null?i:y8,Y=(s=x==null?void 0:x.paper)!=null?s:FI,Q=tu({elementType:Y,externalSlotProps:H({},k,{style:N?k.style:H({},k.style,{opacity:0})}),additionalProps:{elevation:g,ref:w},ownerState:E,className:ke(_.paper,k==null?void 0:k.className)}),te=tu({elementType:X,externalSlotProps:(C==null?void 0:C.root)||{},externalForwardedProps:P,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:Z,open:v},ownerState:E,className:ke(_.root,p)}),{slotProps:re}=te,pe=Te(te,m8);return B.jsx(X,H({},pe,!eu(X)&&{slotProps:re,disableScrollLock:T},{children:B.jsx(S,H({appear:!0,in:v,onEntering:z,onExited:j,timeout:V},$,{children:B.jsx(Y,H({},Q,{children:h}))}))}))});function w8(e){return tt("MuiMenu",e)}et("MuiMenu",["root","paper","list"]);const x8=["onEntering"],S8=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],E8={vertical:"top",horizontal:"right"},C8={vertical:"top",horizontal:"left"},A8=e=>{const{classes:t}=e;return rt({root:["root"],paper:["paper"],list:["list"]},w8,t)},_8=Ee(b8,{shouldForwardProp:e=>Br(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),k8=Ee(FI,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),I8=Ee(f8,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),UI=U.forwardRef(function(t,n){var r,i;const s=nt({props:t,name:"MuiMenu"}),{autoFocus:o=!0,children:c,className:a,disableAutoFocusItem:d=!1,MenuListProps:l={},onClose:u,open:h,PaperProps:p={},PopoverClasses:f,transitionDuration:g="auto",TransitionProps:{onEntering:m}={},variant:v="selectedMenu",slots:y={},slotProps:x={}}=s,C=Te(s.TransitionProps,x8),b=Te(s,S8),S=g_(),I=H({},s,{autoFocus:o,disableAutoFocusItem:d,MenuListProps:l,onEntering:m,PaperProps:p,transitionDuration:g,TransitionProps:C,variant:v}),L=A8(I),T=o&&!d&&h,$=U.useRef(null),P=(M,O)=>{$.current&&$.current.adjustStyleForScrollbar(M,{direction:S?"rtl":"ltr"}),m&&m(M,O)},k=M=>{M.key==="Tab"&&(M.preventDefault(),u&&u(M,"tabKeyDown"))};let A=-1;U.Children.map(c,(M,O)=>{U.isValidElement(M)&&(M.props.disabled||(v==="selectedMenu"&&M.props.selected||A===-1)&&(A=O))});const w=(r=y.paper)!=null?r:k8,E=(i=x.paper)!=null?i:p,_=tu({elementType:y.root,externalSlotProps:x.root,ownerState:I,className:[L.root,a]}),R=tu({elementType:w,externalSlotProps:E,ownerState:I,className:L.paper});return B.jsx(_8,H({onClose:u,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?E8:C8,slots:{paper:w,root:y.root},slotProps:{root:_,paper:R},open:h,ref:n,transitionDuration:g,TransitionProps:H({onEntering:P},C),ownerState:I},b,{classes:f,children:B.jsx(I8,H({onKeyDown:k,actions:$,autoFocus:o&&(A===-1||d),autoFocusItem:T,variant:v},l,{className:ke(L.list,l.className),children:c}))}))});function T8(e){return tt("MuiMenuItem",e)}const Xu=et("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),$8=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],L8=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},M8=e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=e,a=rt({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},T8,o);return H({},o,a)},R8=Ee(vl,{shouldForwardProp:e=>Br(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:L8})(({theme:e,ownerState:t})=>H({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Xu.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:vt(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Xu.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:vt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Xu.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:vt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:vt(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Xu.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Xu.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${zE.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${zE.inset}`]:{marginLeft:52},[`& .${fg.root}`]:{marginTop:0,marginBottom:0},[`& .${fg.inset}`]:{paddingLeft:36},[`& .${VE.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&H({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${VE.root} svg`]:{fontSize:"1.25rem"}}))),du=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:c=!1,disableGutters:a=!1,focusVisibleClassName:d,role:l="menuitem",tabIndex:u,className:h}=r,p=Te(r,$8),f=U.useContext(ns),g=U.useMemo(()=>({dense:o||f.dense||!1,disableGutters:a}),[f.dense,o,a]),m=U.useRef(null);Si(()=>{i&&m.current&&m.current.focus()},[i]);const v=H({},r,{dense:g.dense,divider:c,disableGutters:a}),y=M8(r),x=fn(m,n);let C;return r.disabled||(C=u!==void 0?u:-1),B.jsx(ns.Provider,{value:g,children:B.jsx(R8,H({ref:x,role:l,tabIndex:C,component:s,focusVisibleClassName:ke(y.focusVisible,d),className:ke(y.root,h)},p,{ownerState:v,classes:y}))})});function P8(e){return tt("MuiNativeSelect",e)}const Rw=et("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),O8=["className","disabled","error","IconComponent","inputRef","variant"],N8=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:s,error:o}=e,c={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${ye(n)}`,s&&"iconOpen",r&&"disabled"]};return rt(c,P8,t)},GI=({ownerState:e,theme:t})=>H({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":H({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Rw.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),B8=Ee("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Br,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${Rw.multiple}`]:t.multiple}]}})(GI),zI=({ownerState:e,theme:t})=>H({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${Rw.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),D8=Ee("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${ye(n.variant)}`],n.open&&t.iconOpen]}})(zI),F8=U.forwardRef(function(t,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:c,variant:a="standard"}=t,d=Te(t,O8),l=H({},t,{disabled:i,variant:a,error:s}),u=N8(l);return B.jsxs(U.Fragment,{children:[B.jsx(B8,H({ownerState:l,className:ke(u.select,r),disabled:i,ref:c||n},d)),t.multiple?null:B.jsx(D8,{as:o,ownerState:l,className:u.icon})]})});var XE;const U8=["children","classes","className","label","notched"],G8=Ee("fieldset",{shouldForwardProp:Br})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),z8=Ee("legend",{shouldForwardProp:Br})(({ownerState:e,theme:t})=>H({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&H({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function H8(e){const{className:t,label:n,notched:r}=e,i=Te(e,U8),s=n!=null&&n!=="",o=H({},e,{notched:r,withLabel:s});return B.jsx(G8,H({"aria-hidden":!0,className:t,ownerState:o},i,{children:B.jsx(z8,{ownerState:o,children:s?B.jsx("span",{children:n}):XE||(XE=B.jsx("span",{className:"notranslate",children:"​"}))})}))}const W8=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],j8=e=>{const{classes:t}=e,r=rt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},C4,t);return H({},t,r)},V8=Ee(Pm,{shouldForwardProp:e=>Br(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Mm})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return H({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${_o.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${_o.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${_o.focused} .${_o.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${_o.error} .${_o.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${_o.disabled} .${_o.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&H({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),K8=Ee(H8,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),Y8=Ee(Om,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Rm})(({theme:e,ownerState:t})=>H({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),Pw=U.forwardRef(function(t,n){var r,i,s,o,c;const a=nt({props:t,name:"MuiOutlinedInput"}),{components:d={},fullWidth:l=!1,inputComponent:u="input",label:h,multiline:p=!1,notched:f,slots:g={},type:m="text"}=a,v=Te(a,W8),y=j8(a),x=Tu(),C=Iu({props:a,muiFormControl:x,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),b=H({},a,{color:C.color||"primary",disabled:C.disabled,error:C.error,focused:C.focused,formControl:x,fullWidth:l,hiddenLabel:C.hiddenLabel,multiline:p,size:C.size,type:m}),S=(r=(i=g.root)!=null?i:d.Root)!=null?r:V8,I=(s=(o=g.input)!=null?o:d.Input)!=null?s:Y8;return B.jsx(_w,H({slots:{root:S,input:I},renderSuffix:L=>B.jsx(K8,{ownerState:b,className:y.notchedOutline,label:h!=null&&h!==""&&C.required?c||(c=B.jsxs(U.Fragment,{children:[h," ","*"]})):h,notched:typeof f<"u"?f:!!(L.startAdornment||L.filled||L.focused)}),fullWidth:l,inputComponent:u,multiline:p,ref:n,type:m},v,{classes:H({},y,{notchedOutline:null})}))});Pw.muiName="Input";function Z8(e){return tt("MuiSelect",e)}const Qu=et("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var QE;const q8=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],X8=Ee("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${Qu.select}`]:t.select},{[`&.${Qu.select}`]:t[n.variant]},{[`&.${Qu.error}`]:t.error},{[`&.${Qu.multiple}`]:t.multiple}]}})(GI,{[`&.${Qu.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Q8=Ee("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${ye(n.variant)}`],n.open&&t.iconOpen]}})(zI),J8=Ee("input",{shouldForwardProp:e=>A_(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function JE(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function eF(e){return e==null||typeof e=="string"&&!e.trim()}const tF=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:s,error:o}=e,c={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${ye(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return rt(c,Z8,t)},nF=U.forwardRef(function(t,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:c,children:a,className:d,defaultOpen:l,defaultValue:u,disabled:h,displayEmpty:p,error:f=!1,IconComponent:g,inputRef:m,labelId:v,MenuProps:y={},multiple:x,name:C,onBlur:b,onChange:S,onClose:I,onFocus:L,onOpen:T,open:$,readOnly:P,renderValue:k,SelectDisplayProps:A={},tabIndex:w,value:E,variant:_="standard"}=t,R=Te(t,q8),[M,O]=ry({controlled:E,default:u,name:"Select"}),[N,F]=ry({controlled:$,default:l,name:"Select"}),G=U.useRef(null),z=U.useRef(null),[j,V]=U.useState(null),{current:Z}=U.useRef($!=null),[X,Y]=U.useState(),Q=fn(n,m),te=U.useCallback(Ue=>{z.current=Ue,Ue&&V(Ue)},[]),re=j==null?void 0:j.parentNode;U.useImperativeHandle(Q,()=>({focus:()=>{z.current.focus()},node:G.current,value:M}),[M]),U.useEffect(()=>{l&&N&&j&&!Z&&(Y(c?null:re.clientWidth),z.current.focus())},[j,c]),U.useEffect(()=>{o&&z.current.focus()},[o]),U.useEffect(()=>{if(!v)return;const Ue=$r(z.current).getElementById(v);if(Ue){const $t=()=>{getSelection().isCollapsed&&z.current.focus()};return Ue.addEventListener("click",$t),()=>{Ue.removeEventListener("click",$t)}}},[v]);const pe=(Ue,$t)=>{Ue?T&&T($t):I&&I($t),Z||(Y(c?null:re.clientWidth),F(Ue))},le=Ue=>{Ue.button===0&&(Ue.preventDefault(),z.current.focus(),pe(!0,Ue))},ge=Ue=>{pe(!1,Ue)},ne=U.Children.toArray(a),ve=Ue=>{const $t=ne.find(Qt=>Qt.props.value===Ue.target.value);$t!==void 0&&(O($t.props.value),S&&S(Ue,$t))},xe=Ue=>$t=>{let Qt;if($t.currentTarget.hasAttribute("tabindex")){if(x){Qt=Array.isArray(M)?M.slice():[];const Os=M.indexOf(Ue.props.value);Os===-1?Qt.push(Ue.props.value):Qt.splice(Os,1)}else Qt=Ue.props.value;if(Ue.props.onClick&&Ue.props.onClick($t),M!==Qt&&(O(Qt),S)){const Os=$t.nativeEvent||$t,Ru=new Os.constructor(Os.type,Os);Object.defineProperty(Ru,"target",{writable:!0,value:{value:Qt,name:C}}),S(Ru,Ue)}x||pe(!1,$t)}},Me=Ue=>{P||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Ue.key)!==-1&&(Ue.preventDefault(),pe(!0,Ue))},Ve=j!==null&&N,dt=Ue=>{!Ve&&b&&(Object.defineProperty(Ue,"target",{writable:!0,value:{value:M,name:C}}),b(Ue))};delete R["aria-invalid"];let De,rn;const pn=[];let Tt=!1;(dg({value:M})||p)&&(k?De=k(M):Tt=!0);const si=ne.map(Ue=>{if(!U.isValidElement(Ue))return null;let $t;if(x){if(!Array.isArray(M))throw new Error(dl(2));$t=M.some(Qt=>JE(Qt,Ue.props.value)),$t&&Tt&&pn.push(Ue.props.children)}else $t=JE(M,Ue.props.value),$t&&Tt&&(rn=Ue.props.children);return U.cloneElement(Ue,{"aria-selected":$t?"true":"false",onClick:xe(Ue),onKeyUp:Qt=>{Qt.key===" "&&Qt.preventDefault(),Ue.props.onKeyUp&&Ue.props.onKeyUp(Qt)},role:"option",selected:$t,value:void 0,"data-value":Ue.props.value})});Tt&&(x?pn.length===0?De=null:De=pn.reduce((Ue,$t,Qt)=>(Ue.push($t),Qt<pn.length-1&&Ue.push(", "),Ue),[]):De=rn);let ls=X;!c&&Z&&j&&(ls=re.clientWidth);let Sr;typeof w<"u"?Sr=w:Sr=h?null:0;const yt=A.id||(C?`mui-component-select-${C}`:void 0),Fe=H({},t,{variant:_,value:M,open:Ve,error:f}),ln=tF(Fe),wo=H({},y.PaperProps,(r=y.slotProps)==null?void 0:r.paper),xo=hm();return B.jsxs(U.Fragment,{children:[B.jsx(X8,H({ref:te,tabIndex:Sr,role:"combobox","aria-controls":xo,"aria-disabled":h?"true":void 0,"aria-expanded":Ve?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[v,yt].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Me,onMouseDown:h||P?null:le,onBlur:dt,onFocus:L},A,{ownerState:Fe,className:ke(A.className,ln.select,d),id:yt,children:eF(De)?QE||(QE=B.jsx("span",{className:"notranslate",children:"​"})):De})),B.jsx(J8,H({"aria-invalid":f,value:Array.isArray(M)?M.join(","):M,name:C,ref:G,"aria-hidden":!0,onChange:ve,tabIndex:-1,disabled:h,className:ln.nativeInput,autoFocus:o,ownerState:Fe},R)),B.jsx(Q8,{as:g,className:ln.icon,ownerState:Fe}),B.jsx(UI,H({id:`menu-${C||""}`,anchorEl:re,open:Ve,onClose:ge,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:H({"aria-labelledby":v,role:"listbox","aria-multiselectable":x?"true":void 0,disableListWrap:!0,id:xo},y.MenuListProps),slotProps:H({},y.slotProps,{paper:H({},wo,{style:H({minWidth:ls},wo!=null?wo.style:null)})}),children:si}))]})}),rF=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],iF=["root"],sF=e=>{const{classes:t}=e;return t},Ow={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Br(e)&&e!=="variant",slot:"Root"},oF=Ee($w,Ow)(""),aF=Ee(Pw,Ow)(""),lF=Ee(Tw,Ow)(""),df=U.forwardRef(function(t,n){const r=nt({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:s,classes:o={},className:c,defaultOpen:a=!1,displayEmpty:d=!1,IconComponent:l=_4,id:u,input:h,inputProps:p,label:f,labelId:g,MenuProps:m,multiple:v=!1,native:y=!1,onClose:x,onOpen:C,open:b,renderValue:S,SelectDisplayProps:I,variant:L="outlined"}=r,T=Te(r,rF),$=y?F8:nF,P=Tu(),k=Iu({props:r,muiFormControl:P,states:["variant","error"]}),A=k.variant||L,w=H({},r,{variant:A,classes:o}),E=sF(w),_=Te(E,iF),R=h||{standard:B.jsx(oF,{ownerState:w}),outlined:B.jsx(aF,{label:f,ownerState:w}),filled:B.jsx(lF,{ownerState:w})}[A],M=fn(n,Su(R));return B.jsx(U.Fragment,{children:U.cloneElement(R,H({inputComponent:$,inputProps:H({children:s,error:k.error,IconComponent:l,variant:A,type:void 0,multiple:v},y?{id:u}:{autoWidth:i,defaultOpen:a,displayEmpty:d,labelId:g,MenuProps:m,onClose:x,onOpen:C,open:b,renderValue:S,SelectDisplayProps:H({id:u},I)},p,{classes:p?qr(_,p.classes):_},h?h.props.inputProps:{})},(v&&y||d)&&A==="outlined"?{notched:!0}:{},{ref:M,className:ke(R.props.className,c,E.root)},!h&&{variant:A},T))})});df.muiName="Select";function cF(e){return tt("MuiToolbar",e)}et("MuiToolbar",["root","gutters","regular","dense"]);const uF=["className","component","disableGutters","variant"],dF=e=>{const{classes:t,disableGutters:n,variant:r}=e;return rt({root:["root",!n&&"gutters",r]},cF,t)},fF=Ee("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(({theme:e,ownerState:t})=>H({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:e,ownerState:t})=>t.variant==="regular"&&e.mixins.toolbar),eC=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:o=!1,variant:c="regular"}=r,a=Te(r,uF),d=H({},r,{component:s,disableGutters:o,variant:c}),l=dF(d);return B.jsx(fF,H({as:s,className:ke(l.root,i),ref:n,ownerState:d},a))});function hF(e){return tt("MuiTextField",e)}et("MuiTextField",["root"]);const pF=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],gF={standard:$w,filled:Tw,outlined:Pw},mF=e=>{const{classes:t}=e;return rt({root:["root"]},hF,t)},vF=Ee(nb,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Nw=U.forwardRef(function(t,n){const r=nt({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:c,color:a="primary",defaultValue:d,disabled:l=!1,error:u=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:f,id:g,InputLabelProps:m,inputProps:v,InputProps:y,inputRef:x,label:C,maxRows:b,minRows:S,multiline:I=!1,name:L,onBlur:T,onChange:$,onFocus:P,placeholder:k,required:A=!1,rows:w,select:E=!1,SelectProps:_,type:R,value:M,variant:O="outlined"}=r,N=Te(r,pF),F=H({},r,{autoFocus:s,color:a,disabled:l,error:u,fullWidth:p,multiline:I,required:A,select:E,variant:O}),G=mF(F),z={};O==="outlined"&&(m&&typeof m.shrink<"u"&&(z.notched=m.shrink),z.label=C),E&&((!_||!_.native)&&(z.id=void 0),z["aria-describedby"]=void 0);const j=hm(g),V=f&&j?`${j}-helper-text`:void 0,Z=C&&j?`${j}-label`:void 0,X=gF[O],Y=B.jsx(X,H({"aria-describedby":V,autoComplete:i,autoFocus:s,defaultValue:d,fullWidth:p,multiline:I,name:L,rows:w,maxRows:b,minRows:S,type:R,value:M,id:j,inputRef:x,onBlur:T,onChange:$,onFocus:P,placeholder:k,inputProps:v},z,y));return B.jsxs(vF,H({className:ke(G.root,c),disabled:l,error:u,fullWidth:p,ref:n,required:A,color:a,variant:O,ownerState:F},N,{children:[C!=null&&C!==""&&B.jsx(ib,H({htmlFor:j,id:Z},m,{children:C})),E?B.jsx(df,H({"aria-describedby":V,id:j,labelId:Z,value:M,input:Y},_,{children:o})):Y,f&&B.jsx(yD,H({id:V},h,{children:f}))]}))});var sb={},tC=xw;sb.createRoot=tC.createRoot,sb.hydrateRoot=tC.hydrateRoot;const yF=ti(B.jsx("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2zm-9-2h10V8H12zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"AccountBalanceWallet"),bF=ti(B.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),wF=ti(B.jsx("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown"),xF=ti(B.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),SF=ti(B.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),EF=ti(B.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),CF=ti([B.jsx("path",{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1m0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5z"},"0"),B.jsx("path",{d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99M13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.3-4.5.83m4.5 1.84c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24"},"1")],"MenuBook"),HI=ti(B.jsx("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),AF=ti(B.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),_F=ti(B.jsx("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz"),kl={name:"mainnet",chainId:1,defaultHardfork:"prague",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},depositContractAddress:"0x00000000219ab540356cBB839Cbe05303d7705Fa",hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{name:"paris",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeNetsplitBlock",block:null,forkHash:null},{name:"shanghai",block:null,timestamp:"1681338455",forkHash:"0xdce96c2d"},{name:"cancun",block:null,timestamp:"1710338135",forkHash:"0x9f3d2254"},{name:"prague",block:null,timestamp:"1746612311",forkHash:"0xc376cf8b"},{name:"osaka",block:null},{name:"verkle",block:null}],bootstrapNodes:[{ip:"18.138.108.67",port:30303,id:"d860a01f9722d78051619d1e2351aba3f43f943f6f00718d1b9baa4101932a1f5011f16bb2b1bb35db20d6fe28fa0bf09636d26a87d31de9ec6203eeedb1f666",location:"ap-southeast-1-001",comment:"bootnode-aws-ap-southeast-1-001"},{ip:"3.209.45.79",port:30303,id:"22a8232c3abc76a16ae9d6c3b164f98775fe226f0917b0ca871128a74a8e9630b458460865bab457221f1d448dd9791d24c4e5d88786180ac185df813a68d4de",location:"us-east-1-001",comment:"bootnode-aws-us-east-1-001"},{ip:"65.108.70.101",port:30303,id:"2b252ab6a1d0f971d9722cb839a42cb81db019ba44c08754628ab4a823487071b5695317c8ccd085219c3a03af063495b2f1da8d18218da2d6a82981b45e6ffc",location:"eu-west-1-001",comment:"bootnode-hetzner-hel"},{ip:"157.90.35.166",port:30303,id:"4aeb4ab6c14b23e2c4cfdce879c04b0748a20d8e9b59e25ded2a08143e265c6c25936e74cbc8e641e3312ca288673d91f2f93f8e277de3cfa444ecdaaf982052",location:"eu-central-1-001",comment:"bootnode-hetzner-fsn"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]},zl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Dm(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function fu(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function hn(e,...t){if(!Dm(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function kF(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");fu(e.outputLen),fu(e.blockLen)}function hu(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function WI(e,t){hn(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function IF(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function ga(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function ov(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function us(e,t){return e<<32-t|e>>>t}function Dh(e,t){return e<<t|e>>>32-t>>>0}const TF=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function $F(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function LF(e){for(let t=0;t<e.length;t++)e[t]=$F(e[t]);return e}const nC=TF?e=>e:LF,jI=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",MF=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ma(e){if(hn(e),jI)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=MF[e[n]];return t}const Ds={_0:48,_9:57,A:65,F:70,a:97,f:102};function rC(e){if(e>=Ds._0&&e<=Ds._9)return e-Ds._0;if(e>=Ds.A&&e<=Ds.F)return e-(Ds.A-10);if(e>=Ds.a&&e<=Ds.f)return e-(Ds.a-10)}function Fm(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(jI)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=rC(e.charCodeAt(s)),c=rC(e.charCodeAt(s+1));if(o===void 0||c===void 0){const a=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+a+'" at index '+s)}r[i]=o*16+c}return r}function Il(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Um(e){return typeof e=="string"&&(e=Il(e)),hn(e),e}function Ut(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];hn(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}let Bw=class{};function Dw(e){const t=r=>e().update(Um(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Fw(e=32){if(zl&&typeof zl.getRandomValues=="function")return zl.getRandomValues(new Uint8Array(e));if(zl&&typeof zl.randomBytes=="function")return Uint8Array.from(zl.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function RF(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),c=Number(n&s),a=r?4:0,d=r?0:4;e.setUint32(t+a,o,r),e.setUint32(t+d,c,r)}function PF(e,t,n){return e&t^~e&n}function OF(e,t,n){return e&t^e&n^t&n}class VI extends Bw{constructor(t,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(t),this.view=ov(this.buffer)}update(t){hu(this),t=Um(t),hn(t);const{view:n,buffer:r,blockLen:i}=this,s=t.length;for(let o=0;o<s;){const c=Math.min(i-this.pos,s-o);if(c===i){const a=ov(t);for(;i<=s-o;o+=i)this.process(a,o);continue}r.set(t.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){hu(this),WI(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,ga(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let u=o;u<i;u++)n[u]=0;RF(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=ov(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=a/4,l=this.get();if(d>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<d;u++)c.setUint32(4*u,l[u],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:c}=this;return t.destroyed=o,t.finished=s,t.length=i,t.pos=c,i%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Io=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Fh=BigInt(2**32-1),iC=BigInt(32);function NF(e,t=!1){return t?{h:Number(e&Fh),l:Number(e>>iC&Fh)}:{h:Number(e>>iC&Fh)|0,l:Number(e&Fh)|0}}function BF(e,t=!1){const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:c}=NF(e[s],t);[r[s],i[s]]=[o,c]}return[r,i]}const DF=(e,t,n)=>e<<n|t>>>32-n,FF=(e,t,n)=>t<<n|e>>>32-n,UF=(e,t,n)=>t<<n-32|e>>>64-n,GF=(e,t,n)=>e<<n-32|t>>>64-n,zF=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),To=new Uint32Array(64);class HF extends VI{constructor(t=32){super(64,t,8,!1),this.A=Io[0]|0,this.B=Io[1]|0,this.C=Io[2]|0,this.D=Io[3]|0,this.E=Io[4]|0,this.F=Io[5]|0,this.G=Io[6]|0,this.H=Io[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:o,G:c,H:a}=this;return[t,n,r,i,s,o,c,a]}set(t,n,r,i,s,o,c,a){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=c|0,this.H=a|0}process(t,n){for(let u=0;u<16;u++,n+=4)To[u]=t.getUint32(n,!1);for(let u=16;u<64;u++){const h=To[u-15],p=To[u-2],f=us(h,7)^us(h,18)^h>>>3,g=us(p,17)^us(p,19)^p>>>10;To[u]=g+To[u-7]+f+To[u-16]|0}let{A:r,B:i,C:s,D:o,E:c,F:a,G:d,H:l}=this;for(let u=0;u<64;u++){const h=us(c,6)^us(c,11)^us(c,25),p=l+h+PF(c,a,d)+zF[u]+To[u]|0,g=(us(r,2)^us(r,13)^us(r,22))+OF(r,i,s)|0;l=d,d=a,a=c,c=o+p|0,o=s,s=i,i=r,r=p+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,c=c+this.E|0,a=a+this.F|0,d=d+this.G|0,l=l+this.H|0,this.set(r,i,s,o,c,a,d,l)}roundClean(){ga(To)}destroy(){this.set(0,0,0,0,0,0,0,0),ga(this.buffer)}}const Tl=Dw(()=>new HF);class KI extends Bw{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,kF(t);const r=Um(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),ga(s)}update(t){return hu(this),this.iHash.update(t),this}digestInto(t){hu(this),hn(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:c}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Uw=(e,t,n)=>new KI(e,t).update(n).digest();Uw.create=(e,t)=>new KI(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gw=BigInt(0),ob=BigInt(1);function pu(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function zw(e){if(!pu(e))throw new Error("Uint8Array expected")}function ff(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Uh(e){const t=e.toString(16);return t.length&1?"0"+t:t}function YI(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Gw:BigInt("0x"+e)}const ZI=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",WF=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function hf(e){if(zw(e),ZI)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=WF[e[n]];return t}const Fs={_0:48,_9:57,A:65,F:70,a:97,f:102};function sC(e){if(e>=Fs._0&&e<=Fs._9)return e-Fs._0;if(e>=Fs.A&&e<=Fs.F)return e-(Fs.A-10);if(e>=Fs.a&&e<=Fs.f)return e-(Fs.a-10)}function hg(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(ZI)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=sC(e.charCodeAt(s)),c=sC(e.charCodeAt(s+1));if(o===void 0||c===void 0){const a=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+a+'" at index '+s)}r[i]=o*16+c}return r}function ol(e){return YI(hf(e))}function qI(e){return zw(e),YI(hf(Uint8Array.from(e).reverse()))}function pf(e,t){return hg(e.toString(16).padStart(t*2,"0"))}function XI(e,t){return pf(e,t).reverse()}function Pi(e,t,n){let r;if(typeof t=="string")try{r=hg(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(pu(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function pg(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];zw(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}const av=e=>typeof e=="bigint"&&Gw<=e;function Hw(e,t,n){return av(e)&&av(t)&&av(n)&&t<=e&&e<n}function Fc(e,t,n,r){if(!Hw(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function jF(e){let t;for(t=0;e>Gw;e>>=ob,t+=1);return t}const Gm=e=>(ob<<BigInt(e))-ob,lv=e=>new Uint8Array(e),oC=e=>Uint8Array.from(e);function VF(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=lv(e),i=lv(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},c=(...u)=>n(i,r,...u),a=(u=lv(0))=>{i=c(oC([0]),u),r=c(),u.length!==0&&(i=c(oC([1]),u),r=c())},d=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const h=[];for(;u<t;){r=c();const p=r.slice();h.push(p),u+=r.length}return pg(...h)};return(u,h)=>{o(),a(u);let p;for(;!(p=h(d()));)a();return o(),p}}const KF={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||pu(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function zm(e,t,n={}){const r=(i,s,o)=>{const c=KF[s];if(typeof c!="function")throw new Error("invalid validator function");const a=e[i];if(!(o&&a===void 0)&&!c(a,e))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+a)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}function aC(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const s=e(n,...r);return t.set(n,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Tr=BigInt(0),ar=BigInt(1),Va=BigInt(2),YF=BigInt(3),ab=BigInt(4),lC=BigInt(5),cC=BigInt(8);function Ar(e,t){const n=e%t;return n>=Tr?n:t+n}function li(e,t,n){let r=e;for(;t-- >Tr;)r*=r,r%=n;return r}function lb(e,t){if(e===Tr)throw new Error("invert: expected non-zero number");if(t<=Tr)throw new Error("invert: expected positive modulus, got "+t);let n=Ar(e,t),r=t,i=Tr,s=ar;for(;n!==Tr;){const c=r/n,a=r%n,d=i-s*c;r=n,n=a,i=s,s=d}if(r!==ar)throw new Error("invert: does not exist");return Ar(i,t)}function ZF(e){let t=e-ar,n=0;for(;t%Va===Tr;)t/=Va,n++;let r=Va;const i=Ww(e);for(;r<e&&uC(i,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1){const o=(e+ar)/ab;return function(a,d){const l=a.pow(d,o);if(!a.eql(a.sqr(l),d))throw new Error("Cannot find square root");return l}}const s=(t+ar)/Va;return function(c,a){if(!uC(c,a))throw new Error("Cannot find square root");let d=n,l=c.pow(c.mul(c.ONE,r),t),u=c.pow(a,s),h=c.pow(a,t);for(;!c.eql(h,c.ONE);){if(c.eql(h,c.ZERO))return c.ZERO;let p=1;for(let g=c.sqr(h);p<d&&!c.eql(g,c.ONE);p++)g=c.sqr(g);const f=c.pow(l,ar<<BigInt(d-p-1));l=c.sqr(f),u=c.mul(u,f),h=c.mul(h,l),d=p}return u}}function qF(e){return e%ab===YF?function(n,r){const i=(e+ar)/ab,s=n.pow(r,i);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}:e%cC===lC?function(n,r){const i=n.mul(r,Va),s=(e-lC)/cC,o=n.pow(i,s),c=n.mul(r,o),a=n.mul(n.mul(c,Va),o),d=n.mul(c,n.sub(a,n.ONE));if(!n.eql(n.sqr(d),r))throw new Error("Cannot find square root");return d}:ZF(e)}const XF=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function QF(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=XF.reduce((r,i)=>(r[i]="function",r),t);return zm(e,n)}function JF(e,t,n){if(n<Tr)throw new Error("invalid exponent, negatives unsupported");if(n===Tr)return e.ONE;if(n===ar)return t;let r=e.ONE,i=t;for(;n>Tr;)n&ar&&(r=e.mul(r,i)),i=e.sqr(i),n>>=ar;return r}function QI(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((o,c,a)=>e.is0(c)?o:(r[a]=o,e.mul(o,c)),e.ONE),s=e.inv(i);return t.reduceRight((o,c,a)=>e.is0(c)?o:(r[a]=e.mul(o,r[a]),e.mul(o,c)),s),r}function e9(e,t){const n=(e.ORDER-ar)/Va,r=e.pow(t,n),i=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("Cannot find square root: probably non-prime P");return i?1:s?0:-1}function uC(e,t){const n=e9(e,t);return n===0||n===1}function JI(e,t){t!==void 0&&fu(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ww(e,t,n=!1,r={}){if(e<=Tr)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=JI(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const c=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:Gm(i),ZERO:Tr,ONE:ar,create:a=>Ar(a,e),isValid:a=>{if(typeof a!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof a);return Tr<=a&&a<e},is0:a=>a===Tr,isOdd:a=>(a&ar)===ar,neg:a=>Ar(-a,e),eql:(a,d)=>a===d,sqr:a=>Ar(a*a,e),add:(a,d)=>Ar(a+d,e),sub:(a,d)=>Ar(a-d,e),mul:(a,d)=>Ar(a*d,e),pow:(a,d)=>JF(c,a,d),div:(a,d)=>Ar(a*lb(d,e),e),sqrN:a=>a*a,addN:(a,d)=>a+d,subN:(a,d)=>a-d,mulN:(a,d)=>a*d,inv:a=>lb(a,e),sqrt:r.sqrt||(a=>(o||(o=qF(e)),o(c,a))),toBytes:a=>n?XI(a,s):pf(a,s),fromBytes:a=>{if(a.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+a.length);return n?qI(a):ol(a)},invertBatch:a=>QI(c,a),cmov:(a,d,l)=>l?d:a});return Object.freeze(c)}function eT(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function tT(e){const t=eT(e);return t+Math.ceil(t/2)}function t9(e,t,n=!1){const r=e.length,i=eT(t),s=tT(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?qI(e):ol(e),c=Ar(o,t-ar)+ar;return n?XI(c,i):pf(c,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dC=BigInt(0),cb=BigInt(1);function cv(e,t){const n=t.negate();return e?n:t}function nT(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function uv(e,t){nT(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),i=2**e,s=Gm(e),o=BigInt(e);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function fC(e,t,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let c=Number(e&i),a=e>>o;c>r&&(c-=s,a+=cb);const d=t*r,l=d+Math.abs(c)-1,u=c===0,h=c<0,p=t%2!==0;return{nextN:a,offset:l,isZero:u,isNeg:h,isNegF:p,offsetF:d}}function n9(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function r9(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const dv=new WeakMap,rT=new WeakMap;function fv(e){return rT.get(e)||1}function i9(e,t){return{constTimeNegate:cv,hasPrecomputes(n){return fv(n)!==1},unsafeLadder(n,r,i=e.ZERO){let s=n;for(;r>dC;)r&cb&&(i=i.add(s)),s=s.double(),r>>=cb;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=uv(r,t),o=[];let c=n,a=c;for(let d=0;d<i;d++){a=c,o.push(a);for(let l=1;l<s;l++)a=a.add(c),o.push(a);c=a.double()}return o},wNAF(n,r,i){let s=e.ZERO,o=e.BASE;const c=uv(n,t);for(let a=0;a<c.windows;a++){const{nextN:d,offset:l,isZero:u,isNeg:h,isNegF:p,offsetF:f}=fC(i,a,c);i=d,u?o=o.add(cv(p,r[f])):s=s.add(cv(h,r[l]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=e.ZERO){const o=uv(n,t);for(let c=0;c<o.windows&&i!==dC;c++){const{nextN:a,offset:d,isZero:l,isNeg:u}=fC(i,c,o);if(i=a,!l){const h=r[d];s=s.add(u?h.negate():h)}}return s},getPrecomputes(n,r,i){let s=dv.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&dv.set(r,i(s))),s},wNAFCached(n,r,i){const s=fv(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=fv(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){nT(r,t),rT.set(n,r),dv.delete(n)}}}function s9(e,t,n,r){if(n9(n,e),r9(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,s=jF(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,c=Gm(o),a=new Array(Number(c)+1).fill(i),d=Math.floor((t.BITS-1)/o)*o;let l=i;for(let u=d;u>=0;u-=o){a.fill(i);for(let p=0;p<r.length;p++){const f=r[p],g=Number(f>>BigInt(u)&c);a[g]=a[g].add(n[p])}let h=i;for(let p=a.length-1,f=i;p>0;p--)f=f.add(a[p]),h=h.add(f);if(l=l.add(h),u!==0)for(let p=0;p<o;p++)l=l.double()}return l}function iT(e){return QF(e.Fp),zm(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...JI(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function hC(e){e.lowS!==void 0&&ff("lowS",e.lowS),e.prehash!==void 0&&ff("prehash",e.prehash)}function o9(e){const t=iT(e);zm(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}let a9=class extends Error{constructor(t=""){super(t)}};const Zs={Err:a9,_tlv:{encode:(e,t)=>{const{Err:n}=Zs;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=Uh(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Uh(i.length/2|128):"";return Uh(e)+s+i+t},decode(e,t){const{Err:n}=Zs;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const a=i&127;if(!a)throw new n("tlv.decode(long): indefinite length not supported");if(a>4)throw new n("tlv.decode(long): byte length is too big");const d=t.subarray(r,r+a);if(d.length!==a)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const l of d)o=o<<8|l;if(r+=a,o<128)throw new n("tlv.decode(long): not minimal encoding")}const c=t.subarray(r,r+o);if(c.length!==o)throw new n("tlv.decode: wrong value length");return{v:c,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=Zs;if(e<to)throw new t("integer: negative integers are not allowed");let n=Uh(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Zs;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return ol(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Zs,i=Pi("signature",e),{v:s,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:c,l:a}=r.decode(2,s),{v:d,l}=r.decode(2,a);if(l.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(d)}},hexFromSig(e){const{_tlv:t,_int:n}=Zs,r=t.encode(2,n.encode(e.r)),i=t.encode(2,n.encode(e.s)),s=r+i;return t.encode(48,s)}},to=BigInt(0),In=BigInt(1);BigInt(2);const pC=BigInt(3);BigInt(4);function l9(e){const t=o9(e),{Fp:n}=t,r=Ww(t.n,t.nBitLength),i=t.toBytes||((g,m,v)=>{const y=m.toAffine();return pg(Uint8Array.from([4]),n.toBytes(y.x),n.toBytes(y.y))}),s=t.fromBytes||(g=>{const m=g.subarray(1),v=n.fromBytes(m.subarray(0,n.BYTES)),y=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:v,y}});function o(g){const{a:m,b:v}=t,y=n.sqr(g),x=n.mul(y,g);return n.add(n.add(x,n.mul(g,m)),v)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function c(g){return Hw(g,In,t.n)}function a(g){const{allowedPrivateKeyLengths:m,nByteLength:v,wrapPrivateKey:y,n:x}=t;if(m&&typeof g!="bigint"){if(pu(g)&&(g=hf(g)),typeof g!="string"||!m.includes(g.length))throw new Error("invalid private key");g=g.padStart(v*2,"0")}let C;try{C=typeof g=="bigint"?g:ol(Pi("private key",g,v))}catch{throw new Error("invalid private key, expected hex or "+v+" bytes, got "+typeof g)}return y&&(C=Ar(C,x)),Fc("private key",C,In,x),C}function d(g){if(!(g instanceof h))throw new Error("ProjectivePoint expected")}const l=aC((g,m)=>{const{px:v,py:y,pz:x}=g;if(n.eql(x,n.ONE))return{x:v,y};const C=g.is0();m==null&&(m=C?n.ONE:n.inv(x));const b=n.mul(v,m),S=n.mul(y,m),I=n.mul(x,m);if(C)return{x:n.ZERO,y:n.ZERO};if(!n.eql(I,n.ONE))throw new Error("invZ was invalid");return{x:b,y:S}}),u=aC(g=>{if(g.is0()){if(t.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:m,y:v}=g.toAffine();if(!n.isValid(m)||!n.isValid(v))throw new Error("bad point: x or y not FE");const y=n.sqr(v),x=o(m);if(!n.eql(y,x))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(m,v,y){if(m==null||!n.isValid(m))throw new Error("x required");if(v==null||!n.isValid(v)||n.is0(v))throw new Error("y required");if(y==null||!n.isValid(y))throw new Error("z required");this.px=m,this.py=v,this.pz=y,Object.freeze(this)}static fromAffine(m){const{x:v,y}=m||{};if(!m||!n.isValid(v)||!n.isValid(y))throw new Error("invalid affine point");if(m instanceof h)throw new Error("projective point not allowed");const x=C=>n.eql(C,n.ZERO);return x(v)&&x(y)?h.ZERO:new h(v,y,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const v=QI(n,m.map(y=>y.pz));return m.map((y,x)=>y.toAffine(v[x])).map(h.fromAffine)}static fromHex(m){const v=h.fromAffine(s(Pi("pointHex",m)));return v.assertValidity(),v}static fromPrivateKey(m){return h.BASE.multiply(a(m))}static msm(m,v){return s9(h,r,m,v)}_setWindowSize(m){f.setWindowSize(this,m)}assertValidity(){u(this)}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){d(m);const{px:v,py:y,pz:x}=this,{px:C,py:b,pz:S}=m,I=n.eql(n.mul(v,S),n.mul(C,x)),L=n.eql(n.mul(y,S),n.mul(b,x));return I&&L}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:v}=t,y=n.mul(v,pC),{px:x,py:C,pz:b}=this;let S=n.ZERO,I=n.ZERO,L=n.ZERO,T=n.mul(x,x),$=n.mul(C,C),P=n.mul(b,b),k=n.mul(x,C);return k=n.add(k,k),L=n.mul(x,b),L=n.add(L,L),S=n.mul(m,L),I=n.mul(y,P),I=n.add(S,I),S=n.sub($,I),I=n.add($,I),I=n.mul(S,I),S=n.mul(k,S),L=n.mul(y,L),P=n.mul(m,P),k=n.sub(T,P),k=n.mul(m,k),k=n.add(k,L),L=n.add(T,T),T=n.add(L,T),T=n.add(T,P),T=n.mul(T,k),I=n.add(I,T),P=n.mul(C,b),P=n.add(P,P),T=n.mul(P,k),S=n.sub(S,T),L=n.mul(P,$),L=n.add(L,L),L=n.add(L,L),new h(S,I,L)}add(m){d(m);const{px:v,py:y,pz:x}=this,{px:C,py:b,pz:S}=m;let I=n.ZERO,L=n.ZERO,T=n.ZERO;const $=t.a,P=n.mul(t.b,pC);let k=n.mul(v,C),A=n.mul(y,b),w=n.mul(x,S),E=n.add(v,y),_=n.add(C,b);E=n.mul(E,_),_=n.add(k,A),E=n.sub(E,_),_=n.add(v,x);let R=n.add(C,S);return _=n.mul(_,R),R=n.add(k,w),_=n.sub(_,R),R=n.add(y,x),I=n.add(b,S),R=n.mul(R,I),I=n.add(A,w),R=n.sub(R,I),T=n.mul($,_),I=n.mul(P,w),T=n.add(I,T),I=n.sub(A,T),T=n.add(A,T),L=n.mul(I,T),A=n.add(k,k),A=n.add(A,k),w=n.mul($,w),_=n.mul(P,_),A=n.add(A,w),w=n.sub(k,w),w=n.mul($,w),_=n.add(_,w),k=n.mul(A,_),L=n.add(L,k),k=n.mul(R,_),I=n.mul(E,I),I=n.sub(I,k),k=n.mul(E,A),T=n.mul(R,T),T=n.add(T,k),new h(I,L,T)}subtract(m){return this.add(m.negate())}is0(){return this.equals(h.ZERO)}wNAF(m){return f.wNAFCached(this,m,h.normalizeZ)}multiplyUnsafe(m){const{endo:v,n:y}=t;Fc("scalar",m,to,y);const x=h.ZERO;if(m===to)return x;if(this.is0()||m===In)return this;if(!v||f.hasPrecomputes(this))return f.wNAFCachedUnsafe(this,m,h.normalizeZ);let{k1neg:C,k1:b,k2neg:S,k2:I}=v.splitScalar(m),L=x,T=x,$=this;for(;b>to||I>to;)b&In&&(L=L.add($)),I&In&&(T=T.add($)),$=$.double(),b>>=In,I>>=In;return C&&(L=L.negate()),S&&(T=T.negate()),T=new h(n.mul(T.px,v.beta),T.py,T.pz),L.add(T)}multiply(m){const{endo:v,n:y}=t;Fc("scalar",m,In,y);let x,C;if(v){const{k1neg:b,k1:S,k2neg:I,k2:L}=v.splitScalar(m);let{p:T,f:$}=this.wNAF(S),{p:P,f:k}=this.wNAF(L);T=f.constTimeNegate(b,T),P=f.constTimeNegate(I,P),P=new h(n.mul(P.px,v.beta),P.py,P.pz),x=T.add(P),C=$.add(k)}else{const{p:b,f:S}=this.wNAF(m);x=b,C=S}return h.normalizeZ([x,C])[0]}multiplyAndAddUnsafe(m,v,y){const x=h.BASE,C=(S,I)=>I===to||I===In||!S.equals(x)?S.multiplyUnsafe(I):S.multiply(I),b=C(this,v).add(C(m,y));return b.is0()?void 0:b}toAffine(m){return l(this,m)}isTorsionFree(){const{h:m,isTorsionFree:v}=t;if(m===In)return!0;if(v)return v(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:v}=t;return m===In?this:v?v(h,this):this.multiplyUnsafe(t.h)}toRawBytes(m=!0){return ff("isCompressed",m),this.assertValidity(),i(h,this,m)}toHex(m=!0){return ff("isCompressed",m),hf(this.toRawBytes(m))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const p=t.nBitLength,f=i9(h,t.endo?Math.ceil(p/2):p);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:a,weierstrassEquation:o,isWithinCurveOrder:c}}function c9(e){const t=iT(e);return zm(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function u9(e){const t=c9(e),{Fp:n,n:r}=t,i=n.BYTES+1,s=2*n.BYTES+1;function o(w){return Ar(w,r)}function c(w){return lb(w,r)}const{ProjectivePoint:a,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:u}=l9({...t,toBytes(w,E,_){const R=E.toAffine(),M=n.toBytes(R.x),O=pg;return ff("isCompressed",_),_?O(Uint8Array.from([E.hasEvenY()?2:3]),M):O(Uint8Array.from([4]),M,n.toBytes(R.y))},fromBytes(w){const E=w.length,_=w[0],R=w.subarray(1);if(E===i&&(_===2||_===3)){const M=ol(R);if(!Hw(M,In,n.ORDER))throw new Error("Point is not on curve");const O=l(M);let N;try{N=n.sqrt(O)}catch(z){const j=z instanceof Error?": "+z.message:"";throw new Error("Point is not on curve"+j)}const F=(N&In)===In;return(_&1)===1!==F&&(N=n.neg(N)),{x:M,y:N}}else if(E===s&&_===4){const M=n.fromBytes(R.subarray(0,n.BYTES)),O=n.fromBytes(R.subarray(n.BYTES,2*n.BYTES));return{x:M,y:O}}else{const M=i,O=s;throw new Error("invalid Point, expected length of "+M+", or uncompressed "+O+", got "+E)}}}),h=w=>hf(pf(w,t.nByteLength));function p(w){const E=r>>In;return w>E}function f(w){return p(w)?o(-w):w}const g=(w,E,_)=>ol(w.slice(E,_));class m{constructor(E,_,R){Fc("r",E,In,r),Fc("s",_,In,r),this.r=E,this.s=_,R!=null&&(this.recovery=R),Object.freeze(this)}static fromCompact(E){const _=t.nByteLength;return E=Pi("compactSignature",E,_*2),new m(g(E,0,_),g(E,_,2*_))}static fromDER(E){const{r:_,s:R}=Zs.toSig(Pi("DER",E));return new m(_,R)}assertValidity(){}addRecoveryBit(E){return new m(this.r,this.s,E)}recoverPublicKey(E){const{r:_,s:R,recovery:M}=this,O=S(Pi("msgHash",E));if(M==null||![0,1,2,3].includes(M))throw new Error("recovery id invalid");const N=M===2||M===3?_+t.n:_;if(N>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const F=M&1?"03":"02",G=a.fromHex(F+h(N)),z=c(N),j=o(-O*z),V=o(R*z),Z=a.BASE.multiplyAndAddUnsafe(G,j,V);if(!Z)throw new Error("point at infinify");return Z.assertValidity(),Z}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return hg(this.toDERHex())}toDERHex(){return Zs.hexFromSig(this)}toCompactRawBytes(){return hg(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const v={isValidPrivateKey(w){try{return d(w),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const w=tT(t.n);return t9(t.randomBytes(w),t.n)},precompute(w=8,E=a.BASE){return E._setWindowSize(w),E.multiply(BigInt(3)),E}};function y(w,E=!0){return a.fromPrivateKey(w).toRawBytes(E)}function x(w){const E=pu(w),_=typeof w=="string",R=(E||_)&&w.length;return E?R===i||R===s:_?R===2*i||R===2*s:w instanceof a}function C(w,E,_=!0){if(x(w))throw new Error("first arg must be private key");if(!x(E))throw new Error("second arg must be public key");return a.fromHex(E).multiply(d(w)).toRawBytes(_)}const b=t.bits2int||function(w){if(w.length>8192)throw new Error("input is too large");const E=ol(w),_=w.length*8-t.nBitLength;return _>0?E>>BigInt(_):E},S=t.bits2int_modN||function(w){return o(b(w))},I=Gm(t.nBitLength);function L(w){return Fc("num < 2^"+t.nBitLength,w,to,I),pf(w,t.nByteLength)}function T(w,E,_=$){if(["recovered","canonical"].some(Y=>Y in _))throw new Error("sign() legacy options not supported");const{hash:R,randomBytes:M}=t;let{lowS:O,prehash:N,extraEntropy:F}=_;O==null&&(O=!0),w=Pi("msgHash",w),hC(_),N&&(w=Pi("prehashed msgHash",R(w)));const G=S(w),z=d(E),j=[L(z),L(G)];if(F!=null&&F!==!1){const Y=F===!0?M(n.BYTES):F;j.push(Pi("extraEntropy",Y))}const V=pg(...j),Z=G;function X(Y){const Q=b(Y);if(!u(Q))return;const te=c(Q),re=a.BASE.multiply(Q).toAffine(),pe=o(re.x);if(pe===to)return;const le=o(te*o(Z+pe*z));if(le===to)return;let ge=(re.x===pe?0:2)|Number(re.y&In),ne=le;return O&&p(le)&&(ne=f(le),ge^=1),new m(pe,ne,ge)}return{seed:V,k2sig:X}}const $={lowS:t.lowS,prehash:!1},P={lowS:t.lowS,prehash:!1};function k(w,E,_=$){const{seed:R,k2sig:M}=T(w,E,_),O=t;return VF(O.hash.outputLen,O.nByteLength,O.hmac)(R,M)}a.BASE._setWindowSize(8);function A(w,E,_,R=P){var ge;const M=w;E=Pi("msgHash",E),_=Pi("publicKey",_);const{lowS:O,prehash:N,format:F}=R;if(hC(R),"strict"in R)throw new Error("options.strict was renamed to lowS");if(F!==void 0&&F!=="compact"&&F!=="der")throw new Error("format must be compact or der");const G=typeof M=="string"||pu(M),z=!G&&!F&&typeof M=="object"&&M!==null&&typeof M.r=="bigint"&&typeof M.s=="bigint";if(!G&&!z)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let j,V;try{if(z&&(j=new m(M.r,M.s)),G){try{F!=="compact"&&(j=m.fromDER(M))}catch(ne){if(!(ne instanceof Zs.Err))throw ne}!j&&F!=="der"&&(j=m.fromCompact(M))}V=a.fromHex(_)}catch{return!1}if(!j||O&&j.hasHighS())return!1;N&&(E=t.hash(E));const{r:Z,s:X}=j,Y=S(E),Q=c(X),te=o(Y*Q),re=o(Z*Q),pe=(ge=a.BASE.multiplyAndAddUnsafe(V,te,re))==null?void 0:ge.toAffine();return pe?o(pe.x)===Z:!1}return{CURVE:t,getPublicKey:y,getSharedSecret:C,sign:k,verify:A,ProjectivePoint:a,Signature:m,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function d9(e){return{hash:e,hmac:(t,...n)=>Uw(e,t,Ut(...n)),randomBytes:Fw}}function f9(e,t){const n=r=>u9({...e,...d9(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sT=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),gC=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h9=BigInt(1),ub=BigInt(2),mC=(e,t)=>(e+t/ub)/t;function p9(e){const t=sT,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),c=BigInt(44),a=BigInt(88),d=e*e*e%t,l=d*d*e%t,u=li(l,n,t)*l%t,h=li(u,n,t)*l%t,p=li(h,ub,t)*d%t,f=li(p,i,t)*p%t,g=li(f,s,t)*f%t,m=li(g,c,t)*g%t,v=li(m,a,t)*m%t,y=li(v,c,t)*g%t,x=li(y,n,t)*l%t,C=li(x,o,t)*f%t,b=li(C,r,t)*d%t,S=li(b,ub,t);if(!db.eql(db.sqr(S),e))throw new Error("Cannot find square root");return S}const db=Ww(sT,void 0,void 0,{sqrt:p9}),$l=f9({a:BigInt(0),b:BigInt(7),Fp:db,n:gC,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=gC,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-h9*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),c=mC(s*e,t),a=mC(-r*e,t);let d=Ar(e-c*n-a*i,t),l=Ar(-c*r-a*s,t);const u=d>o,h=l>o;if(u&&(d=t-d),h&&(l=t-l),d>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:u,k1:d,k2neg:h,k2:l}}}},Tl);BigInt(0);const g9=hn;function oT(e){if(!(e instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof e}`);return new TextDecoder().decode(e)}function aT(e){const t=e.startsWith("0x")?e.substring(2):e;return Fm(t)}function Ye(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function jw(e){return t=>(g9(t),e(t))}const jf=jw(Tl),m9="ETHEREUMJS_DEFAULT_ERROR_CODE";class v9 extends Error{constructor(t,n,r){super(n??t.code),this.type=t,r!==void 0&&(this.stack=r)}getMetadata(){return this.type}toObject(){return{type:this.getMetadata(),message:this.message??"",stack:this.stack??"",className:this.constructor.name}}}function W(e,t){return new v9({code:m9},e,t)}function vC(e){if(e[0]===0)throw W("invalid RLP: extra zeros");return w9(b9(e))}function yC(e,t){if(e<56)return Uint8Array.from([e+t]);const n=pb(e),r=n.length/2,i=pb(t+55+r);return Uint8Array.from(hb(i+n))}function Hl(e,t,n){if(n>e.length)throw W("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,n)}function fb(e){let t,n,r,i,s;const o=[],c=e[0];if(c<=127)return{data:e.slice(0,1),remainder:e.subarray(1)};if(c<=183){if(t=c-127,c===128?r=Uint8Array.from([]):r=Hl(e,1,t),t===2&&r[0]<128)throw W("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:r,remainder:e.subarray(t)}}else if(c<=191){if(n=c-182,e.length-1<n)throw W("invalid RLP: not enough bytes for string length");if(t=vC(Hl(e,1,n)),t<=55)throw W("invalid RLP: expected string length to be greater than 55");return r=Hl(e,n,t+n),{data:r,remainder:e.subarray(t+n)}}else if(c<=247){for(t=c-191,i=Hl(e,1,t);i.length;)s=fb(i),o.push(s.data),i=s.remainder;return{data:o,remainder:e.subarray(t)}}else{if(n=c-246,t=vC(Hl(e,1,n)),t<56)throw W("invalid RLP: encoded list too short");const a=n+t;if(a>e.length)throw W("invalid RLP: total length is larger than the data");for(i=Hl(e,n,a);i.length;)s=fb(i),o.push(s.data),i=s.remainder;return{data:o,remainder:e.subarray(a)}}}const y9=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function b9(e){let t="";for(let n=0;n<e.length;n++)t+=y9[e[n]];return t}function w9(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw W("Invalid byte sequence");return t}const Us={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function bC(e){if(e>=Us._0&&e<=Us._9)return e-Us._0;if(e>=Us._A&&e<=Us._F)return e-(Us._A-10);if(e>=Us._a&&e<=Us._f)return e-(Us._a-10)}function hb(e){if(e.slice(0,2)==="0x"&&(e=e.slice(0,2)),typeof e!="string")throw W("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw W("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=bC(e.charCodeAt(s)),c=bC(e.charCodeAt(s+1));if(o===void 0||c===void 0){const a=e[s]+e[s+1];throw W('hex string expected, got non-hex character "'+a+'" at index '+s)}r[i]=o*16+c}return r}function wC(...e){if(e.length===1)return e[0];const t=e.reduce((r,i)=>r+i.length,0),n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}function x9(e){return new TextEncoder().encode(e)}function pb(e){if(e<0)throw W("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function S9(e){return e.length%2?`0${e}`:e}function lT(e){return e.length>=2&&e[0]==="0"&&e[1]==="x"}function E9(e){return typeof e!="string"?e:lT(e)?e.slice(2):e}function cT(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return lT(e)?hb(S9(E9(e))):x9(e);if(typeof e=="number"||typeof e=="bigint")return e?hb(pb(e)):Uint8Array.from([]);if(e==null)return Uint8Array.from([]);throw W("toBytes: received unsupported type "+typeof e)}function uT(e){if(Array.isArray(e)){const n=[];let r=0;for(let i=0;i<e.length;i++){const s=uT(e[i]);n.push(s),r+=s.length}return wC(yC(r,192),...n)}const t=cT(e);return t.length===1&&t[0]<128?t:wC(yC(t.length,128),t)}function C9(e,t=!1){if(typeof e>"u"||e===null||e.length===0)return Uint8Array.from([]);const n=cT(e),r=fb(n);if(t)return{data:r.data,remainder:r.remainder.slice()};if(r.remainder.length!==0)throw W("invalid RLP: remainder must be zero");return r.data}const ut={encode:uT,decode:C9};function Vw(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/))}const Sp=e=>{if(typeof e!="string")throw W(`[stripHexPrefix] input must be type 'string', received ${typeof e}`);return Vw(e)?e.slice(2):e};function Kw(e){let t=e;if(typeof t!="string")throw W(`[padToEven] value must be type 'string', received ${typeof t}`);return t.length%2&&(t=`0${t}`),t}const _s=function(e){if(!(e instanceof Uint8Array)){const t=`This method only supports Uint8Array but input was: ${e}`;throw W(t)}},A9=function(e){if(typeof e!="string"){const t=`This method only supports strings but input was: ${e}`;throw W(t)}},dT=BigInt(0),at=ma,We=e=>{if(!e.startsWith("0x"))throw W("input string must be 0x prefixed");return aT(Kw(Sp(e)))},ca=e=>{if(e.startsWith("0x"))throw W("input string cannot be 0x prefixed");return aT(Kw(e))},ie=e=>`0x${at(e)}`,gb=[];for(let e=0;e<=256*256-1;e++)gb[e]=BigInt(e);const ue=(e,t=!1)=>{t&&e.reverse();const n=ie(e);return n==="0x"?dT:n.length===4?gb[e[0]]:n.length===6?gb[e[0]*256+e[1]]:BigInt(n)},xC=e=>{const t=Number(ue(e));if(!Number.isSafeInteger(t))throw W("Number exceeds 53 bits");return t},_9=e=>{if(!Number.isSafeInteger(e)||e<0)throw W(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`},_i=e=>{const t=_9(e);return We(t)},Je=(e,t=!1)=>{const n=We(`0x${Kw(e.toString(16))}`);return t?n.reverse():n},fT=(e,t,n)=>n?e.length<t?new Uint8Array([...e,...new Uint8Array(t-e.length)]):e.subarray(0,t):e.length<t?new Uint8Array([...new Uint8Array(t-e.length),...e]):e.subarray(-t),qe=(e,t)=>(_s(e),fT(e,t,!1)),gr=(e,t)=>(_s(e),fT(e,t,!0)),k9=e=>{let t=e[0];for(;e.length>0&&t.toString()==="0";)e=e.slice(1),t=e[0];return e},va=e=>(_s(e),k9(e)),je=e=>{if(e==null)return new Uint8Array;if(Array.isArray(e)||e instanceof Uint8Array)return Uint8Array.from(e);if(typeof e=="string"){if(!Vw(e))throw W(`Cannot convert string to Uint8Array. toBytes only supports 0x-prefixed hex strings and this string was given: ${e}`);return We(e)}if(typeof e=="number")return _i(e);if(typeof e=="bigint"){if(e<dT)throw W(`Cannot convert negative bigint to Uint8Array. Given: ${e}`);let t=e.toString(16);return t.length%2&&(t="0"+t),ca(t)}if(e.toBytes!==void 0)return e.toBytes();throw W("invalid type")},ya=(e,t=50)=>{const n=e instanceof Uint8Array?ie(e):e,r=n.slice(0,2)==="0x"?t+2:t;return n.length<=r?n:n.slice(0,r)+"…"},I9=e=>{for(const[t,n]of Object.entries(e))if(n!==void 0&&n.length>0&&n[0]===0)throw W(`${t} cannot have leading zeroes, received: ${ie(n)}`)},ot=e=>`0x${e.toString(16)}`,hT=(...e)=>e.reduce((t,n)=>n>t?n:t),Le=e=>va(Je(e)),Hm=(e,t=!0)=>{const n=Je(e);if(t&&n.length>20)throw Error(`Invalid address bytes length=${n.length} strict=${t}`);return qe(n,20)},Gh=e=>va(_i(e)),Xe=(...e)=>{if(e.length===1)return e[0];const t=e.reduce((r,i)=>r+i.length,0),n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n};function pT(e,t=!1){const n=new ArrayBuffer(4);return new DataView(n).setUint32(0,e,t),new Uint8Array(n)}const gf=BigInt("0xffffffffffffffff"),rs=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),hv=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935");$l.CURVE.n;const gT=$l.CURVE.n/BigInt(2),zh=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),T9="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",gc=We(T9),$9="0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",bd=We($9),L9="0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",ua=We(L9),M9=jf(new Uint8Array),R9=Uint8Array.from([128]),P9="0000000000000000000000000000000000000003";BigInt(-1);const q=BigInt(0),ze=BigInt(1),Qr=BigInt(2),O9=BigInt(3),Yw=BigInt(7),Yo=BigInt(8),Zw=BigInt(27),N9=BigInt(28),Od=BigInt(31),kn=BigInt(32),Nd=BigInt(64);BigInt(128);const pv=BigInt(255),gv=BigInt(256),qw=BigInt(96);BigInt(100);const mT=BigInt(160),B9=BigInt(224),D9=BigInt(7922816251426434e13),F9=BigInt(1461501637330903e33),U9=BigInt(2695994666715064e52),G9=BigInt(10**9);BigInt(10**18);const z9=BigInt(0),Ju=BigInt(1),H9=BigInt(2),W9=BigInt(7),j9=BigInt(256),V9=BigInt(113),vT=[],yT=[],bT=[];for(let e=0,t=Ju,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],vT.push(2*(5*r+n)),yT.push((e+1)*(e+2)/2%64);let i=z9;for(let s=0;s<7;s++)t=(t<<Ju^(t>>W9)*V9)%j9,t&H9&&(i^=Ju<<(Ju<<BigInt(s))-Ju);bT.push(i)}const wT=BF(bT,!0),K9=wT[0],Y9=wT[1],SC=(e,t,n)=>n>32?UF(e,t,n):DF(e,t,n),EC=(e,t,n)=>n>32?GF(e,t,n):FF(e,t,n);function Z9(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const c=(o+8)%10,a=(o+2)%10,d=n[a],l=n[a+1],u=SC(d,l,1)^n[c],h=EC(d,l,1)^n[c+1];for(let p=0;p<50;p+=10)e[o+p]^=u,e[o+p+1]^=h}let i=e[2],s=e[3];for(let o=0;o<24;o++){const c=yT[o],a=SC(i,s,c),d=EC(i,s,c),l=vT[o];i=e[l],s=e[l+1],e[l]=a,e[l+1]=d}for(let o=0;o<50;o+=10){for(let c=0;c<10;c++)n[c]=e[o+c];for(let c=0;c<10;c++)e[o+c]^=~n[(c+2)%10]&n[(c+4)%10]}e[0]^=K9[r],e[1]^=Y9[r]}ga(n)}let q9=class xT extends Bw{constructor(t,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,fu(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=IF(this.state)}clone(){return this._cloneInto()}keccak(){nC(this.state32),Z9(this.state32,this.rounds),nC(this.state32),this.posOut=0,this.pos=0}update(t){hu(this),t=Um(t),hn(t);const{blockLen:n,state:r}=this,i=t.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let c=0;c<o;c++)r[this.pos++]^=t[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,n&128&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){hu(this,!1),hn(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=t.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);t.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return fu(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(WI(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ga(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new xT(n,r,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}};const X9=(e,t,n)=>Dw(()=>new q9(t,e,n)),CC=X9(1,136,256/8),Sn=(()=>{const e=jw(CC);return e.create=CC.create,e})();class Rt{get version(){if(this._version!==null)return this._version;throw Error(`version=${this._version} not loaded`)}set version(t){this._version=t}get nonce(){if(this._nonce!==null)return this._nonce;throw Error(`nonce=${this._nonce} not loaded`)}set nonce(t){this._nonce=t}get balance(){if(this._balance!==null)return this._balance;throw Error(`balance=${this._balance} not loaded`)}set balance(t){this._balance=t}get storageRoot(){if(this._storageRoot!==null)return this._storageRoot;throw Error(`storageRoot=${this._storageRoot} not loaded`)}set storageRoot(t){this._storageRoot=t}get codeHash(){if(this._codeHash!==null)return this._codeHash;throw Error(`codeHash=${this._codeHash} not loaded`)}set codeHash(t){this._codeHash=t}get codeSize(){if(this._codeSize!==null)return this._codeSize;throw Error(`codeSize=${this._codeSize} not loaded`)}set codeSize(t){this._codeSize=t}constructor(t=q,n=q,r=ua,i=gc,s=0,o=0){this._nonce=null,this._balance=null,this._storageRoot=null,this._codeHash=null,this._codeSize=null,this._version=null,this._nonce=t,this._balance=n,this._storageRoot=r,this._codeHash=i,s===null&&i!==null&&!this.isContract()&&(s=0),this._codeSize=s,this._version=o,this._validate()}_validate(){if(this._nonce!==null&&this._nonce<q)throw W("nonce must be greater than zero");if(this._balance!==null&&this._balance<q)throw W("balance must be greater than zero");if(this._storageRoot!==null&&this._storageRoot.length!==32)throw W("storageRoot must have a length of 32");if(this._codeHash!==null&&this._codeHash.length!==32)throw W("codeHash must have a length of 32");if(this._codeSize!==null&&this._codeSize<q)throw W("codeSize must be greater than zero")}raw(){return[Le(this.nonce),Le(this.balance),this.storageRoot,this.codeHash]}serialize(){return ut.encode(this.raw())}serializeWithPartialInfo(){const t=[],n=Gh(0),r=Gh(1);return this._nonce!==null?t.push([r,Le(this._nonce)]):t.push([n]),this._balance!==null?t.push([r,Le(this._balance)]):t.push([n]),this._storageRoot!==null?t.push([r,this._storageRoot]):t.push([n]),this._codeHash!==null?t.push([r,this._codeHash]):t.push([n]),this._codeSize!==null?t.push([r,Gh(this._codeSize)]):t.push([n]),this._version!==null?t.push([r,Gh(this._version)]):t.push([n]),ut.encode(t)}isContract(){if(this._codeHash===null&&this._codeSize===null)throw Error("Insufficient data as codeHash=null and codeSize=null");return this._codeHash!==null&&!Ye(this._codeHash,gc)||this._codeSize!==null&&this._codeSize!==0}isEmpty(){return this._balance!==null&&this.balance!==q||this._nonce===null&&this.nonce!==q||this._codeHash!==null&&!Ye(this.codeHash,gc)?!1:this.balance===q&&this.nonce===q&&Ye(this.codeHash,gc)}}function mb(e){const{nonce:t,balance:n,storageRoot:r,codeHash:i}=e;if(t===null||n===null||r===null||i===null)throw Error("Partial fields not supported in fromAccountData");return new Rt(t!==void 0?ue(je(t)):void 0,n!==void 0?ue(je(n)):void 0,r!==void 0?je(r):void 0,i!==void 0?je(i):void 0)}function Q9(e){const[t,n,r,i]=e;return new Rt(ue(t),ue(n),r,i)}function AC(e){const t=ut.decode(e);if(!Array.isArray(t))throw W("Invalid serialized account input. Must be array");return Q9(t)}const J9=function(e){try{A9(e)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)},eU=function(e,t){return _s(e),_s(t),ue(t)===q?Sn(ut.encode([e,Uint8Array.from([])])).subarray(-20):Sn(ut.encode([e,t])).subarray(-20)},tU=function(e,t,n){if(_s(e),_s(t),_s(n),e.length!==20)throw W("Expected from to be of length 20");if(t.length!==32)throw W("Expected salt to be of length 32");return Sn(Xe(We("0xff"),e,t,Sn(n))).subarray(-20)},ST=function(e,t=!1){if(_s(e),t&&e.length!==64&&(e=$l.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1)),e.length!==64)throw W("Expected pubKey to be of length 64");return Sn(e).subarray(-20)},Wm=ST,nU=function(e){return _s(e),$l.ProjectivePoint.fromPrivateKey(e).toRawBytes(!1).slice(1)},rU=function(e){return Wm(nU(e))};class Ht{constructor(t){if(t.length!==20)throw W("Invalid address length");this.bytes=t}equals(t){return Ye(this.bytes,t.bytes)}isZero(){return this.equals(new Ht(new Uint8Array(20)))}isPrecompileOrSystemAddress(){const t=ue(this.bytes),n=q,r=BigInt("0xffff");return t>=n&&t<=r}toString(){return ie(this.bytes)}toBytes(){return new Uint8Array(this.bytes)}}function gi(){return new Ht(new Uint8Array(20))}function iU(e){const t=Je(e);if(t.length>20)throw W(`Invalid address, too long: ${t.length}`);return new Ht(qe(t,20))}function da(e){if(!J9(e))throw W(`Invalid address input=${e}`);return new Ht(We(e))}function sU(e){if(!(e instanceof Uint8Array))throw W("Public key should be Uint8Array");const t=ST(e);return new Ht(t)}function _C(e){if(!(e instanceof Uint8Array))throw W("Private key should be Uint8Array");const t=rU(e);return new Ht(t)}const Bd={String:"string",Bytes:"view"},Ka={String:"string",Bytes:"view"},He={Number:0,BigInt:1,Uint8Array:2,PrefixedHexString:3};function Ze(e,t){if(e===null)return null;if(e===void 0)return;if(typeof e=="string"&&!Vw(e))throw W(`A string must be provided with a 0x-prefix, given: ${e}`);if(typeof e=="number"&&!Number.isSafeInteger(e))throw W("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const n=je(e);switch(t){case He.Uint8Array:return n;case He.BigInt:return ue(n);case He.Number:{const r=ue(n);if(r>BigInt(Number.MAX_SAFE_INTEGER))throw W("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(r)}case He.PrefixedHexString:return ie(n);default:throw W("unknown outputType")}}function oU(e){if(e.length===0)return!0;const t=e[0];return!!Array.isArray(t)}function aU(e){return!oU(e)}function lU(e){const{index:t,validatorIndex:n,address:r,amount:i}=e,s=Ze(t,He.BigInt)===q?new Uint8Array:Ze(t,He.Uint8Array),o=Ze(n,He.BigInt)===q?new Uint8Array:Ze(n,He.Uint8Array),c=r instanceof Ht?r.bytes:Ze(r,He.Uint8Array),a=Ze(i,He.BigInt)===q?new Uint8Array:Ze(i,He.Uint8Array);return[s,o,c,a]}class cU{constructor(t,n,r,i){this.index=t,this.validatorIndex=n,this.address=r,this.amount=i}raw(){return lU(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.bytes,amount:this.amount}}toJSON(){return{index:ot(this.index),validatorIndex:ot(this.validatorIndex),address:ie(this.address.bytes),amount:ot(this.amount)}}}function ET(e){const{index:t,validatorIndex:n,address:r,amount:i}=e,s=Ze(t,He.BigInt),o=Ze(n,He.BigInt),c=r instanceof Ht?r:new Ht(je(r)),a=Ze(i,He.BigInt);return new cU(s,o,c,a)}function uU(e,t){return e===q||e===ze?e:t===void 0?e-Zw:e-(t*Qr+BigInt(35))}function dU(e){return e===q||e===ze}const jm=function(e,t,n,r,i){const s=Xe(qe(n,32),qe(r,32)),o=uU(t,i);if(!dU(o))throw W("Invalid signature v value");return $l.Signature.fromCompact(s).addRecoveryBit(Number(o)).recoverPublicKey(e).toRawBytes(!1).slice(1)},kC=We("0x05");function fU(e){const[t,n,r,i,s,o]=e;return{chainId:ie(t),address:ie(n),nonce:ie(r),yParity:ie(i),r:ie(s),s:ie(o)}}function CT(e){const t=["chainId","address","nonce","yParity","r","s"];for(const n of t)if(e[n]===void 0)throw W(`EIP-7702 authorization list invalid: ${n} is not defined`);return[We(e.chainId),We(e.address),We(e.nonce),We(e.yParity),We(e.r),We(e.s)]}function hU(e){const{chainId:t,address:n,nonce:r}=e,i=We(t),s=qe(We(n),20),o=We(r);return[i,s,o]}function pU(e){if(Array.isArray(e)){const[t,n,r]=e;if(n.length!==20)throw W("Cannot sign authority: address length should be 20 bytes");return Xe(kC,ut.encode([va(t),n,va(r)]))}else{const[t,n,r]=hU(e);return Xe(kC,ut.encode([t,n,r]))}}function gU(e){return Sn(pU(e))}function mU(e){const t=Array.isArray(e)?e:CT(e),[n,r,i,s,o,c]=t,a=gU([n,r,i]),d=jm(a,ue(s),o,c);return new Ht(Wm(d))}function vU(e,t,n=0){const r=qe(t.toBytes(),32);let i;return typeof n=="number"?i=gr(pT(Number(n),!0),32):i=gr(Je(BigInt(n),!0).slice(0,32),32),e(Xe(r,i)).slice(0,31)}const gg={BasicData:0,CodeHash:1},vb=_i(gg.BasicData),yb=_i(gg.CodeHash),yU=31,mc=64,Uc=128,mf=256,Ep=BigInt(256)**BigInt(yU),bU=(e,t)=>{switch(t){case gg.BasicData:return Xe(e,vb);case gg.CodeHash:return Xe(e,yb);default:return Xe(e,t)}};function IC(e){let t;e<Uc-mc?t=BigInt(mc)+e:t=Ep+e;const n=t/BigInt(mf),r=Number(t%BigInt(mf));return{treeIndex:n,subIndex:r}}function TC(e){const t=Math.floor((Uc+e)/mf),n=(Uc+e)%mf;return{treeIndex:t,subIndex:n}}const wU=32,Xw=4096,Dd=32*Xw,xU=2,SU=Dd*xU-1,EU=wU*Xw;function CU(e,t){const n=new Uint8Array(t*Dd);return n.set(e),n[e.byteLength]=128,n}function AU(e){const t=new Uint8Array(EU);for(let n=0;n<Xw;n++){const r=new Uint8Array(32);r.set(e.subarray(n*31,(n+1)*31),0),t.set(r,n*32)}return ie(t)}const _U=e=>{const t=Il(e),n=t.byteLength;if(n===0)throw Error("invalid blob data");if(n>SU)throw Error("blob data is too large");const r=Math.ceil(n/Dd),i=CU(t,r),s=[];for(let o=0;o<r;o++){const c=i.subarray(o*Dd,(o+1)*Dd),a=AU(c);s.push(a)}return s},kU=(e,t)=>{const n=[];for(const r of t)n.push(e.blobToKzgCommitment(r).toLowerCase());return n},IU=(e,t,n)=>t.map((i,s)=>e.computeBlobProof(i,n[s]).toLowerCase()),AT=(e,t)=>{const n=new Uint8Array(32);return n.set([t],0),n.set(jf(We(e)).subarray(1),1),ie(n)},TU=e=>{const t=[];for(const n of e)t.push(AT(n,1));return t};class $U{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(t=>this.promiseResolverQueue.push(t))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(this.permits===1&&this.promiseResolverQueue.length>0){this.permits-=1;const t=this.promiseResolverQueue.shift();t&&t(!0)}}}class Qw{constructor(t){this._database=t??new Map}async get(t){const n=t instanceof Uint8Array?at(t):t.toString();return this._database.get(n)}async put(t,n){const r=t instanceof Uint8Array?at(t):t.toString();this._database.set(r,n)}async del(t){const n=t instanceof Uint8Array?at(t):t.toString();this._database.delete(n)}async batch(t){for(const n of t)n.type==="del"&&await this.del(n.key),n.type==="put"&&await this.put(n.key,n.value)}shallowCopy(){return new Qw(this._database)}open(){return Promise.resolve()}}const vf={Deposit:0,Withdrawal:1,Consolidation:2};class yf{get type(){return this.bytes[0]}get data(){return this.bytes.subarray(1)}constructor(t,n){this.bytes=Xe(new Uint8Array([t]),n)}}class LU{constructor(t){this.maxPoolSize=t,this.currentPoolSize=0,this.queue=[]}executeOrQueue(t,n){this.currentPoolSize<this.maxPoolSize?(this.currentPoolSize++,n(()=>{if(this.currentPoolSize--,this.queue.length>0){this.queue.sort((i,s)=>s.priority-i.priority);const r=this.queue.shift();this.executeOrQueue(r.priority,r.fn)}})):this.queue.push({priority:t,fn:n})}finished(){return this.currentPoolSize===0}}function MU(e,t,n=0){const r=qe(t.toBytes(),32);let i;return typeof n=="number"?i=gr(pT(Number(n),!0),32):i=gr(Je(BigInt(n),!0).slice(0,32),32),e.getTreeKey(r,i,0).slice(0,31)}const mg={BasicData:0,CodeHash:1},bb=_i(mg.BasicData),wb=_i(mg.CodeHash),RU=31,vc=64,Gc=128,bf=256,Cp=BigInt(256)**BigInt(RU),PU=(e,t)=>{switch(t){case mg.BasicData:return Xe(e,bb);case mg.CodeHash:return Xe(e,wb);default:return Xe(e,t)}};function $C(e){let t;e<Gc-vc?t=BigInt(vc)+e:t=Cp+e;const n=t/BigInt(bf),r=Number(t%BigInt(bf));return{treeIndex:n,subIndex:r}}function LC(e){const t=Math.floor((Gc+e)/bf),n=(Gc+e)%bf;return{treeIndex:t,subIndex:n}}var _T={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(a,d,l){this.fn=a,this.context=d,this.once=l||!1}function s(a,d,l,u,h){if(typeof l!="function")throw new TypeError("The listener must be a function");var p=new i(l,u||a,h),f=n?n+d:d;return a._events[f]?a._events[f].fn?a._events[f]=[a._events[f],p]:a._events[f].push(p):(a._events[f]=p,a._eventsCount++),a}function o(a,d){--a._eventsCount===0?a._events=new r:delete a._events[d]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],l,u;if(this._eventsCount===0)return d;for(u in l=this._events)t.call(l,u)&&d.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(l)):d},c.prototype.listeners=function(d){var l=n?n+d:d,u=this._events[l];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,p=u.length,f=new Array(p);h<p;h++)f[h]=u[h].fn;return f},c.prototype.listenerCount=function(d){var l=n?n+d:d,u=this._events[l];return u?u.fn?1:u.length:0},c.prototype.emit=function(d,l,u,h,p,f){var g=n?n+d:d;if(!this._events[g])return!1;var m=this._events[g],v=arguments.length,y,x;if(m.fn){switch(m.once&&this.removeListener(d,m.fn,void 0,!0),v){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,l),!0;case 3:return m.fn.call(m.context,l,u),!0;case 4:return m.fn.call(m.context,l,u,h),!0;case 5:return m.fn.call(m.context,l,u,h,p),!0;case 6:return m.fn.call(m.context,l,u,h,p,f),!0}for(x=1,y=new Array(v-1);x<v;x++)y[x-1]=arguments[x];m.fn.apply(m.context,y)}else{var C=m.length,b;for(x=0;x<C;x++)switch(m[x].once&&this.removeListener(d,m[x].fn,void 0,!0),v){case 1:m[x].fn.call(m[x].context);break;case 2:m[x].fn.call(m[x].context,l);break;case 3:m[x].fn.call(m[x].context,l,u);break;case 4:m[x].fn.call(m[x].context,l,u,h);break;default:if(!y)for(b=1,y=new Array(v-1);b<v;b++)y[b-1]=arguments[b];m[x].fn.apply(m[x].context,y)}}return!0},c.prototype.on=function(d,l,u){return s(this,d,l,u,!1)},c.prototype.once=function(d,l,u){return s(this,d,l,u,!0)},c.prototype.removeListener=function(d,l,u,h){var p=n?n+d:d;if(!this._events[p])return this;if(!l)return o(this,p),this;var f=this._events[p];if(f.fn)f.fn===l&&(!h||f.once)&&(!u||f.context===u)&&o(this,p);else{for(var g=0,m=[],v=f.length;g<v;g++)(f[g].fn!==l||h&&!f[g].once||u&&f[g].context!==u)&&m.push(f[g]);m.length?this._events[p]=m.length===1?m[0]:m:o(this,p)}return this},c.prototype.removeAllListeners=function(d){var l;return d?(l=n?n+d:d,this._events[l]&&o(this,l)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(_T);var OU=_T.exports;const vg=Rg(OU);let xb=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(xb=new Int32Array(xb));const NU=(e,t)=>{let n=t===0?0:-1;for(let r=0;r<e.length;r++)n=xb[(n^e[r])&255]^n>>>8;return n^-1},BU=(e,t)=>NU(e,t)>>>0,Ql={Mainnet:1,Sepolia:11155111,Holesky:17e3,Hoodi:560048,Kaustinen6:69420};Object.entries(Ql).reduce((e,[t,n])=>(e[n]=t,e),{});Ql.Mainnet+"",We("0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544"),Ql.Sepolia+"",We("0x5eb6e371a698b8d68f665192350ffcecbbbf322916f4b51bd79bb6887da3f494"),Ql.Holesky+"",We("0x69d8c9d72f6fa4ad42d4702b433707212f90db395eb54dc20bc85de253788783"),Ql.Hoodi+"",We("0xda87d7f5f91c51508791bbcbd4aa5baf04917830b86985eeb9ad3d5bfb657576"),Ql.Kaustinen6+"",We("0x1fbf85345a3cbba9a6d44f991b721e55620a22397c2a93ee8d5011136ac300ee");const se={Chainstart:"chainstart",Homestead:"homestead",Dao:"dao",TangerineWhistle:"tangerineWhistle",SpuriousDragon:"spuriousDragon",Byzantium:"byzantium",Constantinople:"constantinople",Petersburg:"petersburg",Istanbul:"istanbul",MuirGlacier:"muirGlacier",Berlin:"berlin",London:"london",ArrowGlacier:"arrowGlacier",GrayGlacier:"grayGlacier",MergeNetsplitBlock:"mergeNetsplitBlock",Paris:"paris",Shanghai:"shanghai",Cancun:"cancun",Prague:"prague",Osaka:"osaka",Verkle:"verkle"},yl={ProofOfStake:"pos",ProofOfWork:"pow",ProofOfAuthority:"poa"},yc={Ethash:"ethash",Clique:"clique"},ed={1:{minimumHardfork:se.Chainstart},606:{minimumHardfork:se.Chainstart},608:{minimumHardfork:se.Homestead},607:{minimumHardfork:se.TangerineWhistle},609:{minimumHardfork:se.SpuriousDragon},1013:{minimumHardfork:se.Constantinople},1716:{minimumHardfork:se.Constantinople},1679:{minimumHardfork:se.Constantinople},2384:{minimumHardfork:se.Istanbul},663:{minimumHardfork:se.Chainstart,requiredEIPs:[3540,5450]},1153:{minimumHardfork:se.Chainstart},1559:{minimumHardfork:se.Berlin,requiredEIPs:[2930]},2565:{minimumHardfork:se.Byzantium},2537:{minimumHardfork:se.Chainstart},2718:{minimumHardfork:se.Chainstart},2929:{minimumHardfork:se.Chainstart},2930:{minimumHardfork:se.Istanbul,requiredEIPs:[2718,2929]},2935:{minimumHardfork:se.Chainstart},3198:{minimumHardfork:se.London},3529:{minimumHardfork:se.Berlin,requiredEIPs:[2929]},3540:{minimumHardfork:se.London,requiredEIPs:[3541,3860]},3541:{minimumHardfork:se.Berlin},3554:{minimumHardfork:se.MuirGlacier},3607:{minimumHardfork:se.Chainstart},3651:{minimumHardfork:se.London,requiredEIPs:[2929]},3670:{minimumHardfork:se.London,requiredEIPs:[3540]},3675:{minimumHardfork:se.London},3855:{minimumHardfork:se.Chainstart},3860:{minimumHardfork:se.SpuriousDragon},4200:{minimumHardfork:se.London,requiredEIPs:[3540,3670]},4345:{minimumHardfork:se.London},4399:{minimumHardfork:se.London},4750:{minimumHardfork:se.London,requiredEIPs:[3540,3670,5450]},4788:{minimumHardfork:se.Cancun},4844:{minimumHardfork:se.Paris,requiredEIPs:[1559,2718,2930,4895]},4895:{minimumHardfork:se.Paris},5133:{minimumHardfork:se.GrayGlacier},5450:{minimumHardfork:se.London,requiredEIPs:[3540,3670,4200,4750]},5656:{minimumHardfork:se.Shanghai},6110:{minimumHardfork:se.Cancun,requiredEIPs:[7685]},6206:{minimumHardfork:se.London,requiredEIPs:[4750,5450]},6780:{minimumHardfork:se.London},6800:{minimumHardfork:se.London},7002:{minimumHardfork:se.Paris,requiredEIPs:[7685]},7069:{minimumHardfork:se.Berlin,requiredEIPs:[2929]},7251:{minimumHardfork:se.Paris,requiredEIPs:[7685]},7480:{minimumHardfork:se.London,requiredEIPs:[3540,3670]},7516:{minimumHardfork:se.Paris,requiredEIPs:[4844]},7620:{minimumHardfork:se.London,requiredEIPs:[3540,3541,3670]},7623:{minimumHardfork:se.Chainstart,requiredEIPs:[]},7685:{minimumHardfork:se.Cancun,requiredEIPs:[3675]},7691:{minimumHardfork:se.Paris,requiredEIPs:[4844]},7692:{minimumHardfork:se.Cancun,requiredEIPs:[663,3540,3670,4200,4750,5450,6206,7069,7480,7620,7698]},7698:{minimumHardfork:se.London,requiredEIPs:[3540,7620]},7702:{minimumHardfork:se.Cancun,requiredEIPs:[2718,2929,2930]},7709:{minimumHardfork:se.Chainstart,requiredEIPs:[2935]},7864:{minimumHardfork:se.London}},DU={chainstart:{eips:[1]},homestead:{eips:[606]},dao:{eips:[]},tangerineWhistle:{eips:[608]},spuriousDragon:{eips:[607]},byzantium:{eips:[609]},constantinople:{eips:[1013]},petersburg:{eips:[1716]},istanbul:{eips:[1679]},muirGlacier:{eips:[2384]},berlin:{eips:[2565,2929,2718,2930]},london:{eips:[1559,3198,3529,3541]},arrowGlacier:{eips:[4345]},grayGlacier:{eips:[5133]},paris:{consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]},mergeNetsplitBlock:{eips:[]},shanghai:{eips:[3651,3855,3860,4895]},cancun:{eips:[1153,4844,4788,5656,6780,7516]},prague:{eips:[2537,2935,6110,7002,7251,7623,7685,7691,7702]},osaka:{eips:[663,3540,3670,4200,4750,5450,6206,7069,7480,7620,7692,7698]},verkle:{eips:[7709,4762,6800]}};class $u{constructor(t){this._eips=[],this._paramsCache={},this._activatedEIPsCache=[],this.events=new vg,this._chainParams=JSON.parse(JSON.stringify(t.chain)),this.DEFAULT_HARDFORK=this._chainParams.defaultHardfork??se.Prague,this.HARDFORK_CHANGES=this.hardforks().map(n=>[n.name,(this._chainParams.customHardforks&&this._chainParams.customHardforks[n.name])??DU[n.name]]),this._hardfork=this.DEFAULT_HARDFORK,this._params=t.params?JSON.parse(JSON.stringify(t.params)):{},t.hardfork!==void 0&&this.setHardfork(t.hardfork),t.eips&&this.setEIPs(t.eips),this.customCrypto=t.customCrypto??{},Object.keys(this._paramsCache).length===0&&(this._buildParamsCache(),this._buildActivatedEIPsCache())}updateParams(t){for(const[n,r]of Object.entries(t))n in this._params?this._params[n]=JSON.parse(JSON.stringify({...this._params[n],...t[n]})):this._params[n]=JSON.parse(JSON.stringify(r));this._buildParamsCache()}resetParams(t){this._params=JSON.parse(JSON.stringify(t)),this._buildParamsCache()}setHardfork(t){let n=!1;for(const r of this.HARDFORK_CHANGES)r[0]===t&&(this._hardfork!==t&&(this._hardfork=t,this._buildParamsCache(),this._buildActivatedEIPsCache(),this.events.emit("hardforkChanged",t)),n=!0);if(!n)throw W(`Hardfork with name ${t} not supported`)}getHardforkBy(t){const n=Ze(t.blockNumber,He.BigInt),r=Ze(t.timestamp,He.BigInt),i=this.hardforks().filter(a=>a.block!==null||a.timestamp!==void 0);let s=i.findIndex(a=>n!==void 0&&a.block!==null&&BigInt(a.block)>n||r!==void 0&&a.timestamp!==void 0&&BigInt(a.timestamp)>r);if(s===-1)s=i.length;else if(s===0)throw Error("Must have at least one hardfork at block 0");if(r===void 0){const a=i.slice(0,s).reverse().findIndex(d=>d.block!==null);s=s-a}s=s-1;const o=s;for(;s<i.length-1&&!(i[s].block!==i[s+1].block||i[s].timestamp!==i[s+1].timestamp);s++);if(r!==void 0){if(i.slice(0,o).reduce((l,u)=>Math.max(Number(u.timestamp??"0"),l),0)>r)throw Error("Maximum HF determined by timestamp is lower than the block number HF");if(i.slice(s+1).reduce((l,u)=>Math.min(Number(u.timestamp??r),l),Number(r))<r)throw Error("Maximum HF determined by block number is lower than timestamp HF")}return i[s].name}setHardforkBy(t){const n=this.getHardforkBy(t);return this.setHardfork(n),n}_getHardfork(t){const n=this.hardforks();for(const r of n)if(r.name===t)return r;return null}setEIPs(t=[]){for(const n of t){if(!(n in ed))throw W(`${n} not supported`);const r=this.gteHardfork(ed[n].minimumHardfork);if(!r)throw W(`${n} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${r}`)}this._eips=t,this._buildParamsCache(),this._buildActivatedEIPsCache();for(const n of t)if(ed[n].requiredEIPs!==void 0){for(const r of ed[n].requiredEIPs)if(!(t.includes(r)||this.isActivatedEIP(r)))throw W(`${n} requires EIP ${r}, but is not included in the EIP list`)}}_mergeWithParamsCache(t){this._paramsCache={...this._paramsCache,...t}}_buildParamsCache(){this._paramsCache={};const t=this.hardfork();for(const n of this.HARDFORK_CHANGES){if("eips"in n[1]){const r=n[1].eips??[];for(const i of r)this._mergeWithParamsCache(this._params[i]??{})}if(this._mergeWithParamsCache(n[1].params??{}),n[0]===t)break}for(const n of this._eips)this._mergeWithParamsCache(this._params[n]??{})}_buildActivatedEIPsCache(){this._activatedEIPsCache=[];for(const[t,n]of this.HARDFORK_CHANGES)this.gteHardfork(t)&&"eips"in n&&(this._activatedEIPsCache=this._activatedEIPsCache.concat(n.eips??[]));this._activatedEIPsCache=this._activatedEIPsCache.concat(this._eips)}param(t){if(!(t in this._paramsCache))throw W(`Missing parameter value for ${t}`);const n=this._paramsCache[t];return BigInt(n??0)}paramByHardfork(t,n){var i;let r;for(const s of this.HARDFORK_CHANGES){if("eips"in s[1]){const o=s[1].eips;for(const c of o){const a=this._params[c],d=a==null?void 0:a[t];d!==void 0&&(r=d)}}else{const o=(i=s[1].params)==null?void 0:i[t];o!==void 0&&(r=o)}if(s[0]===n)break}if(r===void 0)throw W(`Missing parameter value for ${t}`);return BigInt(r??0)}paramByEIP(t,n){if(!(n in ed))throw W(`${n} not supported`);const r=this._params[n];if((r==null?void 0:r[t])===void 0)throw W(`Missing parameter value for ${t}`);const i=r[t];return BigInt(i??0)}paramByBlock(t,n,r){const i=this.getHardforkBy({blockNumber:n,timestamp:r});return this.paramByHardfork(t,i)}isActivatedEIP(t){return!!this._activatedEIPsCache.includes(t)}hardforkIsActiveOnBlock(t,n){n=Ze(n,He.BigInt),t=t??this._hardfork;const r=this.hardforkBlock(t);return typeof r=="bigint"&&r!==q&&n>=r}activeOnBlock(t){return this.hardforkIsActiveOnBlock(null,t)}hardforkGteHardfork(t,n){t=t??this._hardfork;const r=this.hardforks();let i=-1,s=-1,o=0;for(const c of r)c.name===t&&(i=o),c.name===n&&(s=o),o+=1;return i>=s&&s!==-1}gteHardfork(t){return this.hardforkGteHardfork(null,t)}hardforkBlock(t){var r;t=t??this._hardfork;const n=(r=this._getHardfork(t))==null?void 0:r.block;return n==null?null:BigInt(n)}hardforkTimestamp(t){var r;t=t??this._hardfork;const n=(r=this._getHardfork(t))==null?void 0:r.timestamp;return n==null?null:BigInt(n)}eipBlock(t){for(const n of this.HARDFORK_CHANGES){const r=n[1];if("eips"in r&&r.eips.includes(t))return this.hardforkBlock(n[0])}return null}eipTimestamp(t){for(const n of this.HARDFORK_CHANGES){const r=n[1];if("eips"in r&&r.eips.includes(t))return this.hardforkTimestamp(n[0])}return null}nextHardforkBlockOrTimestamp(t){t=t??this._hardfork;const n=this.hardforks();let r=n.findIndex(c=>c.name===t);if(t===se.Paris&&(r-=1),r<0)return null;let i=n[r].timestamp??n[r].block;i=i!=null?Number(i):null;const s=n.slice(r+1).find(c=>{let a=c.timestamp??c.block;return a=a!=null?Number(a):null,c.name!==se.Paris&&a!==null&&a!==void 0&&a!==i});if(s===void 0)return null;const o=s.timestamp??s.block;return o==null?null:BigInt(o)}_calcForkHash(t,n){let r=new Uint8Array(0),i=0;for(const c of this.hardforks()){const{block:a,timestamp:d,name:l}=c;let u=d??a;if(u=u!==null?Number(u):null,typeof u=="number"&&u!==0&&u!==i&&l!==se.Paris){const h=We(`0x${u.toString(16).padStart(16,"0")}`);r=Xe(r,h),i=u}if(c.name===t)break}const s=Xe(n,r);return ie(_i(BU(s)>>>0))}forkHash(t,n){t=t??this._hardfork;const r=this._getHardfork(t);if(r===null||(r==null?void 0:r.block)===null&&(r==null?void 0:r.timestamp)===void 0)throw W("No fork hash calculation possible for future hardfork");if((r==null?void 0:r.forkHash)!==null&&(r==null?void 0:r.forkHash)!==void 0)return r.forkHash;if(!n)throw W("genesisHash required for forkHash calculation");return this._calcForkHash(t,n)}hardforkForForkHash(t){const n=this.hardforks().filter(r=>r.forkHash===t);return n.length>=1?n[n.length-1]:null}setForkHashes(t){for(const n of this.hardforks()){const r=n.timestamp??n.block;(n.forkHash===null||n.forkHash===void 0)&&r!==null&&r!==void 0&&(n.forkHash=this.forkHash(n.name,t))}}genesis(){return this._chainParams.genesis}hardforks(){const t=this._chainParams.hardforks;return this._chainParams.customHardforks!==void 0&&this._chainParams.customHardforks,t}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}eips(){return this._eips}consensusType(){const t=this.hardfork();let n;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(n=r[1].consensus.type),r[0]===t)break;return n??this._chainParams.consensus.type}consensusAlgorithm(){const t=this.hardfork();let n;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(n=r[1].consensus.algorithm),r[0]===t)break;return n??this._chainParams.consensus.algorithm}consensusConfig(){const t=this.hardfork();let n;for(const r of this.HARDFORK_CHANGES){if("consensus"in r[1]){const i=r[1],s=i.consensus.algorithm;n=i.consensus[s]}if(r[0]===t)break}return n??this._chainParams.consensus[this.consensusAlgorithm()]??{}}copy(){const t=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return t.events=new vg,t}}const td={BasicData:"basicData",CodeHash:"codeHash",Code:"code",Storage:"storage"},nd={BasicData:"basicData",CodeHash:"codeHash",Code:"code",Storage:"storage"},Wl=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,kT=new Set,Sb=typeof process=="object"&&process?process:{},IT=(e,t,n,r)=>{typeof Sb.emitWarning=="function"?Sb.emitWarning(e,t,n,r):console.error(`[${n}] ${t}: ${e}`)};let yg=globalThis.AbortController,MC=globalThis.AbortSignal;var hA;if(typeof yg>"u"){MC=class{constructor(){he(this,"onabort");he(this,"_onabort",[]);he(this,"reason");he(this,"aborted",!1)}addEventListener(r,i){this._onabort.push(i)}},yg=class{constructor(){he(this,"signal",new MC);t()}abort(r){var i,s;if(!this.signal.aborted){this.signal.reason=r,this.signal.aborted=!0;for(const o of this.signal._onabort)o(r);(s=(i=this.signal).onabort)==null||s.call(i,r)}}};let e=((hA=Sb.env)==null?void 0:hA.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const t=()=>{e&&(e=!1,IT("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const FU=e=>!kT.has(e),Ro=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),TT=e=>Ro(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?Ap:null:null;class Ap extends Array{constructor(t){super(t),this.fill(0)}}var Ss,jc;let UU=(Ss=class{constructor(t,n){he(this,"heap");he(this,"length");if(!D(Ss,jc))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(t),this.length=0}static create(t){const n=TT(t);if(!n)return[];be(Ss,jc,!0);const r=new Ss(t,n);return be(Ss,jc,!1),r}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}},jc=new WeakMap,Re(Ss,jc,!1),Ss);var pA,gA,Bi,Fr,Di,Fi,Vc,Kc,mn,Ui,cn,Ft,Ke,dr,Ur,Jn,An,Gi,_n,zi,Hi,Gr,Wi,Zo,fr,we,Cb,Qa,Js,Lf,zr,$T,Ja,Yc,Mf,Po,Oo,Ab,_p,kp,Dt,_b,wd,No,kb;const kx=class kx{constructor(t){Re(this,we);Re(this,Bi);Re(this,Fr);Re(this,Di);Re(this,Fi);Re(this,Vc);Re(this,Kc);he(this,"ttl");he(this,"ttlResolution");he(this,"ttlAutopurge");he(this,"updateAgeOnGet");he(this,"updateAgeOnHas");he(this,"allowStale");he(this,"noDisposeOnSet");he(this,"noUpdateTTL");he(this,"maxEntrySize");he(this,"sizeCalculation");he(this,"noDeleteOnFetchRejection");he(this,"noDeleteOnStaleGet");he(this,"allowStaleOnFetchAbort");he(this,"allowStaleOnFetchRejection");he(this,"ignoreFetchAbort");Re(this,mn);Re(this,Ui);Re(this,cn);Re(this,Ft);Re(this,Ke);Re(this,dr);Re(this,Ur);Re(this,Jn);Re(this,An);Re(this,Gi);Re(this,_n);Re(this,zi);Re(this,Hi);Re(this,Gr);Re(this,Wi);Re(this,Zo);Re(this,fr);Re(this,Qa,()=>{});Re(this,Js,()=>{});Re(this,Lf,()=>{});Re(this,zr,()=>!1);Re(this,Ja,t=>{});Re(this,Yc,(t,n,r)=>{});Re(this,Mf,(t,n,r,i)=>{if(r||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});he(this,pA,"LRUCache");const{max:n=0,ttl:r,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:c,allowStale:a,dispose:d,disposeAfter:l,noDisposeOnSet:u,noUpdateTTL:h,maxSize:p=0,maxEntrySize:f=0,sizeCalculation:g,fetchMethod:m,memoMethod:v,noDeleteOnFetchRejection:y,noDeleteOnStaleGet:x,allowStaleOnFetchRejection:C,allowStaleOnFetchAbort:b,ignoreFetchAbort:S}=t;if(n!==0&&!Ro(n))throw new TypeError("max option must be a nonnegative integer");const I=n?TT(n):Array;if(!I)throw new Error("invalid max value: "+n);if(be(this,Bi,n),be(this,Fr,p),this.maxEntrySize=f||D(this,Fr),this.sizeCalculation=g,this.sizeCalculation){if(!D(this,Fr)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(v!==void 0&&typeof v!="function")throw new TypeError("memoMethod must be a function if defined");if(be(this,Kc,v),m!==void 0&&typeof m!="function")throw new TypeError("fetchMethod must be a function if specified");if(be(this,Vc,m),be(this,Zo,!!m),be(this,cn,new Map),be(this,Ft,new Array(n).fill(void 0)),be(this,Ke,new Array(n).fill(void 0)),be(this,dr,new I(n)),be(this,Ur,new I(n)),be(this,Jn,0),be(this,An,0),be(this,Gi,UU.create(n)),be(this,mn,0),be(this,Ui,0),typeof d=="function"&&be(this,Di,d),typeof l=="function"?(be(this,Fi,l),be(this,_n,[])):(be(this,Fi,void 0),be(this,_n,void 0)),be(this,Wi,!!D(this,Di)),be(this,fr,!!D(this,Fi)),this.noDisposeOnSet=!!u,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!y,this.allowStaleOnFetchRejection=!!C,this.allowStaleOnFetchAbort=!!b,this.ignoreFetchAbort=!!S,this.maxEntrySize!==0){if(D(this,Fr)!==0&&!Ro(D(this,Fr)))throw new TypeError("maxSize must be a positive integer if specified");if(!Ro(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");de(this,we,$T).call(this)}if(this.allowStale=!!a,this.noDeleteOnStaleGet=!!x,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!c,this.ttlResolution=Ro(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=r||0,this.ttl){if(!Ro(this.ttl))throw new TypeError("ttl must be a positive integer if specified");de(this,we,Cb).call(this)}if(D(this,Bi)===0&&this.ttl===0&&D(this,Fr)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!D(this,Bi)&&!D(this,Fr)){const L="LRU_CACHE_UNBOUNDED";FU(L)&&(kT.add(L),IT("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",L,kx))}}static unsafeExposeInternals(t){return{starts:D(t,Hi),ttls:D(t,Gr),sizes:D(t,zi),keyMap:D(t,cn),keyList:D(t,Ft),valList:D(t,Ke),next:D(t,dr),prev:D(t,Ur),get head(){return D(t,Jn)},get tail(){return D(t,An)},free:D(t,Gi),isBackgroundFetch:n=>{var r;return de(r=t,we,Dt).call(r,n)},backgroundFetch:(n,r,i,s)=>{var o;return de(o=t,we,kp).call(o,n,r,i,s)},moveToTail:n=>{var r;return de(r=t,we,wd).call(r,n)},indexes:n=>{var r;return de(r=t,we,Po).call(r,n)},rindexes:n=>{var r;return de(r=t,we,Oo).call(r,n)},isStale:n=>{var r;return D(r=t,zr).call(r,n)}}}get max(){return D(this,Bi)}get maxSize(){return D(this,Fr)}get calculatedSize(){return D(this,Ui)}get size(){return D(this,mn)}get fetchMethod(){return D(this,Vc)}get memoMethod(){return D(this,Kc)}get dispose(){return D(this,Di)}get disposeAfter(){return D(this,Fi)}getRemainingTTL(t){return D(this,cn).has(t)?1/0:0}*entries(){for(const t of de(this,we,Po).call(this))D(this,Ke)[t]!==void 0&&D(this,Ft)[t]!==void 0&&!de(this,we,Dt).call(this,D(this,Ke)[t])&&(yield[D(this,Ft)[t],D(this,Ke)[t]])}*rentries(){for(const t of de(this,we,Oo).call(this))D(this,Ke)[t]!==void 0&&D(this,Ft)[t]!==void 0&&!de(this,we,Dt).call(this,D(this,Ke)[t])&&(yield[D(this,Ft)[t],D(this,Ke)[t]])}*keys(){for(const t of de(this,we,Po).call(this)){const n=D(this,Ft)[t];n!==void 0&&!de(this,we,Dt).call(this,D(this,Ke)[t])&&(yield n)}}*rkeys(){for(const t of de(this,we,Oo).call(this)){const n=D(this,Ft)[t];n!==void 0&&!de(this,we,Dt).call(this,D(this,Ke)[t])&&(yield n)}}*values(){for(const t of de(this,we,Po).call(this))D(this,Ke)[t]!==void 0&&!de(this,we,Dt).call(this,D(this,Ke)[t])&&(yield D(this,Ke)[t])}*rvalues(){for(const t of de(this,we,Oo).call(this))D(this,Ke)[t]!==void 0&&!de(this,we,Dt).call(this,D(this,Ke)[t])&&(yield D(this,Ke)[t])}[(gA=Symbol.iterator,pA=Symbol.toStringTag,gA)](){return this.entries()}find(t,n={}){for(const r of de(this,we,Po).call(this)){const i=D(this,Ke)[r],s=de(this,we,Dt).call(this,i)?i.__staleWhileFetching:i;if(s!==void 0&&t(s,D(this,Ft)[r],this))return this.get(D(this,Ft)[r],n)}}forEach(t,n=this){for(const r of de(this,we,Po).call(this)){const i=D(this,Ke)[r],s=de(this,we,Dt).call(this,i)?i.__staleWhileFetching:i;s!==void 0&&t.call(n,s,D(this,Ft)[r],this)}}rforEach(t,n=this){for(const r of de(this,we,Oo).call(this)){const i=D(this,Ke)[r],s=de(this,we,Dt).call(this,i)?i.__staleWhileFetching:i;s!==void 0&&t.call(n,s,D(this,Ft)[r],this)}}purgeStale(){let t=!1;for(const n of de(this,we,Oo).call(this,{allowStale:!0}))D(this,zr).call(this,n)&&(de(this,we,No).call(this,D(this,Ft)[n],"expire"),t=!0);return t}info(t){const n=D(this,cn).get(t);if(n===void 0)return;const r=D(this,Ke)[n],i=de(this,we,Dt).call(this,r)?r.__staleWhileFetching:r;if(i===void 0)return;const s={value:i};if(D(this,Gr)&&D(this,Hi)){const o=D(this,Gr)[n],c=D(this,Hi)[n];if(o&&c){const a=o-(Wl.now()-c);s.ttl=a,s.start=Date.now()}}return D(this,zi)&&(s.size=D(this,zi)[n]),s}dump(){const t=[];for(const n of de(this,we,Po).call(this,{allowStale:!0})){const r=D(this,Ft)[n],i=D(this,Ke)[n],s=de(this,we,Dt).call(this,i)?i.__staleWhileFetching:i;if(s===void 0||r===void 0)continue;const o={value:s};if(D(this,Gr)&&D(this,Hi)){o.ttl=D(this,Gr)[n];const c=Wl.now()-D(this,Hi)[n];o.start=Math.floor(Date.now()-c)}D(this,zi)&&(o.size=D(this,zi)[n]),t.unshift([r,o])}return t}load(t){this.clear();for(const[n,r]of t){if(r.start){const i=Date.now()-r.start;r.start=Wl.now()-i}this.set(n,r.value,r)}}set(t,n,r={}){var h,p,f,g,m;if(n===void 0)return this.delete(t),this;const{ttl:i=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:c=this.sizeCalculation,status:a}=r;let{noUpdateTTL:d=this.noUpdateTTL}=r;const l=D(this,Mf).call(this,t,n,r.size||0,c);if(this.maxEntrySize&&l>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),de(this,we,No).call(this,t,"set"),this;let u=D(this,mn)===0?void 0:D(this,cn).get(t);if(u===void 0)u=D(this,mn)===0?D(this,An):D(this,Gi).length!==0?D(this,Gi).pop():D(this,mn)===D(this,Bi)?de(this,we,_p).call(this,!1):D(this,mn),D(this,Ft)[u]=t,D(this,Ke)[u]=n,D(this,cn).set(t,u),D(this,dr)[D(this,An)]=u,D(this,Ur)[u]=D(this,An),be(this,An,u),Du(this,mn)._++,D(this,Yc).call(this,u,l,a),a&&(a.set="add"),d=!1;else{de(this,we,wd).call(this,u);const v=D(this,Ke)[u];if(n!==v){if(D(this,Zo)&&de(this,we,Dt).call(this,v)){v.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:y}=v;y!==void 0&&!o&&(D(this,Wi)&&((h=D(this,Di))==null||h.call(this,y,t,"set")),D(this,fr)&&((p=D(this,_n))==null||p.push([y,t,"set"])))}else o||(D(this,Wi)&&((f=D(this,Di))==null||f.call(this,v,t,"set")),D(this,fr)&&((g=D(this,_n))==null||g.push([v,t,"set"])));if(D(this,Ja).call(this,u),D(this,Yc).call(this,u,l,a),D(this,Ke)[u]=n,a){a.set="replace";const y=v&&de(this,we,Dt).call(this,v)?v.__staleWhileFetching:v;y!==void 0&&(a.oldValue=y)}}else a&&(a.set="update")}if(i!==0&&!D(this,Gr)&&de(this,we,Cb).call(this),D(this,Gr)&&(d||D(this,Lf).call(this,u,i,s),a&&D(this,Js).call(this,a,u)),!o&&D(this,fr)&&D(this,_n)){const v=D(this,_n);let y;for(;y=v==null?void 0:v.shift();)(m=D(this,Fi))==null||m.call(this,...y)}return this}pop(){var t;try{for(;D(this,mn);){const n=D(this,Ke)[D(this,Jn)];if(de(this,we,_p).call(this,!0),de(this,we,Dt).call(this,n)){if(n.__staleWhileFetching)return n.__staleWhileFetching}else if(n!==void 0)return n}}finally{if(D(this,fr)&&D(this,_n)){const n=D(this,_n);let r;for(;r=n==null?void 0:n.shift();)(t=D(this,Fi))==null||t.call(this,...r)}}}has(t,n={}){const{updateAgeOnHas:r=this.updateAgeOnHas,status:i}=n,s=D(this,cn).get(t);if(s!==void 0){const o=D(this,Ke)[s];if(de(this,we,Dt).call(this,o)&&o.__staleWhileFetching===void 0)return!1;if(D(this,zr).call(this,s))i&&(i.has="stale",D(this,Js).call(this,i,s));else return r&&D(this,Qa).call(this,s),i&&(i.has="hit",D(this,Js).call(this,i,s)),!0}else i&&(i.has="miss");return!1}peek(t,n={}){const{allowStale:r=this.allowStale}=n,i=D(this,cn).get(t);if(i===void 0||!r&&D(this,zr).call(this,i))return;const s=D(this,Ke)[i];return de(this,we,Dt).call(this,s)?s.__staleWhileFetching:s}async fetch(t,n={}){const{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:c=this.noDisposeOnSet,size:a=0,sizeCalculation:d=this.sizeCalculation,noUpdateTTL:l=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:f=this.allowStaleOnFetchAbort,context:g,forceRefresh:m=!1,status:v,signal:y}=n;if(!D(this,Zo))return v&&(v.fetch="get"),this.get(t,{allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:s,status:v});const x={allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:c,size:a,sizeCalculation:d,noUpdateTTL:l,noDeleteOnFetchRejection:u,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:f,ignoreFetchAbort:p,status:v,signal:y};let C=D(this,cn).get(t);if(C===void 0){v&&(v.fetch="miss");const b=de(this,we,kp).call(this,t,C,x,g);return b.__returned=b}else{const b=D(this,Ke)[C];if(de(this,we,Dt).call(this,b)){const $=r&&b.__staleWhileFetching!==void 0;return v&&(v.fetch="inflight",$&&(v.returnedStale=!0)),$?b.__staleWhileFetching:b.__returned=b}const S=D(this,zr).call(this,C);if(!m&&!S)return v&&(v.fetch="hit"),de(this,we,wd).call(this,C),i&&D(this,Qa).call(this,C),v&&D(this,Js).call(this,v,C),b;const I=de(this,we,kp).call(this,t,C,x,g),T=I.__staleWhileFetching!==void 0&&r;return v&&(v.fetch=S?"stale":"refresh",T&&S&&(v.returnedStale=!0)),T?I.__staleWhileFetching:I.__returned=I}}async forceFetch(t,n={}){const r=await this.fetch(t,n);if(r===void 0)throw new Error("fetch() returned undefined");return r}memo(t,n={}){const r=D(this,Kc);if(!r)throw new Error("no memoMethod provided to constructor");const{context:i,forceRefresh:s,...o}=n,c=this.get(t,o);if(!s&&c!==void 0)return c;const a=r(t,c,{options:o,context:i});return this.set(t,a,o),a}get(t,n={}){const{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=n,c=D(this,cn).get(t);if(c!==void 0){const a=D(this,Ke)[c],d=de(this,we,Dt).call(this,a);return o&&D(this,Js).call(this,o,c),D(this,zr).call(this,c)?(o&&(o.get="stale"),d?(o&&r&&a.__staleWhileFetching!==void 0&&(o.returnedStale=!0),r?a.__staleWhileFetching:void 0):(s||de(this,we,No).call(this,t,"expire"),o&&r&&(o.returnedStale=!0),r?a:void 0)):(o&&(o.get="hit"),d?a.__staleWhileFetching:(de(this,we,wd).call(this,c),i&&D(this,Qa).call(this,c),a))}else o&&(o.get="miss")}delete(t){return de(this,we,No).call(this,t,"delete")}clear(){return de(this,we,kb).call(this,"delete")}};Bi=new WeakMap,Fr=new WeakMap,Di=new WeakMap,Fi=new WeakMap,Vc=new WeakMap,Kc=new WeakMap,mn=new WeakMap,Ui=new WeakMap,cn=new WeakMap,Ft=new WeakMap,Ke=new WeakMap,dr=new WeakMap,Ur=new WeakMap,Jn=new WeakMap,An=new WeakMap,Gi=new WeakMap,_n=new WeakMap,zi=new WeakMap,Hi=new WeakMap,Gr=new WeakMap,Wi=new WeakMap,Zo=new WeakMap,fr=new WeakMap,we=new WeakSet,Cb=function(){const t=new Ap(D(this,Bi)),n=new Ap(D(this,Bi));be(this,Gr,t),be(this,Hi,n),be(this,Lf,(s,o,c=Wl.now())=>{if(n[s]=o!==0?c:0,t[s]=o,o!==0&&this.ttlAutopurge){const a=setTimeout(()=>{D(this,zr).call(this,s)&&de(this,we,No).call(this,D(this,Ft)[s],"expire")},o+1);a.unref&&a.unref()}}),be(this,Qa,s=>{n[s]=t[s]!==0?Wl.now():0}),be(this,Js,(s,o)=>{if(t[o]){const c=t[o],a=n[o];if(!c||!a)return;s.ttl=c,s.start=a,s.now=r||i();const d=s.now-a;s.remainingTTL=c-d}});let r=0;const i=()=>{const s=Wl.now();if(this.ttlResolution>0){r=s;const o=setTimeout(()=>r=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{const o=D(this,cn).get(s);if(o===void 0)return 0;const c=t[o],a=n[o];if(!c||!a)return 1/0;const d=(r||i())-a;return c-d},be(this,zr,s=>{const o=n[s],c=t[s];return!!c&&!!o&&(r||i())-o>c})},Qa=new WeakMap,Js=new WeakMap,Lf=new WeakMap,zr=new WeakMap,$T=function(){const t=new Ap(D(this,Bi));be(this,Ui,0),be(this,zi,t),be(this,Ja,n=>{be(this,Ui,D(this,Ui)-t[n]),t[n]=0}),be(this,Mf,(n,r,i,s)=>{if(de(this,we,Dt).call(this,r))return 0;if(!Ro(i))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(i=s(r,n),!Ro(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i}),be(this,Yc,(n,r,i)=>{if(t[n]=r,D(this,Fr)){const s=D(this,Fr)-t[n];for(;D(this,Ui)>s;)de(this,we,_p).call(this,!0)}be(this,Ui,D(this,Ui)+t[n]),i&&(i.entrySize=r,i.totalCalculatedSize=D(this,Ui))})},Ja=new WeakMap,Yc=new WeakMap,Mf=new WeakMap,Po=function*({allowStale:t=this.allowStale}={}){if(D(this,mn))for(let n=D(this,An);!(!de(this,we,Ab).call(this,n)||((t||!D(this,zr).call(this,n))&&(yield n),n===D(this,Jn)));)n=D(this,Ur)[n]},Oo=function*({allowStale:t=this.allowStale}={}){if(D(this,mn))for(let n=D(this,Jn);!(!de(this,we,Ab).call(this,n)||((t||!D(this,zr).call(this,n))&&(yield n),n===D(this,An)));)n=D(this,dr)[n]},Ab=function(t){return t!==void 0&&D(this,cn).get(D(this,Ft)[t])===t},_p=function(t){var s,o;const n=D(this,Jn),r=D(this,Ft)[n],i=D(this,Ke)[n];return D(this,Zo)&&de(this,we,Dt).call(this,i)?i.__abortController.abort(new Error("evicted")):(D(this,Wi)||D(this,fr))&&(D(this,Wi)&&((s=D(this,Di))==null||s.call(this,i,r,"evict")),D(this,fr)&&((o=D(this,_n))==null||o.push([i,r,"evict"]))),D(this,Ja).call(this,n),t&&(D(this,Ft)[n]=void 0,D(this,Ke)[n]=void 0,D(this,Gi).push(n)),D(this,mn)===1?(be(this,Jn,be(this,An,0)),D(this,Gi).length=0):be(this,Jn,D(this,dr)[n]),D(this,cn).delete(r),Du(this,mn)._--,n},kp=function(t,n,r,i){const s=n===void 0?void 0:D(this,Ke)[n];if(de(this,we,Dt).call(this,s))return s;const o=new yg,{signal:c}=r;c==null||c.addEventListener("abort",()=>o.abort(c.reason),{signal:o.signal});const a={signal:o.signal,options:r,context:i},d=(g,m=!1)=>{const{aborted:v}=o.signal,y=r.ignoreFetchAbort&&g!==void 0;if(r.status&&(v&&!m?(r.status.fetchAborted=!0,r.status.fetchError=o.signal.reason,y&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),v&&!y&&!m)return u(o.signal.reason);const x=p;return D(this,Ke)[n]===p&&(g===void 0?x.__staleWhileFetching?D(this,Ke)[n]=x.__staleWhileFetching:de(this,we,No).call(this,t,"fetch"):(r.status&&(r.status.fetchUpdated=!0),this.set(t,g,a.options))),g},l=g=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=g),u(g)),u=g=>{const{aborted:m}=o.signal,v=m&&r.allowStaleOnFetchAbort,y=v||r.allowStaleOnFetchRejection,x=y||r.noDeleteOnFetchRejection,C=p;if(D(this,Ke)[n]===p&&(!x||C.__staleWhileFetching===void 0?de(this,we,No).call(this,t,"fetch"):v||(D(this,Ke)[n]=C.__staleWhileFetching)),y)return r.status&&C.__staleWhileFetching!==void 0&&(r.status.returnedStale=!0),C.__staleWhileFetching;if(C.__returned===C)throw g},h=(g,m)=>{var y;const v=(y=D(this,Vc))==null?void 0:y.call(this,t,s,a);v&&v instanceof Promise&&v.then(x=>g(x===void 0?void 0:x),m),o.signal.addEventListener("abort",()=>{(!r.ignoreFetchAbort||r.allowStaleOnFetchAbort)&&(g(void 0),r.allowStaleOnFetchAbort&&(g=x=>d(x,!0)))})};r.status&&(r.status.fetchDispatched=!0);const p=new Promise(h).then(d,l),f=Object.assign(p,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return n===void 0?(this.set(t,f,{...a.options,status:void 0}),n=D(this,cn).get(t)):D(this,Ke)[n]=f,f},Dt=function(t){if(!D(this,Zo))return!1;const n=t;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof yg},_b=function(t,n){D(this,Ur)[n]=t,D(this,dr)[t]=n},wd=function(t){t!==D(this,An)&&(t===D(this,Jn)?be(this,Jn,D(this,dr)[t]):de(this,we,_b).call(this,D(this,Ur)[t],D(this,dr)[t]),de(this,we,_b).call(this,D(this,An),t),be(this,An,t))},No=function(t,n){var i,s,o,c;let r=!1;if(D(this,mn)!==0){const a=D(this,cn).get(t);if(a!==void 0)if(r=!0,D(this,mn)===1)de(this,we,kb).call(this,n);else{D(this,Ja).call(this,a);const d=D(this,Ke)[a];if(de(this,we,Dt).call(this,d)?d.__abortController.abort(new Error("deleted")):(D(this,Wi)||D(this,fr))&&(D(this,Wi)&&((i=D(this,Di))==null||i.call(this,d,t,n)),D(this,fr)&&((s=D(this,_n))==null||s.push([d,t,n]))),D(this,cn).delete(t),D(this,Ft)[a]=void 0,D(this,Ke)[a]=void 0,a===D(this,An))be(this,An,D(this,Ur)[a]);else if(a===D(this,Jn))be(this,Jn,D(this,dr)[a]);else{const l=D(this,Ur)[a];D(this,dr)[l]=D(this,dr)[a];const u=D(this,dr)[a];D(this,Ur)[u]=D(this,Ur)[a]}Du(this,mn)._--,D(this,Gi).push(a)}}if(D(this,fr)&&((o=D(this,_n))!=null&&o.length)){const a=D(this,_n);let d;for(;d=a==null?void 0:a.shift();)(c=D(this,Fi))==null||c.call(this,...d)}return r},kb=function(t){var n,r,i;for(const s of de(this,we,Oo).call(this,{allowStale:!0})){const o=D(this,Ke)[s];if(de(this,we,Dt).call(this,o))o.__abortController.abort(new Error("deleted"));else{const c=D(this,Ft)[s];D(this,Wi)&&((n=D(this,Di))==null||n.call(this,o,c,t)),D(this,fr)&&((r=D(this,_n))==null||r.push([o,c,t]))}}if(D(this,cn).clear(),D(this,Ke).fill(void 0),D(this,Ft).fill(void 0),D(this,Gr)&&D(this,Hi)&&(D(this,Gr).fill(0),D(this,Hi).fill(0)),D(this,zi)&&D(this,zi).fill(0),be(this,Jn,0),be(this,An,0),D(this,Gi).length=0,be(this,Ui,0),be(this,mn,0),D(this,fr)&&D(this,_n)){const s=D(this,_n);let o;for(;o=s==null?void 0:s.shift();)(i=D(this,Fi))==null||i.call(this,...o)}};let Eb=kx;class bg{constructor(t){this._stats={cache:{reads:0,hits:0,writes:0},db:{reads:0,hits:0,writes:0}},this.db=t.db,this.cacheSize=t.cacheSize??0,this.valueEncoding=t.valueEncoding??Ka.String,this.checkpoints=[],this.cacheSize>0&&(this._cache=new Eb({max:this.cacheSize,updateAgeOnGet:!0}))}setCheckpoints(t){this.checkpoints=[];for(let n=0;n<t.length;n++)this.checkpoints.push({root:t[n].root,keyValueMap:new Map(t[n].keyValueMap)})}hasCheckpoints(){return this.checkpoints.length>0}checkpoint(t){this.checkpoints.push({keyValueMap:new Map,root:t})}async commit(){const{keyValueMap:t}=this.checkpoints.pop();if(this.hasCheckpoints()){const n=this.checkpoints[this.checkpoints.length-1].keyValueMap;for(const[r,i]of t.entries())n.set(r,i)}else{const n=[];for(const[r,i]of t.entries())i===void 0?n.push({type:"del",key:ca(r)}):n.push({type:"put",key:ca(r),value:i});await this.batch(n)}}async revert(){const{root:t}=this.checkpoints.pop();return t}async get(t){var s;const n=at(t);if(this._cache!==void 0){const o=this._cache.get(n);if(this._stats.cache.reads+=1,o!==void 0)return this._stats.cache.hits+=1,o}for(let o=this.checkpoints.length-1;o>=0;o--)if(this.checkpoints[o].keyValueMap.has(n))return this.checkpoints[o].keyValueMap.get(n);const r=await this.db.get(n,{keyEncoding:Bd.String,valueEncoding:this.valueEncoding});this._stats.db.reads+=1,r!==void 0&&(this._stats.db.hits+=1);const i=r!==void 0?r instanceof Uint8Array?r:ca(r):void 0;return(s=this._cache)==null||s.set(n,i),this.hasCheckpoints()&&this.checkpoints[this.checkpoints.length-1].keyValueMap.set(n,i),i}async put(t,n){const r=at(t);if(this.hasCheckpoints())this.checkpoints[this.checkpoints.length-1].keyValueMap.set(r,n);else{const i=this.valueEncoding===Ka.Bytes?n:at(n);await this.db.put(r,i,{keyEncoding:Bd.String,valueEncoding:this.valueEncoding}),this._stats.db.writes+=1,this._cache!==void 0&&(this._cache.set(r,n),this._stats.cache.writes+=1)}}async del(t){const n=at(t);this.hasCheckpoints()?this.checkpoints[this.checkpoints.length-1].keyValueMap.set(n,void 0):(await this.db.del(n,{keyEncoding:Bd.String}),this._stats.db.writes+=1,this._cache!==void 0&&(this._cache.set(n,void 0),this._stats.cache.writes+=1))}async batch(t){if(this.hasCheckpoints())for(const n of t)n.type==="put"?await this.put(n.key,n.value):n.type==="del"&&await this.del(n.key);else{const n=t.map(r=>{const i={key:at(r.key),value:r.type==="put"?r.value:void 0,type:r.type,opts:{...r.opts,valueEncoding:this.valueEncoding}};return this._stats.db.writes+=1,r.type==="put"&&this.valueEncoding===Ka.String&&(i.value=at(i.value)),i});await this.db.batch(n)}}stats(t=!0){var r;const n={...this._stats,size:((r=this._cache)==null?void 0:r.size)??0};return t&&(this._stats={cache:{reads:0,hits:0,writes:0},db:{reads:0,hits:0,writes:0}}),n}shallowCopy(){return new bg({db:this.db,cacheSize:this.cacheSize,valueEncoding:this.valueEncoding})}open(){return Promise.resolve()}}var Ib={exports:{}},mv,RC;function GU(){if(RC)return mv;RC=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*7,s=r*365.25;mv=function(l,u){u=u||{};var h=typeof l;if(h==="string"&&l.length>0)return o(l);if(h==="number"&&isFinite(l))return u.long?a(l):c(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function o(l){if(l=String(l),!(l.length>100)){var u=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(u){var h=parseFloat(u[1]),p=(u[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return h*s;case"weeks":case"week":case"w":return h*i;case"days":case"day":case"d":return h*r;case"hours":case"hour":case"hrs":case"hr":case"h":return h*n;case"minutes":case"minute":case"mins":case"min":case"m":return h*t;case"seconds":case"second":case"secs":case"sec":case"s":return h*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function c(l){var u=Math.abs(l);return u>=r?Math.round(l/r)+"d":u>=n?Math.round(l/n)+"h":u>=t?Math.round(l/t)+"m":u>=e?Math.round(l/e)+"s":l+"ms"}function a(l){var u=Math.abs(l);return u>=r?d(l,u,r,"day"):u>=n?d(l,u,n,"hour"):u>=t?d(l,u,t,"minute"):u>=e?d(l,u,e,"second"):l+" ms"}function d(l,u,h,p){var f=u>=h*1.5;return Math.round(l/h)+" "+p+(f?"s":"")}return mv}function zU(e){n.debug=n,n.default=n,n.coerce=a,n.disable=o,n.enable=i,n.enabled=c,n.humanize=GU(),n.destroy=d,Object.keys(e).forEach(l=>{n[l]=e[l]}),n.names=[],n.skips=[],n.formatters={};function t(l){let u=0;for(let h=0;h<l.length;h++)u=(u<<5)-u+l.charCodeAt(h),u|=0;return n.colors[Math.abs(u)%n.colors.length]}n.selectColor=t;function n(l){let u,h=null,p,f;function g(...m){if(!g.enabled)return;const v=g,y=Number(new Date),x=y-(u||y);v.diff=x,v.prev=u,v.curr=y,u=y,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let C=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(S,I)=>{if(S==="%%")return"%";C++;const L=n.formatters[I];if(typeof L=="function"){const T=m[C];S=L.call(v,T),m.splice(C,1),C--}return S}),n.formatArgs.call(v,m),(v.log||n.log).apply(v,m)}return g.namespace=l,g.useColors=n.useColors(),g.color=n.selectColor(l),g.extend=r,g.destroy=n.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(p!==n.namespaces&&(p=n.namespaces,f=n.enabled(l)),f),set:m=>{h=m}}),typeof n.init=="function"&&n.init(g),g}function r(l,u){const h=n(this.namespace+(typeof u>"u"?":":u)+l);return h.log=this.log,h}function i(l){n.save(l),n.namespaces=l,n.names=[],n.skips=[];const u=(typeof l=="string"?l:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const h of u)h[0]==="-"?n.skips.push(h.slice(1)):n.names.push(h)}function s(l,u){let h=0,p=0,f=-1,g=0;for(;h<l.length;)if(p<u.length&&(u[p]===l[h]||u[p]==="*"))u[p]==="*"?(f=p,g=h,p++):(h++,p++);else if(f!==-1)p=f+1,g++,h=g;else return!1;for(;p<u.length&&u[p]==="*";)p++;return p===u.length}function o(){const l=[...n.names,...n.skips.map(u=>"-"+u)].join(",");return n.enable(""),l}function c(l){for(const u of n.skips)if(s(l,u))return!1;for(const u of n.names)if(s(l,u))return!0;return!1}function a(l){return l instanceof Error?l.stack||l.message:l}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var HU=zU;(function(e,t){var n={};t.formatArgs=i,t.save=s,t.load=o,t.useColors=r,t.storage=c(),t.destroy=(()=>{let d=!1;return()=>{d||(d=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let d;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(d=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(d[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;d.splice(1,0,l,"color: inherit");let u=0,h=0;d[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(u++,p==="%c"&&(h=u))}),d.splice(h,0,l)}t.log=console.debug||console.log||(()=>{});function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function o(){let d;try{d=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d=n.DEBUG),d}function c(){try{return localStorage}catch{}}e.exports=HU(t);const{formatters:a}=e.exports;a.j=function(d){try{return JSON.stringify(d)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}})(Ib,Ib.exports);var WU=Ib.exports;const ii=Rg(WU);class yn{constructor(){this._branches=new Array(16).fill(null),this._value=null}static fromArray(t){const n=new yn;return n._branches=t.slice(0,16),n._value=t[16],n}value(t){return t!=null&&(this._value=t),this._value&&this._value.length>0?this._value:null}setBranch(t,n){this._branches[t]=n}raw(){return[...this._branches,this._value]}serialize(){return ut.encode(this.raw())}getBranch(t){const n=this._branches[t];return n!==null&&n.length>0?n:null}getChildren(){const t=[];for(let n=0;n<16;n++){const r=this._branches[n];r!==null&&r.length>0&&t.push([n,r])}return t}}function jU(e,t){return e.length%2?e.unshift(1):(e.unshift(0),e.unshift(0)),t&&(e[0]+=2),e}function VU(e){return e[0]%2?e=e.slice(1):e=e.slice(2),e}function KU(e){return e[0]>1}function Jl(e){const t=[];for(let n=0;n<e.length;n++){let r=n*2;t[r]=e[n]>>4,++r,t[r]=e[n]%16}return t}function LT(e){const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){let r=n*2;t[n]=(e[r]<<4)+e[++r]}return t}function PC(e,t){let n=0;for(;e[n]===t[n]&&e.length>n;)n++;return n}class MT{constructor(t,n,r){this._nibbles=t,this._value=n,this._isLeaf=r}static decodeKey(t){return VU(t)}encodedKey(){return jU(this._nibbles.slice(0),this._isLeaf)}key(t){return t!==void 0&&(this._nibbles=t),this._nibbles.slice(0)}keyLength(){return this._nibbles.length}value(t){return t!==void 0&&(this._value=t),this._value}raw(){return[LT(this.encodedKey()),this._value]}serialize(){return ut.encode(this.raw())}}class ys extends MT{constructor(t,n){super(t,n,!1)}raw(){return super.raw()}}class ui extends MT{constructor(t,n){super(t,n,!0)}raw(){return super.raw()}}function RT(e){if(e.length===17)return yn.fromArray(e);if(e.length===2){const t=Jl(e[0]);return KU(t)?new ui(ui.decodeKey(t),e[1]):new ys(ys.decodeKey(t),e[1])}else throw W("Invalid node")}function xd(e){return Array.isArray(e)&&!(e instanceof Uint8Array)}function YU(e){const t=ut.decode(Uint8Array.from(e));if(!xd(t))throw W("Invalid node");return RT(t)}const rd=Il("__root__");async function*Tb(e,t=[],n=async(s,o)=>{},r=async(s,o)=>!0,i=new Set){if(!Ye(e,this.EMPTY_TRIE_ROOT))try{const s=await this.lookupNode(e);if(s===void 0||i.has(ie(this.hash(s.serialize()))))return;if(i.add(ie(this.hash(s.serialize()))),await n(s,t),await r(s,t)&&(yield{node:s,currentKey:t}),s instanceof yn)for(const[o,c]of s._branches.entries()){const a=[...t,o],d=c instanceof Uint8Array?c:this.hash(ut.encode(c));yield*Tb.bind(this)(d,a,n,r,i)}else if(s instanceof ys){const o=s.value(),c=[...t,...s._nibbles];yield*Tb.bind(this)(o,c,n,r,i)}}catch{return}}class Jw{constructor(t,n,r){this.onNode=t,this.taskExecutor=new LU(r),this.trie=n,this.resolve=()=>{},this.reject=()=>{}}static async newWalk(t,n,r,i){await new Jw(t,n,i??500).startWalk(r)}async startWalk(t){return new Promise(async(n,r)=>{this.resolve=n,this.reject=r;let i;try{i=await this.trie.lookupNode(t)}catch(s){return this.reject(s)}this.processNode(t,i,[])})}allChildren(t,n=[]){if(t instanceof ui)return;let r;if(t instanceof ys?r=[[t.key(),t.value()]]:t instanceof yn&&(r=t.getChildren().map(i=>[[i[0]],i[1]])),!!r)for(const i of r){const s=i[0],o=i[1],c=n.concat(s),a=c.length;this.pushNodeToQueue(o,c,a)}}pushNodeToQueue(t,n=[],r){this.taskExecutor.executeOrQueue(r??n.length,async i=>{let s;try{s=await this.trie.lookupNode(t)}catch(o){return this.reject(o)}i(),this.processNode(t,s,n)})}onlyBranchIndex(t,n=[],r,i){if(!(t instanceof yn))throw W("Expected branch node");const s=t.getBranch(r);if(!s)throw W("Could not get branch of childIndex");const o=n.slice();o.push(r);const c=i??o.length;this.pushNodeToQueue(s,o,c)}processNode(t,n,r=[]){this.onNode(t,n,r,this),this.taskExecutor.finished()&&this.resolve()}}class ks{constructor(t){var r,i,s;this._opts={useKeyHashing:!1,useKeyHashingFunction:Sn,keyPrefix:void 0,useRootPersistence:!1,useNodePruning:!1,cacheSize:0,valueEncoding:Ka.String},this._lock=new $U,this._debug=ii("mpt:#"),this.walkTrieIterable=Tb.bind(this);let n;if(t!==void 0){if((t==null?void 0:t.valueEncoding)!==void 0&&t.db===void 0)throw W("`valueEncoding` can only be set if a `db` is provided");this._opts={...this._opts,...t},this._opts.useKeyHashingFunction=((r=t.common)==null?void 0:r.customCrypto.keccak256)??t.useKeyHashingFunction??Sn,n=t.db!==void 0?t.valueEncoding??Ka.String:Ka.Bytes}else n=Ka.Bytes;this.DEBUG=typeof window>"u"?((s=(i=process==null?void 0:process.env)==null?void 0:i.DEBUG)==null?void 0:s.includes("ethjs"))??!1:!1,this.debug=this.DEBUG?(o,c=[])=>{let a=this._debug;for(const d of c)a=a.extend(d);a(o)}:(...o)=>{},this.database((t==null?void 0:t.db)??new Qw,n),this.EMPTY_TRIE_ROOT=this.hash(R9),this._hashLen=this.EMPTY_TRIE_ROOT.length,this._root=this.EMPTY_TRIE_ROOT,t!=null&&t.root&&this.root(t.root),this.DEBUG&&this.debug(`Trie created:
    || Root: ${ie(this.root())}
    || Secure: ${this._opts.useKeyHashing}
    || Persistent: ${this._opts.useRootPersistence}
    || Pruning: ${this._opts.useNodePruning}
    || CacheSize: ${this._opts.cacheSize}
    || ----------------`)}database(t,n){if(t!==void 0){if(t instanceof bg)throw W("Cannot pass in an instance of CheckpointDB");this._db=new bg({db:t,cacheSize:this._opts.cacheSize,valueEncoding:n})}return this._db}root(t){if(t!==void 0){if(t===null&&(t=this.EMPTY_TRIE_ROOT),this.DEBUG&&this.debug(`Setting root to ${ie(t)}`),t.length!==this._hashLen)throw W(`Invalid root length. Roots are ${this._hashLen} bytes, got ${t.length} bytes`);this._root=t}return this._root}async checkRoot(t){try{return await this.lookupNode(t)!==null}catch(n){if(n.message==="Missing node in DB")return Ye(t,this.EMPTY_TRIE_ROOT);throw n}}async get(t,n=!1){this.DEBUG&&this.debug(`Key: ${ie(t)}`,["get"]);const{node:r,remaining:i}=await this.findPath(this.appliedKey(t),n);let s=null;return r&&i.length===0&&(s=r.value()),this.DEBUG&&this.debug(`Value: ${s===null?"null":ie(s)}`,["get"]),s}async put(t,n,r=!1){if(this.DEBUG&&this.debug(`Key: ${ie(t)}`,["put"]),this.DEBUG&&this.debug(`Value: ${n===null?"null":ie(t)}`,["put"]),this._opts.useRootPersistence&&Ye(t,rd)===!0)throw W(`Attempted to set '${oT(rd)}' key but it is not allowed.`);if(n===null||n.length===0)return this.del(t);await this._lock.acquire();const i=r?t:this.appliedKey(t);if(Ye(this.root(),this.EMPTY_TRIE_ROOT)===!0)await this._createInitialNode(i,n);else{const{remaining:s,stack:o}=await this.findPath(i);let c=[];if(this._opts.useNodePruning){const a=await this.get(t);(a===null||Ye(a,n)===!1)&&(c=o.map(l=>this.hash(l.serialize())).map(l=>({type:"del",key:this._opts.keyPrefix?Xe(this._opts.keyPrefix,l):l,opts:{keyEncoding:Bd.Bytes}})))}await this._updateNode(i,n,s,o),this._opts.useNodePruning&&await this._db.batch(c)}await this.persistRoot(),this._lock.release()}async del(t,n=!1){this.DEBUG&&this.debug(`Key: ${ie(t)}`,["del"]),await this._lock.acquire();const r=n?t:this.appliedKey(t),{node:i,stack:s}=await this.findPath(r);let o=[];this._opts.useNodePruning&&i!==null&&(o=s.map(a=>this.hash(a.serialize())).map(a=>({type:"del",key:this._opts.keyPrefix?Xe(this._opts.keyPrefix,a):a,opts:{keyEncoding:Bd.Bytes}}))),i&&await this._deleteNode(r,s),this._opts.useNodePruning&&await this._db.batch(o),await this.persistRoot(),this._lock.release()}async findPath(t,n=!1,r={stack:[]}){const i=Jl(t),s=i.length,o=Array.from({length:s});let c=0;for(let h=0;h<r.stack.length-1;h++)o[h]=r.stack[h],c+=o[h]instanceof yn?1:o[h].keyLength();this.DEBUG&&this.debug(`Target (${i.length}): [${i}]`,["find_path"]);let a=null;const d=async(h,p,f,g)=>{if(o[c]=p,p instanceof yn)if(c===s)a={node:p,remaining:[],stack:o};else{const m=i[c];this.DEBUG&&this.debug(`Looking for node on branch index: [${m}]`,["find_path","branch_node"]);const v=p.getBranch(m);if(this.DEBUG){let y;v===null?y="NULL":(y=`Branch index: ${m.toString()} - `,y+=v instanceof Uint8Array?`NodeHash: ${ie(v)}`:`Raw_Node: ${v.toString()}`),this.debug(y,["find_path","branch_node"])}v?(c++,g.onlyBranchIndex(p,f,m)):a={node:null,remaining:i.slice(c),stack:o}}else if(p instanceof ui){const m=c;if(s-c>p.key().length){a={node:null,remaining:i.slice(m),stack:o};return}for(const v of p.key()){if(v!==i[c]){a={node:null,remaining:i.slice(m),stack:o};return}c++}a={node:p,remaining:[],stack:o}}else if(p instanceof ys){this.DEBUG&&this.debug(`Comparing node key to expected
|| Node_Key: [${p.key()}]
|| Expected: [${i.slice(c,c+p.key().length)}]
|| Matching: [${i.slice(c,c+p.key().length).toString()===p.key().toString()}]
            `,["find_path","extension_node"]);const m=c;for(const v of p.key()){if(this.DEBUG&&this.debug(`NextNode: ${p.value()}`,["find_path","extension_node"]),v!==i[c]){a={node:null,remaining:i.slice(m),stack:o};return}c++}g.allChildren(p,f)}},l=r.stack[r.stack.length-1],u=l!==void 0?this.hash(l.serialize()):this.root();try{this.DEBUG&&this.debug(`Walking trie from ${l===void 0?"ROOT":"NODE"}: ${ie(u)}`,["find_path"]),await this.walkTrie(u,d)}catch(h){if(h.message!=="Missing node in DB"||n)throw h}return a===null&&(a={node:null,remaining:[],stack:o}),this.DEBUG&&this.debug(a.node!==null?`Target Node FOUND for ${Jl(t)}`:"Target Node NOT FOUND",["find_path"]),a.stack=a.stack.filter(h=>h!==void 0),this.DEBUG&&this.debug(`Result:
        || Node: ${a.node===null?"null":a.node.constructor.name}
        || Remaining: [${a.remaining}]
|| Stack: ${a.stack.map(h=>h.constructor.name).join(", ")}`,["find_path"]),a}async walkTrie(t,n){await Jw.newWalk(n,this,t)}async walkAllNodes(t){for await(const{node:n,currentKey:r}of this.walkTrieIterable(this.root()))await t(n,r)}async walkAllValueNodes(t){for await(const{node:n,currentKey:r}of this.walkTrieIterable(this.root(),[],void 0,async i=>i instanceof ui||i instanceof yn&&i.value()!==null))await t(n,r)}async _createInitialNode(t,n){const i=new ui(Jl(t),n).serialize();this.root(this.hash(i));let s=this.root();s=this._opts.keyPrefix?Xe(this._opts.keyPrefix,s):s,await this._db.put(s,i),await this.persistRoot()}async lookupNode(t){if(xd(t)){const s=RT(t);return this.DEBUG&&this.debug(`${s.constructor.name}`,["lookup_node","raw_node"]),s}this.DEBUG&&this.debug(`${`${ie(t)}`}`,["lookup_node","by_hash"]);const n=this._opts.keyPrefix?Xe(this._opts.keyPrefix,t):t,r=await this._db.get(n)??null;if(r===null)throw W("Missing node in DB");const i=YU(r);return this.DEBUG&&this.debug(`${i.constructor.name} found in DB`,["lookup_node","by_hash"]),i}async _updateNode(t,n,r,i){const s=[],o=i.pop();if(!o)throw W("Stack underflow");const c=Jl(t);let a=!1;if(o instanceof ui){let d=0;for(let l=0;l<i.length;l++){const u=i[l];u instanceof yn?d++:d+=u.key().length}r.length===0&&PC(o.key(),c.slice(d))===o.key().length&&(a=!0)}if(a)o.value(n),i.push(o);else if(o instanceof yn)if(i.push(o),r.length!==0){r.shift();const d=new ui(r,n);i.push(d)}else o.value(n);else{const d=o.key(),l=PC(d,r),u=new yn;if(l!==0){const h=o.key().slice(0,l),p=new ys(h,n);i.push(p),d.splice(0,l),r.splice(0,l)}if(i.push(u),d.length!==0){const h=d.shift();if(d.length!==0||o instanceof ui){o.key(d);const p=this._formatNode(o,!1,s);u.setBranch(h,p)}else this._formatNode(o,!1,s,!0),u.setBranch(h,o.value())}else u.value(o.value());if(r.length!==0){r.shift();const h=new ui(r,n);i.push(h)}else u.value(n)}await this.saveStack(c,i,s)}async _deleteNode(t,n){const r=(d,l,u,h,p)=>{if(h==null||h instanceof yn){if(h!=null&&p.push(h),u instanceof yn){const f=new ys([l],new Uint8Array);p.push(f),d.push(l)}else{const f=u.key();f.unshift(l),u.key(f.slice(0)),d=d.concat(f)}p.push(u)}else{let f=h.key();if(u instanceof yn)f.push(l),d.push(l),h.key(f),p.push(h);else{const g=u.key();g.unshift(l),d=d.concat(g),f=f.concat(g),u.key(f)}p.push(u)}return d};let i=n.pop();if(i===void 0)throw W("missing last node");let s=n.pop();const o=[];let c=Jl(t);if(s===void 0){this.root(this.EMPTY_TRIE_ROOT);return}if(i instanceof yn)i.value(null);else{if(!(s instanceof yn))throw W("Expected branch node");const d=i.key();c.splice(c.length-d.length),this._formatNode(i,!1,o,!0),s.setBranch(c.pop(),null),i=s,s=n.pop()}const a=i.getChildren();if(a.length===1){const d=a[0][1],l=a[0][0];this._opts.useNodePruning&&o.push({type:"del",key:xd(d)?this.appliedKey(ut.encode(d)):d});const u=await this.lookupNode(d);c=r(c,l,u,s,n),await this.saveStack(c,n,o)}else s&&n.push(s),n.push(i),await this.saveStack(c,n,o)}async saveStack(t,n,r){let i;for(;n.length;){const s=n.pop();if(s===void 0)throw W("saveStack: missing node");if((s instanceof ui||s instanceof ys)&&t.splice(t.length-s.key().length),s instanceof ys&&i!==void 0&&s.value(i),s instanceof yn&&i!==void 0){const o=t.pop();s.setBranch(o,i)}i=this._formatNode(s,n.length===0,r)}i!==void 0&&this.root(i),await this._db.batch(r),await this.persistRoot()}_formatNode(t,n,r,i=!1){const s=t.serialize();if(s.length>=32||n){const o=this.hash(s),c=this._opts.keyPrefix?Xe(this._opts.keyPrefix,o):o;return i?this._opts.useNodePruning&&r.push({type:"del",key:c}):r.push({type:"put",key:c,value:s}),o}return t.raw()}async batch(t,n){for(const r of t)if(r.type==="put"){if(r.value===null||r.value===void 0)throw W("Invalid batch db operation");await this.put(r.key,r.value,n)}else r.type==="del"&&await this.del(r.key,n);await this.persistRoot()}async verifyPrunedIntegrity(){const t=[at(this.root()),at(this.appliedKey(rd))];for(const n of this._db.db._database.keys()){if(t.includes(n))continue;let r=!1;try{await this.walkTrie(this.root(),async function(i,s,o,c){if(!r){if(s instanceof yn){for(const a of s._branches)if(a!==null&&at(xd(a)?c.trie.appliedKey(ut.encode(a)):a)===n){r=!0;return}c.allChildren(s,o)}if(s instanceof ys){if(at(s.value())===n){r=!0;return}c.allChildren(s,o)}}})}catch{return!1}if(!r)return!1}return!0}shallowCopy(t=!0,n){const r=new ks({...this._opts,db:this._db.db.shallowCopy(),root:this.root(),cacheSize:0,...n??{}});return t&&this.hasCheckpoints()&&r._db.setCheckpoints(this._db.checkpoints),r}async persistRoot(){if(this._opts.useRootPersistence){this.DEBUG&&this.debug(`Persisting root: 
|| RootHash: ${ie(this.root())}
|| RootKey: ${ie(this.appliedKey(rd))}`,["persist_root"]);let t=this.appliedKey(rd);t=this._opts.keyPrefix?Xe(this._opts.keyPrefix,t):t,await this._db.put(t,this.root())}}async _findDbNodes(t){const n=async(r,i,s,o)=>{xd(r)?i!==null&&o.allChildren(i,s):t(r,i,s,o)};await this.walkTrie(this.root(),n)}appliedKey(t){return this._opts.useKeyHashing?this.hash(t):t}hash(t){return Uint8Array.from(this._opts.useKeyHashingFunction.call(void 0,t))}hasCheckpoints(){return this._db.hasCheckpoints()}checkpoint(){this.DEBUG&&this.debug(`${ie(this.root())}`,["checkpoint"]),this._db.checkpoint(this.root())}async commit(){if(!this.hasCheckpoints())throw W("trying to commit when not checkpointed");this.DEBUG&&this.debug(`${ie(this.root())}`,["commit"]),await this._lock.acquire(),await this._db.commit(),await this.persistRoot(),this._lock.release()}async revert(){if(!this.hasCheckpoints())throw W("trying to revert when not checkpointed");this.DEBUG&&this.debug(`${ie(this.root())}`,["revert","before"]),await this._lock.acquire(),this.root(await this._db.revert()),await this.persistRoot(),this._lock.release(),this.DEBUG&&this.debug(`${ie(this.root())}`,["revert","after"])}flushCheckpoints(){this.DEBUG&&this.debug(`Deleting ${this._db.checkpoints.length} checkpoints.`,["flush_checkpoints"]),this._db.checkpoints=[]}async getValueMap(t=q,n){let r=n===void 0,i=0;const s={};let o=null;return await this.walkAllValueNodes(async(c,a)=>{if(c instanceof ui){const d=LT(a.concat(c.key()));if(!r)if(ue(d)>=t)r=!0;else return;n===void 0||i<n?(s[ie(d)]=ie(c._value),i++):i===n&&(o=ie(d))}}),{values:s,nextKey:o}}}const zn={EIP155ReplayProtection:155,EIP1559FeeMarket:1559,EIP2718TypedTransaction:2718,EIP2930AccessLists:2930,EIP7702EOACode:7702};function ZU(e){if(e.length===0)return!0;const t=e[0];return!!Array.isArray(t)}function Vm(e){return!ZU(e)}const Vn={Legacy:0,AccessListEIP2930:1,FeeMarketEIP1559:2,BlobEIP4844:3,EOACodeEIP7702:4};function Ip(e){return e.type===Vn.BlobEIP4844}function qU(e){return Number(ue(je(e.type)))===Vn.Legacy}function XU(e){return Number(ue(je(e.type)))===Vn.AccessListEIP2930}function QU(e){return Number(ue(je(e.type)))===Vn.FeeMarketEIP1559}function JU(e){return Number(ue(je(e.type)))===Vn.BlobEIP4844}function eG(e){return Number(ue(je(e.type)))===Vn.EOACodeEIP7702}const PT={1:{txGas:21e3,txCreationGas:32e3,txDataZeroGas:4,txDataNonZeroGas:68,accessListStorageKeyGas:0,accessListAddressGas:0},1679:{txDataNonZeroGas:16},2930:{accessListStorageKeyGas:1900,accessListAddressGas:2400},3860:{initCodeWordGas:2,maxInitCodeSize:49152},4844:{blobCommitmentVersionKzg:1,blobGasPerBlob:131072,maxBlobGasPerBlock:786432},7623:{totalCostFloorPerToken:10},7702:{perAuthBaseGas:12500,perEmptyAccountCost:25e3},7691:{maxBlobGasPerBlock:1179648}};function tG(e){return(e==null?void 0:e.copy())??new $u({chain:kl})}function nG(e){return We(`0x${e.toString(16).padStart(2,"0")}`)}function ex(e){const t=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(const[n,r]of Object.entries(e))if(t.includes(n)&&Array.isArray(r))throw W(`${n} cannot be an array`)}function rG(e,t){const n=e.param("maxInitCodeSize");if(n&&BigInt(t)>n)throw W(`the initcode size of this transaction is too large: it is ${t} while the max is ${e.param("maxInitCodeSize")}`)}function fa(e,t=256,n=!1){for(const[r,i]of Object.entries(e))switch(t){case 64:if(n){if(i!==void 0&&i>=gf)throw W(`${r} cannot equal or exceed MAX_UINT64 (2^64-1), given ${i}`)}else if(i!==void 0&&i>gf)throw W(`${r} cannot exceed MAX_UINT64 (2^64-1), given ${i}`);break;case 256:if(n){if(i!==void 0&&i>=rs)throw W(`${r} cannot equal or exceed MAX_INTEGER (2^256-1), given ${i}`)}else if(i!==void 0&&i>rs)throw W(`${r} cannot exceed MAX_INTEGER (2^256-1), given ${i}`);break;default:throw W("unimplemented bits value")}}function Vf(e,t,n={}){e.common=tG(n.common),e.common.updateParams(n.params??PT),ex(t);const{nonce:r,gasLimit:i,to:s,value:o,data:c,v:a,r:d,s:l}=t;e.txOptions=n;const u=je(s===""?"0x":s);e.to=u.length>0?new Ht(u):void 0;const h=je(a),p=je(d),f=je(l);e.nonce=ue(je(r)),e.gasLimit=ue(je(i)),e.to=u.length>0?new Ht(u):void 0,e.value=ue(je(o)),e.data=je(c===""?"0x":c),e.v=h.length>0?ue(h):void 0,e.r=p.length>0?ue(p):void 0,e.s=f.length>0?ue(f):void 0,fa({value:e.value,r:e.r,s:e.s}),fa({gasLimit:e.gasLimit},64),fa({nonce:e.nonce},64,!0);const g=e.to===void 0||e.to===null,m=n.allowUnlimitedInitCodeSize??!1;g&&e.common.isActivatedEIP(3860)&&m===!1&&rG(e.common,e.data.length)}function Kf(e){return{type:ot(BigInt(e.type)),nonce:ot(e.nonce),gasLimit:ot(e.gasLimit),to:e.to!==void 0?e.to.toString():void 0,value:ot(e.value),data:ie(e.data),v:e.v!==void 0?ot(e.v):void 0,r:e.r!==void 0?ot(e.r):void 0,s:e.s!==void 0?ot(e.s):void 0,chainId:ot(e.common.chainId()),yParity:e.v===0n||e.v===1n?ot(e.v):void 0}}function tx(e,t){const n=e.maxPriorityFeePerGas,r=e.maxFeePerGas-t,s=(n<r?n:r)+t;return e.gasLimit*s+e.value}function nx(e,t){if(t===void 0||t>e.maxFeePerGas)throw W("Tx cannot pay baseFee");const n=e.maxFeePerGas-t;return e.maxPriorityFeePerGas<n?e.maxPriorityFeePerGas:n}function wn(e,t){return`${t} (${e.errorStr()})`}function OT(e){const{v:t,r:n,s:r}=e;return!(t===void 0||n===void 0||r===void 0)}function NT(e){if(e.cache.dataFee&&e.cache.dataFee.hardfork===e.common.hardfork())return e.cache.dataFee.value;const t=e.common.param("txDataZeroGas"),n=e.common.param("txDataNonZeroGas");let r=q;for(let i=0;i<e.data.length;i++)e.data[i]===0?r+=t:r+=n;if((e.to===void 0||e.to===null)&&e.common.isActivatedEIP(3860)){const i=BigInt(Math.ceil(e.data.length/32)),s=e.common.param("initCodeWordGas")*i;r+=s}return Object.isFrozen(e)&&(e.cache.dataFee={value:r,hardfork:e.common.hardfork()}),r}function Yf(e){const t=e.common.param("txGas");let n=e.getDataGas();if(t&&(n+=t),e.common.gteHardfork("homestead")&&e.toCreationAddress()){const r=e.common.param("txCreationGas");r&&(n+=r)}return n}function Zf(e){return e.to===void 0||e.to.bytes.length===0}function qf(e){if(!e.isSigned()){const n=wn(e,"Cannot call hash method if transaction is not signed");throw W(n)}const t=e.common.customCrypto.keccak256??Sn;return Object.isFrozen(e)?(e.cache.hash||(e.cache.hash=t(e.serialize())),e.cache.hash):t(e.serialize())}function Xf(e){const{s:t}=e;if(e.common.gteHardfork("homestead")&&t!==void 0&&t>gT){const n=wn(e,"Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw W(n)}}function Qf(e){if(e.cache.senderPubKey!==void 0)return e.cache.senderPubKey;const t=e.getMessageToVerifySignature(),{v:n,r,s:i}=e;Xf(e);try{const o=(e.common.customCrypto.ecrecover??jm)(t,n,Le(r),Le(i),e.supports(zn.EIP155ReplayProtection)?e.common.chainId():void 0);return Object.isFrozen(e)&&(e.cache.senderPubKey=o),o}catch{const s=wn(e,"Invalid Signature");throw W(s)}}function BT(e,t){if(t!==void 0&&t>e)throw W("Tx cannot pay baseFee");return t===void 0?e:e-t}function Jf(e){const t=[];e.isSigned()&&!e.verifySignature()&&t.push("Invalid Signature");let n=e.getIntrinsicGas();if(e.common.isActivatedEIP(7623)){let r=0;for(let s=0;s<e.data.length;s++)r+=e.data[s]===0?1:4;const i=e.common.param("txGas")+e.common.param("totalCostFloorPerToken")*BigInt(r);n=hT(n,i)}return n>e.gasLimit&&t.push(`gasLimit is too low. The gasLimit is lower than the minimum gas limit of ${e.getIntrinsicGas()}, the gas limit is: ${e.gasLimit}`),t}function eh(e){return e.getValidationErrors().length===0}function th(e){try{const t=e.getSenderPublicKey();return va(t).length!==0}catch{return!1}}function nh(e){return new Ht(Wm(e.getSenderPublicKey()))}function rh(e,t,n=!0){var l;if(t.length!==32){const u=wn(e,"Private key must be 32 bytes in length.");throw W(u)}let r=!1;e.type===Vn.Legacy&&e.common.gteHardfork("spuriousDragon")&&!e.supports(zn.EIP155ReplayProtection)&&(e.activeCapabilities.push(zn.EIP155ReplayProtection),r=!0);const i=e.getHashedMessageToSign(),s=((l=e.common.customCrypto)==null?void 0:l.ecsign)??$l.sign,{recovery:o,r:c,s:a}=s(i,t,{extraEntropy:n}),d=e.addSignature(BigInt(o),c,a,!0);if(r){const u=e.activeCapabilities.indexOf(zn.EIP155ReplayProtection);u>-1&&e.activeCapabilities.splice(u,1)}return d}function ih(e){let t="";try{t=e.isSigned()?ie(e.hash()):"not available (unsigned)"}catch{t="error"}let n="";try{n=e.isSigned().toString()}catch{t="error"}let r="";try{r=e.common.hardfork()}catch{r="error"}let i=`tx type=${e.type} hash=${t} nonce=${e.nonce} value=${e.value} `;return i+=`signed=${n} hf=${r}`,i}function Km(e){return(e.common.customCrypto.keccak256??Sn)(e.getMessageToSign())}function ao(e,t){return Xe(nG(e.type),ut.encode(t??e.raw()))}function Ym(e){const{v:t}=e;if(t!==void 0&&t!==q&&t!==ze){const n=wn(e,"The y-parity of the transaction should either be 0 or 1");throw W(n)}}function Zm(e){const t=BigInt(iG(e));return NT(e)+t}function iG(e){const{common:t,accessList:n}=e,r=t.param("accessListStorageKeyGas"),i=t.param("accessListAddressGas"),s=n.reduce((c,a)=>c+a[1].length,0);return n.length*Number(i)+s*Number(r)}function qm(e){const t=e.accessList;for(const n of t){if(n.length!==2)throw W("Invalid EIP-2930 transaction: access list item should have 2 elements");const[r,i]=n;if(r.length!==20)throw W("Invalid EIP-2930 transaction: address length should be 20 bytes");for(const s of i)if(s.length!==32)throw W("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}}function Xm(e){return e.map(([t,n])=>({address:ie(qe(t,20)),storageKeys:n.map(r=>ie(qe(r,32)))}))}function Qm(e){return e.map(t=>[We(t.address),t.storageKeys.map(n=>We(n))])}class sG{constructor(t,n={}){this.type=Vn.FeeMarketEIP1559,this.cache={},this.activeCapabilities=[],Vf(this,{...t,type:Vn.FeeMarketEIP1559},n);const{chainId:r,accessList:i,maxFeePerGas:s,maxPriorityFeePerGas:o}=t,c=i??[];if(r!==void 0&&ue(je(r))!==this.common.chainId())throw W(`Common chain ID ${this.common.chainId} not matching the derived chain ID ${r}`);if(this.chainId=this.common.chainId(),!this.common.isActivatedEIP(1559))throw W("EIP-1559 not enabled on Common");if(this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]),this.accessList=Vm(c)?Qm(c):c,qm(this),this.maxFeePerGas=ue(je(s)),this.maxPriorityFeePerGas=ue(je(o)),fa({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),this.gasLimit*this.maxFeePerGas>rs){const d=wn(this,"gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw W(d)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const d=wn(this,"maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw W(d)}Ym(this),Xf(this),((n==null?void 0:n.freeze)??!0)&&Object.freeze(this)}supports(t){return this.activeCapabilities.includes(t)}getDataGas(){return Zm(this)}getEffectivePriorityFee(t){return nx(this,t)}getUpfrontCost(t=q){return tx(this,t)}getIntrinsicGas(){return Yf(this)}toCreationAddress(){return Zf(this)}raw(){return[Le(this.chainId),Le(this.nonce),Le(this.maxPriorityFeePerGas),Le(this.maxFeePerGas),Le(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),Le(this.value),this.data,this.accessList,this.v!==void 0?Le(this.v):new Uint8Array(0),this.r!==void 0?Le(this.r):new Uint8Array(0),this.s!==void 0?Le(this.s):new Uint8Array(0)]}serialize(){return ao(this)}getMessageToSign(){return ao(this,this.raw().slice(0,9))}getHashedMessageToSign(){return Km(this)}hash(){return qf(this)}getMessageToVerifySignature(){return this.getHashedMessageToSign()}getSenderPublicKey(){return Qf(this)}addSignature(t,n,r){n=je(n),r=je(r);const i={...this.txOptions,common:this.common};return DT({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:t,r:ue(n),s:ue(r)},i)}toJSON(){const t=Xm(this.accessList);return{...Kf(this),chainId:ot(this.chainId),maxPriorityFeePerGas:ot(this.maxPriorityFeePerGas),maxFeePerGas:ot(this.maxFeePerGas),accessList:t}}getValidationErrors(){return Jf(this)}isValid(){return eh(this)}verifySignature(){return th(this)}getSenderAddress(){return nh(this)}sign(t,n=!1){return rh(this,t,n)}isSigned(){const{v:t,r:n,s:r}=this;return!(t===void 0||n===void 0||r===void 0)}errorStr(){let t=ih(this);return t+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,t}}function DT(e,t={}){return new sG(e,t)}class oG{constructor(t,n={}){this.type=Vn.AccessListEIP2930,this.cache={},this.activeCapabilities=[],Vf(this,{...t,type:Vn.AccessListEIP2930},n);const{chainId:r,accessList:i,gasPrice:s}=t,o=i??[];if(r!==void 0&&ue(je(r))!==this.common.chainId())throw W(`Common chain ID ${this.common.chainId} not matching the derived chain ID ${r}`);if(this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw W("EIP-2930 not enabled on Common");if(this.activeCapabilities=this.activeCapabilities.concat([2718,2930]),this.accessList=Vm(o)?Qm(o):o,qm(this),this.gasPrice=ue(je(s)),fa({gasPrice:this.gasPrice}),this.gasPrice*this.gasLimit>rs){const a=wn(this,"gasLimit * gasPrice cannot exceed MAX_INTEGER");throw W(a)}Ym(this),Xf(this),((n==null?void 0:n.freeze)??!0)&&Object.freeze(this)}supports(t){return this.activeCapabilities.includes(t)}getEffectivePriorityFee(t){return BT(this.gasPrice,t)}getDataGas(){return Zm(this)}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}getIntrinsicGas(){return Yf(this)}toCreationAddress(){return Zf(this)}raw(){return[Le(this.chainId),Le(this.nonce),Le(this.gasPrice),Le(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),Le(this.value),this.data,this.accessList,this.v!==void 0?Le(this.v):new Uint8Array(0),this.r!==void 0?Le(this.r):new Uint8Array(0),this.s!==void 0?Le(this.s):new Uint8Array(0)]}serialize(){return ao(this)}getMessageToSign(){return ao(this,this.raw().slice(0,8))}getHashedMessageToSign(){return Km(this)}hash(){return qf(this)}getMessageToVerifySignature(){return this.getHashedMessageToSign()}getSenderPublicKey(){return Qf(this)}addSignature(t,n,r){n=je(n),r=je(r);const i={...this.txOptions,common:this.common};return FT({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:t,r:ue(n),s:ue(r)},i)}toJSON(){const t=Xm(this.accessList);return{...Kf(this),chainId:ot(this.chainId),gasPrice:ot(this.gasPrice),accessList:t}}getValidationErrors(){return Jf(this)}isValid(){return eh(this)}verifySignature(){return th(this)}getSenderAddress(){return nh(this)}sign(t,n=!1){return rh(this,t,n)}isSigned(){return OT(this)}errorStr(){var n;let t=ih(this);return t+=` gasPrice=${this.gasPrice} accessListCount=${((n=this.accessList)==null?void 0:n.length)??0}`,t}}function FT(e,t={}){return new oG(e,t)}class wf{constructor(t,n={}){var u,h,p;this.type=Vn.BlobEIP4844,this.cache={},this.activeCapabilities=[],Vf(this,{...t,type:Vn.BlobEIP4844},n);const{chainId:r,accessList:i,maxFeePerGas:s,maxPriorityFeePerGas:o,maxFeePerBlobGas:c}=t,a=i??[];if(r!==void 0&&ue(je(r))!==this.common.chainId())throw W(`Common chain ID ${this.common.chainId} not matching the derived chain ID ${r}`);if(this.chainId=this.common.chainId(),!this.common.isActivatedEIP(1559))throw W("EIP-1559 not enabled on Common");if(!this.common.isActivatedEIP(4844))throw W("EIP-4844 not enabled on Common");if(this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]),this.accessList=Vm(a)?Qm(a):a,qm(this),this.maxFeePerGas=ue(je(s)),this.maxPriorityFeePerGas=ue(je(o)),fa({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),ex(t),this.gasLimit*this.maxFeePerGas>rs){const f=wn(this,"gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw W(f)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const f=wn(this,"maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw W(f)}this.maxFeePerBlobGas=ue(je((c??"")===""?"0x":c)),this.blobVersionedHashes=(t.blobVersionedHashes??[]).map(f=>Ze(f,He.PrefixedHexString)),Ym(this),Xf(this);for(const f of this.blobVersionedHashes){if(f.length!==66){const g=wn(this,"versioned hash is invalid length");throw W(g)}if(BigInt(parseInt(f.slice(2,4)))!==this.common.param("blobCommitmentVersionKzg")){const g=wn(this,"versioned hash does not start with KZG commitment version");throw W(g)}}const d=this.common.param("maxBlobGasPerBlock")/this.common.param("blobGasPerBlob");if(this.blobVersionedHashes.length>d){const f=wn(this,`tx can contain at most ${d} blobs`);throw W(f)}else if(this.blobVersionedHashes.length===0){const f=wn(this,"tx should contain at least one blob");throw W(f)}if(this.to===void 0){const f=wn(this,'tx should have a "to" field and cannot be used to create contracts');throw W(f)}this.blobs=(u=t.blobs)==null?void 0:u.map(f=>Ze(f,He.PrefixedHexString)),this.kzgCommitments=(h=t.kzgCommitments)==null?void 0:h.map(f=>Ze(f,He.PrefixedHexString)),this.kzgProofs=(p=t.kzgProofs)==null?void 0:p.map(f=>Ze(f,He.PrefixedHexString)),((n==null?void 0:n.freeze)??!0)&&Object.freeze(this)}supports(t){return this.activeCapabilities.includes(t)}getEffectivePriorityFee(t){return nx(this,t)}getDataGas(){return Zm(this)}getUpfrontCost(t=q){return tx(this,t)}toCreationAddress(){return Zf(this)}getIntrinsicGas(){return Yf(this)}raw(){return[Le(this.chainId),Le(this.nonce),Le(this.maxPriorityFeePerGas),Le(this.maxFeePerGas),Le(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),Le(this.value),this.data,this.accessList,Le(this.maxFeePerBlobGas),this.blobVersionedHashes.map(t=>We(t)),this.v!==void 0?Le(this.v):new Uint8Array(0),this.r!==void 0?Le(this.r):new Uint8Array(0),this.s!==void 0?Le(this.s):new Uint8Array(0)]}serialize(){return ao(this)}serializeNetworkWrapper(){if(this.blobs===void 0||this.kzgCommitments===void 0||this.kzgProofs===void 0)throw W("cannot serialize network wrapper without blobs, KZG commitments and KZG proofs provided");return ao(this,[this.raw(),this.blobs,this.kzgCommitments,this.kzgProofs])}getMessageToSign(){return ao(this,this.raw().slice(0,11))}getHashedMessageToSign(){return Km(this)}hash(){return qf(this)}getMessageToVerifySignature(){return this.getHashedMessageToSign()}getSenderPublicKey(){return Qf(this)}toJSON(){const t=Xm(this.accessList);return{...Kf(this),chainId:ot(this.chainId),maxPriorityFeePerGas:ot(this.maxPriorityFeePerGas),maxFeePerGas:ot(this.maxFeePerGas),accessList:t,maxFeePerBlobGas:ot(this.maxFeePerBlobGas),blobVersionedHashes:this.blobVersionedHashes}}addSignature(t,n,r){n=je(n),r=je(r);const i={...this.txOptions,common:this.common};return rx({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:t,r:ue(n),s:ue(r),maxFeePerBlobGas:this.maxFeePerBlobGas,blobVersionedHashes:this.blobVersionedHashes,blobs:this.blobs,kzgCommitments:this.kzgCommitments,kzgProofs:this.kzgProofs},i)}getValidationErrors(){return Jf(this)}isValid(){return eh(this)}verifySignature(){return th(this)}getSenderAddress(){return nh(this)}sign(t,n=!1){return rh(this,t,n)}isSigned(){const{v:t,r:n,s:r}=this;return!(t===void 0||n===void 0||r===void 0)}errorStr(){let t=ih(this);return t+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,t}numBlobs(){return this.blobVersionedHashes.length}}function rx(e,t){var r,i;if(((i=(r=t==null?void 0:t.common)==null?void 0:r.customCrypto)==null?void 0:i.kzg)===void 0)throw W("A common object with customCrypto.kzg initialized required to instantiate a 4844 blob tx");const n=t.common.customCrypto.kzg;if(e.blobsData!==void 0){if(e.blobs!==void 0)throw W("cannot have both raw blobs data and encoded blobs in constructor");if(e.kzgCommitments!==void 0)throw W("cannot have both raw blobs data and KZG commitments in constructor");if(e.blobVersionedHashes!==void 0)throw W("cannot have both raw blobs data and versioned hashes in constructor");if(e.kzgProofs!==void 0)throw W("cannot have both raw blobs data and KZG proofs in constructor");e.blobs=_U(e.blobsData.reduce((s,o)=>s+o)),e.kzgCommitments=kU(n,e.blobs),e.blobVersionedHashes=TU(e.kzgCommitments),e.kzgProofs=IU(n,e.blobs,e.kzgCommitments)}return new wf(e,t)}function aG(e,t){var r,i;if(((i=(r=t==null?void 0:t.common)==null?void 0:r.customCrypto)==null?void 0:i.kzg)===void 0)throw W("A common object with customCrypto.kzg initialized required to instantiate a 4844 blob tx");return rx({...e,blobs:void 0,kzgCommitments:void 0,kzgProofs:void 0},t)}function lG(e){const t=Zm(e),n=BigInt(e.authorizationList.length*Number(e.common.param("perEmptyAccountCost")));return t+n}function cG(e){const t=e.authorizationList;if(t.length===0)throw W("Invalid EIP-7702 transaction: authorization list is empty");for(const n of t){if(n.length!==6)throw W("Invalid EIP-7702 transaction: authorization list item should have 6 elements");for(const l of n)if(Array.isArray(l))throw W("Invalid EIP-7702 transaction: authority list element is a list, not bytes");const[r,i,s,o,c,a]=n;if(I9({yParity:o,r:c,s:a,nonce:s,chainId:r}),i.length!==20)throw W("Invalid EIP-7702 transaction: address length should be 20 bytes");if(ue(r)>rs)throw W("Invalid EIP-7702 transaction: chainId exceeds 2^256 - 1");if(ue(s)>gf)throw W("Invalid EIP-7702 transaction: nonce exceeds 2^64 - 1");if(ue(o)>=BigInt(2**8))throw W("Invalid EIP-7702 transaction: yParity should be fit within 1 byte (0 - 255)");if(ue(c)>rs)throw W("Invalid EIP-7702 transaction: r exceeds 2^256 - 1");if(ue(a)>rs)throw W("Invalid EIP-7702 transaction: s exceeds 2^256 - 1")}}class uG{constructor(t,n={}){this.type=Vn.EOACodeEIP7702,this.cache={},this.activeCapabilities=[],Vf(this,{...t,type:Vn.EOACodeEIP7702},n);const{chainId:r,accessList:i,authorizationList:s,maxFeePerGas:o,maxPriorityFeePerGas:c}=t,a=i??[],d=s??[];if(r!==void 0&&ue(je(r))!==this.common.chainId())throw W(`Common chain ID ${this.common.chainId} not matching the derived chain ID ${r}`);if(this.chainId=this.common.chainId(),!this.common.isActivatedEIP(7702))throw W("EIP-7702 not enabled on Common");if(this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930,7702]),this.accessList=Vm(a)?Qm(a):a,qm(this),this.authorizationList=aU(d)?d.map(u=>CT(u)):d,cG(this),this.maxFeePerGas=ue(je(o)),this.maxPriorityFeePerGas=ue(je(c)),fa({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),ex(t),this.gasLimit*this.maxFeePerGas>rs){const u=wn(this,"gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw W(u)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const u=wn(this,"maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw W(u)}if(Ym(this),Xf(this),this.to===void 0){const u=wn(this,'tx should have a "to" field and cannot be used to create contracts');throw W(u)}((n==null?void 0:n.freeze)??!0)&&Object.freeze(this)}supports(t){return this.activeCapabilities.includes(t)}getDataGas(){return lG(this)}getEffectivePriorityFee(t){return nx(this,t)}getUpfrontCost(t=q){return tx(this,t)}getIntrinsicGas(){return Yf(this)}toCreationAddress(){return Zf(this)}raw(){return[Le(this.chainId),Le(this.nonce),Le(this.maxPriorityFeePerGas),Le(this.maxFeePerGas),Le(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),Le(this.value),this.data,this.accessList,this.authorizationList,this.v!==void 0?Le(this.v):new Uint8Array(0),this.r!==void 0?Le(this.r):new Uint8Array(0),this.s!==void 0?Le(this.s):new Uint8Array(0)]}serialize(){return ao(this)}getMessageToSign(){return ao(this,this.raw().slice(0,10))}getHashedMessageToSign(){return Km(this)}hash(){return qf(this)}getMessageToVerifySignature(){return this.getHashedMessageToSign()}getSenderPublicKey(){return Qf(this)}addSignature(t,n,r){n=je(n),r=je(r);const i={...this.txOptions,common:this.common};return UT({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,authorizationList:this.authorizationList,v:t,r:ue(n),s:ue(r)},i)}toJSON(){const t=Xm(this.accessList),n=this.authorizationList.map(i=>fU(i));return{...Kf(this),chainId:ot(this.chainId),maxPriorityFeePerGas:ot(this.maxPriorityFeePerGas),maxFeePerGas:ot(this.maxFeePerGas),accessList:t,authorizationList:n}}getValidationErrors(){return Jf(this)}isValid(){return eh(this)}verifySignature(){return th(this)}getSenderAddress(){return nh(this)}sign(t,n=!1){return rh(this,t,n)}isSigned(){const{v:t,r:n,s:r}=this;return!(t===void 0||n===void 0||r===void 0)}errorStr(){let t=ih(this);return t+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,t}}function UT(e,t={}){return new uG(e,t)}function GT(e,t){const n=Number(e),r=Number(t)*2;return n===r+35||n===r+36}function dG(e,t){let n;const r=t!==void 0?Number(t):void 0;if(r!==void 0&&r<37&&r!==27&&r!==28)throw W(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${r}`);if(r!==void 0&&r!==0&&e.gteHardfork("spuriousDragon")&&r!==27&&r!==28){if(!GT(BigInt(r),e.chainId()))throw W(`Incompatible EIP155-based V ${r} and chain id ${e.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`);let i;(r-35)%2===0?i=35:i=36,n=BigInt(r-i)/Qr}return n}class fG{constructor(t,n={}){this.type=Vn.Legacy,this.cache={},this.activeCapabilities=[],Vf(this,t,n),this.gasPrice=ue(je(t.gasPrice)),fa({gasPrice:this.gasPrice}),this.common.updateParams(n.params??PT);const r=dG(this.common,this.v);if(r!==void 0&&r!==this.common.chainId())throw W(`Common chain ID ${this.common.chainId} not matching the derived chain ID ${r}`);if(this.keccakFunction=this.common.customCrypto.keccak256??Sn,this.gasPrice*this.gasLimit>rs)throw W("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?GT(this.v,this.common.chainId())&&this.activeCapabilities.push(zn.EIP155ReplayProtection):this.activeCapabilities.push(zn.EIP155ReplayProtection)),((n==null?void 0:n.freeze)??!0)&&Object.freeze(this)}supports(t){return this.activeCapabilities.includes(t)}isSigned(){return OT(this)}getEffectivePriorityFee(t){return BT(this.gasPrice,t)}raw(){return[Le(this.nonce),Le(this.gasPrice),Le(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),Le(this.value),this.data,this.v!==void 0?Le(this.v):new Uint8Array(0),this.r!==void 0?Le(this.r):new Uint8Array(0),this.s!==void 0?Le(this.s):new Uint8Array(0)]}serialize(){return ut.encode(this.raw())}getMessageToSign(){const t=[Le(this.nonce),Le(this.gasPrice),Le(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),Le(this.value),this.data];return this.supports(zn.EIP155ReplayProtection)&&(t.push(Le(this.common.chainId())),t.push(va(_i(0))),t.push(va(_i(0)))),t}getHashedMessageToSign(){const t=this.getMessageToSign();return this.keccakFunction(ut.encode(t))}getDataGas(){return NT(this)}toCreationAddress(){return Zf(this)}getIntrinsicGas(){return Yf(this)}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){return qf(this)}getMessageToVerifySignature(){if(!this.isSigned()){const t=wn(this,"This transaction is not signed");throw W(t)}return this.getHashedMessageToSign()}getSenderPublicKey(){return Qf(this)}addSignature(t,n,r,i=!1){n=je(n),r=je(r),i&&this.supports(zn.EIP155ReplayProtection)?t+=BigInt(35)+this.common.chainId()*Qr:i&&(t+=BigInt(27));const s={...this.txOptions,common:this.common};return Ya({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:t,r:ue(n),s:ue(r)},s)}toJSON(){const t=Kf(this);return t.gasPrice=ot(this.gasPrice),t}getValidationErrors(){return Jf(this)}isValid(){return eh(this)}verifySignature(){return th(this)}getSenderAddress(){return nh(this)}sign(t,n=!1){return rh(this,t,n)}errorStr(){let t=ih(this);return t+=` gasPrice=${this.gasPrice}`,t}}function Ya(e,t={}){return new fG(e,t)}function hG(e,t={}){if(!("type"in e)||e.type===void 0)return Ya(e,t);if(qU(e))return Ya(e,t);if(XU(e))return FT(e,t);if(QU(e))return DT(e,t);if(JU(e))return rx(e,t);if(eG(e))return UT(e,t);throw W(`Tx instantiation with type ${e==null?void 0:e.type} not supported`)}class pG{constructor(t,n=[],r=[],i,s={},o){if(this.transactions=[],this.uncleHeaders=[],this.cache={},this.header=t??new VT({},s),this.common=this.header.common,this.keccakFunction=this.common.customCrypto.keccak256??Sn,this.sha256Function=this.common.customCrypto.sha256??jf,this.transactions=n,this.withdrawals=i??(this.common.isActivatedEIP(4895)?[]:void 0),this.executionWitness=o,this.common.isActivatedEIP(6800)&&this.executionWitness===void 0&&(this.executionWitness={parentStateRoot:"0x",stateDiff:[],verkleProof:{commitmentsByPath:[],d:"0x",depthExtensionPresent:"0x",ipaProof:{cl:[],cr:[],finalEvaluation:"0x"},otherStems:[]}}),this.uncleHeaders=r,r.length>0){if(this.validateUncles(),this.common.consensusType()===yl.ProofOfAuthority){const a=this._errorMsg("Block initialization with uncleHeaders on a PoA network is not allowed");throw W(a)}if(this.common.consensusType()===yl.ProofOfStake){const a=this._errorMsg("Block initialization with uncleHeaders on a PoS network is not allowed");throw W(a)}}if(!this.common.isActivatedEIP(4895)&&i!==void 0)throw W("Cannot have a withdrawals field if EIP 4895 is not active");if(!this.common.isActivatedEIP(6800)&&o!==void 0&&o!==null)throw W("Cannot have executionWitness field if EIP 6800 is not active ");((s==null?void 0:s.freeze)??!0)&&Object.freeze(this)}raw(){var r;const t=[this.header.raw(),this.transactions.map(i=>i.supports(zn.EIP2718TypedTransaction)?i.serialize():i.raw()),this.uncleHeaders.map(i=>i.raw())],n=(r=this.withdrawals)==null?void 0:r.map(i=>i.raw());if(n&&t.push(n),this.executionWitness!==void 0&&this.executionWitness!==null){const i=ut.encode(JSON.stringify(this.executionWitness));t.push(i)}return t}hash(){return this.header.hash()}isGenesis(){return this.header.isGenesis()}serialize(){return ut.encode(this.raw())}async genTxTrie(){return jT(this.transactions,new ks({common:this.common}))}async transactionsTrieIsValid(){let t;return this.transactions.length===0?(t=Ye(this.header.transactionsTrie,ua),t):(this.cache.txTrieRoot===void 0&&(this.cache.txTrieRoot=await this.genTxTrie()),t=Ye(this.cache.txTrieRoot,this.header.transactionsTrie),t)}getTransactionsValidationErrors(){const t=[];let n=q;for(let[r,i]of this.transactions.entries()){const s=i.getValidationErrors();if(this.common.isActivatedEIP(1559)&&(i.supports(zn.EIP1559FeeMarket)?(i=i,i.maxFeePerGas<this.header.baseFeePerGas&&s.push("tx unable to pay base fee (EIP-1559 tx)")):(i=i,i.gasPrice<this.header.baseFeePerGas&&s.push("tx unable to pay base fee (non EIP-1559 tx)"))),this.common.isActivatedEIP(4844)){const o=this.common.param("maxBlobGasPerBlock"),c=this.common.param("blobGasPerBlob");i instanceof wf&&(n+=BigInt(i.numBlobs())*c,n>o&&s.push(`tx causes total blob gas of ${n} to exceed maximum blob gas per block of ${o}`))}s.length>0&&t.push(`errors at tx ${r}: ${s.join(", ")}`)}return this.common.isActivatedEIP(4844)&&n!==this.header.blobGasUsed&&t.push(`invalid blobGasUsed expected=${this.header.blobGasUsed} actual=${n}`),t}transactionsAreValid(){return this.getTransactionsValidationErrors().length===0}async validateData(t=!1,n=!0){if(n){const r=this.getTransactionsValidationErrors();if(r.length>0){const i=this._errorMsg(`invalid transactions: ${r.join(" ")}`);throw W(i)}}if(!t){if(n){for(const[r,i]of this.transactions.entries())if(!i.isSigned()){const s=this._errorMsg(`invalid transactions: transaction at index ${r} is unsigned`);throw W(s)}}if(!await this.transactionsTrieIsValid()){const r=this._errorMsg("invalid transaction trie");throw W(r)}if(!this.uncleHashIsValid()){const r=this._errorMsg("invalid uncle hash");throw W(r)}if(this.common.isActivatedEIP(4895)&&!await this.withdrawalsTrieIsValid()){const r=this._errorMsg("invalid withdrawals trie");throw W(r)}if(this.common.isActivatedEIP(6800)){if(this.executionWitness===void 0)throw W("Invalid block: missing executionWitness");if(this.executionWitness===null)throw W("Invalid block: ethereumjs stateless client needs executionWitness")}}}validateBlobTransactions(t){if(this.common.isActivatedEIP(4844)){const n=this.common.param("maxBlobGasPerBlock"),r=this.common.param("blobGasPerBlob");let i=q;const s=t.calcNextExcessBlobGas(this.common);if(this.header.excessBlobGas!==s)throw W(`block excessBlobGas mismatch: have ${this.header.excessBlobGas}, want ${s}`);let o;for(const c of this.transactions)if(c instanceof wf){if(o=o??this.header.getBlobGasPrice(),c.maxFeePerBlobGas<o)throw W(`blob transaction maxFeePerBlobGas ${c.maxFeePerBlobGas} < than block blob gas price ${o} - ${this.errorStr()}`);if(i+=BigInt(c.blobVersionedHashes.length)*r,i>n)throw W(`tx causes total blob gas of ${i} to exceed maximum blob gas per block of ${n}`)}if(this.header.blobGasUsed!==i)throw W(`block blobGasUsed mismatch: have ${this.header.blobGasUsed}, want ${i}`)}}uncleHashIsValid(){if(this.uncleHeaders.length===0)return Ye(bd,this.header.uncleHash);const t=this.uncleHeaders.map(r=>r.raw()),n=ut.encode(t);return Ye(this.keccakFunction(n),this.header.uncleHash)}async withdrawalsTrieIsValid(){if(!this.common.isActivatedEIP(4895))throw W("EIP 4895 is not activated");let t;return this.withdrawals.length===0?(t=Ye(this.header.withdrawalsRoot,ua),t):(this.cache.withdrawalsTrieRoot===void 0&&(this.cache.withdrawalsTrieRoot=await WT(this.withdrawals,new ks({common:this.common}))),t=Ye(this.cache.withdrawalsTrieRoot,this.header.withdrawalsRoot),t)}validateUncles(){if(this.isGenesis())return;if(this.uncleHeaders.length>2){const n=this._errorMsg("too many uncle headers");throw W(n)}const t=this.uncleHeaders.map(n=>ie(n.hash()));if(new Set(t).size!==t.length){const n=this._errorMsg("duplicate uncles");throw W(n)}}validateGasLimit(t){return this.header.validateGasLimit(t.header)}toJSON(){const t=this.withdrawals?{withdrawals:this.withdrawals.map(n=>n.toJSON())}:{};return{header:this.header.toJSON(),transactions:this.transactions.map(n=>n.toJSON()),uncleHeaders:this.uncleHeaders.map(n=>n.toJSON()),...t}}toExecutionPayload(){const t=this.toJSON(),n=t.header,r=this.transactions.map(o=>ie(o.serialize()))??[],i=t.withdrawals?{withdrawals:t.withdrawals}:{};return{blockNumber:n.number,parentHash:n.parentHash,feeRecipient:n.coinbase,stateRoot:n.stateRoot,receiptsRoot:n.receiptTrie,logsBloom:n.logsBloom,gasLimit:n.gasLimit,gasUsed:n.gasUsed,timestamp:n.timestamp,extraData:n.extraData,baseFeePerGas:n.baseFeePerGas,blobGasUsed:n.blobGasUsed,excessBlobGas:n.excessBlobGas,blockHash:ie(this.hash()),prevRandao:n.mixHash,transactions:r,...i,parentBeaconBlockRoot:n.parentBeaconBlockRoot,requestsHash:n.requestsHash,executionWitness:this.executionWitness}}errorStr(){let t="";try{t=ie(this.hash())}catch{t="error"}let n="";try{n=this.common.hardfork()}catch{n="error"}let r=`block number=${this.header.number} hash=${t} `;return r+=`hf=${n} baseFeePerGas=${this.header.baseFeePerGas??"none"} `,r+=`txs=${this.transactions.length} uncles=${this.uncleHeaders.length}`,r}_errorMsg(t){return`${t} (${this.errorStr()})`}}const zT=32,xf=65;function sh(e,t){if(e.common.consensusAlgorithm()!==yc.Clique){const n=e._errorMsg(`BlockHeader.${t}() call only supported for clique PoA networks`);throw W(n)}}function HT(e){sh(e,"cliqueSigHash");const t=e.raw();return t[12]=e.extraData.subarray(0,e.extraData.length-xf),e.keccakFunction(ut.encode(t))}function gG(e){sh(e,"cliqueIsEpochTransition");const t=BigInt(e.common.consensusConfig().epoch);return e.number%t===q}function mG(e){return sh(e,"cliqueExtraSeal"),e.extraData.subarray(-xf)}function vG(e){sh(e,"cliqueSigner");const t=mG(e);if(t.length===0||Ye(t,new Uint8Array(65)))return gi();const n=t.subarray(0,32),r=t.subarray(32,64),i=ue(t.subarray(64,65))+Zw,s=jm(HT(e),i,n,r);return sU(s)}function yG(e,t){var a;const n=zT+xf;if(e.extraData.length<n){const d=n-e.extraData.length;e.extraData=Xe(e.extraData,new Uint8Array(d))}sh(e,"generateCliqueBlockExtraData");const i=(((a=e.common.customCrypto)==null?void 0:a.ecsign)??$l.sign)(HT(e),t),s=Xe(qe(Le(i.r),32),qe(Le(i.s),32),Je(BigInt(i.recovery))),o=e.extraData.subarray(0,e.extraData.length-xf);return Xe(o,s)}const bG=(e,t,n)=>{let r=ze,i=q,s=e*n;for(;s>q;)i+=s,s=s*t/(n*r),r++;return i/n},OC=(e,t)=>bG(t.param("minBlobGas"),e,t.param("blobGasPriceUpdateFraction"));async function WT(e,t){const n=t??new ks;for(const[r,i]of e.entries())await n.put(ut.encode(r),ut.encode(i.raw()));return n.root()}async function jT(e,t){const n=t??new ks;for(const[r,i]of e.entries())await n.put(ut.encode(r),i.serialize());return n.root()}function wG(e,t){if(e.length>1){for(let r=1;r<e.length;r++)if(e[r].type<e[r-1].type)throw W("requests are not sorted in ascending order")}let n=new Uint8Array;for(const r of e)r.bytes.length>1&&(n=Xe(n,t(r.bytes)));return t(n)}function wg(e={},t){const{header:n,transactions:r,uncleHeaders:i,withdrawals:s,executionWitness:o}=e,c=$b(n,t),a=[];for(const p of r??[]){const f=hG(p,{...t,common:c.common});a.push(f)}const d=[],l={...t,common:c.common,calcDifficultyFromHeader:void 0};(t==null?void 0:t.setHardfork)!==void 0&&(l.setHardfork=!0);for(const p of i??[]){const f=$b(p,l);d.push(f)}const u=s==null?void 0:s.map(ET),h=o;return new pG(c,a,d,u,t,h)}function xG(e={},t,n={}){const r=wg(e,{...n,freeze:!1,skipConsensusFormatValidation:!0});return r.header.extraData=yG(r.header,t),(n==null?void 0:n.freeze)===!0&&Object.freeze(r),(n==null?void 0:n.skipConsensusFormatValidation)===!1&&r.header._consensusFormatValidation(),r}function $b(e={},t={}){return new VT(e,t)}const SG={1:{minGasLimit:5e3,gasLimitBoundDivisor:1024,targetBlobGasPerBlock:0,blobGasPerBlob:0,maxBlobGasPerBlock:0,maxExtraDataSize:32,minimumDifficulty:131072,difficultyBoundDivisor:2048,durationLimit:13,difficultyBombDelay:0},609:{difficultyBombDelay:3e6},1013:{difficultyBombDelay:5e6},2384:{difficultyBombDelay:9e6},1559:{baseFeeMaxChangeDenominator:8,elasticityMultiplier:2,initialBaseFee:1e9},3554:{difficultyBombDelay:95e5},4345:{difficultyBombDelay:107e5},4844:{targetBlobGasPerBlock:393216,blobGasPerBlob:131072,maxBlobGasPerBlock:786432,blobGasPriceUpdateFraction:3338477,minBlobGas:1},5133:{difficultyBombDelay:114e5},7691:{targetBlobGasPerBlock:786432,maxBlobGasPerBlock:1179648,blobGasPriceUpdateFraction:5007716}},EG=BigInt("0xffffffffffffff");class VT{get prevRandao(){if(!this.common.isActivatedEIP(4399)){const t=this._errorMsg("The prevRandao parameter can only be accessed when EIP-4399 is activated");throw W(t)}return this.mixHash}constructor(t,n={}){this.cache={hash:void 0},n.common?this.common=n.common.copy():this.common=new $u({chain:kl}),this.common.updateParams(n.params??SG),this.keccakFunction=this.common.customCrypto.keccak256??Sn;const r=n.skipConsensusFormatValidation??!1,i={parentHash:new Uint8Array(32),uncleHash:bd,coinbase:gi(),stateRoot:new Uint8Array(32),transactionsTrie:ua,receiptTrie:ua,logsBloom:new Uint8Array(256),difficulty:q,number:q,gasLimit:EG,gasUsed:q,timestamp:q,extraData:new Uint8Array(0),mixHash:new Uint8Array(32),nonce:new Uint8Array(8)},s=Ze(t.parentHash,He.Uint8Array)??i.parentHash,o=Ze(t.uncleHash,He.Uint8Array)??i.uncleHash,c=new Ht(Ze(t.coinbase??i.coinbase,He.Uint8Array)),a=Ze(t.stateRoot,He.Uint8Array)??i.stateRoot,d=Ze(t.transactionsTrie,He.Uint8Array)??i.transactionsTrie,l=Ze(t.receiptTrie,He.Uint8Array)??i.receiptTrie,u=Ze(t.logsBloom,He.Uint8Array)??i.logsBloom,h=Ze(t.difficulty,He.BigInt)??i.difficulty,p=Ze(t.number,He.BigInt)??i.number,f=Ze(t.gasLimit,He.BigInt)??i.gasLimit,g=Ze(t.gasUsed,He.BigInt)??i.gasUsed,m=Ze(t.timestamp,He.BigInt)??i.timestamp,v=Ze(t.extraData,He.Uint8Array)??i.extraData,y=Ze(t.mixHash,He.Uint8Array)??i.mixHash,x=Ze(t.nonce,He.Uint8Array)??i.nonce;(n.setHardfork??!1)===!0&&this.common.setHardforkBy({blockNumber:p,timestamp:m});const b={baseFeePerGas:this.common.isActivatedEIP(1559)?p===this.common.hardforkBlock(se.London)?this.common.param("initialBaseFee"):Yw:void 0,withdrawalsRoot:this.common.isActivatedEIP(4895)?ua:void 0,blobGasUsed:this.common.isActivatedEIP(4844)?q:void 0,excessBlobGas:this.common.isActivatedEIP(4844)?q:void 0,parentBeaconBlockRoot:this.common.isActivatedEIP(4788)?new Uint8Array(32):void 0,requestsHash:this.common.isActivatedEIP(7685)?M9:void 0},S=Ze(t.baseFeePerGas,He.BigInt)??b.baseFeePerGas,I=Ze(t.withdrawalsRoot,He.Uint8Array)??b.withdrawalsRoot,L=Ze(t.blobGasUsed,He.BigInt)??b.blobGasUsed,T=Ze(t.excessBlobGas,He.BigInt)??b.excessBlobGas,$=Ze(t.parentBeaconBlockRoot,He.Uint8Array)??b.parentBeaconBlockRoot,P=Ze(t.requestsHash,He.Uint8Array)??b.requestsHash;if(!this.common.isActivatedEIP(1559)&&S!==void 0)throw W("A base fee for a block can only be set with EIP1559 being activated");if(!this.common.isActivatedEIP(4895)&&I!==void 0)throw W("A withdrawalsRoot for a header can only be provided with EIP4895 being activated");if(!this.common.isActivatedEIP(4844)){if(L!==void 0)throw W("blob gas used can only be provided with EIP4844 activated");if(T!==void 0)throw W("excess blob gas can only be provided with EIP4844 activated")}if(!this.common.isActivatedEIP(4788)&&$!==void 0)throw W("A parentBeaconBlockRoot for a header can only be provided with EIP4788 being activated");if(!this.common.isActivatedEIP(7685)&&P!==void 0)throw W("requestsHash can only be provided with EIP 7685 activated");this.parentHash=s,this.uncleHash=o,this.coinbase=c,this.stateRoot=a,this.transactionsTrie=d,this.receiptTrie=l,this.logsBloom=u,this.difficulty=h,this.number=p,this.gasLimit=f,this.gasUsed=g,this.timestamp=m,this.extraData=v,this.mixHash=y,this.nonce=x,this.baseFeePerGas=S,this.withdrawalsRoot=I,this.blobGasUsed=L,this.excessBlobGas=T,this.parentBeaconBlockRoot=$,this.requestsHash=P,this._genericFormatValidation(),this._validateDAOExtraData(),n.calcDifficultyFromHeader&&this.common.consensusAlgorithm()===yc.Ethash&&(this.difficulty=this.ethashCanonicalDifficulty(n.calcDifficultyFromHeader)),r===!1&&this._consensusFormatValidation(),((n==null?void 0:n.freeze)??!0)&&Object.freeze(this)}_genericFormatValidation(){var c,a;const{parentHash:t,stateRoot:n,transactionsTrie:r,receiptTrie:i,mixHash:s,nonce:o}=this;if(t.length!==32){const d=this._errorMsg(`parentHash must be 32 bytes, received ${t.length} bytes`);throw W(d)}if(n.length!==32){const d=this._errorMsg(`stateRoot must be 32 bytes, received ${n.length} bytes`);throw W(d)}if(r.length!==32){const d=this._errorMsg(`transactionsTrie must be 32 bytes, received ${r.length} bytes`);throw W(d)}if(i.length!==32){const d=this._errorMsg(`receiptTrie must be 32 bytes, received ${i.length} bytes`);throw W(d)}if(s.length!==32){const d=this._errorMsg(`mixHash must be 32 bytes, received ${s.length} bytes`);throw W(d)}if(o.length!==8){const d=this._errorMsg(`nonce must be 8 bytes, received ${o.length} bytes`);throw W(d)}if(this.gasUsed>this.gasLimit){const d=this._errorMsg(`Invalid block: too much gas used. Used: ${this.gasUsed}, gas limit: ${this.gasLimit}`);throw W(d)}if(this.common.isActivatedEIP(1559)){if(typeof this.baseFeePerGas!="bigint"){const l=this._errorMsg("EIP1559 block has no base fee field");throw W(l)}const d=this.common.hardforkBlock(se.London);if(typeof d=="bigint"&&d!==q&&this.number===d){const l=this.common.param("initialBaseFee");if(this.baseFeePerGas!==l){const u=this._errorMsg("Initial EIP1559 block does not have initial base fee");throw W(u)}}}if(this.common.isActivatedEIP(4895)){if(this.withdrawalsRoot===void 0){const d=this._errorMsg("EIP4895 block has no withdrawalsRoot field");throw W(d)}if(((c=this.withdrawalsRoot)==null?void 0:c.length)!==32){const d=this._errorMsg(`withdrawalsRoot must be 32 bytes, received ${this.withdrawalsRoot.length} bytes`);throw W(d)}}if(this.common.isActivatedEIP(4788)){if(this.parentBeaconBlockRoot===void 0){const d=this._errorMsg("EIP4788 block has no parentBeaconBlockRoot field");throw W(d)}if(((a=this.parentBeaconBlockRoot)==null?void 0:a.length)!==32){const d=this._errorMsg(`parentBeaconBlockRoot must be 32 bytes, received ${this.parentBeaconBlockRoot.length} bytes`);throw W(d)}}if(this.common.isActivatedEIP(7685)&&this.requestsHash===void 0){const d=this._errorMsg("EIP7685 block has no requestsHash field");throw W(d)}}_consensusFormatValidation(){const{nonce:t,uncleHash:n,difficulty:r,extraData:i,number:s}=this;if(this.common.consensusAlgorithm()===yc.Ethash&&s>q&&this.extraData.length>this.common.param("maxExtraDataSize")){const o=this._errorMsg("invalid amount of extra data");throw W(o)}if(this.common.consensusAlgorithm()===yc.Clique){const o=zT+xf;if(gG(this)){const c=this.extraData.length-o;if(c%20!==0){const a=this._errorMsg(`invalid signer list length in extraData, received signer length of ${c} (not divisible by 20)`);throw W(a)}if(!this.coinbase.isZero()){const a=this._errorMsg(`coinbase must be filled with zeros on epoch transition blocks, received ${this.coinbase}`);throw W(a)}}else if(this.extraData.length!==o){const c=this._errorMsg(`extraData must be ${o} bytes on non-epoch transition blocks, received ${this.extraData.length} bytes`);throw W(c)}if(!Ye(this.mixHash,new Uint8Array(32))){const c=this._errorMsg(`mixHash must be filled with zeros, received ${this.mixHash}`);throw W(c)}}if(this.common.consensusType()===yl.ProofOfStake){let o=!1,c="";if(Ye(n,bd)||(c+=`, uncleHash: ${ie(n)} (expected: ${ie(bd)})`,o=!0),s!==q&&(r!==q&&(c+=`, difficulty: ${r} (expected: 0)`,o=!0),i.length>32&&(c+=`, extraData: ${ie(i)} (cannot exceed 32 bytes length, received ${i.length} bytes)`,o=!0),Ye(t,new Uint8Array(8))||(c+=`, nonce: ${ie(t)} (expected: ${ie(new Uint8Array(8))})`,o=!0)),o){const a=this._errorMsg(`Invalid PoS block: ${c}`);throw W(a)}}}validateGasLimit(t){let n=t.gasLimit;const r=this.common.hardforkBlock(se.London);if(typeof r=="bigint"&&r!==q&&this.number===r){const a=this.common.param("elasticityMultiplier");n=n*a}const i=this.gasLimit,s=n/this.common.param("gasLimitBoundDivisor"),o=n+s,c=n-s;if(i>=o){const a=this._errorMsg(`gas limit increased too much. Gas limit: ${i}, max gas limit: ${o}`);throw W(a)}if(i<=c){const a=this._errorMsg(`gas limit decreased too much. Gas limit: ${i}, min gas limit: ${c}`);throw W(a)}if(i<this.common.param("minGasLimit")){const a=this._errorMsg(`gas limit decreased below minimum gas limit. Gas limit: ${i}, minimum gas limit: ${this.common.param("minGasLimit")}`);throw W(a)}}calcNextBaseFee(){if(!this.common.isActivatedEIP(1559)){const i=this._errorMsg("calcNextBaseFee() can only be called with EIP1559 being activated");throw W(i)}let t;const n=this.common.param("elasticityMultiplier"),r=this.gasLimit/n;if(r===this.gasUsed)t=this.baseFeePerGas;else if(this.gasUsed>r){const i=this.gasUsed-r,s=this.common.param("baseFeeMaxChangeDenominator"),o=this.baseFeePerGas*i/r/s;t=(o>ze?o:ze)+this.baseFeePerGas}else{const i=r-this.gasUsed,s=this.common.param("baseFeeMaxChangeDenominator"),o=this.baseFeePerGas*i/r/s;t=this.baseFeePerGas-o>q?this.baseFeePerGas-o:q}return t}getBlobGasPrice(){if(this.excessBlobGas===void 0)throw W("header must have excessBlobGas field populated");return OC(this.excessBlobGas,this.common)}calcDataFee(t){const r=this.common.param("blobGasPerBlob")*BigInt(t),i=this.getBlobGasPrice();return r*i}calcNextExcessBlobGas(t){const n=(this.excessBlobGas??q)+(this.blobGasUsed??q),r=t.param("targetBlobGasPerBlock");return n<=r?q:n-r}calcNextBlobGasPrice(t){return OC(this.calcNextExcessBlobGas(t),t)}raw(){const t=[this.parentHash,this.uncleHash,this.coinbase.bytes,this.stateRoot,this.transactionsTrie,this.receiptTrie,this.logsBloom,Le(this.difficulty),Le(this.number),Le(this.gasLimit),Le(this.gasUsed),Le(this.timestamp??q),this.extraData,this.mixHash,this.nonce];return this.common.isActivatedEIP(1559)&&t.push(Le(this.baseFeePerGas)),this.common.isActivatedEIP(4895)&&t.push(this.withdrawalsRoot),this.common.isActivatedEIP(6800),this.common.isActivatedEIP(4844)&&(t.push(Le(this.blobGasUsed)),t.push(Le(this.excessBlobGas))),this.common.isActivatedEIP(4788)&&t.push(this.parentBeaconBlockRoot),this.common.isActivatedEIP(7685)&&t.push(this.requestsHash),t}hash(){return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=this.keccakFunction(ut.encode(this.raw()))),this.cache.hash):this.keccakFunction(ut.encode(this.raw()))}isGenesis(){return this.number===q}ethashCanonicalDifficulty(t){if(this.common.consensusType()!==yl.ProofOfWork){const l=this._errorMsg("difficulty calculation is only supported on PoW chains");throw W(l)}if(this.common.consensusAlgorithm()!==yc.Ethash){const l=this._errorMsg("difficulty calculation currently only supports the ethash algorithm");throw W(l)}const n=this.timestamp,{timestamp:r,difficulty:i}=t,s=this.common.param("minimumDifficulty"),o=i/this.common.param("difficultyBoundDivisor");let c=this.number,a;if(this.common.gteHardfork(se.Byzantium)){const l=Ye(t.uncleHash,bd)?1:2;let u=BigInt(l)-(n-r)/BigInt(9);const h=BigInt(-99);h>u&&(u=h),a=i+o*u}if(this.common.gteHardfork(se.Byzantium))c=c-this.common.param("difficultyBombDelay"),c<q&&(c=q);else if(this.common.gteHardfork(se.Homestead)){let l=ze-(n-r)/BigInt(10);const u=BigInt(-99);u>l&&(l=u),a=i+o*l}else r+this.common.param("durationLimit")>n?a=o+i:a=i-o;const d=c/BigInt(1e5)-Qr;return d>=0&&(a=a+Qr**d),a<s&&(a=s),a}serialize(){return ut.encode(this.raw())}toJSON(){const t=this.withdrawalsRoot?{withdrawalsRoot:ie(this.withdrawalsRoot)}:{},n={parentHash:ie(this.parentHash),uncleHash:ie(this.uncleHash),coinbase:this.coinbase.toString(),stateRoot:ie(this.stateRoot),transactionsTrie:ie(this.transactionsTrie),...t,receiptTrie:ie(this.receiptTrie),logsBloom:ie(this.logsBloom),difficulty:ot(this.difficulty),number:ot(this.number),gasLimit:ot(this.gasLimit),gasUsed:ot(this.gasUsed),timestamp:ot(this.timestamp),extraData:ie(this.extraData),mixHash:ie(this.mixHash),nonce:ie(this.nonce)};return this.common.isActivatedEIP(1559)&&(n.baseFeePerGas=ot(this.baseFeePerGas)),this.common.isActivatedEIP(4844)&&(n.blobGasUsed=ot(this.blobGasUsed),n.excessBlobGas=ot(this.excessBlobGas)),this.common.isActivatedEIP(4788)&&(n.parentBeaconBlockRoot=ie(this.parentBeaconBlockRoot)),this.common.isActivatedEIP(7685)&&(n.requestsHash=ie(this.requestsHash)),n}_validateDAOExtraData(){if(!this.common.hardforkIsActiveOnBlock(se.Dao,this.number))return;const t=this.common.hardforkBlock(se.Dao);if(t===null||this.number<t)return;const n=We("0x64616f2d686172642d666f726b"),r=BigInt(9);if(this.number-t<=r&&!Ye(this.extraData,n)){const s=this._errorMsg(`extraData should be 'dao-hard-fork', got ${oT(this.extraData)} (hex: ${ie(this.extraData)})`);throw W(s)}}errorStr(){let t="";try{t=ie(this.hash())}catch{t="error"}let n="";try{n=this.common.hardfork()}catch{n="error"}let r=`block header number=${this.number} hash=${t} `;return r+=`hf=${n} baseFeePerGas=${this.baseFeePerGas??"none"}`,r}_errorMsg(t){return`${t} (${this.errorStr()})`}}class KT{constructor(t){this.map=new Map,this.getStorage=t}async get(t,n){const r=at(t.bytes),i=this.map.get(r);if(i!==void 0){const o=at(n),c=i.get(o);if(c!==void 0)return c}const s=await this.getStorage(t,n);return this.put(t,n,s),s}put(t,n,r){const i=at(t.bytes);let s=this.map.get(i);s===void 0&&(s=new Map,this.map.set(i,s));const o=at(n);s.has(o)===!1&&s.set(o,r)}clear(){this.map=new Map}}async function YT(e,t,n){const r=await e.getAccount(t)??new Rt;if(r.nonce=n.nonce??r.nonce,r.balance=n.balance??r.balance,r.storageRoot=n.storageRoot??r.storageRoot,r.codeHash=n.codeHash??r.codeHash,r.codeSize=n.codeSize??r.codeSize,e._debug!==void 0)for(const[i,s]of Object.entries(n))e._debug(`modifyAccountFields address=${t.toString()} ${i}=${s instanceof Uint8Array?ie(s):s} `);await e.putAccount(t,r)}const vv=Il("c");class Sf{constructor(t={}){var n,r,i;this.DEBUG=!1,this.DEBUG=typeof window>"u"?((r=(n=process==null?void 0:process.env)==null?void 0:n.DEBUG)==null?void 0:r.includes("ethjs"))??!1:!1,this._debug=ii("statemanager:merkle"),this.common=t.common??new $u({chain:kl}),this._checkpointCount=0,this._trie=t.trie??new ks({useKeyHashing:!0,common:this.common}),this._storageTries={},this.keccakFunction=((i=t.common)==null?void 0:i.customCrypto.keccak256)??Sn,this.originalStorageCache=new KT(this.getStorage.bind(this)),this._prefixCodeHashes=t.prefixCodeHashes??!0,this._prefixStorageTrieKeys=t.prefixStorageTrieKeys??!1,this._caches=t.caches}async getAccount(t){var s,o,c,a;const n=(o=(s=this._caches)==null?void 0:s.account)==null?void 0:o.get(t);if(n!==void 0)return n.accountRLP!==void 0?AC(n.accountRLP):void 0;const r=await this._trie.get(t.bytes),i=r!==null?AC(r):void 0;return this.DEBUG&&this._debug(`Get account ${t} from DB (${i?"exists":"non-existent"})`),(a=(c=this._caches)==null?void 0:c.account)==null||a.put(t,i),i}async putAccount(t,n){var r,i,s;if(this.DEBUG&&this._debug(`Save account address=${t} nonce=${n==null?void 0:n.nonce} balance=${n==null?void 0:n.balance} contract=${n&&n.isContract()?"yes":"no"} empty=${n&&n.isEmpty()?"yes":"no"}`),((r=this._caches)==null?void 0:r.account)===void 0){const o=this._trie;n!==void 0?await o.put(t.bytes,n.serialize()):await o.del(t.bytes)}else n!==void 0?(i=this._caches.account)==null||i.put(t,n):(s=this._caches.account)==null||s.del(t)}async modifyAccountFields(t,n){await YT(this,t,n)}async deleteAccount(t){var n,r;this.DEBUG&&this._debug(`Delete account ${t}`),(n=this._caches)==null||n.deleteAccount(t),((r=this._caches)==null?void 0:r.account)===void 0&&await this._trie.del(t.bytes)}async putCode(t,n){var i;const r=this.keccakFunction(n);if(((i=this._caches)==null?void 0:i.code)!==void 0)this._caches.code.put(t,n);else{const s=this._prefixCodeHashes?Xe(vv,r):r;await this._getCodeDB().put(s,n)}this.DEBUG&&this._debug(`Update codeHash (-> ${ya(r)}) for account ${t}`),await this.getAccount(t)===void 0&&await this.putAccount(t,new Rt),await this.modifyAccountFields(t,{codeHash:r})}async getCode(t){var o,c,a,d;const n=(c=(o=this._caches)==null?void 0:o.code)==null?void 0:c.get(t);if(n!==void 0)return n.code??new Uint8Array(0);const r=await this.getAccount(t);if(!r)return new Uint8Array(0);if(!r.isContract())return new Uint8Array(0);const i=this._prefixCodeHashes?Xe(vv,r.codeHash):r.codeHash,s=await this._trie.database().get(i)??new Uint8Array(0);return(d=(a=this._caches)==null?void 0:a.code)==null||d.put(t,s),s}async getCodeSize(t){return(await this.getCode(t)).length}_getStorageTrie(t,n){const r=t instanceof Uint8Array?t:this.keccakFunction(t.bytes),i=at(r);let s=this._storageTries[i];if(s===void 0){const o=this._prefixStorageTrieKeys?r.slice(0,7):void 0;s=this._trie.shallowCopy(!1,{keyPrefix:o}),n!==void 0?s.root(n.storageRoot):s.root(s.EMPTY_TRIE_ROOT),s.flushCheckpoints(),this._storageTries[i]=s}return s}_getAccountTrie(){return this._trie}_getCodeDB(){return this._trie.database()}async getStorage(t,n){var a,d,l,u;if(n.length!==32)throw W("Storage key must be 32 bytes long");const r=(d=(a=this._caches)==null?void 0:a.storage)==null?void 0:d.get(t,n);if(r!==void 0)return ut.decode(r??new Uint8Array(0));const i=await this.getAccount(t);if(!i)return new Uint8Array;const o=await this._getStorageTrie(t,i).get(n);return(u=(l=this._caches)==null?void 0:l.storage)==null||u.put(t,n,o??We("0x80")),ut.decode(o??new Uint8Array(0))}async _modifyContractStorage(t,n,r){return new Promise(async i=>{const s=this._getStorageTrie(t,n);r(s,async()=>{const o=at(t.bytes);this._storageTries[o]=s,n.storageRoot=s.root(),await this.putAccount(t,n),i()})})}async _writeContractStorage(t,n,r,i){await this._modifyContractStorage(t,n,async(s,o)=>{if(i instanceof Uint8Array&&i.length){const c=ut.encode(i);this.DEBUG&&this._debug(`Update contract storage for account ${t} to ${ya(i)}`),await s.put(r,c)}else this.DEBUG&&this._debug("Delete contract storage for account"),await s.del(r);o()})}async putStorage(t,n,r){var s,o;if(n.length!==32)throw W("Storage key must be 32 bytes long");if(r.length>32)throw W("Storage value cannot be longer than 32 bytes");const i=await this.getAccount(t);if(!i)throw W("putStorage() called on non-existing account");r=va(r),((o=(s=this._caches)==null?void 0:s.storage)==null?void 0:o.put(t,n,ut.encode(r)))??await this._writeContractStorage(t,i,n,r)}async clearStorage(t){var r,i;let n=await this.getAccount(t);n||(n=new Rt),(i=(r=this._caches)==null?void 0:r.storage)==null||i.clearStorage(t),await this._modifyContractStorage(t,n,(s,o)=>{s.root(s.EMPTY_TRIE_ROOT),o()})}async checkpoint(){var t;this._trie.checkpoint(),(t=this._caches)==null||t.checkpoint(),this._checkpointCount++}async commit(){var t;await this._trie.commit(),(t=this._caches)==null||t.commit(),this._checkpointCount--,this._checkpointCount===0&&(await this.flush(),this.originalStorageCache.clear()),this.DEBUG&&this._debug("state checkpoint committed")}async revert(){var t;await this._trie.revert(),(t=this._caches)==null||t.revert(),this._storageTries={},this._checkpointCount--,this._checkpointCount===0&&(await this.flush(),this.originalStorageCache.clear())}async flush(){var i,s,o,c,a,d;const t=((s=(i=this._caches)==null?void 0:i.code)==null?void 0:s.flush())??[];for(const l of t){const u=da(`0x${l[0]}`),h=l[1].code;if(h===void 0)continue;const p=this.keccakFunction(h),f=this._prefixCodeHashes?Xe(vv,p):p;await this._getCodeDB().put(f,h),await this.getAccount(u)===void 0&&await this.putAccount(u,new Rt),await this.modifyAccountFields(u,{codeHash:p})}const n=((c=(o=this._caches)==null?void 0:o.storage)==null?void 0:c.flush())??[];for(const l of n){const u=da(`0x${l[0]}`),h=l[1],p=ca(h),f=l[2],g=ut.decode(f??new Uint8Array(0)),m=await this.getAccount(u);m&&await this._writeContractStorage(u,m,p,g)}const r=((d=(a=this._caches)==null?void 0:a.account)==null?void 0:d.flush())??[];for(const l of r){const u=l[0],h=ca(u),p=l[1];p.accountRLP===void 0?await this._trie.del(h):await this._trie.put(h,p.accountRLP)}}async getStateRoot(){return await this.flush(),this._trie.root()}async setStateRoot(t,n=!0){var r;if(await this.flush(),!Ye(t,this._trie.EMPTY_TRIE_ROOT)&&!await this._trie.checkRoot(t))throw W("State trie does not contain state root");this._trie.root(t),n&&((r=this._caches)==null||r.clear()),this._storageTries={}}async dumpStorage(t){await this.flush();const n=await this.getAccount(t);if(!n)throw W("dumpStorage f() can only be called for an existing account");return this._getStorageTrie(t,n).getValueMap().then(i=>i.values)}async dumpStorageRange(t,n,r){if(!Number.isSafeInteger(r)||r<0)throw W("Limit is not a proper uint.");await this.flush();const i=await this.getAccount(t);if(!i)throw W("Account does not exist.");return this._getStorageTrie(t,i).getValueMap(n,r).then(o=>{const c=o.values,a=Object.create(null);for(const d of Object.keys(c)){const l=c[d];a[d]={key:null,value:l}}return{storage:a,nextKey:o.nextKey}})}async generateCanonicalGenesis(t){if(this._checkpointCount!==0)throw W("Cannot create genesis state with uncommitted checkpoints");this.DEBUG&&this._debug("Save genesis state into the state trie");const n=Object.keys(t);for(const r of n){const i=da(r),s=t[r];if(Array.isArray(s)){const[o,c,a,d]=s,l=mb({balance:o,nonce:d});if(await this.putAccount(i,l),c!==void 0&&await this.putCode(i,je(c)),a!==void 0)for(const[u,h]of a)await this.putStorage(i,je(u),je(h))}else{const o=mb({balance:s});await this.putAccount(i,o)}}await this.flush()}async hasStateRoot(t){return this._trie.checkRoot(t)}shallowCopy(t=!0){var c;const n=this.common.copy();n.setHardfork(this.common.hardfork());const r=t?0:this._trie._opts.cacheSize,i=this._trie.shallowCopy(!1,{cacheSize:r}),s=this._prefixCodeHashes,o=this._prefixStorageTrieKeys;return new Sf({common:n,trie:i,prefixStorageTrieKeys:o,prefixCodeHashes:s,caches:(c=this._caches)==null?void 0:c.shallowCopy(t)})}clearCaches(){var t;(t=this._caches)==null||t.clear()}getAppliedKey(t){return this._trie.appliedKey(t)}}class ix{constructor(t={}){this.accountStack=[],this.codeStack=[],this.storageStack=[],this.checkpointSync(),this.originalStorageCache=new KT(this.getStorage.bind(this)),this.common=t.common}topAccountStack(){return this.accountStack[this.accountStack.length-1]}topCodeStack(){return this.codeStack[this.codeStack.length-1]}topStorageStack(){return this.storageStack[this.storageStack.length-1]}checkpointSync(){const t=new Map(this.topAccountStack());for(const[n,r]of t){const i=r!==void 0?Object.assign(Object.create(Object.getPrototypeOf(r)),r):void 0;t.set(n,i)}this.accountStack.push(t),this.codeStack.push(new Map(this.topCodeStack())),this.storageStack.push(new Map(this.topStorageStack()))}async getAccount(t){return this.topAccountStack().get(t.toString())}async putAccount(t,n){this.topAccountStack().set(t.toString(),n)}async deleteAccount(t){this.topAccountStack().set(t.toString(),void 0)}async modifyAccountFields(t,n){await YT(this,t,n)}async getCode(t){return this.topCodeStack().get(t.toString())??new Uint8Array(0)}async putCode(t,n){var r;this.topCodeStack().set(t.toString(),n),await this.getAccount(t)===void 0&&await this.putAccount(t,new Rt),await this.modifyAccountFields(t,{codeHash:(((r=this.common)==null?void 0:r.customCrypto.keccak256)??Sn)(n)})}async getCodeSize(t){return(await this.getCode(t)).length}async getStorage(t,n){return this.topStorageStack().get(`${t.toString()}_${ie(n)}`)??new Uint8Array(0)}async putStorage(t,n,r){this.topStorageStack().set(`${t.toString()}_${ie(n)}`,r)}async clearStorage(){}async checkpoint(){this.checkpointSync()}async commit(){this.accountStack.splice(-2,1),this.codeStack.splice(-2,1),this.storageStack.splice(-2,1)}async revert(){this.accountStack.pop(),this.codeStack.pop(),this.storageStack.pop()}async flush(){}clearCaches(){}shallowCopy(){const t=new ix({common:this.common});for(let n=0;n<this.accountStack.length;n++)t.accountStack.push(new Map(this.accountStack[n])),t.codeStack.push(new Map(this.codeStack[n])),t.storageStack.push(new Map(this.storageStack[n]));return t}getStateRoot(){throw W("Method not implemented.")}setStateRoot(){throw W("Method not implemented.")}hasStateRoot(){throw W("Method not implemented.")}}const id=256;class ZT{constructor(t,n){if((n==null?void 0:n.customCrypto.keccak256)!==void 0?this.keccakFunction=n.customCrypto.keccak256:this.keccakFunction=Sn,!t)this.bitvector=new Uint8Array(id);else{if(t.length!==id)throw W("bitvectors must be 2048 bits long");this.bitvector=t}}add(t){t=this.keccakFunction(t);const n=2047;for(let r=0;r<3;r++){const i=new DataView(t.buffer).getUint16(r*2),s=n&i,o=s>>3,c=1<<s%8;this.bitvector[id-o-1]|=c}}check(t){t=this.keccakFunction(t);const n=2047;let r=!0;for(let i=0;i<3&&r;i++){const s=new DataView(t.buffer).getUint16(i*2),o=n&s,c=o>>3,a=1<<o%8;r=(this.bitvector[id-c-1]&a)!==0}return!!r}multiCheck(t){return t.every(n=>this.check(n))}or(t){for(let n=0;n<=id;n++)this.bitvector[n]=this.bitvector[n]|t.bitvector[n]}}const CG="0x649bbc62d0e31342afea4e5cd82d4049e7e1ee912fc0889aa790803be39038c5",AG=BigInt(160),_G=BigInt(256),kG=BigInt(320),IG=BigInt(384),TG=BigInt(512),$G=BigInt(48),LG=BigInt(32),MG=BigInt(8),RG=BigInt(96),PG=BigInt(8),OG=576,yv="invalid deposit log: unsupported data layout",NG=async(e,t)=>{const n=[],r=e.common;if(r.isActivatedEIP(6110)){const i=e.common._chainParams.depositContractAddress??kl.depositContractAddress;if(i===void 0)throw W("deposit contract address required with EIP 6110");const s=FG(i,t);n.push(s)}if(r.isActivatedEIP(7002)){const i=await BG(e);n.push(i)}if(r.isActivatedEIP(7251)){const i=await DG(e);n.push(i)}return n},BG=async e=>{const t=qe(Je(e.common.param("withdrawalRequestPredeployAddress")),20),n=da(ie(t)),r=Hm(e.common.param("systemAddress")),i=da(ie(r)),s=await e.stateManager.getAccount(i);if(await e.stateManager.getAccount(n)===void 0)return new yf(vf.Withdrawal,new Uint8Array);const c=await e.evm.runCall({caller:i,gasLimit:BigInt(1e6),to:n});s===void 0?await e.stateManager.deleteAccount(i):await e.stateManager.putAccount(i,s);const a=c.execResult.returnValue;return new yf(vf.Withdrawal,a)},DG=async e=>{const t=qe(Je(e.common.param("consolidationRequestPredeployAddress")),20),n=da(ie(t)),r=Hm(e.common.param("systemAddress")),i=da(ie(r)),s=await e.stateManager.getAccount(i);if(await e.stateManager.getAccount(n)===void 0)return new yf(vf.Consolidation,new Uint8Array(0));const c=await e.evm.runCall({caller:i,gasLimit:BigInt(1e6),to:n});s===void 0?await e.stateManager.deleteAccount(i):await e.stateManager.putAccount(i,s);const a=c.execResult.returnValue;return new yf(vf.Consolidation,a)},FG=(e,t)=>{let n=new Uint8Array(0);const r=e.toLowerCase();for(const[i,s]of t.entries())for(let o=0;o<s.receipt.logs.length;o++){const c=s.receipt.logs[o],[a,d,l]=c;if(d.length>0&&ie(d[0])===CG&&r===ie(a).toLowerCase()){const{pubkey:u,withdrawalCredentials:h,amount:p,signature:f,index:g}=UG(l),m=Xe(u,h,p,f,g);n=Xe(n,m)}}return new yf(vf.Deposit,n)};function UG(e){if(e.length!==OG)throw W(yv);const t=ue(e.slice(0,32)),n=ue(e.slice(32,64)),r=ue(e.slice(64,96)),i=ue(e.slice(96,128)),s=ue(e.slice(128,160));if(t!==AG||n!==_G||r!==kG||i!==IG||s!==TG)throw W(yv);const o=Number(t),c=Number(n),a=Number(r),d=Number(i),l=Number(s),u=ue(e.slice(o,o+32)),h=ue(e.slice(c,c+32)),p=ue(e.slice(a,a+32)),f=ue(e.slice(d,d+32)),g=ue(e.slice(l,l+32));if(u!==$G||h!==LG||p!==MG||f!==RG||g!==PG)throw W(yv);const m=Number(u),v=Number(h),y=Number(p),x=Number(f),C=Number(g),b=e.slice(o+32,o+32+m),S=e.slice(c+32,c+32+v),I=e.slice(a+32,a+32+y),L=e.slice(d+32,d+32+x),T=e.slice(l+32,l+32+C);return{pubkey:b,withdrawalCredentials:S,amount:I,signature:L,index:T}}const Jm=239,sx=0,qT=1,GG=49152,zG=1,HG=2,WG=3,jG=4,VG=0,KG=4,YG=4096,bv=4,ZG=1,qG=1,XG=1,QG=256,JG=1,e7=127,t7=128,n7=1023,oe={OUT_OF_BOUNDS:"Trying to read out of bounds",VERIFY_UINT:"Uint does not match expected value ",VERIFY_BYTES:"Bytes do not match expected value",FORMAT:"err: invalid format",MAGIC:"err: invalid magic",VERSION:"err: invalid eof version",KIND_TYPE:"err: expected kind types",KIND_CODE:"err: expected kind code",KIND_DATA:"err: expected kind data",TERMINATOR:"err: expected terminator",TYPE_SIZE:"missing type size",INVALID_TYPE_SIZE:"err: type section size invalid",CODE_SIZE:"missing code size",CODE_SECTION_SIZE:"code section should be at least one byte",INVALID_CODE_SIZE:"code size does not match type size",DATA_SIZE:"missing data size",CONTAINER_SIZE:"missing container size",CONTAINER_SECTION_SIZE:"container section should at least contain one section and at most 255 sections",TYPE_SECTIONS:"err: mismatch of code sections count and type signatures",INPUTS:"expected inputs",OUTPUTS:"expected outputs",MAX_INPUTS:"inputs exceeds 127, the maximum, got: ",MAX_OUTPUTS:"outputs exceeds 127, the maximum, got: ",CODE0_INPUTS:"first code section should have 0 inputs",CODE0_OUTPUTS:"first code section should have 0x80 (terminating section) outputs",MAX_STACK_HEIGHT:"expected maxStackHeight",MAX_STACK_HEIGHT_LIMIT:"stack height limit of 1024 exceeded: ",MIN_CODE_SECTIONS:"should have at least 1 code section",CODE_SECTION:"expected a code section",DATA_SECTION:"Expected data section",CONTAINER_SECTION:"expected a container section",CONTAINER_SECTION_MIN:"container section should be at least 1 byte",INVALID_EOF_CREATE_TARGET:"EOFCREATE targets an undefined container",INVALID_RETURN_CONTRACT_TARGET:"RETURNCONTRACT targets an undefined container",CONTAINER_DOUBLE_TYPE:"Container is targeted by both EOFCREATE and RETURNCONTRACT",UNREACHABLE_CONTAINER_SECTIONS:"Unreachable containers (by both EOFCREATE and RETURNCONTRACT)",CONTAINER_TYPE_ERROR:"Container contains opcodes which this mode (deployment mode / init code / runtime mode) cannot have",DANGLING_BYTES:"got dangling bytes in body",INVALID_OPCODE:"invalid opcode",INVALID_TERMINATOR:"invalid terminating opcode",OPCODE_INTERMEDIATES_OOB:"invalid opcode: intermediates out-of-bounds",INVALID_RJUMP:"invalid rjump* target",INVALID_CALL_TARGET:"invalid callf/jumpf target",INVALID_CALLF_RETURNING:"invalid callf: calls to non-returning function",INVALID_STACK_HEIGHT:"invalid stack height",INVALID_JUMPF:"invalid jumpf target (output count)",INVALID_RETURNING_SECTION:"invalid returning code section: section is not returning",RETURNING_NO_RETURN:"invalid section: section should return but has no RETF/JUMP to return",RJUMPV_TABLE_SIZE0:"invalid RJUMPV: table size 0",UNREACHABLE_CODE_SECTIONS:"unreachable code sections",UNREACHABLE_CODE:"unreachable code (by forward jumps)",DATALOADN_OOB:"DATALOADN reading out of bounds",MAX_STACK_HEIGHT_VIOLATION:"Max stack height does not match the reported max stack height",STACK_UNDERFLOW:"Stack underflow",STACK_OVERFLOW:"Stack overflow",UNSTABLE_STACK:"Unstable stack (can reach stack under/overflow by jumps)",RETF_NO_RETURN:"Trying to return to undefined function",RETURN_STACK_OVERFLOW:"Return stack overflow",INVALID_EXTCALL_TARGET:"invalid extcall target: address > 20 bytes",INVALID_RETURN_CONTRACT_DATA_SIZE:"invalid RETURNCONTRACT: data size lower than expected"};function $e(e,...t){switch(e){case oe.OUT_OF_BOUNDS:{const n=t[0];throw W(n===0||n===2||n===3||n===6?t[1]:oe.OUT_OF_BOUNDS+" ")}case oe.VERIFY_BYTES:{const n=t[0];throw W(n===0||n===2||n===3||n===6?t[1]:oe.VERIFY_BYTES+` at pos: ${t[0]}: ${t[1]}`)}case oe.VERIFY_UINT:{const n=t[0];throw W(n===0||n===2||n===3||n===6||n===18?t[1]:oe.VERIFY_UINT+`at pos: ${t[0]}: ${t[1]}`)}case oe.TYPE_SIZE:throw W(oe.TYPE_SIZE+t[0]);case oe.TYPE_SECTIONS:throw W(`${oe.TYPE_SECTIONS} (types ${t[0]} code ${t[1]})`);case oe.INVALID_TYPE_SIZE:throw W(oe.INVALID_TYPE_SIZE);case oe.INVALID_CODE_SIZE:throw W(oe.INVALID_CODE_SIZE+t[0]);case oe.INPUTS:throw W(`${oe.INPUTS} - typeSection ${t[0]}`);case oe.OUTPUTS:throw W(`${oe.OUTPUTS} - typeSection ${t[0]}`);case oe.CODE0_INPUTS:throw W("first code section should have 0 inputs");case oe.CODE0_OUTPUTS:throw W("first code section should have 0 outputs");case oe.MAX_INPUTS:throw W(oe.MAX_INPUTS+`${t[1]} - code section ${t[0]}`);case oe.MAX_OUTPUTS:throw W(oe.MAX_OUTPUTS+`${t[1]} - code section ${t[0]}`);case oe.CODE_SECTION:throw W(`expected code: codeSection ${t[0]}: `);case oe.DATA_SECTION:throw W(oe.DATA_SECTION);case oe.MAX_STACK_HEIGHT:throw W(`${oe.MAX_STACK_HEIGHT} - typeSection ${t[0]}: `);case oe.MAX_STACK_HEIGHT_LIMIT:throw W(`${oe.MAX_STACK_HEIGHT_LIMIT}, got: ${t[1]} - typeSection ${t[0]}`);case oe.DANGLING_BYTES:throw W(oe.DANGLING_BYTES);default:throw W(e)}}const Za={0:{inputs:0,outputs:0,name:"STOP",intermediates:0,terminating:!0},1:{inputs:2,outputs:1,name:"ADD",intermediates:0},2:{inputs:2,outputs:1,name:"MUL",intermediates:0},3:{inputs:2,outputs:1,name:"SUB",intermediates:0},4:{inputs:2,outputs:1,name:"DIV",intermediates:0},5:{inputs:2,outputs:1,name:"SDIV",intermediates:0},6:{inputs:2,outputs:1,name:"MOD",intermediates:0},7:{inputs:2,outputs:1,name:"SMOD",intermediates:0},8:{inputs:3,outputs:1,name:"ADDMOD",intermediates:0},9:{inputs:3,outputs:1,name:"MULMOD",intermediates:0},10:{inputs:2,outputs:1,name:"EXP",intermediates:0},11:{inputs:2,outputs:1,name:"SIGNEXTEND",intermediates:0},16:{inputs:2,outputs:1,name:"LT",intermediates:0},17:{inputs:2,outputs:1,name:"GT",intermediates:0},18:{inputs:2,outputs:1,name:"SLT",intermediates:0},19:{inputs:2,outputs:1,name:"SGT",intermediates:0},20:{inputs:2,outputs:1,name:"EQ",intermediates:0},21:{inputs:1,outputs:1,name:"ISZERO",intermediates:0},22:{inputs:2,outputs:1,name:"AND",intermediates:0},23:{inputs:2,outputs:1,name:"OR",intermediates:0},24:{inputs:2,outputs:1,name:"XOR",intermediates:0},25:{inputs:1,outputs:1,name:"NOT",intermediates:0},26:{inputs:2,outputs:1,name:"BYTE",intermediates:0},27:{inputs:2,outputs:1,name:"SHL",intermediates:0},28:{inputs:2,outputs:1,name:"SHR",intermediates:0},29:{inputs:2,outputs:1,name:"SAR",intermediates:0},32:{inputs:2,outputs:1,name:"SHA3",intermediates:0},48:{inputs:0,outputs:1,name:"ADDRESS",intermediates:0},49:{inputs:1,outputs:1,name:"BALANCE",intermediates:0},50:{inputs:0,outputs:1,name:"ORIGIN",intermediates:0},51:{inputs:0,outputs:1,name:"CALLER",intermediates:0},52:{inputs:0,outputs:1,name:"CALLVALUE",intermediates:0},53:{inputs:1,outputs:1,name:"CALLDATALOAD",intermediates:0},54:{inputs:0,outputs:1,name:"CALLDATASIZE",intermediates:0},55:{inputs:3,outputs:0,name:"CALLDATACOPY",intermediates:0},58:{inputs:0,outputs:1,name:"GASPRICE",intermediates:0},61:{inputs:0,outputs:1,name:"RETURNDATASIZE",intermediates:0},62:{inputs:3,outputs:0,name:"RETURNDATACOPY",intermediates:0},64:{inputs:1,outputs:1,name:"BLOCKHASH",intermediates:0},65:{inputs:0,outputs:1,name:"COINBASE",intermediates:0},66:{inputs:0,outputs:1,name:"TIMESTAMP",intermediates:0},67:{inputs:0,outputs:1,name:"NUMBER",intermediates:0},68:{inputs:0,outputs:1,name:"PREVRANDAO",intermediates:0},69:{inputs:0,outputs:1,name:"GASLIMIT",intermediates:0},70:{inputs:0,outputs:1,name:"CHAINID",intermediates:0},71:{inputs:0,outputs:1,name:"SELFBALANCE",intermediates:0},72:{inputs:0,outputs:1,name:"BASEFEE",intermediates:0},73:{inputs:1,outputs:1,name:"BLOBAHASH",intermediates:0},74:{inputs:0,outputs:1,name:"BLOBBASEFEE",intermediates:0},80:{inputs:1,outputs:0,name:"POP",intermediates:0},81:{inputs:1,outputs:1,name:"MLOAD",intermediates:0},82:{inputs:2,outputs:0,name:"MSTORE",intermediates:0},83:{inputs:2,outputs:0,name:"MSTORE8",intermediates:0},84:{inputs:1,outputs:1,name:"SLOAD",intermediates:0},85:{inputs:2,outputs:0,name:"SSTORE",intermediates:0},89:{inputs:0,outputs:1,name:"MSIZE",intermediates:0},91:{inputs:0,outputs:0,name:"NOOP",intermediates:0},92:{inputs:1,outputs:1,name:"TLOAD",intermediates:0},93:{inputs:2,outputs:0,name:"TSTORE",intermediates:0},94:{inputs:3,outputs:0,name:"MCOPY",intermediates:0},95:{inputs:0,outputs:1,name:"PUSH0",intermediates:0},96:{inputs:0,outputs:1,name:"PUSH1",intermediates:1},97:{inputs:0,outputs:1,name:"PUSH2",intermediates:2},98:{inputs:0,outputs:1,name:"PUSH3",intermediates:3},99:{inputs:0,outputs:1,name:"PUSH4",intermediates:4},100:{inputs:0,outputs:1,name:"PUSH5",intermediates:5},101:{inputs:0,outputs:1,name:"PUSH6",intermediates:6},102:{inputs:0,outputs:1,name:"PUSH7",intermediates:7},103:{inputs:0,outputs:1,name:"PUSH8",intermediates:8},104:{inputs:0,outputs:1,name:"PUSH9",intermediates:9},105:{inputs:0,outputs:1,name:"PUSH10",intermediates:10},106:{inputs:0,outputs:1,name:"PUSH11",intermediates:11},107:{inputs:0,outputs:1,name:"PUSH12",intermediates:12},108:{inputs:0,outputs:1,name:"PUSH13",intermediates:13},109:{inputs:0,outputs:1,name:"PUSH14",intermediates:14},110:{inputs:0,outputs:1,name:"PUSH15",intermediates:15},111:{inputs:0,outputs:1,name:"PUSH16",intermediates:16},112:{inputs:0,outputs:1,name:"PUSH17",intermediates:17},113:{inputs:0,outputs:1,name:"PUSH18",intermediates:18},114:{inputs:0,outputs:1,name:"PUSH19",intermediates:19},115:{inputs:0,outputs:1,name:"PUSH20",intermediates:20},116:{inputs:0,outputs:1,name:"PUSH21",intermediates:21},117:{inputs:0,outputs:1,name:"PUSH22",intermediates:22},118:{inputs:0,outputs:1,name:"PUSH23",intermediates:23},119:{inputs:0,outputs:1,name:"PUSH24",intermediates:24},120:{inputs:0,outputs:1,name:"PUSH25",intermediates:25},121:{inputs:0,outputs:1,name:"PUSH26",intermediates:26},122:{inputs:0,outputs:1,name:"PUSH27",intermediates:27},123:{inputs:0,outputs:1,name:"PUSH28",intermediates:28},124:{inputs:0,outputs:1,name:"PUSH29",intermediates:29},125:{inputs:0,outputs:1,name:"PUSH30",intermediates:30},126:{inputs:0,outputs:1,name:"PUSH31",intermediates:31},127:{inputs:0,outputs:1,name:"PUSH32",intermediates:32},128:{inputs:1,outputs:2,name:"DUP1",intermediates:0},129:{inputs:2,outputs:3,name:"DUP2",intermediates:0},130:{inputs:3,outputs:4,name:"DUP3",intermediates:0},131:{inputs:4,outputs:5,name:"DUP4",intermediates:0},132:{inputs:5,outputs:6,name:"DUP5",intermediates:0},133:{inputs:6,outputs:7,name:"DUP6",intermediates:0},134:{inputs:7,outputs:8,name:"DUP7",intermediates:0},135:{inputs:8,outputs:9,name:"DUP8",intermediates:0},136:{inputs:9,outputs:10,name:"DUP9",intermediates:0},137:{inputs:10,outputs:11,name:"DUP10",intermediates:0},138:{inputs:11,outputs:12,name:"DUP11",intermediates:0},139:{inputs:12,outputs:13,name:"DUP12",intermediates:0},140:{inputs:13,outputs:14,name:"DUP13",intermediates:0},141:{inputs:14,outputs:15,name:"DUP14",intermediates:0},142:{inputs:15,outputs:16,name:"DUP15",intermediates:0},143:{inputs:16,outputs:17,name:"DUP16",intermediates:0},144:{inputs:2,outputs:2,name:"SWAP1",intermediates:0},145:{inputs:3,outputs:3,name:"SWAP2",intermediates:0},146:{inputs:4,outputs:4,name:"SWAP3",intermediates:0},147:{inputs:5,outputs:5,name:"SWAP4",intermediates:0},148:{inputs:6,outputs:6,name:"SWAP5",intermediates:0},149:{inputs:7,outputs:7,name:"SWAP6",intermediates:0},150:{inputs:8,outputs:8,name:"SWAP7",intermediates:0},151:{inputs:9,outputs:9,name:"SWAP8",intermediates:0},152:{inputs:10,outputs:10,name:"SWAP9",intermediates:0},153:{inputs:11,outputs:11,name:"SWAP10",intermediates:0},154:{inputs:12,outputs:12,name:"SWAP11",intermediates:0},155:{inputs:13,outputs:13,name:"SWAP12",intermediates:0},156:{inputs:14,outputs:14,name:"SWAP13",intermediates:0},157:{inputs:15,outputs:15,name:"SWAP14",intermediates:0},158:{inputs:16,outputs:16,name:"SWAP15",intermediates:0},159:{inputs:17,outputs:17,name:"SWAP16",intermediates:0},160:{inputs:2,outputs:0,name:"LOG0",intermediates:0},161:{inputs:3,outputs:0,name:"LOG1",intermediates:0},162:{inputs:4,outputs:0,name:"LOG2",intermediates:0},163:{inputs:5,outputs:0,name:"LOG3",intermediates:0},164:{inputs:6,outputs:0,name:"LOG4",intermediates:0},208:{inputs:1,outputs:1,name:"DATALOAD",intermediates:0},209:{inputs:0,outputs:1,name:"DATALOADN",intermediates:2},210:{inputs:0,outputs:1,name:"DATASIZE",intermediates:0},211:{inputs:3,outputs:0,name:"DATACOPY",intermediates:0},224:{inputs:0,outputs:0,name:"RJUMP",intermediates:2},225:{inputs:1,outputs:0,name:"RJUMPI",intermediates:2},226:{inputs:1,outputs:0,name:"RJUMPV",intermediates:0},227:{inputs:0,outputs:0,name:"CALLF",intermediates:2},228:{inputs:0,outputs:0,name:"RETF",intermediates:0,terminating:!0},229:{inputs:0,outputs:0,name:"JUMPF",intermediates:2,terminating:!0},230:{inputs:0,outputs:1,name:"DUPN",intermediates:1},231:{inputs:0,outputs:0,name:"SWAPN",intermediates:1},232:{inputs:0,outputs:0,name:"EXCHANGE",intermediates:1},236:{inputs:4,outputs:1,name:"EOFCREATE",intermediates:1},238:{inputs:2,outputs:0,name:"RETURNCONTRACT",intermediates:1,terminating:!0},243:{inputs:2,outputs:0,name:"RETURN",intermediates:0,terminating:!0},247:{inputs:1,outputs:1,name:"RETURNDATALOAD",intermediates:0},248:{inputs:4,outputs:1,name:"EXTCALL",intermediates:0},249:{inputs:3,outputs:1,name:"EXTDELEGATECALL",intermediates:0},251:{inputs:3,outputs:1,name:"EXTSTATICCALL",intermediates:0},253:{inputs:2,outputs:0,name:"REVERT",intermediates:0,terminating:!0},254:{inputs:0,outputs:0,name:"INVALID",intermediates:0,terminating:!0}},Yi={InitCode:"initCode",DeploymentCode:"deploymentCode",RuntimeCode:"runtimeCode"};function r7(e,t,n=Yi.RuntimeCode){return i7(e,t,n)}function NC(e,t){return new DataView(e.buffer).getInt16(t)}function BC(e,t){return new DataView(e.buffer).getUint16(t)}function i7(e,t,n=Yi.RuntimeCode){const r=new Map,i=t.getActiveOpcodes(),s=new Set;for(const[f]of i)s.add(f);s.add(254),s.delete(56),s.delete(57),s.delete(90),s.delete(59),s.delete(60),s.delete(63),s.delete(242),s.delete(255),s.delete(86),s.delete(87),s.delete(88),s.delete(240),s.delete(245);const o=new Set;o.add(0),o.add(243),o.add(253),o.add(254),o.add(238),o.add(228),o.add(229),o.add(224);for(const f of o)s.has(f)||o.delete(f);const c=new Set,a={};let d=-1;for(const f of e.body.codeSections){let v=function(k){g.has(k)&&$e(oe.INVALID_RJUMP),m.add(k)},y=function(k){m.has(k)&&$e(oe.INVALID_RJUMP),g.add(k)};var h=v,p=y;const g=new Set,m=new Set;d++,a[d]=new Set;const x=e.body.typeSections[d].outputs===128;let C=!1;const b=new Set;b.add(0);let S=0,I=0;const L=e.body.typeSections[d].inputs;let T=L;const $=[L],P=[L];for(;S<f.length;){const k=new Set;b.has(S)||$e(oe.UNREACHABLE_CODE),($[S]===void 0||P[S]===void 0)&&$e(oe.UNREACHABLE_CODE),c.add(S);const A=f[S],w=$[S],E=P[S],_=Za[A].inputs,R=Za[A].outputs;w-_<0&&$e(oe.STACK_UNDERFLOW);const M=R-_;let O=w+M,N=E+M;if(N>1024&&$e(oe.STACK_OVERFLOW),x&&A===228&&$e(oe.INVALID_RETURNING_SECTION),I=A,s.has(A)||$e(oe.INVALID_OPCODE),A===224||A===225){const G=NC(f,S+1)+S+3;(G<0||G>=f.length)&&$e(oe.INVALID_RJUMP),k.add(G),v(G),b.add(G),A===224&&!b.has(S+3)&&S+3<f.length&&$e(oe.UNREACHABLE_CODE)}else if(A===226){const G=f[S+1]+1;G===void 0?$e(oe.OPCODE_INTERMEDIATES_OOB):G===0&&$e(oe.RJUMPV_TABLE_SIZE0),S+G*2+2>=f.length&&$e(oe.OPCODE_INTERMEDIATES_OOB);const z=S+2+G*2;for(let j=0;j<G;j++){const V=S+2+j*2;y(V),y(V+1);const Z=NC(f,V)+z;(Z<0||Z>=f.length)&&$e(oe.OPCODE_INTERMEDIATES_OOB),k.add(Z),v(Z),b.add(Z)}y(S+1),S+=2*G+1}else if(A===227||A===229){const G=BC(f,S+1);if(a[d].add(G),G>=e.header.codeSizes.length&&$e(oe.INVALID_CALL_TARGET),A===227){const z=e.body.typeSections[G].outputs,j=e.body.typeSections[G].inputs;z===128&&$e(oe.INVALID_CALLF_RETURNING),w<j&&$e(oe.STACK_UNDERFLOW),E+e.body.typeSections[G].maxStackHeight-j>1024&&$e(oe.STACK_OVERFLOW),O+=z-j,N+=z-j}else{const z=e.body.typeSections[d].outputs,j=e.body.typeSections[G].outputs,V=e.body.typeSections[G].inputs,Z=j===128;if(j>z&&!Z&&$e(oe.INVALID_JUMPF),x&&j<=127&&$e(oe.INVALID_RETURNING_SECTION),Z)w<V&&$e(oe.STACK_UNDERFLOW);else{const X=z+V-j;w===E&&E===X||$e(oe.INVALID_STACK_HEIGHT),C=!0}E+e.body.typeSections[G].maxStackHeight-V>1024&&$e(oe.STACK_OVERFLOW)}}else if(A===228){const G=e.body.typeSections[d].outputs;w===E&&E===G||$e(oe.INVALID_STACK_HEIGHT),C=!0}else if(A===230)f[S+1]+1>w&&$e(oe.STACK_UNDERFLOW);else if(A===231)f[S+1]+2>w&&$e(oe.STACK_UNDERFLOW);else if(A===232){const G=f[S+1],z=(G>>4)+1,j=(G&15)+1;z+j+1>w&&$e(oe.STACK_UNDERFLOW)}else if(A===236){const G=f[S+1];G>=e.header.containerSizes.length&&$e(oe.INVALID_EOF_CREATE_TARGET),r.has(G)&&r.get(G)!==Yi.InitCode&&$e(oe.CONTAINER_DOUBLE_TYPE),r.set(G,Yi.InitCode)}else if(A===238){n!==Yi.InitCode&&$e(oe.CONTAINER_TYPE_ERROR);const G=f[S+1];G>=e.header.containerSizes.length&&$e(oe.INVALID_RETURN_CONTRACT_TARGET),r.has(G)&&r.get(G)!==Yi.DeploymentCode&&$e(oe.CONTAINER_DOUBLE_TYPE),r.set(G,Yi.DeploymentCode)}else if(A===209){const z=BC(f,S+1)+32;e.header.dataSize<z&&$e(oe.DATALOADN_OOB)}else(A===0||A===243)&&n===Yi.InitCode&&$e(oe.CONTAINER_TYPE_ERROR);const F=Za[A].intermediates;if(F>0){for(let G=1;G<=F;G++)y(S+G);S+=F}S>=f.length&&$e(oe.OPCODE_INTERMEDIATES_OOB),S++,Za[A].terminating===void 0&&(b.add(S),A!==224&&k.add(S));for(const G of k)G<S&&($[G]!==O||P[G]!==N)&&$e(oe.UNSTABLE_STACK),P[G]===void 0?($[G]=O,P[G]=N):($[G]=Math.min($[G],O),P[G]=Math.max(P[G],N));T=Math.max(N,T)}o.has(I)||$e(oe.INVALID_TERMINATOR),e.body.typeSections[d].maxStackHeight!==T&&$e(oe.MAX_STACK_HEIGHT_VIOLATION),T>1024&&$e(oe.MAX_STACK_HEIGHT_LIMIT),!C&&!x&&$e(oe.RETURNING_NO_RETURN)}const l=new Set;l.add(0);const u=[0];for(;u.length>0;){const f=a[u.pop()];for(const g of f)l.has(g)||(l.add(g),u.push(g))}return l.size!==e.header.codeSizes.length&&$e(oe.UNREACHABLE_CODE_SECTIONS),r.size!==e.header.containerSizes.length&&$e(oe.UNREACHABLE_CONTAINER_SECTIONS),r}const Is={Default:"default",Initmode:"initMode",TxInitmode:"txInitMode"};class XT{constructor(t){this.data=t,this.ptr=0}readBytes(t,n){const r=this.ptr+t;r>this.data.length&&$e(oe.OUT_OF_BOUNDS,this.ptr,n);const i=this.ptr;return this.ptr+=t,this.data.slice(i,r)}readUint(t){return this.ptr>=this.data.length&&$e(oe.OUT_OF_BOUNDS,this.ptr,t),this.data[this.ptr++]}verifyUint(t,n){this.readUint()!==t&&$e(oe.VERIFY_UINT,this.ptr-1,n)}readUint16(t){this.ptr+2>this.data.length&&$e(oe.OUT_OF_BOUNDS,this.ptr,t);const r=this.ptr;return this.ptr+=2,new DataView(this.data.buffer).getUint16(r)}getPtr(){return this.ptr}readRemainder(){return this.data.slice(this.ptr)}isAtEnd(){return this.ptr===this.data.length}}class s7{constructor(t){if(t.length>GG)throw W("err: container size more than maximum valid size");const n=new XT(t);if(n.verifyUint(Jm,oe.FORMAT),n.verifyUint(sx,oe.MAGIC),n.verifyUint(qT,oe.VERSION),t.length<15)throw W("err: container size less than minimum valid size");n.verifyUint(zG,oe.KIND_TYPE);const r=n.readUint16(oe.TYPE_SIZE);if(r<KG&&$e(oe.INVALID_TYPE_SIZE,r),r%bv!==0&&$e(oe.INVALID_TYPE_SIZE,r),r>YG)throw W(`err: number of code sections must not exceed 1024 (got ${r})`);n.verifyUint(HG,oe.KIND_CODE);const i=n.readUint16(oe.CODE_SIZE);i<ZG&&$e(oe.MIN_CODE_SECTIONS),i!==r/bv&&$e(oe.TYPE_SECTIONS,r/bv,i);const s=[];for(let l=0;l<i;l++){const u=n.readUint16(oe.CODE_SECTION);u<qG&&$e(oe.CODE_SECTION_SIZE),s.push(u)}let o=n.readUint();const c=[];if(o===WG){const l=n.readUint16(oe.CONTAINER_SIZE);l<XG&&$e(oe.CONTAINER_SECTION_SIZE),l>QG&&$e(oe.CONTAINER_SECTION_SIZE);for(let u=0;u<l;u++){const h=n.readUint16(oe.CONTAINER_SECTION);h<JG&&$e(oe.CONTAINER_SECTION_MIN),c.push(h)}o=n.readUint()}o!==jG&&$e(oe.KIND_DATA),this.dataSizePtr=n.getPtr();const a=n.readUint16(oe.DATA_SIZE);n.verifyUint(VG,oe.TERMINATOR),this.typeSize=r,this.codeSizes=s,this.containerSizes=c,this.dataSize=a,this.buffer=t.slice(0,n.getPtr());const d=this.buffer.length+this.typeSize;this.codeStartPos=[d]}sections(){return[this.typeSize,this.codeSizes,this.containerSizes,this.dataSize]}sectionSizes(){return[1,this.codeSizes.length,this.containerSizes.length,1]}getCodePosition(t){if(this.codeStartPos[t])return this.codeStartPos[t];const n=this.codeStartPos.length;let r=this.codeStartPos[n-1];for(let i=n;i<=t;i++)r+=this.codeSizes[i-1],this.codeStartPos[i]=r;return r}getSectionFromProgramCounter(t){if(t<0||t>this.codeStartPos[this.codeStartPos.lastIndex]+this.codeSizes[this.codeSizes.lastIndex])throw W("program counter out of bounds");this.codeStartPos.length<this.codeSizes.length&&this.getCodePosition(this.codeSizes.length-1);for(let n=0;n<this.codeSizes.length;n++)if(t<this.codeStartPos[n]+this.codeSizes[n])return n;throw W(`Invalid program counter value: ${t}`)}}class o7{constructor(t,n,r=Is.Default,i=!1){const s=new XT(t),o=[];for(let h=0;h<n.typeSize/4;h++){const p=s.readUint(oe.INPUTS),f=s.readUint(oe.OUTPUTS),g=s.readUint16(oe.MAX_STACK_HEIGHT);h===0&&(p!==0&&$e(oe.CODE0_INPUTS),f!==128&&$e(oe.CODE0_OUTPUTS)),p>e7&&$e(oe.MAX_INPUTS,h,p),f>t7&&$e(oe.MAX_OUTPUTS,h,f),g>n7&&$e(oe.MAX_STACK_HEIGHT_LIMIT,h,g),o.push({inputs:p,outputs:f,maxStackHeight:g})}const c=s.getPtr(),a=[];for(const[h,p]of n.codeSizes.entries())try{const f=s.readBytes(p);a.push(f)}catch{$e(oe.CODE_SECTION,h)}const d=t.slice(c,s.getPtr()),l=[];for(const[h,p]of n.containerSizes.entries())try{const f=s.readBytes(p);l.push(f)}catch{$e(oe.CONTAINER_SECTION,h)}let u;r!==Is.Initmode&&!i?(u=s.readBytes(n.dataSize,oe.DATA_SECTION),r===Is.Default?s.isAtEnd()||$e(oe.DANGLING_BYTES):this.txCallData=s.readRemainder()):(u=s.readRemainder(),u.length>n.dataSize&&$e(oe.DANGLING_BYTES)),this.typeSections=o,this.codeSections=a,this.containerSections=l,this.entireCode=d,this.dataSection=u,this.buffer=t}sections(){return[this.typeSections,this.codeSections,this.dataSection]}size(){return{typeSize:this.typeSections.length,codeSize:this.codeSections.length,dataSize:this.dataSection.length}}sectionSizes(){return[this.typeSections.map(()=>4),this.codeSections.map(t=>t.length),this.dataSection.length]}}class ox{constructor(t,n=Is.Default,r=!1){this.eofMode=n,this.header=new s7(t),this.body=new o7(t.slice(this.header.buffer.length),this.header,n,r),this.buffer=t}}function QT(e,t,n=Yi.RuntimeCode,r=Is.Default){const i=new ox(e,r,n===Yi.DeploymentCode),s=r7(i,t,n);for(let o=0;o<i.body.containerSections.length;o++){const c=i.body.containerSections[o],a=s.get(o);QT(c,t,a)}return i}const JT="EVMError",a7={OUT_OF_GAS:"out of gas",CODESTORE_OUT_OF_GAS:"code store out of gas",CODESIZE_EXCEEDS_MAXIMUM:"code size to deposit exceeds maximum code size",STACK_UNDERFLOW:"stack underflow",STACK_OVERFLOW:"stack overflow",INVALID_JUMP:"invalid JUMP",INVALID_OPCODE:"invalid opcode",OUT_OF_RANGE:"value out of range",REVERT:"revert",STATIC_STATE_CHANGE:"static state change",INTERNAL_ERROR:"internal error",CREATE_COLLISION:"create collision",STOP:"stop",REFUND_EXHAUSTED:"refund exhausted",VALUE_OVERFLOW:"value overflow",INSUFFICIENT_BALANCE:"insufficient balance",INVALID_BYTECODE_RESULT:"invalid bytecode deployed",INITCODE_SIZE_VIOLATION:"initcode exceeds max initcode size",INVALID_INPUT_LENGTH:"invalid input length",INVALID_EOF_FORMAT:"invalid EOF format",BLS_12_381_INVALID_INPUT_LENGTH:"invalid input length",BLS_12_381_POINT_NOT_ON_CURVE:"point not on curve",BLS_12_381_INPUT_EMPTY:"input is empty",BLS_12_381_FP_NOT_IN_FIELD:"fp point not in field",BN254_FP_NOT_IN_FIELD:"fp point not in field",INVALID_COMMITMENT:"kzg commitment does not match versioned hash",INVALID_INPUTS:"kzg inputs invalid",INVALID_PROOF:"kzg proof invalid"};class ee{constructor(t){this.error=t,this.errorType=JT}}ee.errorMessages=a7;const Ef=new Uint8Array([Jm,sx]),l7=Sn(Ef);function Na(e){const t=e.subarray(0,Ef.length);return Ye(Ef,t)}function c7(e,t=Is.Default){e.env.eof={container:new ox(e.code,t),eofRunState:{returnStack:[]}},e.env.eof.container.body.txCallData!==void 0&&(e.env.callData=e.env.eof.container.body.txCallData);const n=e.env.eof.container.header.getCodePosition(0);e.programCounter=n}const u7=3e7,d7=12,f7=u7/d7;class h7{constructor(t){this.runTime=0,this.tag=t,this.startTime=performance.now()}pause(){this.runTime=this.runTime+performance.now()-this.startTime}unpause(){this.startTime=performance.now()}time(){return(performance.now()-this.startTime+this.runTime)/1e3}}class p7{constructor(){this.clear()}clear(){this.opcodes={},this.precompiles={}}getLogs(){function t(n){const r=[];for(const i in n){const s=n[i],o=s.gasUsed/s.time,c={calls:s.calls,totalTime:Math.round(s.time*1e6)/1e3,avgTimePerCall:Math.round(s.time/s.calls*1e6)/1e3,gasUsed:s.gasUsed,millionGasPerSecond:Math.round(o/1e3)/1e3,blocksPerSlot:Math.round(o/f7*1e3)/1e3,tag:i};s.dynamicGasUsed!==void 0&&(c.staticGas=s.staticGas,c.staticGasUsed=s.staticGas*s.calls,c.dynamicGasUsed=s.dynamicGasUsed),r.push(c)}return r.sort((i,s)=>s.millionGasPerSecond-i.millionGasPerSecond),r}return{opcodes:t(this.opcodes),precompiles:t(this.precompiles)}}hasTimer(){return this.currentTimer!==void 0}startTimer(t){if(this.currentTimer!==void 0)throw W("Cannot have two timers running at the same time");return this.currentTimer=new h7(t),this.currentTimer}pauseTimer(){const t=this.currentTimer;if(t===void 0)throw W("No timer to pause");return t.pause(),this.currentTimer=void 0,t}unpauseTimer(t){if(this.currentTimer!==void 0)throw W("Cannot unpause timer: another timer is already running");t.unpause(),this.currentTimer=t}stopTimer(t,n,r="opcodes",i,s){if(this.currentTimer===void 0||this.currentTimer!==t)throw W("Cannot stop timer: another timer is already running");const o=t.time(),c=t.tag;this.currentTimer=void 0;const a=this[r];a[c]===void 0&&(a[c]={calls:0,time:0,gasUsed:0});const d=a[c];d.calls++,d.time+=o,d.gasUsed+=n,r==="opcodes"&&(d.staticGas=i,d.dynamicGasUsed=(d.dynamicGasUsed??0)+s)}}const g7=(e,t)=>{const n=e%t;return n===0?e:e+t-n},wv=8192;class m7{constructor(){this._store=new Uint8Array(wv)}extend(t,n){if(n===0)return;const i=g7(t+n,32)-this._store.length;if(i>0){const s=Math.ceil(i/wv)*wv;this._store=Xe(this._store,new Uint8Array(s))}}write(t,n,r){if(n!==0){if(this.extend(t,n),r.length!==n)throw W("Invalid value size");if(t+n>this._store.length)throw W("Value exceeds memory capacity");this._store.set(r,t)}}read(t,n,r){this.extend(t,n);const i=this._store.subarray(t,t+n);if(r===!0)return i;const s=new Uint8Array(n);return s.set(i),s}}const $o={value:q,caller:gi(),data:new Uint8Array(0),depth:0,isStatic:!1,isCompiled:!1,delegatecall:!1,gasRefund:q};class Fa{constructor(t){if(this.to=t.to,this.value=t.value??$o.value,this.caller=t.caller??$o.caller,this.gasLimit=t.gasLimit,this.data=t.data??$o.data,this.eofCallData=t.eofCallData,this.depth=t.depth??$o.depth,this.code=t.code,this._codeAddress=t.codeAddress,this.isStatic=t.isStatic??$o.isStatic,this.isCompiled=t.isCompiled??$o.isCompiled,this.salt=t.salt,this.selfdestruct=t.selfdestruct,this.createdAddresses=t.createdAddresses,this.delegatecall=t.delegatecall??$o.delegatecall,this.gasRefund=t.gasRefund??$o.gasRefund,this.blobVersionedHashes=t.blobVersionedHashes,this.accessWitness=t.accessWitness,this.value<0)throw W(`value field cannot be negative, received ${this.value}`)}get codeAddress(){const t=this._codeAddress??this.to;if(!t)throw W("Missing codeAddress");return t}}const v7=(ze<<mT)-ze;function Bo(e,t){let n=e%t;return n<q&&(n=t+n),n}function Lo(e){return BigInt.asIntN(256,e)}function DC(e){return BigInt.asUintN(256,e)}const FC=BigInt(1157920892373162e62);function y7(e,t){let n=ze;for(;t>q;)t%Qr!==q&&(n=n*e%FC),e=e*e%FC,t=t/Qr;return n}function mt(e){const t=e&v7;return iU(t)}function sd(e){return Ye(e,new Uint8Array(e.length))?new Uint8Array(0):qe(e,32)}function Ie(e){throw new ee(e)}function Hh(e){const t=e.interpreter._evm.common.customCrypto.keccak256??Sn,n=ie(t(e.interpreter.getCode())),r=e.interpreter.getAddress().toString(),i=e.programCounter-1;return`${n}/${r}:${i}`}function zs(e,t){const n=e/t;return Bo(e,t)===q?n:n<q?n-ze:n+ze}function ec(e,t,n){const r=BigInt(e.length);t>r&&(t=r);let i=t+n;return i>r&&(i=r),e=e.subarray(Number(t),Number(i)),e=gr(e,Number(n)),e}function b7(e,t){switch(t){case"LOG":t+=e-160;break;case"PUSH":t+=e-95;break;case"DUP":t+=e-127;break;case"SWAP":t+=e-143;break}return t}function UC(e,t){return e.validJumps[t]===1}function $a(e,t,n,r){if(r.gteHardfork(se.TangerineWhistle)){const i=t-t/Nd;return e>i?i:e}else return e}function At(e,t,n,r){if(n===q)return q;const i=zs(t+n,kn);if(i<=e.memoryWordCount)return q;const s=i,o=r.param("memoryGas"),c=r.param("quadCoefficientDivGas");let a=s*o+s*s/c;if(a>e.highestMemCost){const d=e.highestMemCost;e.highestMemCost=a,a-=d}return e.memoryWordCount=i,a}function Wh(e,t,n){const r=e.interpreter.getReturnData();if(r.length>0){const i=Number(t);let s=Number(n);BigInt(r.length)<s&&(s=r.length);const o=ec(r,q,BigInt(s));e.memory.extend(i,s),e.memory.write(i,s,o)}}function w7(e,t,n,r){if(n.length===0&&t.length===0||n.length>0&&t.length>0)return r.param("sstoreResetGas");if(n.length===0&&t.length>0){const i=r.param("sstoreResetGas");return e.interpreter.refundGas(r.param("sstoreRefundGas"),"updateSstoreGas"),i}else return r.param("sstoreSetGas")}const yo=new Map([[0,function(){Ie(ee.errorMessages.STOP)}],[1,function(e){const[t,n]=e.stack.popN(2),r=Bo(t+n,zh);e.stack.push(r)}],[2,function(e){const[t,n]=e.stack.popN(2),r=Bo(t*n,zh);e.stack.push(r)}],[3,function(e){const[t,n]=e.stack.popN(2),r=Bo(t-n,zh);e.stack.push(r)}],[4,function(e){const[t,n]=e.stack.popN(2);let r;n===q?r=q:r=Bo(t/n,zh),e.stack.push(r)}],[5,function(e){const[t,n]=e.stack.popN(2);let r;n===q?r=q:r=DC(Lo(t)/Lo(n)),e.stack.push(r)}],[6,function(e){const[t,n]=e.stack.popN(2);let r;n===q?r=n:r=Bo(t,n),e.stack.push(r)}],[7,function(e){const[t,n]=e.stack.popN(2);let r;n===q?r=n:r=Lo(t)%Lo(n),e.stack.push(DC(r))}],[8,function(e){const[t,n,r]=e.stack.popN(3);let i;r===q?i=q:i=Bo(t+n,r),e.stack.push(i)}],[9,function(e){const[t,n,r]=e.stack.popN(3);let i;r===q?i=q:i=Bo(t*n,r),e.stack.push(i)}],[10,function(e){const[t,n]=e.stack.popN(2);if(t===Qr)switch(n){case qw:e.stack.push(D9);return;case mT:e.stack.push(F9);return;case B9:e.stack.push(U9);return}if(n===q){e.stack.push(ze);return}if(t===q){e.stack.push(t);return}const r=y7(t,n);e.stack.push(r)}],[11,function(e){let[t,n]=e.stack.popN(2);if(t<Od){const r=t*Yo+Yw,i=(ze<<r)-ze;n>>r&ze?n=n|BigInt.asUintN(256,~i):n=n&i}e.stack.push(n)}],[16,function(e){const[t,n]=e.stack.popN(2),r=t<n?ze:q;e.stack.push(r)}],[17,function(e){const[t,n]=e.stack.popN(2),r=t>n?ze:q;e.stack.push(r)}],[18,function(e){const[t,n]=e.stack.popN(2),r=Lo(t)<Lo(n)?ze:q;e.stack.push(r)}],[19,function(e){const[t,n]=e.stack.popN(2),r=Lo(t)>Lo(n)?ze:q;e.stack.push(r)}],[20,function(e){const[t,n]=e.stack.popN(2),r=t===n?ze:q;e.stack.push(r)}],[21,function(e){const n=e.stack.pop()===q?ze:q;e.stack.push(n)}],[22,function(e){const[t,n]=e.stack.popN(2),r=t&n;e.stack.push(r)}],[23,function(e){const[t,n]=e.stack.popN(2),r=t|n;e.stack.push(r)}],[24,function(e){const[t,n]=e.stack.popN(2),r=t^n;e.stack.push(r)}],[25,function(e){const t=e.stack.pop(),n=BigInt.asUintN(256,~t);e.stack.push(n)}],[26,function(e){const[t,n]=e.stack.popN(2);if(t>kn){e.stack.push(q);return}const r=n>>(Od-t)*Yo&pv;e.stack.push(r)}],[27,function(e){const[t,n]=e.stack.popN(2);if(t>gv){e.stack.push(q);return}const r=n<<t&hv;e.stack.push(r)}],[28,function(e){const[t,n]=e.stack.popN(2);if(t>256){e.stack.push(q);return}const r=n>>t;e.stack.push(r)}],[29,function(e){const[t,n]=e.stack.popN(2);let r;const s=BigInt.asIntN(256,n)<0;if(t>256){s?r=hv:r=q,e.stack.push(r);return}const o=n>>t;if(s){const c=pv-t,a=hv>>c<<c;r=o|a}else r=o;e.stack.push(r)}],[32,function(e,t){const[n,r]=e.stack.popN(2);let i=new Uint8Array(0);r!==q&&(i=e.memory.read(Number(n),Number(r)));const s=BigInt(ie((t.customCrypto.keccak256??Sn)(i)));e.stack.push(s)}],[48,function(e){const t=ue(e.interpreter.getAddress().bytes);e.stack.push(t)}],[49,async function(e){const t=e.stack.pop(),n=mt(t),r=await e.interpreter.getExternalBalance(n);e.stack.push(r)}],[50,function(e){e.stack.push(e.interpreter.getTxOrigin())}],[51,function(e){e.stack.push(e.interpreter.getCaller())}],[52,function(e){e.stack.push(e.interpreter.getCallValue())}],[53,function(e){const t=e.stack.pop();if(t>e.interpreter.getCallDataSize()){e.stack.push(q);return}const n=Number(t);let r=e.interpreter.getCallData().subarray(n,n+32);r=r.length?r:Uint8Array.from([0]);let i=ue(r);r.length<32&&(i=i<<Yo*BigInt(32-r.length)),e.stack.push(i)}],[54,function(e){const t=e.interpreter.getCallDataSize();e.stack.push(t)}],[55,function(e){const[t,n,r]=e.stack.popN(3);if(r!==q){const i=ec(e.interpreter.getCallData(),n,r),s=Number(t),o=Number(r);e.memory.write(s,o,i)}}],[56,function(e){e.stack.push(e.interpreter.getCodeSize())}],[57,function(e){const[t,n,r]=e.stack.popN(3);if(r!==q){const i=ec(e.interpreter.getCode(),n,r),s=Number(t),o=Number(r);e.memory.write(s,o,i)}}],[59,async function(e){const t=e.stack.pop(),n=mt(t),r=await e.stateManager.getCode(n);if(Na(r)){e.stack.push(BigInt(Ef.length));return}const i=BigInt(r.length);e.stack.push(i)}],[60,async function(e){const[t,n,r,i]=e.stack.popN(4);if(i!==q){const s=mt(t);let o=await e.stateManager.getCode(s);Na(o)&&(o=Ef);const c=ec(o,r,i),a=Number(n),d=Number(i);e.memory.write(a,d,c)}}],[63,async function(e){const t=e.stack.pop(),n=mt(t),r=await e.stateManager.getCode(n);if(Na(r)){e.stack.push(ue(l7));return}const i=await e.stateManager.getAccount(n);if(!i||i.isEmpty()){e.stack.push(q);return}e.stack.push(BigInt(ie(i.codeHash)))}],[61,function(e){e.stack.push(e.interpreter.getReturnDataSize())}],[62,function(e){const[t,n,r]=e.stack.popN(3);if(r!==q){const i=ec(e.interpreter.getReturnData(),n,r),s=Number(t),o=Number(r);e.memory.write(s,o,i)}}],[58,function(e){e.stack.push(e.interpreter.getTxGasPrice())}],[64,async function(e,t){const n=e.stack.pop();if(t.isActivatedEIP(7709)){if(n>=e.interpreter.getBlockNumber()){e.stack.push(q);return}const r=e.interpreter.getBlockNumber()-n;if(r>gv||r<=q){e.stack.push(q);return}const i=new Ht(Hm(t.param("historyStorageAddress"))),s=t.param("historyServeWindow"),o=qe(Je(n%s),32);if(t.isActivatedEIP(6800)||t.isActivatedEIP(7864)){const a=e.env.accessWitness.readAccountStorage(i,n);e.interpreter.useGas(a,"BLOCKHASH")}const c=await e.stateManager.getStorage(i,o);e.stack.push(ue(c))}else{const r=e.interpreter.getBlockNumber()-n;if(r>gv||r<=q){e.stack.push(q);return}const i=await e.blockchain.getBlock(Number(n));e.stack.push(ue(i.hash()))}}],[65,function(e){e.stack.push(e.interpreter.getBlockCoinbase())}],[66,function(e){e.stack.push(e.interpreter.getBlockTimestamp())}],[67,function(e){e.stack.push(e.interpreter.getBlockNumber())}],[68,function(e,t){t.isActivatedEIP(4399)?e.stack.push(e.interpreter.getBlockPrevRandao()):e.stack.push(e.interpreter.getBlockDifficulty())}],[69,function(e){e.stack.push(e.interpreter.getBlockGasLimit())}],[70,function(e){e.stack.push(e.interpreter.getChainId())}],[71,function(e){e.stack.push(e.interpreter.getSelfBalance())}],[72,function(e){e.stack.push(e.interpreter.getBlockBaseFee())}],[73,function(e){const t=e.stack.pop();e.env.blobVersionedHashes.length>Number(t)?e.stack.push(BigInt(e.env.blobVersionedHashes[Number(t)])):e.stack.push(q)}],[74,function(e){e.stack.push(e.interpreter.getBlobBaseFee())}],[80,function(e){e.stack.pop()}],[81,function(e){const t=e.stack.pop(),n=e.memory.read(Number(t),32,!0);e.stack.push(ue(n))}],[82,function(e){const[t,n]=e.stack.popN(2),r=qe(Je(n),32),i=Number(t);e.memory.write(i,32,r)}],[83,function(e){const[t,n]=e.stack.popN(2),r=Je(n&pv),i=Number(t);e.memory.write(i,1,r)}],[84,async function(e){const t=e.stack.pop(),n=qe(Je(t),32),r=await e.interpreter.storageLoad(n),i=r.length?ue(r):q;e.stack.push(i)}],[85,async function(e){const[t,n]=e.stack.popN(2),r=qe(Je(t),32);let i;n===q?i=Uint8Array.from([]):i=Je(n),await e.interpreter.storageStore(r,i)}],[86,function(e){const t=e.stack.pop();t>e.interpreter.getCodeSize()&&Ie(ee.errorMessages.INVALID_JUMP+" at "+Hh(e));const n=Number(t);UC(e,n)||Ie(ee.errorMessages.INVALID_JUMP+" at "+Hh(e)),e.programCounter=n}],[87,function(e){const[t,n]=e.stack.popN(2);if(n!==q){t>e.interpreter.getCodeSize()&&Ie(ee.errorMessages.INVALID_JUMP+" at "+Hh(e));const r=Number(t);UC(e,r)||Ie(ee.errorMessages.INVALID_JUMP+" at "+Hh(e)),e.programCounter=r}}],[88,function(e){e.stack.push(BigInt(e.programCounter-1))}],[89,function(e){e.stack.push(e.memoryWordCount*kn)}],[90,function(e){e.stack.push(e.interpreter.getGasLeft())}],[91,function(){}],[92,function(e){const t=e.stack.pop(),n=qe(Je(t),32),r=e.interpreter.transientStorageLoad(n),i=r.length?ue(r):q;e.stack.push(i)}],[93,function(e){e.interpreter.isStatic()&&Ie(ee.errorMessages.STATIC_STATE_CHANGE);const[t,n]=e.stack.popN(2),r=qe(Je(t),32);let i;n===q?i=Uint8Array.from([]):i=Je(n),e.interpreter.transientStorageStore(r,i)}],[94,function(e){const[t,n,r]=e.stack.popN(3),i=e.memory.read(Number(n),Number(r),!0);e.memory.write(Number(t),Number(r),i)}],[95,function(e){e.stack.push(q)}],[96,function(e,t){const n=e.opCode-95;if((t.isActivatedEIP(6800)||t.isActivatedEIP(7864))&&e.env.chargeCodeAccesses===!0){const r=e.interpreter.getAddress(),i=Math.min(e.code.length,e.programCounter+1),s=Math.min(e.code.length,i+n-1),o=e.env.accessWitness.readAccountCodeChunks(r,i,s);e.interpreter.useGas(o,"PUSH")}if(!e.shouldDoJumpAnalysis)e.stack.push(e.cachedPushes[e.programCounter]),e.programCounter+=n;else{let r=e.code.subarray(e.programCounter,e.programCounter+n);r.length<n&&(r=gr(r,n)),e.programCounter+=n,e.stack.push(ue(r))}}],[128,function(e){const t=e.opCode-127;e.stack.dup(t)}],[144,function(e){const t=e.opCode-143;e.stack.swap(t)}],[160,function(e){const[t,n]=e.stack.popN(2),r=e.opCode-160,s=e.stack.popN(r).map(function(c){return qe(Je(c),32)});let o=new Uint8Array(0);n!==q&&(o=e.memory.read(Number(t),Number(n))),e.interpreter.log(o,r,s)}],[208,function(e){e.env.eof===void 0&&Ie(ee.errorMessages.INVALID_OPCODE);const t=e.stack.pop();if(t>e.env.eof.container.body.dataSection.length){e.stack.push(q);return}const n=Number(t);let r=e.env.eof.container.body.dataSection.subarray(n,n+32);r=r.length?r:Uint8Array.from([0]);let i=ue(r);r.length<32&&(i=i<<Yo*BigInt(32-r.length)),e.stack.push(i)}],[209,function(e){e.env.eof===void 0&&Ie(ee.errorMessages.INVALID_OPCODE);const t=Number(ue(e.code.subarray(e.programCounter,e.programCounter+2))),n=ue(e.env.eof.container.body.dataSection.subarray(t,t+32));e.stack.push(n),e.programCounter+=2}],[210,function(e){e.env.eof===void 0&&Ie(ee.errorMessages.INVALID_OPCODE),e.stack.push(BigInt(e.env.eof.container.body.dataSection.length))}],[211,function(e){e.env.eof===void 0&&Ie(ee.errorMessages.INVALID_OPCODE);const[t,n,r]=e.stack.popN(3);if(r!==q){const i=ec(e.env.eof.container.body.dataSection,n,r),s=Number(t),o=Number(r);e.memory.write(s,o,i)}}],[224,function(e){if(e.env.eof===void 0)Ie(ee.errorMessages.INVALID_OPCODE);else{const t=e.env.code,n=new DataView(t.buffer).getInt16(e.programCounter);e.programCounter+=2+n}}],[225,function(e){if(e.env.eof===void 0)Ie(ee.errorMessages.INVALID_OPCODE);else{if(e.stack.pop()>0){const n=e.env.code,r=new DataView(n.buffer).getInt16(e.programCounter);e.programCounter+=r}e.programCounter+=2}}],[226,function(e){if(e.env.eof===void 0)Ie(ee.errorMessages.INVALID_OPCODE);else{const t=e.env.code,n=t[e.programCounter],r=(n+1)*2;e.programCounter+=1;const i=e.stack.pop();if(i<=n){const s=new DataView(t.buffer).getInt16(e.programCounter+Number(i)*2);e.programCounter+=r+s}else e.programCounter+=r}}],[227,function(e){var i;e.env.eof===void 0&&Ie(ee.errorMessages.INVALID_OPCODE);const t=xC(e.code.slice(e.programCounter,e.programCounter+2)),n=e.stack.length,r=e.env.eof.container.body.typeSections[t];n>1024-r.maxStackHeight+r.inputs&&Ie(oe.STACK_OVERFLOW),e.env.eof.eofRunState.returnStack.length>=1024&&Ie(oe.RETURN_STACK_OVERFLOW),(i=e.env.eof)==null||i.eofRunState.returnStack.push(e.programCounter+2),e.programCounter=e.env.eof.container.header.getCodePosition(t)}],[228,function(e){e.env.eof===void 0&&Ie(ee.errorMessages.INVALID_OPCODE);const t=e.env.eof.eofRunState.returnStack.pop();t===void 0&&Ie(oe.RETF_NO_RETURN),e.programCounter=t}],[229,function(e){e.env.eof===void 0&&Ie(ee.errorMessages.INVALID_OPCODE);const t=xC(e.code.slice(e.programCounter,e.programCounter+2)),n=e.stack.length,r=e.env.eof.container.body.typeSections[t];n>1024-r.maxStackHeight+r.inputs&&Ie(oe.STACK_OVERFLOW),e.programCounter=e.env.eof.container.header.getCodePosition(t)}],[230,function(e){e.env.eof===void 0&&Ie(ee.errorMessages.INVALID_OPCODE);const t=Number(ue(e.code.subarray(e.programCounter,e.programCounter+1)))+1;e.stack.dup(t),e.programCounter++}],[231,function(e){e.env.eof===void 0&&Ie(ee.errorMessages.INVALID_OPCODE);const t=Number(ue(e.code.subarray(e.programCounter,e.programCounter+1)))+1;e.stack.swap(t),e.programCounter++}],[232,function(e){e.env.eof===void 0&&Ie(ee.errorMessages.INVALID_OPCODE);const t=Number(ue(e.code.subarray(e.programCounter,e.programCounter+1))),n=(t>>4)+1,r=(t&15)+1;e.stack.exchange(n,n+r),e.programCounter++}],[236,async function(e){if(e.env.eof===void 0)Ie(ee.errorMessages.INVALID_OPCODE);else{e.interpreter.isStatic()&&Ie(ee.errorMessages.STATIC_STATE_CHANGE);const t=e.env.code[e.programCounter],n=e.env.eof.container.body.containerSections[t],[r,i,s,o]=e.stack.popN(4),c=e.messageGasLimit;e.messageGasLimit=void 0;let a=new Uint8Array(0);o!==q&&(a=e.memory.read(Number(s),Number(o),!0)),e.programCounter++;const d=await e.interpreter.eofcreate(c,r,n,qe(Je(i),32),a);e.stack.push(d)}}],[238,async function(e){if(e.env.eof===void 0)Ie(ee.errorMessages.INVALID_OPCODE);else{const t=e.env.code[e.programCounter],n=e.env.eof.container.body.containerSections[t],r=new ox(n,Is.Initmode),[i,s]=e.stack.popN(2);let o=new Uint8Array(0);s!==q&&(o=e.memory.read(Number(i),Number(s)));const c=r.header.dataSize,d=r.body.dataSection.length+Number(s);d<c&&Ie(oe.INVALID_RETURN_CONTRACT_DATA_SIZE),d>65535&&Ie(ee.errorMessages.OUT_OF_GAS);const l=qe(Je(BigInt(d)),2),u=r.header.dataSizePtr;n[u]=l[0],n[u+1]=l[1];const h=Xe(n,o);e.interpreter.finish(h)}}],[240,async function(e,t){const[n,r,i]=e.stack.popN(3);t.isActivatedEIP(3860)&&i>Number(t.param("maxInitCodeSize"))&&!e.interpreter._evm.allowUnlimitedInitCodeSize&&Ie(ee.errorMessages.INITCODE_SIZE_VIOLATION);const s=e.messageGasLimit;e.messageGasLimit=void 0;let o=new Uint8Array(0);if(i!==q&&(o=e.memory.read(Number(r),Number(i),!0)),Na(o)){e.stack.push(q);return}const c=await e.interpreter.create(s,n,o);e.stack.push(c)}],[245,async function(e,t){e.interpreter.isStatic()&&Ie(ee.errorMessages.STATIC_STATE_CHANGE);const[n,r,i,s]=e.stack.popN(4);t.isActivatedEIP(3860)&&i>Number(t.param("maxInitCodeSize"))&&!e.interpreter._evm.allowUnlimitedInitCodeSize&&Ie(ee.errorMessages.INITCODE_SIZE_VIOLATION);const o=e.messageGasLimit;e.messageGasLimit=void 0;let c=new Uint8Array(0);if(i!==q&&(c=e.memory.read(Number(r),Number(i),!0)),Na(c)){e.stack.push(q);return}const a=await e.interpreter.create2(o,n,c,qe(Je(s),32));e.stack.push(a)}],[241,async function(e,t){const[n,r,i,s,o,c,a]=e.stack.popN(7),d=mt(r);let l=new Uint8Array(0);o!==q&&(l=e.memory.read(Number(s),Number(o),!0));let u=e.messageGasLimit;if(i!==q){const p=t.param("callStipendGas");e.interpreter.addStipend(p),u+=p}e.messageGasLimit=void 0;const h=await e.interpreter.call(u,d,i,l);Wh(e,c,a),e.stack.push(h)}],[242,async function(e,t){const[n,r,i,s,o,c,a]=e.stack.popN(7),d=mt(r);let l=e.messageGasLimit;if(i!==q){const p=t.param("callStipendGas");e.interpreter.addStipend(p),l+=p}e.messageGasLimit=void 0;let u=new Uint8Array(0);o!==q&&(u=e.memory.read(Number(s),Number(o),!0));const h=await e.interpreter.callCode(l,d,i,u);Wh(e,c,a),e.stack.push(h)}],[244,async function(e){const t=e.interpreter.getCallValue(),[n,r,i,s,o,c]=e.stack.popN(6),a=mt(r);let d=new Uint8Array(0);s!==q&&(d=e.memory.read(Number(i),Number(s),!0));const l=e.messageGasLimit;e.messageGasLimit=void 0;const u=await e.interpreter.callDelegate(l,a,t,d);Wh(e,o,c),e.stack.push(u)}],[247,function(e){e.env.eof===void 0&&Ie(ee.errorMessages.INVALID_OPCODE);const t=e.stack.pop();if(t>e.interpreter.getReturnDataSize()){e.stack.push(q);return}const n=Number(t);let r=e.interpreter.getReturnData().subarray(n,n+32);r=r.length?r:Uint8Array.from([0]);let i=ue(r);r.length<32&&(i=i<<Yo*BigInt(32-r.length)),e.stack.push(i)}],[248,async function(e){if(e.env.eof===void 0)Ie(ee.errorMessages.INVALID_OPCODE);else{const[t,n,r,i]=e.stack.popN(4),s=e.messageGasLimit;if(e.messageGasLimit=void 0,s===-ze){e.stack.push(ze),e.returnBytes=new Uint8Array(0);return}const o=mt(t);let c=new Uint8Array(0);r!==q&&(c=e.memory.read(Number(n),Number(r),!0));const a=await e.interpreter.call(s,o,i,c);e.stack.push(a)}}],[249,async function(e){if(e.env.eof===void 0)Ie(ee.errorMessages.INVALID_OPCODE);else{const t=e.interpreter.getCallValue(),[n,r,i]=e.stack.popN(3),s=e.messageGasLimit;if(e.messageGasLimit=void 0,s===-ze){e.stack.push(ze),e.returnBytes=new Uint8Array(0);return}const o=mt(n),c=await e.stateManager.getCode(o);if(!Na(c)){e.stack.push(ze),e.returnBytes=new Uint8Array(0);return}let a=new Uint8Array(0);i!==q&&(a=e.memory.read(Number(r),Number(i),!0));const d=await e.interpreter.callDelegate(s,o,t,a);e.stack.push(d)}}],[250,async function(e){const t=q,[n,r,i,s,o,c]=e.stack.popN(6),a=mt(r),d=e.messageGasLimit;e.messageGasLimit=void 0;let l=new Uint8Array(0);s!==q&&(l=e.memory.read(Number(i),Number(s),!0));const u=await e.interpreter.callStatic(d,a,t,l);Wh(e,o,c),e.stack.push(u)}],[251,async function(e){if(e.env.eof===void 0)Ie(ee.errorMessages.INVALID_OPCODE);else{const t=q,[n,r,i]=e.stack.popN(3),s=e.messageGasLimit;if(e.messageGasLimit=void 0,s===-ze){e.stack.push(ze),e.returnBytes=new Uint8Array(0);return}const o=mt(n);let c=new Uint8Array(0);i!==q&&(c=e.memory.read(Number(r),Number(i),!0));const a=await e.interpreter.callStatic(s,o,t,c);e.stack.push(a)}}],[243,function(e){const[t,n]=e.stack.popN(2);let r=new Uint8Array(0);n!==q&&(r=e.memory.read(Number(t),Number(n))),e.interpreter.finish(r)}],[253,function(e){const[t,n]=e.stack.popN(2);let r=new Uint8Array(0);n!==q&&(r=e.memory.read(Number(t),Number(n))),e.interpreter.revert(r)}],[255,async function(e){const t=e.stack.pop(),n=mt(t);return e.interpreter.selfDestruct(n)}]]),x7=yo.get(96);for(let e=97;e<=127;e++)yo.set(e,x7);const S7=yo.get(128);for(let e=129;e<=143;e++)yo.set(e,S7);const E7=yo.get(144);for(let e=145;e<=159;e++)yo.set(e,E7);const C7=yo.get(160);for(let e=161;e<=164;e++)yo.set(e,C7);function A7(e){return"opcode"in e&&"opcodeName"in e&&"baseFee"in e&&"logicFunction"in e}class e${async getBlock(){return{hash(){return new Uint8Array(32)}}}async putBlock(){}shallowCopy(){return this}}const t$=new Uint8Array([239,1,0]);function _7(e,t,n,r,i){return Ye(t,r)?i.param("netSstoreNoopGas"):Ye(n,t)?n.length===0?i.param("netSstoreInitGas"):(r.length===0&&e.interpreter.refundGas(i.param("netSstoreClearRefundGas"),"EIP-1283 -> netSstoreClearRefund"),i.param("netSstoreCleanGas")):(n.length!==0&&(t.length===0?e.interpreter.subRefund(i.param("netSstoreClearRefundGas"),"EIP-1283 -> netSstoreClearRefund"):r.length===0&&e.interpreter.refundGas(i.param("netSstoreClearRefundGas"),"EIP-1283 -> netSstoreClearRefund")),Ye(n,r)&&(n.length===0?e.interpreter.refundGas(i.param("netSstoreResetClearRefundGas"),"EIP-1283 -> netSstoreResetClearRefund"):e.interpreter.refundGas(i.param("netSstoreResetRefundGas"),"EIP-1283 -> netSstoreResetRefund")),i.param("netSstoreDirtyGas"))}function cr(e,t,n,r=!0,i=!1){if(!n.isActivatedEIP(2929))return q;if(e.interpreter.journal.isWarmedAddress(t)){if(r&&!i)return n.param("warmstoragereadGas")}else{if(e.interpreter.journal.addWarmedAddress(t),r&&!(n.isActivatedEIP(6800)||n.isActivatedEIP(7864)))return n.param("coldaccountaccessGas");if(r&&(n.isActivatedEIP(6800)||n.isActivatedEIP(7864)))return n.param("warmstoragereadGas")}return q}function GC(e,t,n,r,i=!0){if(!r.isActivatedEIP(2929))return q;const s=e.interpreter.getAddress().bytes;if(!e.interpreter.journal.isWarmedStorage(s,t)){if(e.interpreter.journal.addWarmedStorage(s,t),i&&!(r.isActivatedEIP(6800)||r.isActivatedEIP(7864)))return r.param("coldsloadGas")}else if(i&&(!n||r.isActivatedEIP(6800)||r.isActivatedEIP(7864)))return r.param("warmstoragereadGas");return q}function xv(e,t,n,r,i){if(!i.isActivatedEIP(2929))return n;const s=e.interpreter.getAddress().bytes,o=i.param("warmstoragereadGas"),c=i.param("coldsloadGas");if(e.interpreter.journal.isWarmedStorage(s,t))switch(r){case"noop":return o;case"initRefund":return i.param("sstoreInitEIP2200Gas")-o;case"cleanRefund":return i.param("sstoreResetGas")-c-o}return n}function k7(e,t,n,r,i,s){if(e.interpreter.getGasLeft()<=s.param("sstoreSentryEIP2200Gas")&&Ie(ee.errorMessages.OUT_OF_GAS),Ye(t,r)){const o=s.param("sstoreNoopEIP2200Gas");return xv(e,i,o,"noop",s)}if(Ye(n,t))return n.length===0?s.param("sstoreInitEIP2200Gas"):(r.length===0&&e.interpreter.refundGas(s.param("sstoreClearRefundEIP2200Gas"),"EIP-2200 -> sstoreClearRefundEIP2200"),s.param("sstoreCleanEIP2200Gas"));if(n.length>0&&(t.length===0?e.interpreter.subRefund(s.param("sstoreClearRefundEIP2200Gas"),"EIP-2200 -> sstoreClearRefundEIP2200"):r.length===0&&e.interpreter.refundGas(s.param("sstoreClearRefundEIP2200Gas"),"EIP-2200 -> sstoreClearRefundEIP2200")),Ye(n,r))if(n.length===0){const o=s.param("sstoreInitRefundEIP2200Gas");e.interpreter.refundGas(xv(e,i,o,"initRefund",s),"EIP-2200 -> initRefund")}else{const o=s.param("sstoreCleanRefundEIP2200Gas");e.interpreter.refundGas(BigInt(xv(e,i,o,"cleanRefund",s)),"EIP-2200 -> cleanRefund")}return s.param("sstoreDirtyEIP2200Gas")}const Sv=BigInt(2)**BigInt(8*20)-BigInt(1);async function jh(e,t,n,r){const i=await e.stateManager.getCode(n);return Ye(i.slice(0,3),t$)?cr(e,i.slice(3,24),t,r):q}const ax=new Map([[10,async function(e,t,n){const[r,i]=e.stack.peek(2);if(i===q)return t;let s=i.toString(2).length/8;s>Math.trunc(s)&&(s=Math.trunc(s)+1),(s<1||s>32)&&Ie(ee.errorMessages.OUT_OF_RANGE);const o=n.param("expByteGas");return t+=BigInt(s)*o,t}],[32,async function(e,t,n){const[r,i]=e.stack.peek(2);return t+=At(e,r,i,n),t+=n.param("keccak256WordGas")*zs(i,kn),t}],[49,async function(e,t,n){const r=mt(e.stack.peek()[0]);let i=!0;if(n.isActivatedEIP(6800)||n.isActivatedEIP(7864)){const s=e.env.accessWitness.readAccountBasicData(r);t+=s,i=s===q}return n.isActivatedEIP(2929)&&(t+=cr(e,r.bytes,n,i)),t}],[55,async function(e,t,n){const[r,i,s]=e.stack.peek(3);return t+=At(e,r,s,n),s!==q&&(t+=n.param("copyGas")*zs(s,kn)),t}],[57,async function(e,t,n){const[r,i,s]=e.stack.peek(3);if(t+=At(e,r,s,n),s!==q&&(t+=n.param("copyGas")*zs(s,kn),(n.isActivatedEIP(6800)||n.isActivatedEIP(7864))&&e.env.chargeCodeAccesses===!0)){const o=e.interpreter.getAddress();let c=i+s;const a=e.interpreter.getCodeSize();c>a&&(c=a),t+=e.env.accessWitness.readAccountCodeChunks(o,Number(i),Number(c))}return t}],[59,async function(e,t,n){const r=mt(e.stack.peek()[0]);let i=!0;if((n.isActivatedEIP(6800)||n.isActivatedEIP(7864))&&e.interpreter._evm.getPrecompile(r)===void 0&&!r.equals(mt(n.param("systemAddress")))){let s=q;s+=e.env.accessWitness.readAccountBasicData(r),t+=s,i=s===q}return n.isActivatedEIP(2929)&&(t+=cr(e,r.bytes,n,i)),t}],[60,async function(e,t,n){const[r,i,s,o]=e.stack.peek(4),c=mt(r);t+=At(e,i,o,n);let a=!0;if((n.isActivatedEIP(6800)||n.isActivatedEIP(7864))&&e.interpreter._evm.getPrecompile(c)===void 0&&!c.equals(mt(n.param("systemAddress")))){let d=q;d+=e.env.accessWitness.readAccountBasicData(c),t+=d,a=d===q}if(n.isActivatedEIP(2929)&&(t+=cr(e,c.bytes,n,a)),o!==q&&(t+=n.param("copyGas")*zs(o,kn),n.isActivatedEIP(6800)||n.isActivatedEIP(7864))){let d=s+o;const l=BigInt((await e.stateManager.getCode(c)).length);d>l&&(d=l),t+=e.env.accessWitness.readAccountCodeChunks(c,Number(s),Number(d))}return t}],[62,async function(e,t,n){const[r,i,s]=e.stack.peek(3);return i+s>e.interpreter.getReturnDataSize()&&e.env.eof===void 0&&Ie(ee.errorMessages.OUT_OF_GAS),t+=At(e,r,s,n),s!==q&&(t+=n.param("copyGas")*zs(s,kn)),t}],[63,async function(e,t,n){const r=mt(e.stack.peek()[0]);let i=!0;if((n.isActivatedEIP(6800)||n.isActivatedEIP(7864))&&e.interpreter._evm.getPrecompile(r)===void 0&&!r.equals(mt(n.param("systemAddress")))){let s=q;s+=e.env.accessWitness.readAccountCodeHash(r),t+=s,i=s===q}return n.isActivatedEIP(2929)&&(t+=cr(e,r.bytes,n,i)),t}],[81,async function(e,t,n){const r=e.stack.peek()[0];return t+=At(e,r,kn,n),t}],[82,async function(e,t,n){const r=e.stack.peek()[0];return t+=At(e,r,kn,n),t}],[83,async function(e,t,n){const r=e.stack.peek()[0];return t+=At(e,r,ze,n),t}],[84,async function(e,t,n){const r=e.stack.peek()[0],i=qe(Je(r),32);let s=!0;if(n.isActivatedEIP(6800)||n.isActivatedEIP(7864)){const o=e.interpreter.getAddress(),c=e.env.accessWitness.readAccountStorage(o,r);t+=c,s=c===q}return n.isActivatedEIP(2929)&&(t+=GC(e,i,!1,n,s)),t}],[85,async function(e,t,n){e.interpreter.isStatic()&&Ie(ee.errorMessages.STATIC_STATE_CHANGE);const[r,i]=e.stack.peek(2),s=qe(Je(r),32);let o;i===q?o=Uint8Array.from([]):o=Je(i);const c=sd(await e.interpreter.storageLoad(s)),a=sd(await e.interpreter.storageLoad(s,!0));n.hardfork()===se.Constantinople?t+=_7(e,c,a,sd(o),n):n.gteHardfork(se.Istanbul)?!n.isActivatedEIP(6800)&&!n.isActivatedEIP(7864)&&(t+=k7(e,c,a,sd(o),s,n)):t+=w7(e,c,sd(o),n);let d=!0;if(n.isActivatedEIP(6800)||n.isActivatedEIP(7864)){const l=e.interpreter.getAddress(),u=e.env.accessWitness.writeAccountStorage(l,r);t+=u,d=u===q}return n.isActivatedEIP(2929)&&(t+=GC(e,s,!0,n,d)),t}],[94,async function(e,t,n){const[r,i,s]=e.stack.peek(3),o=(s+Od)/kn;return t+=O9*o,t+=At(e,i,s,n),t+=At(e,r,s,n),t}],[160,async function(e,t,n){e.interpreter.isStatic()&&Ie(ee.errorMessages.STATIC_STATE_CHANGE);const[r,i]=e.stack.peek(2),s=e.opCode-160;return(s<0||s>4)&&Ie(ee.errorMessages.OUT_OF_RANGE),t+=At(e,r,i,n),t+=n.param("logTopicGas")*BigInt(s)+i*n.param("logDataGas"),t}],[211,async function(e,t,n){e.env.eof===void 0&&Ie(ee.errorMessages.INVALID_OPCODE);const[r,i,s]=e.stack.peek(3);return t+=At(e,r,s,n),s!==q&&(t+=n.param("copyGas")*zs(s,kn)),t}],[236,async function(e,t,n){e.env.eof===void 0&&Ie(ee.errorMessages.INVALID_OPCODE);const r=e.env.code[e.programCounter+1],[i,s,o,c]=e.stack.peek(4);t+=At(e,o,c,n);const a=e.env.eof.container.body.containerSections[r];t+=n.param("keccak256WordGas")*zs(BigInt(a.length),kn);const d=e.interpreter.getGasLeft()-t;return e.messageGasLimit=$a(d,d,e,n),t}],[238,async function(e,t,n){const[r,i]=e.stack.peek(2);return t+=At(e,r,i,n),t}],[240,async function(e,t,n){e.interpreter.isStatic()&&Ie(ee.errorMessages.STATIC_STATE_CHANGE);const[r,i,s]=e.stack.peek(3);n.isActivatedEIP(2929)&&(t+=cr(e,e.interpreter.getAddress().bytes,n,!1)),n.isActivatedEIP(3860)&&(t+=(s+Od)/kn*n.param("initCodeWordGas")),t+=At(e,i,s,n);let o=BigInt(e.interpreter.getGasLeft())-t;return o=$a(o,o,e,n),e.messageGasLimit=o,t}],[241,async function(e,t,n){const[r,i,s,o,c,a,d]=e.stack.peek(7),l=mt(i);e.interpreter.isStatic()&&s!==q&&Ie(ee.errorMessages.STATIC_STATE_CHANGE),t+=At(e,o,c,n),t+=At(e,a,d,n);let u=!0;if((n.isActivatedEIP(6800)||n.isActivatedEIP(7864))&&e.interpreter._evm.getPrecompile(l)===void 0){const p=e.env.accessWitness.readAccountBasicData(l);if(s!==q){const f=e.interpreter.getAddress();t+=e.env.accessWitness.writeAccountBasicData(f),t+=e.env.accessWitness.writeAccountBasicData(l)}t+=p,u=p===q}if(n.isActivatedEIP(2929)&&(t+=cr(e,l.bytes,n,u)),n.isActivatedEIP(7702)&&(t+=await jh(e,n,l,u)),s!==q&&!n.isActivatedEIP(6800)&&!n.isActivatedEIP(7864)&&(t+=n.param("callValueTransferGas")),n.gteHardfork(se.SpuriousDragon)){const p=await e.stateManager.getAccount(l);let f=!1;(p===void 0||p.isEmpty())&&(f=!0),f&&s!==q&&(t+=n.param("callNewAccountGas"))}else await e.stateManager.getAccount(l)===void 0&&(t+=n.param("callNewAccountGas"));const h=$a(r,e.interpreter.getGasLeft()-t,e,n);return h>e.interpreter.getGasLeft()-t&&Ie(ee.errorMessages.OUT_OF_GAS),t>e.interpreter.getGasLeft()&&Ie(ee.errorMessages.OUT_OF_GAS),e.messageGasLimit=h,t}],[242,async function(e,t,n){const[r,i,s,o,c,a,d]=e.stack.peek(7),l=mt(i);t+=At(e,o,c,n),t+=At(e,a,d,n);let u=!0;if((n.isActivatedEIP(6800)||n.isActivatedEIP(7864))&&e.interpreter._evm.getPrecompile(l)===void 0){const p=e.env.accessWitness.readAccountBasicData(l);t+=p,u=p===q}n.isActivatedEIP(2929)&&(t+=cr(e,mt(i).bytes,n,u)),n.isActivatedEIP(7702)&&(t+=await jh(e,n,l,u)),s!==q&&(t+=n.param("callValueTransferGas"));const h=$a(r,e.interpreter.getGasLeft()-t,e,n);return h>e.interpreter.getGasLeft()-t&&Ie(ee.errorMessages.OUT_OF_GAS),e.messageGasLimit=h,t}],[243,async function(e,t,n){const[r,i]=e.stack.peek(2);return t+=At(e,r,i,n),t}],[244,async function(e,t,n){const[r,i,s,o,c,a]=e.stack.peek(6),d=mt(i);t+=At(e,s,o,n),t+=At(e,c,a,n);let l=!0;if((n.isActivatedEIP(6800)||n.isActivatedEIP(7864))&&e.interpreter._evm.getPrecompile(d)===void 0){const h=e.env.accessWitness.readAccountBasicData(d);t+=h,l=h===q}n.isActivatedEIP(2929)&&(t+=cr(e,mt(i).bytes,n,l)),n.isActivatedEIP(7702)&&(t+=await jh(e,n,d,l));const u=$a(r,e.interpreter.getGasLeft()-t,e,n);return u>e.interpreter.getGasLeft()-t&&Ie(ee.errorMessages.OUT_OF_GAS),e.messageGasLimit=u,t}],[245,async function(e,t,n){e.interpreter.isStatic()&&Ie(ee.errorMessages.STATIC_STATE_CHANGE);const[r,i,s,o]=e.stack.peek(4);t+=At(e,i,s,n),n.isActivatedEIP(2929)&&(t+=cr(e,e.interpreter.getAddress().bytes,n,!1)),n.isActivatedEIP(3860)&&(t+=(s+Od)/kn*n.param("initCodeWordGas")),t+=n.param("keccak256WordGas")*zs(s,kn);let c=e.interpreter.getGasLeft()-t;return c=$a(c,c,e,n),e.messageGasLimit=c,t}],[248,async function(e,t,n){e.env.eof===void 0&&Ie(ee.errorMessages.INVALID_OPCODE);const[r,i,s,o]=e.stack.peek(4);e.interpreter.isStatic()&&o!==q&&Ie(ee.errorMessages.STATIC_STATE_CHANGE),o>q&&(t+=n.param("callValueTransferGas")),r>Sv&&Ie(oe.INVALID_EXTCALL_TARGET),t+=At(e,i,s,n);const c=mt(r);if(t+=cr(e,c.bytes,n),o>q){const p=await e.stateManager.getAccount(c);(p===void 0||p.isEmpty())&&(t+=n.param("callNewAccountGas"))}const a=n.param("minRetainedGas"),d=n.param("minCalleeGas"),l=e.interpreter.getGasLeft()-t,u=l/Nd;let h;return u<a?h=l-a:h=l-u,(e.env.depth>=Number(n.param("stackLimit"))||e.env.contract.balance<o||h<d)&&(h=-ze),e.messageGasLimit=h,t}],[249,async function(e,t,n){e.env.eof===void 0&&Ie(ee.errorMessages.INVALID_OPCODE);const[r,i,s]=e.stack.peek(3);r>Sv&&Ie(oe.INVALID_EXTCALL_TARGET),t+=At(e,i,s,n);const o=mt(r);t+=cr(e,o.bytes,n);const c=n.param("minRetainedGas"),a=n.param("minCalleeGas"),d=e.interpreter.getGasLeft()-t,l=d/Nd;let u;return l<c?u=d-c:u=d-l,(e.env.depth>=Number(n.param("stackLimit"))||u<a)&&(u=-ze),e.messageGasLimit=u,t}],[250,async function(e,t,n){const[r,i,s,o,c,a]=e.stack.peek(6);t+=At(e,s,o,n),t+=At(e,c,a,n);let d=!0;const l=mt(i);if((n.isActivatedEIP(6800)||n.isActivatedEIP(7864))&&e.interpreter._evm.getPrecompile(l)===void 0){const h=e.env.accessWitness.readAccountBasicData(l);t+=h,d=h===q}n.isActivatedEIP(2929)&&(t+=cr(e,mt(i).bytes,n,d)),n.isActivatedEIP(7702)&&(t+=await jh(e,n,mt(i),d));const u=$a(r,e.interpreter.getGasLeft()-t,e,n);return e.messageGasLimit=u,t}],[251,async function(e,t,n){e.env.eof===void 0&&Ie(ee.errorMessages.INVALID_OPCODE);const[r,i,s]=e.stack.peek(3);r>Sv&&Ie(oe.INVALID_EXTCALL_TARGET),t+=At(e,i,s,n);const o=mt(r);t+=cr(e,o.bytes,n);const c=n.param("minRetainedGas"),a=n.param("minCalleeGas"),d=e.interpreter.getGasLeft()-t,l=d/Nd;let u;return l<c?u=d-c:u=d-l,(e.env.depth>=Number(n.param("stackLimit"))||u<a)&&(u=-ze),e.messageGasLimit=u,t}],[253,async function(e,t,n){const[r,i]=e.stack.peek(2);return t+=At(e,r,i,n),t}],[255,async function(e,t,n){e.interpreter.isStatic()&&Ie(ee.errorMessages.STATIC_STATE_CHANGE);const r=e.stack.peek()[0],i=mt(r),s=e.interpreter.getAddress();let o=!1;const c=await e.interpreter.getExternalBalance(s);if(n.gteHardfork(se.SpuriousDragon)){if(c>q){const d=await e.stateManager.getAccount(i);(d===void 0||d.isEmpty())&&(o=!0)}}else n.gteHardfork(se.TangerineWhistle)&&(await e.stateManager.getAccount(i)!==void 0||(o=!0));o&&(t+=n.param("callNewAccountGas"));let a=!0;if((n.isActivatedEIP(6800)||n.isActivatedEIP(7864))&&e.env.chargeCodeAccesses===!0){t+=e.env.accessWitness.readAccountBasicData(s),c>q&&(t+=e.env.accessWitness.writeAccountBasicData(s));let d=e.env.accessWitness.readAccountBasicData(i);c>q&&(d+=e.env.accessWitness.writeAccountBasicData(i)),t+=d,a=d===q}return n.isActivatedEIP(2929)&&(t+=cr(e,i.bytes,n,a,!0)),t}]]),I7=ax.get(160);for(let e=161;e<=164;e++)ax.set(e,I7);class T7{constructor({code:t,name:n,fullName:r,fee:i,isAsync:s,dynamicGas:o}){this.code=t,this.name=n,this.fullName=r,this.fee=i,this.feeBigInt=BigInt(i),this.isAsync=s,this.dynamicGas=o,this.isInvalid=this.name==="INVALID",Object.freeze(this)}}const ae=e=>({name:e,isAsync:!1,dynamicGas:!1}),ur=e=>({name:e,isAsync:!1,dynamicGas:!0}),Er=e=>({name:e,isAsync:!0,dynamicGas:!1}),Mt=e=>({name:e,isAsync:!0,dynamicGas:!0}),$7={0:ae("STOP"),1:ae("ADD"),2:ae("MUL"),3:ae("SUB"),4:ae("DIV"),5:ae("SDIV"),6:ae("MOD"),7:ae("SMOD"),8:ae("ADDMOD"),9:ae("MULMOD"),10:ur("EXP"),11:ae("SIGNEXTEND"),16:ae("LT"),17:ae("GT"),18:ae("SLT"),19:ae("SGT"),20:ae("EQ"),21:ae("ISZERO"),22:ae("AND"),23:ae("OR"),24:ae("XOR"),25:ae("NOT"),26:ae("BYTE"),32:ur("KECCAK256"),48:Er("ADDRESS"),49:Mt("BALANCE"),50:Er("ORIGIN"),51:Er("CALLER"),52:Er("CALLVALUE"),53:Er("CALLDATALOAD"),54:Er("CALLDATASIZE"),55:Mt("CALLDATACOPY"),56:ae("CODESIZE"),57:ur("CODECOPY"),58:ae("GASPRICE"),59:Mt("EXTCODESIZE"),60:Mt("EXTCODECOPY"),64:Er("BLOCKHASH"),65:Er("COINBASE"),66:Er("TIMESTAMP"),67:Er("NUMBER"),68:Er("DIFFICULTY"),69:Er("GASLIMIT"),80:ae("POP"),81:ur("MLOAD"),82:ur("MSTORE"),83:ur("MSTORE8"),84:Mt("SLOAD"),85:Mt("SSTORE"),86:ae("JUMP"),87:ae("JUMPI"),88:ae("PC"),89:ae("MSIZE"),90:ae("GAS"),91:ae("JUMPDEST"),96:ae("PUSH"),97:ae("PUSH"),98:ae("PUSH"),99:ae("PUSH"),100:ae("PUSH"),101:ae("PUSH"),102:ae("PUSH"),103:ae("PUSH"),104:ae("PUSH"),105:ae("PUSH"),106:ae("PUSH"),107:ae("PUSH"),108:ae("PUSH"),109:ae("PUSH"),110:ae("PUSH"),111:ae("PUSH"),112:ae("PUSH"),113:ae("PUSH"),114:ae("PUSH"),115:ae("PUSH"),116:ae("PUSH"),117:ae("PUSH"),118:ae("PUSH"),119:ae("PUSH"),120:ae("PUSH"),121:ae("PUSH"),122:ae("PUSH"),123:ae("PUSH"),124:ae("PUSH"),125:ae("PUSH"),126:ae("PUSH"),127:ae("PUSH"),128:ae("DUP"),129:ae("DUP"),130:ae("DUP"),131:ae("DUP"),132:ae("DUP"),133:ae("DUP"),134:ae("DUP"),135:ae("DUP"),136:ae("DUP"),137:ae("DUP"),138:ae("DUP"),139:ae("DUP"),140:ae("DUP"),141:ae("DUP"),142:ae("DUP"),143:ae("DUP"),144:ae("SWAP"),145:ae("SWAP"),146:ae("SWAP"),147:ae("SWAP"),148:ae("SWAP"),149:ae("SWAP"),150:ae("SWAP"),151:ae("SWAP"),152:ae("SWAP"),153:ae("SWAP"),154:ae("SWAP"),155:ae("SWAP"),156:ae("SWAP"),157:ae("SWAP"),158:ae("SWAP"),159:ae("SWAP"),160:ur("LOG"),161:ur("LOG"),162:ur("LOG"),163:ur("LOG"),164:ur("LOG"),240:Mt("CREATE"),241:Mt("CALL"),242:Mt("CALLCODE"),243:ur("RETURN"),254:ae("INVALID"),255:Mt("SELFDESTRUCT")},Ev=[{hardfork:se.Homestead,opcodes:{244:Mt("DELEGATECALL")}},{hardfork:se.TangerineWhistle,opcodes:{84:Mt("SLOAD"),241:Mt("CALL"),242:Mt("CALLCODE"),59:Mt("EXTCODESIZE"),60:Mt("EXTCODECOPY"),244:Mt("DELEGATECALL"),255:Mt("SELFDESTRUCT"),49:Mt("BALANCE")}},{hardfork:se.Byzantium,opcodes:{253:ur("REVERT"),250:Mt("STATICCALL"),61:Er("RETURNDATASIZE"),62:Mt("RETURNDATACOPY")}},{hardfork:se.Constantinople,opcodes:{27:ae("SHL"),28:ae("SHR"),29:ae("SAR"),63:Mt("EXTCODEHASH"),245:Mt("CREATE2")}},{hardfork:se.Istanbul,opcodes:{70:ae("CHAINID"),71:ae("SELFBALANCE")}},{hardfork:se.Paris,opcodes:{68:Er("PREVRANDAO")}}],L7=[{eip:663,opcodes:{230:ae("DUPN"),231:ae("SWAPN"),232:ae("EXCHANGE")}},{eip:1153,opcodes:{92:ae("TLOAD"),93:ae("TSTORE")}},{eip:3198,opcodes:{72:ae("BASEFEE")}},{eip:3855,opcodes:{95:ae("PUSH0")}},{eip:4200,opcodes:{224:ae("RJUMP"),225:ae("RJUMPI"),226:ae("RJUMPV")}},{eip:4750,opcodes:{227:ae("CALLF"),228:ae("RETF")}},{eip:4844,opcodes:{73:ae("BLOBHASH")}},{eip:5656,opcodes:{94:ur("MCOPY")}},{eip:6206,opcodes:{229:ae("JUMPF")}},{eip:7069,opcodes:{247:ae("RETURNDATALOAD"),248:Mt("EXTCALL"),249:Mt("EXTDELEGATECALL"),251:Mt("EXTSTATICCALL")}},{eip:7480,opcodes:{208:ae("DATALOAD"),209:ae("DATALOADN"),210:ae("DATASIZE"),211:ur("DATACOPY")}},{eip:7516,opcodes:{74:ae("BLOBBASEFEE")}},{eip:7620,opcodes:{236:Mt("EOFCREATE"),238:Mt("RETURNCONTRACT")}}];function M7(e){const t=new Map;for(const[n,r]of Object.entries(e)){const i=parseInt(n,10);isNaN(r.fee)&&(r.fee=0),t.set(i,new T7({code:i,fullName:b7(i,r.name),...r}))}return t}function R7(e,t){let n={...$7};const r=new Map(yo),i=new Map(ax);for(let a=0;a<Ev.length;a++)e.gteHardfork(Ev[a].hardfork)&&(n={...n,...Ev[a].opcodes});for(const a of L7)e.isActivatedEIP(a.eip)&&(n={...n,...a.opcodes});for(const a in n){const d=Number(e.param(`${n[a].name.toLowerCase()}Gas`));if(d===void 0)throw W(`base fee not defined for: ${n[a].name}`);n[a].fee=d}if(t)for(const a of t){const d=a;if(!A7(d)){delete n[d.opcode];continue}const l={[d.opcode]:{name:d.opcodeName,isAsync:!0,dynamicGas:d.gasFunction!==void 0,fee:d.baseFee,feeBigInt:BigInt(d.baseFee)}};n={...n,...l},d.gasFunction!==void 0&&i.set(d.opcode,d.gasFunction),r.set(d.opcode,d.logicFunction)}const s=M7(n),o=[];for(const[a,d]of s){const l=i.get(a),u=r.get(a);o[a]={opcodeInfo:d,opHandler:u,gasHandler:l}}const c=o[254];for(let a=0;a<=255;a++)o[a]===void 0&&(o[a]=c);return{dynamicGasHandlers:i,handlers:r,opcodes:s,opcodeMap:o}}class P7{constructor(t){this._len=0,this._store=[],this._maxHeight=t??1024}get length(){return this._len}push(t){if(this._len>=this._maxHeight)throw new ee(ee.errorMessages.STACK_OVERFLOW);this._store[this._len++]=t}pop(){if(this._len<1)throw new ee(ee.errorMessages.STACK_UNDERFLOW);return this._store[--this._len]}popN(t=1){if(this._len<t)throw new ee(ee.errorMessages.STACK_UNDERFLOW);if(t===0)return[];const n=Array(t),r=this._store;for(let i=0;i<t;i++)n[i]=r[--this._len];return n}peek(t=1){const n=Array(t);let r=this._len;for(let i=0;i<t;i++){const s=--r;if(s<0)throw new ee(ee.errorMessages.STACK_UNDERFLOW);n[i]=this._store[s]}return n}swap(t){if(this._len<=t)throw new ee(ee.errorMessages.STACK_UNDERFLOW);const n=this._len-1,r=n-t,i=this._store,s=i[n];i[n]=i[r],i[r]=s}dup(t){const n=this._len;if(n<t)throw new ee(ee.errorMessages.STACK_UNDERFLOW);if(n>=this._maxHeight)throw new ee(ee.errorMessages.STACK_OVERFLOW);const r=n-t;this._store[this._len++]=this._store[r]}exchange(t,n){const r=this._len-1,i=r-t,s=r-n;if(i<0||s<0)throw new ee(ee.errorMessages.STACK_UNDERFLOW);const o=this._store[s];this._store[s]=this._store[i],this._store[i]=o}getStack(){return this._store.slice(0,this._len)}}const od=ii("evm:gas");class O7{constructor(t,n,r,i,s,o,c,a){if(this.opDebuggers={},this._evm=t,this._stateManager=n,this.common=this._evm.common,this.common.consensusType()==="poa"&&this._evm._optsCached.cliqueSigner===void 0)throw W("Must include cliqueSigner function if clique/poa is being used for consensus type");this._runState={programCounter:0,opCode:254,memory:new m7,memoryWordCount:q,highestMemCost:q,stack:new P7,code:new Uint8Array(0),validJumps:Uint8Array.from([]),cachedPushes:{},stateManager:this._stateManager,blockchain:r,env:i,shouldDoJumpAnalysis:!0,interpreter:this,gasRefund:i.gasRefund,gasLeft:s,returnBytes:new Uint8Array(0)},this.journal=o,this._env=i,this._result={logs:[],returnValue:void 0,selfdestruct:new Set},this.profilerOpts=a,this.performanceLogger=c}async run(t,n={}){var d,l;if(!this.common.isActivatedEIP(3540)||t[0]!==Jm)this._runState.code=t;else if(this.common.isActivatedEIP(3540)){if(t[1]!==sx)return{runState:this._runState,exceptionError:new ee(ee.errorMessages.INVALID_BYTECODE_RESULT)};if(t[2]!==qT)return{runState:this._runState,exceptionError:new ee(ee.errorMessages.INVALID_EOF_FORMAT)};this._runState.code=t;const u=this._env.isCreate&&this._env.depth===0,h=u?Is.TxInitmode:Is.Default;try{c7(this._runState,h)}catch{return{runState:this._runState,exceptionError:new ee(ee.errorMessages.INVALID_EOF_FORMAT)}}if(u)try{QT(this._runState.code,this._evm,Yi.InitCode,Is.TxInitmode)}catch{return{runState:this._runState,exceptionError:new ee(ee.errorMessages.INVALID_EOF_FORMAT)}}}this._runState.programCounter=n.pc??this._runState.programCounter;const r=this._runState.programCounter;if(r!==0&&(r<0||r>=this._runState.code.length))throw W("Internal error: program counter not in range");let i,s,o=!0,c,a;for(((d=this.profilerOpts)==null?void 0:d.enabled)===!0&&this.performanceLogger.hasTimer()&&(c=this.performanceLogger.pauseTimer(),a=this.performanceLogger.startTimer("Overhead"));this._runState.programCounter<this._runState.code.length;){const u=this._runState.programCounter;let h,p;if(o){if(h=this._runState.code[u],h===86||h===87||h===94){const{jumps:f,pushes:g,opcodesCached:m}=this._getValidJumpDestinations(this._runState.code);this._runState.validJumps=f,this._runState.cachedPushes=g,this._runState.shouldDoJumpAnalysis=!1,s=m,o=!1}}else p=s[u],h=p.opcodeInfo.code;if(h===254&&(this.common.isActivatedEIP(6800)||this.common.isActivatedEIP(7864))&&this._runState.env.chargeCodeAccesses===!0){const f=this._runState.interpreter.getAddress();if(!await this._runState.stateManager.checkChunkWitnessPresent(f,u))throw Error(`Invalid witness with missing codeChunk for pc=${u}`)}this._runState.opCode=h;try{a!==void 0&&this.performanceLogger.pauseTimer(),await this.runStep(p),a!==void 0&&this.performanceLogger.unpauseTimer(a)}catch(f){if((l=this._runState.env.accessWitness)==null||l.revert(),a!==void 0&&this.performanceLogger.unpauseTimer(a),!("errorType"in f&&f.errorType===JT))throw f;f.error!==ee.errorMessages.STOP&&(i=f);break}}return c!==void 0&&(this.performanceLogger.stopTimer(a,0),this.performanceLogger.unpauseTimer(c)),{runState:this._runState,exceptionError:i}}async runStep(t){var c,a,d;const n=t??this.lookupOpInfo(this._runState.opCode),r=n.opcodeInfo;let i;((c=this.profilerOpts)==null?void 0:c.enabled)===!0&&(i=this.performanceLogger.startTimer(r.name));let s=r.feeBigInt;const o=this._runState.memoryWordCount;try{if(r.dynamicGas&&(s=await n.gasHandler(this._runState,s,this.common)),(this._evm.events.listenerCount("step")>0||this._evm.DEBUG)&&await this._runStepHook(s,this.getGasLeft(),o),(this.common.isActivatedEIP(6800)||this.common.isActivatedEIP(7864))&&this._env.chargeCodeAccesses===!0){const u=this._runState.interpreter.getAddress(),h=this._runState.env.accessWitness.readAccountCodeChunks(u,this._runState.programCounter,this._runState.programCounter);s+=h,od(`codechunk accessed statelessGas=${h} (-> ${s})`)}if(r.isInvalid)throw new ee(ee.errorMessages.INVALID_OPCODE);this.useGas(s,r),this._runState.programCounter++;const l=n.opHandler;r.isAsync?await l.apply(null,[this._runState,this.common]):l.apply(null,[this._runState,this.common]),(a=this._runState.env.accessWitness)==null||a.commit()}finally{((d=this.profilerOpts)==null?void 0:d.enabled)===!0&&this.performanceLogger.stopTimer(i,Number(s),"opcodes",r.fee,Number(s)-r.fee)}}lookupOpInfo(t){return this._evm._opcodeMap[t]}async _runStepHook(t,n,r){var d,l;const i=this.lookupOpInfo(this._runState.opCode).opcodeInfo,s=(d=this._env.eof)==null?void 0:d.container.header.getSectionFromProgramCounter(this._runState.programCounter);let o,c;if(i.code===253){const[u,h]=this._runState.stack.peek(2);o=new Uint8Array(0),h!==q&&(o=this._runState.memory.read(Number(u),Number(h)))}Za[i.code]!==void 0&&Za[i.code].intermediates>0&&(c=this._runState.code.slice(this._runState.programCounter+1,this._runState.programCounter+1+Za[i.code].intermediates));const a={pc:this._runState.programCounter,gasLeft:n,gasRefund:this._runState.gasRefund,opcode:{name:i.fullName,fee:i.fee,dynamicFee:t,isAsync:i.isAsync,code:i.code},stack:this._runState.stack.getStack(),depth:this._env.depth,address:this._env.address,account:this._env.contract,memory:this._runState.memory._store.subarray(0,Number(r)*32),memoryWordCount:r,codeAddress:this._env.codeAddress,stateManager:this._runState.stateManager,eofSection:s,immediate:c,error:o,eofFunctionDepth:this._env.eof!==void 0?((l=this._env.eof)==null?void 0:l.eofRunState.returnStack.length)+1:void 0};if(this._evm.DEBUG){let u=[];u=a.stack.map(f=>ot(BigInt(f)));const h=a.opcode.name,p={pc:a.pc,op:h,gas:ot(a.gasLeft),gasCost:ot(t),stack:u,depth:a.depth};h in this.opDebuggers||(this.opDebuggers[h]=ii(`evm:ops:${h}`)),this.opDebuggers[h](JSON.stringify(p))}await this._evm._emit("step",a)}_getValidJumpDestinations(t){const n=new Uint8Array(t.length),r={},i=Array(t.length);for(let s=0;s<t.length;s++){const o=t[s];if(i[s]=this.lookupOpInfo(o),o<=127)if(o>=96){const c=o-95;let a=t.subarray(s+1,s+o-94);a.length<c&&(a=gr(a,c));const d=ue(a);r[s+1]=d,s+=c}else o===91&&(n[s]=1)}return{jumps:n,pushes:r,opcodesCached:i}}useGas(t,n){if(this._runState.gasLeft-=t,this._evm.DEBUG){let r="";typeof n=="string"?r=n+": ":n!==void 0&&(r=`${n.name} fee: `),od(`${r}used ${t} gas (-> ${this._runState.gasLeft})`)}this._runState.gasLeft<q&&(this._runState.gasLeft=q,Ie(ee.errorMessages.OUT_OF_GAS))}refundGas(t,n){this._evm.DEBUG&&od(`${typeof n=="string"?n+": ":""}refund ${t} gas (-> ${this._runState.gasRefund})`),this._runState.gasRefund+=t}subRefund(t,n){this._evm.DEBUG&&od(`${typeof n=="string"?n+": ":""}sub gas refund ${t} (-> ${this._runState.gasRefund})`),this._runState.gasRefund-=t,this._runState.gasRefund<q&&(this._runState.gasRefund=q,Ie(ee.errorMessages.REFUND_EXHAUSTED))}addStipend(t){this._evm.DEBUG&&od(`add stipend ${t} (-> ${this._runState.gasLeft})`),this._runState.gasLeft+=t}async getExternalBalance(t){if(t.equals(this._env.address))return this._env.contract.balance;let n=await this._stateManager.getAccount(t);return n||(n=new Rt),n.balance}async storageStore(t,n){await this._stateManager.putStorage(this._env.address,t,n);const r=await this._stateManager.getAccount(this._env.address);if(!r)throw W("could not read account while persisting memory");this._env.contract=r}async storageLoad(t,n=!1){return n?this._stateManager.originalStorageCache.get(this._env.address,t):this._stateManager.getStorage(this._env.address,t)}transientStorageStore(t,n){return this._evm.transientStorage.put(this._env.address,t,n)}transientStorageLoad(t){return this._evm.transientStorage.get(this._env.address,t)}finish(t){this._result.returnValue=t,Ie(ee.errorMessages.STOP)}revert(t){this._result.returnValue=t,Ie(ee.errorMessages.REVERT)}getAddress(){return this._env.address}getSelfBalance(){return this._env.contract.balance}getCallValue(){return this._env.callValue}getCallData(){return this._env.callData}getCallDataSize(){return BigInt(this._env.callData.length)}getCaller(){return ue(this._env.caller.bytes)}getCodeSize(){return BigInt(this._env.code.length)}getCode(){return this._env.code}getGasLeft(){return this._runState.gasLeft}getReturnDataSize(){return BigInt(this._runState.returnBytes.length)}getReturnData(){return this._runState.returnBytes}isStatic(){return this._env.isStatic}getTxGasPrice(){return this._env.gasPrice}getTxOrigin(){return ue(this._env.origin.bytes)}getBlockNumber(){return this._env.block.header.number}getBlockCoinbase(){let t;return this.common.consensusAlgorithm()===yc.Clique?t=this._evm._optsCached.cliqueSigner(this._env.block.header):t=this._env.block.header.coinbase,ue(t.toBytes())}getBlockTimestamp(){return this._env.block.header.timestamp}getBlockDifficulty(){return this._env.block.header.difficulty}getBlockPrevRandao(){return ue(this._env.block.header.prevRandao)}getBlockGasLimit(){return this._env.block.header.gasLimit}getBlockBaseFee(){const t=this._env.block.header.baseFeePerGas;if(t===void 0)throw W("Block has no Base Fee");return t}getBlobBaseFee(){const t=this._env.block.header.getBlobGasPrice();if(t===void 0)throw W("Block has no Blob Base Fee");return t}getChainId(){return this.common.chainId()}async call(t,n,r,i){const s=new Fa({caller:this._env.address,gasLimit:t,to:n,value:r,data:i,isStatic:this._env.isStatic,depth:this._env.depth+1,blobVersionedHashes:this._env.blobVersionedHashes,accessWitness:this._env.accessWitness});return this._baseCall(s)}async callCode(t,n,r,i){const s=new Fa({caller:this._env.address,gasLimit:t,to:this._env.address,codeAddress:n,value:r,data:i,isStatic:this._env.isStatic,depth:this._env.depth+1,blobVersionedHashes:this._env.blobVersionedHashes,accessWitness:this._env.accessWitness});return this._baseCall(s)}async callStatic(t,n,r,i){const s=new Fa({caller:this._env.address,gasLimit:t,to:n,value:r,data:i,isStatic:!0,depth:this._env.depth+1,blobVersionedHashes:this._env.blobVersionedHashes,accessWitness:this._env.accessWitness});return this._baseCall(s)}async callDelegate(t,n,r,i){const s=new Fa({caller:this._env.caller,gasLimit:t,to:this._env.address,codeAddress:n,value:r,data:i,isStatic:this._env.isStatic,delegatecall:!0,depth:this._env.depth+1,blobVersionedHashes:this._env.blobVersionedHashes,accessWitness:this._env.accessWitness});return this._baseCall(s)}async _baseCall(t){const n=new Set(this._result.selfdestruct);t.selfdestruct=n,t.gasRefund=this._runState.gasRefund,this._runState.returnBytes=new Uint8Array(0);let r;if(this.common.isActivatedEIP(6780)&&(r=new Set(this._result.createdAddresses),t.createdAddresses=r),this._runState.returnBytes=new Uint8Array(0),this._env.depth>=Number(this.common.param("stackLimit"))||t.delegatecall!==!0&&this._env.contract.balance<t.value)return q;const i=await this._evm.runCall({message:t});if(i.execResult.logs&&(this._result.logs=this._result.logs.concat(i.execResult.logs)),this.useGas(i.execResult.executionGasUsed,"CALL, STATICCALL, DELEGATECALL, CALLCODE"),i.execResult.returnValue!==void 0&&(!i.execResult.exceptionError||i.execResult.exceptionError.error===ee.errorMessages.REVERT)&&(this._runState.returnBytes=i.execResult.returnValue),!i.execResult.exceptionError){for(const o of n)this._result.selfdestruct.add(o);if(this.common.isActivatedEIP(6780))for(const o of r)this._result.createdAddresses.add(o);const s=await this._stateManager.getAccount(this._env.address);if(!s)throw W("could not read contract account");this._env.contract=s,this._runState.gasRefund=i.execResult.gasRefund??q}return this._getReturnCode(i)}async create(t,n,r,i,s){const o=new Set(this._result.selfdestruct),c=this._env.address,a=this._env.depth+1;if(this._runState.returnBytes=new Uint8Array(0),this._env.depth>=Number(this.common.param("stackLimit"))||this._env.contract.balance<n||this._env.contract.nonce>=gf||(this._env.contract.nonce+=ze,await this.journal.putAccount(this._env.address,this._env.contract),this.common.isActivatedEIP(3860)&&r.length>Number(this.common.param("maxInitCodeSize"))&&this._evm.allowUnlimitedInitCodeSize===!1))return q;const d=new Fa({caller:c,gasLimit:t,value:n,data:r,eofCallData:s,salt:i,depth:a,selfdestruct:o,gasRefund:this._runState.gasRefund,blobVersionedHashes:this._env.blobVersionedHashes,accessWitness:this._env.accessWitness});let l;this.common.isActivatedEIP(6780)&&(l=new Set(this._result.createdAddresses),d.createdAddresses=l);const u=await this._evm.runCall({message:d});if(u.execResult.logs&&(this._result.logs=this._result.logs.concat(u.execResult.logs)),this.useGas(u.execResult.executionGasUsed,"CREATE"),u.execResult.exceptionError&&u.execResult.exceptionError.error===ee.errorMessages.REVERT&&(this._runState.returnBytes=u.execResult.returnValue),!u.execResult.exceptionError||u.execResult.exceptionError.error===ee.errorMessages.CODESTORE_OUT_OF_GAS){for(const p of o)this._result.selfdestruct.add(p);if(this.common.isActivatedEIP(6780))for(const p of l)this._result.createdAddresses.add(p);const h=await this._stateManager.getAccount(this._env.address);if(!h)throw W("could not read contract account");if(this._env.contract=h,this._runState.gasRefund=u.execResult.gasRefund??q,u.createdAddress)return ue(u.createdAddress.bytes)}return this._getReturnCode(u,!0)}async create2(t,n,r,i){return this.create(t,n,r,i)}async eofcreate(t,n,r,i,s){return this.create(t,n,r,i,s)}async selfDestruct(t){return this._selfDestruct(t)}async _selfDestruct(t){this._result.selfdestruct.has(ie(this._env.address.bytes))||this.refundGas(this.common.param("selfdestructRefundGas")),this._result.selfdestruct.add(ie(this._env.address.bytes));const n=Ye(t.bytes,this._env.address.bytes);if(!n){let i=await this._stateManager.getAccount(t);i||(i=new Rt),i.balance+=this._env.contract.balance,await this.journal.putAccount(t,i)}let r=!this.common.isActivatedEIP(6780);r||(r=this._env.createdAddresses.has(this._env.address.toString()),r||(r=!n)),r&&await this._stateManager.modifyAccountFields(this._env.address,{balance:q}),Ie(ee.errorMessages.STOP)}log(t,n,r){(n<0||n>4)&&Ie(ee.errorMessages.OUT_OF_RANGE),r.length!==n&&Ie(ee.errorMessages.INTERNAL_ERROR);const i=[this._env.address.bytes,r,t];this._result.logs.push(i)}_getReturnCode(t,n=!1){return this._runState.env.eof===void 0||n?t.execResult.exceptionError?q:ze:t.execResult.exceptionError!==void 0?t.execResult.exceptionError.error===ee.errorMessages.REVERT?ze:Qr:q}}class N7{constructor(t,n){var r,i;this.DEBUG=typeof window>"u"?((i=(r=process==null?void 0:process.env)==null?void 0:r.DEBUG)==null?void 0:i.includes("ethjs"))??!1:!1,this._debug=ii("evm:journal"),this.cleanJournal(),this.journalHeight=0,this.stateManager=t,this.common=n}startReportingAccessList(){this.accessList=new Map}startReportingPreimages(){this.preimages=new Map}async putAccount(t,n){return this.touchAddress(t),this.stateManager.putAccount(t,n)}async deleteAccount(t){this.touchAddress(t),await this.stateManager.deleteAccount(t)}touchAddress(t){const n=t.toString().slice(2);this.touchAccount(n)}touchAccount(t){if(this.preimages!==void 0){const n=ca(t);if(this.stateManager.getAppliedKey===void 0)throw W("touchAccount: stateManager.getAppliedKey can not be undefined if preimage storing is enabled");const r=this.stateManager.getAppliedKey(n);this.preimages.set(ie(r),n)}this.touched.has(t)||(this.touched.add(t),this.journalDiff[this.journalDiff.length-1][1][2].add(t))}async commit(){this.journalHeight--,this.journalDiff.push([this.journalHeight,[new Set,new Map,new Set]]),await this.stateManager.commit()}async checkpoint(){this.journalHeight++,this.journalDiff.push([this.journalHeight,[new Set,new Map,new Set]]),await this.stateManager.checkpoint()}async revert(){let t;for(let n=this.journalDiff.length-1;n>=0;n--){t=n;const[r,i]=this.journalDiff[n];if(r<this.journalHeight)break;const s=i[0],o=i[1],c=i[2];for(const a of s)this.journal.has(a)&&this.journal.delete(a);for(const[a,d]of o)if(this.journal.has(a)){const l=this.journal.get(a);for(const u of d)l.delete(u)}for(const a of c)a!==P9&&this.touched.delete(a)}this.journalDiff=this.journalDiff.slice(0,t+1),this.journalHeight--,await this.stateManager.revert()}cleanJournal(){this.journalHeight=0,this.journal=new Map,this.alwaysWarmJournal=new Map,this.touched=new Set,this.journalDiff=[[0,[new Set,new Map,new Set]]]}async cleanup(){if(this.common.gteHardfork(se.SpuriousDragon))for(const t of this.touched){const n=new Ht(We(`0x${t}`)),r=await this.stateManager.getAccount(n);(r===void 0||r.isEmpty())&&(await this.deleteAccount(n),this.DEBUG&&this._debug(`Cleanup touched account address=${n} (>= SpuriousDragon)`))}this.cleanJournal(),delete this.accessList,delete this.preimages}addAlwaysWarmAddress(t,n=!1){const r=Sp(t);this.alwaysWarmJournal.has(r)||this.alwaysWarmJournal.set(r,new Set),n&&this.accessList!==void 0&&(this.accessList.has(r)||this.accessList.set(r,new Set))}addAlwaysWarmSlot(t,n,r=!1){const i=Sp(t);this.addAlwaysWarmAddress(i,r);const s=this.alwaysWarmJournal.get(i),o=Sp(n);s.add(o),r&&this.accessList!==void 0&&this.accessList.get(i).add(o)}isWarmedAddress(t){const n=at(t);return this.journal.has(n)||this.alwaysWarmJournal.has(n)}addWarmedAddress(t){const n=at(t);this.journal.has(n)||(this.journal.set(n,new Set),this.journalDiff[this.journalDiff.length-1][1][0].add(n)),this.accessList!==void 0&&(this.accessList.has(n)||this.accessList.set(n,new Set))}isWarmedStorage(t,n){const r=at(t),i=this.journal.get(r);return i===void 0?this.alwaysWarmJournal.has(r)?this.alwaysWarmJournal.get(r).has(at(n)):!1:i.has(at(n))?!0:this.alwaysWarmJournal.has(r)?this.alwaysWarmJournal.get(r).has(at(n)):!1}addWarmedStorage(t,n){const r=at(t);let i=this.journal.get(r);i===void 0&&(this.addWarmedAddress(t),i=this.journal.get(r));const s=at(n);if(!i.has(s)){i.add(s);const c=this.journalDiff[this.journalDiff.length-1][1][1];c.has(r)||c.set(r,new Set),c.get(r).add(s)}this.accessList!==void 0&&this.accessList.get(r).add(s)}}const B7={1:{maxRefundQuotient:2,basefeeGas:2,expGas:10,expByteGas:10,keccak256Gas:30,keccak256WordGas:6,sloadGas:50,sstoreSetGas:2e4,sstoreResetGas:5e3,sstoreRefundGas:15e3,jumpdestGas:1,logGas:375,logDataGas:8,logTopicGas:375,createGas:32e3,callGas:40,callStipendGas:2300,callValueTransferGas:9e3,callNewAccountGas:25e3,selfdestructRefundGas:24e3,memoryGas:3,quadCoefficientDivGas:512,createDataGas:200,copyGas:3,ecRecoverGas:3e3,sha256Gas:60,sha256WordGas:12,ripemd160Gas:600,ripemd160WordGas:120,identityGas:15,identityWordGas:3,stopGas:0,addGas:3,mulGas:5,subGas:3,divGas:5,sdivGas:5,modGas:5,smodGas:5,addmodGas:8,mulmodGas:8,signextendGas:5,ltGas:3,gtGas:3,sltGas:3,sgtGas:3,eqGas:3,iszeroGas:3,andGas:3,orGas:3,xorGas:3,notGas:3,byteGas:3,addressGas:2,balanceGas:20,originGas:2,callerGas:2,callvalueGas:2,calldataloadGas:3,calldatasizeGas:2,calldatacopyGas:3,codesizeGas:2,codecopyGas:3,gaspriceGas:2,extcodesizeGas:20,extcodecopyGas:20,blockhashGas:20,coinbaseGas:2,timestampGas:2,numberGas:2,difficultyGas:2,gaslimitGas:2,popGas:2,mloadGas:3,mstoreGas:3,mstore8Gas:3,sstoreGas:0,jumpGas:8,jumpiGas:10,pcGas:2,msizeGas:2,gasGas:2,pushGas:3,dupGas:3,swapGas:3,callcodeGas:40,returnGas:0,invalidGas:0,selfdestructGas:0,prevrandaoGas:0,stackLimit:1024},606:{delegatecallGas:40},608:{sloadGas:200,callGas:700,extcodesizeGas:700,extcodecopyGas:700,balanceGas:400,delegatecallGas:700,callcodeGas:700,selfdestructGas:5e3},607:{expByteGas:50,maxCodeSize:24576},609:{modexpGquaddivisorGas:20,bn254AddGas:500,bn254MulGas:4e4,bn254PairingGas:1e5,bn254PairingWordGas:8e4,revertGas:0,staticcallGas:700,returndatasizeGas:2,returndatacopyGas:3},1013:{netSstoreNoopGas:200,netSstoreInitGas:2e4,netSstoreCleanGas:5e3,netSstoreDirtyGas:200,netSstoreClearRefundGas:15e3,netSstoreResetRefundGas:4800,netSstoreResetClearRefundGas:19800,shlGas:3,shrGas:3,sarGas:3,extcodehashGas:400,create2Gas:32e3},1716:{netSstoreNoopGas:null,netSstoreInitGas:null,netSstoreCleanGas:null,netSstoreDirtyGas:null,netSstoreClearRefundGas:null,netSstoreResetRefundGas:null,netSstoreResetClearRefundGas:null},1679:{blake2RoundGas:1,bn254AddGas:150,bn254MulGas:6e3,bn254PairingGas:45e3,bn254PairingWordGas:34e3,sstoreSentryEIP2200Gas:2300,sstoreNoopEIP2200Gas:800,sstoreDirtyEIP2200Gas:800,sstoreInitEIP2200Gas:2e4,sstoreInitRefundEIP2200Gas:19200,sstoreCleanEIP2200Gas:5e3,sstoreCleanRefundEIP2200Gas:4200,sstoreClearRefundEIP2200Gas:15e3,balanceGas:700,extcodehashGas:700,chainidGas:2,selfbalanceGas:5,sloadGas:800},663:{dupnGas:3,swapnGas:3,exchangeGas:3},1153:{tstoreGas:100,tloadGas:100},1559:{elasticityMultiplier:2},2565:{modexpGquaddivisorGas:3},2537:{bls12381G1AddGas:375,bls12381G1MulGas:12e3,bls12381G2AddGas:600,bls12381G2MulGas:22500,bls12381PairingBaseGas:37700,bls12381PairingPerPairGas:32600,bls12381MapG1Gas:5500,bls12381MapG2Gas:23800},2929:{coldsloadGas:2100,coldaccountaccessGas:2600,warmstoragereadGas:100,sstoreCleanEIP2200Gas:2900,sstoreNoopEIP2200Gas:100,sstoreDirtyEIP2200Gas:100,sstoreInitRefundEIP2200Gas:19900,sstoreCleanRefundEIP2200Gas:4900,callGas:0,callcodeGas:0,delegatecallGas:0,staticcallGas:0,balanceGas:0,extcodesizeGas:0,extcodecopyGas:0,extcodehashGas:0,sloadGas:0,sstoreGas:0},2935:{historyStorageAddress:"0x0000F90827F1C53A10CB7A02335B175320002935",historyServeWindow:8192,systemAddress:"0xfffffffffffffffffffffffffffffffffffffffe"},3198:{basefeeGas:2},3529:{maxRefundQuotient:5,selfdestructRefundGas:0,sstoreClearRefundEIP2200Gas:4800},3855:{push0Gas:2},3860:{initCodeWordGas:2,maxInitCodeSize:49152},4200:{rjumpGas:2,rjumpiGas:4,rjumpvGas:4},4399:{prevrandaoGas:2},4750:{callfGas:5,retfGas:3},4844:{kzgPointEvaluationPrecompileGas:5e4,blobhashGas:3,blobCommitmentVersionKzg:1,fieldElementsPerBlob:4096},5656:{mcopyGas:3},6206:{jumpfGas:5},6800:{createGas:1e3,coldsloadGas:0},7069:{extcallGas:0,extdelegatecallGas:0,extstaticcallGas:0,returndataloadGas:3,minRetainedGas:5e3,minCalleeGas:2300},7480:{dataloadGas:4,dataloadnGas:3,datasizeGas:2,datacopyGas:3},7516:{blobbasefeeGas:2},7620:{eofcreateGas:32e3,returncontractGas:0}},Kn=(e,t,n)=>(e._debug!==void 0&&e._debug(`Run ${n} precompile data=${ya(e.data)} length=${e.data.length} gasLimit=${e.gasLimit} gasUsed=${t}`),e.gasLimit<t?(e._debug!==void 0&&e._debug(`${n} failed: OOG`),!1):!0),e0=(e,t,n)=>e.data.length!==t?(e._debug!==void 0&&e._debug(`${n} failed: Invalid input length length=${e.data.length} (expected: ${t})`),!1):!0,t0=(e,t,n)=>e.data.length%t!==0?(e._debug!==void 0&&e._debug(`${n} failed: Invalid input length length=${e.data.length} (expected: ${t}*k bytes)`),!1):!0,D7=BigInt("52435875175126190479447740508185965837690552500527637822603658699938581184513"),zC=qe(Je(D7),32);async function F7(e){var u,h,p;const t=Pn("0a");if(((u=e.common.customCrypto)==null?void 0:u.kzg)===void 0)throw W("kzg not initialized");const n=e.common.param("kzgPointEvaluationPrecompileGas");if(!Kn(e,n,t))return St(e.gasLimit);if(e.data.length!==192)return lt(new ee(ee.errorMessages.INVALID_INPUT_LENGTH),e.gasLimit);const r=Number(e.common.param("blobCommitmentVersionKzg")),i=e.common.param("fieldElementsPerBlob"),s=ie(e.data.subarray(0,32)),o=ie(e.data.subarray(32,64)),c=ie(e.data.subarray(64,96)),a=ie(e.data.subarray(96,144)),d=ie(e.data.subarray(144,192));if(AT(a,r)!==s)return e._debug!==void 0&&e._debug(`${t} failed: INVALID_COMMITMENT`),lt(new ee(ee.errorMessages.INVALID_COMMITMENT),e.gasLimit);e._debug!==void 0&&e._debug(`${t}: proof verification with commitment=${a} z=${o} y=${c} kzgProof=${d}`);try{if(((p=(h=e.common.customCrypto)==null?void 0:h.kzg)==null?void 0:p.verifyProof(a,o,c,d))===!1)return lt(new ee(ee.errorMessages.INVALID_PROOF),e.gasLimit)}catch(f){return f.message.includes("C_KZG_BADARGS")===!0?(e._debug!==void 0&&e._debug(`${t} failed: INVALID_INPUTS`),lt(new ee(ee.errorMessages.INVALID_INPUTS),e.gasLimit)):(e._debug!==void 0&&e._debug(`${t} failed: Unknown error - ${f.message}`),lt(new ee(ee.errorMessages.REVERT),e.gasLimit))}const l=qe(Je(i),32);return e._debug!==void 0&&e._debug(`${t} return fieldElements=${ie(l)} modulus=${ie(zC)}`),{executionGasUsed:n,returnValue:Xe(l,zC)}}const Lb=BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),di=128,Oi=256,n$=new Uint8Array(di),r$=new Uint8Array(Oi),U7=new Uint8Array(32),G7=Xe(new Uint8Array(31),We("0x01")),z7=[[1,1e3],[2,949],[3,848],[4,797],[5,764],[6,750],[7,738],[8,728],[9,719],[10,712],[11,705],[12,698],[13,692],[14,687],[15,682],[16,677],[17,673],[18,669],[19,665],[20,661],[21,658],[22,654],[23,651],[24,648],[25,645],[26,642],[27,640],[28,637],[29,635],[30,632],[31,630],[32,627],[33,625],[34,623],[35,621],[36,619],[37,617],[38,615],[39,613],[40,611],[41,609],[42,608],[43,606],[44,604],[45,603],[46,601],[47,599],[48,598],[49,596],[50,595],[51,593],[52,592],[53,591],[54,589],[55,588],[56,586],[57,585],[58,584],[59,582],[60,581],[61,580],[62,579],[63,577],[64,576],[65,575],[66,574],[67,573],[68,572],[69,570],[70,569],[71,568],[72,567],[73,566],[74,565],[75,564],[76,563],[77,562],[78,561],[79,560],[80,559],[81,558],[82,557],[83,556],[84,555],[85,554],[86,553],[87,552],[88,551],[89,550],[90,549],[91,548],[92,547],[93,547],[94,546],[95,545],[96,544],[97,543],[98,542],[99,541],[100,540],[101,540],[102,539],[103,538],[104,537],[105,536],[106,536],[107,535],[108,534],[109,533],[110,532],[111,532],[112,531],[113,530],[114,529],[115,528],[116,528],[117,527],[118,526],[119,525],[120,525],[121,524],[122,523],[123,522],[124,522],[125,521],[126,520],[127,520],[128,519]],H7=[[1,1e3],[2,1e3],[3,923],[4,884],[5,855],[6,832],[7,812],[8,796],[9,782],[10,770],[11,759],[12,749],[13,740],[14,732],[15,724],[16,717],[17,711],[18,704],[19,699],[20,693],[21,688],[22,683],[23,679],[24,674],[25,670],[26,666],[27,663],[28,659],[29,655],[30,652],[31,649],[32,646],[33,643],[34,640],[35,637],[36,634],[37,632],[38,629],[39,627],[40,624],[41,622],[42,620],[43,618],[44,615],[45,613],[46,611],[47,609],[48,607],[49,606],[50,604],[51,602],[52,600],[53,598],[54,597],[55,595],[56,593],[57,592],[58,590],[59,589],[60,587],[61,586],[62,584],[63,583],[64,582],[65,580],[66,579],[67,578],[68,576],[69,575],[70,574],[71,573],[72,571],[73,570],[74,569],[75,568],[76,567],[77,566],[78,565],[79,563],[80,562],[81,561],[82,560],[83,559],[84,558],[85,557],[86,556],[87,555],[88,554],[89,553],[90,552],[91,552],[92,551],[93,550],[94,549],[95,548],[96,547],[97,546],[98,545],[99,545],[100,544],[101,543],[102,542],[103,541],[104,541],[105,540],[106,539],[107,538],[108,537],[109,537],[110,536],[111,535],[112,535],[113,534],[114,533],[115,532],[116,532],[117,531],[118,530],[119,530],[120,529],[121,528],[122,528],[123,527],[124,526],[125,526],[126,525],[127,524],[128,524]];/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lx=BigInt(0),xg=BigInt(1);function Sg(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Vh(e){const t=e.toString(16);return t.length&1?"0"+t:t}function i$(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?lx:BigInt("0x"+e)}function xi(e){return i$(ma(e))}function s$(e){return hn(e),i$(ma(Uint8Array.from(e).reverse()))}function Un(e,t){return Fm(e.toString(16).padStart(t*2,"0"))}function o$(e,t){return Un(e,t).reverse()}function nr(e,t,n){let r;if(typeof t=="string")try{r=Fm(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(Dm(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}const Cv=e=>typeof e=="bigint"&&lx<=e;function a$(e,t,n){return Cv(e)&&Cv(t)&&Cv(n)&&t<=e&&e<n}function W7(e,t,n,r){if(!a$(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function zc(e){let t;for(t=0;e>lx;e>>=xg,t+=1);return t}function l$(e,t){return e>>BigInt(t)&xg}const al=e=>(xg<<BigInt(e))-xg;function j7(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=p=>new Uint8Array(p),i=p=>Uint8Array.of(p);let s=r(e),o=r(e),c=0;const a=()=>{s.fill(1),o.fill(0),c=0},d=(...p)=>n(o,s,...p),l=(p=r(0))=>{o=d(i(0),p),s=d(),p.length!==0&&(o=d(i(1),p),s=d())},u=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const f=[];for(;p<t;){s=d();const g=s.slice();f.push(g),p+=s.length}return Ut(...f)};return(p,f)=>{a(),l(p);let g;for(;!(g=f(u()));)l();return a(),g}}function V7(e){return typeof e=="function"&&Number.isSafeInteger(e.outputLen)}function n0(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(i,s,o){const c=e[i];if(o&&c===void 0)return;const a=typeof c;if(a!==s||c===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${a}`)}Object.entries(t).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}const Cn=()=>{throw new Error("not implemented")};function Mb(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const s=e(n,...r);return t.set(n,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Yr=BigInt(0),br=BigInt(1),qa=BigInt(2),K7=BigInt(3),c$=BigInt(4),u$=BigInt(5),d$=BigInt(8);function Zi(e,t){const n=e%t;return n>=Yr?n:t+n}function HC(e,t){if(e===Yr)throw new Error("invert: expected non-zero number");if(t<=Yr)throw new Error("invert: expected positive modulus, got "+t);let n=Zi(e,t),r=t,i=Yr,s=br;for(;n!==Yr;){const c=r/n,a=r%n,d=i-s*c;r=n,n=a,i=s,s=d}if(r!==br)throw new Error("invert: does not exist");return Zi(i,t)}function f$(e,t){const n=(e.ORDER+br)/c$,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Y7(e,t){const n=(e.ORDER-u$)/d$,r=e.mul(t,qa),i=e.pow(r,n),s=e.mul(t,i),o=e.mul(e.mul(s,qa),i),c=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(c),t))throw new Error("Cannot find square root");return c}function Z7(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-br,n=0;for(;t%qa===Yr;)t/=qa,n++;let r=qa;const i=Lu(e);for(;Eg(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return f$;let s=i.pow(r,t);const o=(t+br)/qa;return function(a,d){if(a.is0(d))return d;if(Eg(a,d)!==1)throw new Error("Cannot find square root");let l=n,u=a.mul(a.ONE,s),h=a.pow(d,t),p=a.pow(d,o);for(;!a.eql(h,a.ONE);){if(a.is0(h))return a.ZERO;let f=1,g=a.sqr(h);for(;!a.eql(g,a.ONE);)if(f++,g=a.sqr(g),f===l)throw new Error("Cannot find square root");const m=br<<BigInt(l-f-1),v=a.pow(u,m);l=f,u=a.sqr(v),h=a.mul(h,u),p=a.mul(p,v)}return p}}function q7(e){return e%c$===K7?f$:e%d$===u$?Y7:Z7(e)}const X7=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function h$(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=X7.reduce((r,i)=>(r[i]="function",r),t);return n0(e,n),e}function Tp(e,t,n){if(n<Yr)throw new Error("invalid exponent, negatives unsupported");if(n===Yr)return e.ONE;if(n===br)return t;let r=e.ONE,i=t;for(;n>Yr;)n&br&&(r=e.mul(r,i)),i=e.sqr(i),n>>=br;return r}function ll(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((o,c,a)=>e.is0(c)?o:(r[a]=o,e.mul(o,c)),e.ONE),s=e.inv(i);return t.reduceRight((o,c,a)=>e.is0(c)?o:(r[a]=e.mul(o,r[a]),e.mul(o,c)),s),r}function Eg(e,t){const n=(e.ORDER-br)/qa,r=e.pow(t,n),i=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Q7(e,t){t!==void 0&&fu(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Lu(e,t,n=!1,r={}){if(e<=Yr)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,s;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const l=t;l.BITS&&(i=l.BITS),l.sqrt&&(s=l.sqrt),typeof l.isLE=="boolean"&&(n=l.isLE)}else typeof t=="number"&&(i=t),r.sqrt&&(s=r.sqrt);const{nBitLength:o,nByteLength:c}=Q7(e,i);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const d=Object.freeze({ORDER:e,isLE:n,BITS:o,BYTES:c,MASK:al(o),ZERO:Yr,ONE:br,create:l=>Zi(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Yr<=l&&l<e},is0:l=>l===Yr,isValidNot0:l=>!d.is0(l)&&d.isValid(l),isOdd:l=>(l&br)===br,neg:l=>Zi(-l,e),eql:(l,u)=>l===u,sqr:l=>Zi(l*l,e),add:(l,u)=>Zi(l+u,e),sub:(l,u)=>Zi(l-u,e),mul:(l,u)=>Zi(l*u,e),pow:(l,u)=>Tp(d,l,u),div:(l,u)=>Zi(l*HC(u,e),e),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>HC(l,e),sqrt:s||(l=>(a||(a=q7(e)),a(d,l))),toBytes:l=>n?o$(l,c):Un(l,c),fromBytes:l=>{if(l.length!==c)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+l.length);return n?s$(l):xi(l)},invertBatch:l=>ll(d,l),cmov:(l,u,h)=>h?u:l});return Object.freeze(d)}function p$(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function cx(e){const t=p$(e);return t+Math.ceil(t/2)}function g$(e,t,n=!1){const r=e.length,i=p$(t),s=cx(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?s$(e):xi(e),c=Zi(o,t-br)+br;return n?o$(c,i):Un(c,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gu=BigInt(0),Xa=BigInt(1);function Fd(e,t){const n=t.negate();return e?n:t}function Rb(e,t,n){const r=o=>o.pz,i=ll(e.Fp,n.map(r));return n.map((o,c)=>o.toAffine(i[c])).map(e.fromAffine)}function m$(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Av(e,t){m$(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),i=2**e,s=al(e),o=BigInt(e);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function WC(e,t,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let c=Number(e&i),a=e>>o;c>r&&(c-=s,a+=Xa);const d=t*r,l=d+Math.abs(c)-1,u=c===0,h=c<0,p=t%2!==0;return{nextN:a,offset:l,isZero:u,isNeg:h,isNegF:p,offsetF:d}}function J7(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function ez(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const _v=new WeakMap,v$=new WeakMap;function kv(e){return v$.get(e)||1}function jC(e){if(e!==gu)throw new Error("invalid wNAF")}function tz(e,t){return{constTimeNegate:Fd,hasPrecomputes(n){return kv(n)!==1},unsafeLadder(n,r,i=e.ZERO){let s=n;for(;r>gu;)r&Xa&&(i=i.add(s)),s=s.double(),r>>=Xa;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=Av(r,t),o=[];let c=n,a=c;for(let d=0;d<i;d++){a=c,o.push(a);for(let l=1;l<s;l++)a=a.add(c),o.push(a);c=a.double()}return o},wNAF(n,r,i){let s=e.ZERO,o=e.BASE;const c=Av(n,t);for(let a=0;a<c.windows;a++){const{nextN:d,offset:l,isZero:u,isNeg:h,isNegF:p,offsetF:f}=WC(i,a,c);i=d,u?o=o.add(Fd(p,r[f])):s=s.add(Fd(h,r[l]))}return jC(i),{p:s,f:o}},wNAFUnsafe(n,r,i,s=e.ZERO){const o=Av(n,t);for(let c=0;c<o.windows&&i!==gu;c++){const{nextN:a,offset:d,isZero:l,isNeg:u}=WC(i,c,o);if(i=a,!l){const h=r[d];s=s.add(u?h.negate():h)}}return jC(i),s},getPrecomputes(n,r,i){let s=_v.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&(typeof i=="function"&&(s=i(s)),_v.set(r,s))),s},wNAFCached(n,r,i){const s=kv(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=kv(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){m$(r,t),v$.set(n,r),_v.delete(n)}}}function nz(e,t,n,r){let i=t,s=e.ZERO,o=e.ZERO;for(;n>gu||r>gu;)n&Xa&&(s=s.add(i)),r&Xa&&(o=o.add(i)),i=i.double(),n>>=Xa,r>>=Xa;return{p1:s,p2:o}}function rz(e,t,n,r){J7(n,e),ez(r,t);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,c=zc(BigInt(i));let a=1;c>12?a=c-3:c>4?a=c-2:c>0&&(a=2);const d=al(a),l=new Array(Number(d)+1).fill(o),u=Math.floor((t.BITS-1)/a)*a;let h=o;for(let p=u;p>=0;p-=a){l.fill(o);for(let g=0;g<s;g++){const m=r[g],v=Number(m>>BigInt(p)&d);l[v]=l[v].add(n[g])}let f=o;for(let g=l.length-1,m=o;g>0;g--)m=m.add(l[g]),f=f.add(m);if(h=h.add(f),p!==0)for(let g=0;g<a;g++)h=h.double()}return h}function VC(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return h$(t),t}else return Lu(e)}function iz(e,t,n={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const c of["p","n","h"]){const a=t[c];if(!(typeof a=="bigint"&&a>gu))throw new Error(`CURVE.${c} must be positive bigint`)}const r=VC(t.p,n.Fp),i=VC(t.n,n.Fn),o=["Gx","Gy","a","b"];for(const c of o)if(!r.isValid(t[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}const sz=xi;function Go(e,t){if(Cf(e),Cf(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=e&255,e>>>=8;return new Uint8Array(n)}function oz(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function Cf(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function az(e,t,n,r){hn(e),hn(t),Cf(n),t.length>255&&(t=r(Ut(Il("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:s}=r,o=Math.ceil(n/i);if(n>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const c=Ut(t,Go(t.length,1)),a=Go(0,s),d=Go(n,2),l=new Array(o),u=r(Ut(a,e,d,Go(0,1),c));l[0]=r(Ut(u,Go(1,1),c));for(let p=1;p<=o;p++){const f=[oz(u,l[p-1]),Go(p+1,1),c];l[p]=r(Ut(...f))}return Ut(...l).slice(0,n)}function lz(e,t,n,r,i){if(hn(e),hn(t),Cf(n),t.length>255){const s=Math.ceil(2*r/8);t=i.create({dkLen:s}).update(Il("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(e).update(Go(n,2)).update(t).update(Go(t.length,1)).digest()}function KC(e,t,n){n0(n,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:r,k:i,m:s,hash:o,expand:c,DST:a}=n;if(!Dm(a)&&typeof a!="string")throw new Error("DST must be string or uint8array");if(!V7(n.hash))throw new Error("expected valid hash");hn(e),Cf(t);const d=typeof a=="string"?Il(a):a,l=r.toString(2).length,u=Math.ceil((l+i)/8),h=t*s*u;let p;if(c==="xmd")p=az(e,d,h,o);else if(c==="xof")p=lz(e,d,h,i,o);else if(c==="_internal_pass")p=e;else throw new Error('expand must be "xmd" or "xof"');const f=new Array(t);for(let g=0;g<t;g++){const m=new Array(s);for(let v=0;v<s;v++){const y=u*(v+g*s),x=p.subarray(y,y+u);m[v]=Zi(sz(x),r)}f[g]=m}return f}function y$(e,t){const n=t.map(r=>Array.from(r).reverse());return(r,i)=>{const[s,o,c,a]=n.map(u=>u.reduce((h,p)=>e.add(e.mul(h,r),p))),[d,l]=ll(e,[o,a],!0);return r=e.mul(s,d),i=e.mul(i,e.mul(c,l)),{x:r,y:i}}}function YC(e,t,n){if(typeof t!="function")throw new Error("mapToCurve() must be defined");function r(s){return e.fromAffine(t(s))}function i(s){const o=s.clearCofactor();return o.equals(e.ZERO)?e.ZERO:(o.assertValidity(),o)}return{defaults:n,hashToCurve(s,o){const c=n.DST?n.DST:{},a=Object.assign({},n,c,o),d=KC(s,2,a),l=r(d[0]),u=r(d[1]);return i(l.add(u))},encodeToCurve(s,o){const c=n.encodeDST?n.encodeDST:{},a=Object.assign({},n,c,o),d=KC(s,1,a);return i(r(d[0]))},mapToCurve(s){if(!Array.isArray(s))throw new Error("expected array of bigints");for(const o of s)if(typeof o!="bigint")throw new Error("expected array of bigints");return i(r(s))}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ZC(e){e.lowS!==void 0&&Sg("lowS",e.lowS),e.prehash!==void 0&&Sg("prehash",e.prehash)}class cz extends Error{constructor(t=""){super(t)}}const qs={Err:cz,_tlv:{encode:(e,t)=>{const{Err:n}=qs;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=Vh(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Vh(i.length/2|128):"";return Vh(e)+s+i+t},decode(e,t){const{Err:n}=qs;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const a=i&127;if(!a)throw new n("tlv.decode(long): indefinite length not supported");if(a>4)throw new n("tlv.decode(long): byte length is too big");const d=t.subarray(r,r+a);if(d.length!==a)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const l of d)o=o<<8|l;if(r+=a,o<128)throw new n("tlv.decode(long): not minimal encoding")}const c=t.subarray(r,r+o);if(c.length!==o)throw new n("tlv.decode: wrong value length");return{v:c,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=qs;if(e<cl)throw new t("integer: negative integers are not allowed");let n=Vh(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=qs;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return xi(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=qs,i=nr("signature",e),{v:s,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:c,l:a}=r.decode(2,s),{v:d,l}=r.decode(2,a);if(l.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(d)}},hexFromSig(e){const{_tlv:t,_int:n}=qs,r=t.encode(2,n.encode(e.r)),i=t.encode(2,n.encode(e.s)),s=r+i;return t.encode(48,s)}},cl=BigInt(0),tr=BigInt(1),Hs=BigInt(2),bc=BigInt(3),Pb=BigInt(4);function b$(e,t,n){function r(i){const s=e.sqr(i),o=e.mul(s,i);return e.add(e.add(o,e.mul(i,t)),n)}return r}function ux(e,t,n){const{BYTES:r}=e;function i(s){let o;if(typeof s=="bigint")o=s;else{let c=nr("private key",s);if(t){if(!t.includes(c.length*2))throw new Error("invalid private key");const a=new Uint8Array(r);a.set(c,a.length-c.length),c=a}try{o=e.fromBytes(c)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof s}`)}}if(n&&(o=e.create(o)),!e.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return i}function w$(e,t={}){const{Fp:n,Fn:r}=iz("weierstrass",e,t),{h:i,n:s}=e;n0(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=t;if(o&&(!n.is0(e.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function c(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function a(L,T,$){const{x:P,y:k}=T.toAffine(),A=n.toBytes(P);if(Sg("isCompressed",$),$){c();const w=!n.isOdd(k);return Ut(x$(w),A)}else return Ut(Uint8Array.of(4),A,n.toBytes(k))}function d(L){hn(L);const T=n.BYTES,$=T+1,P=2*T+1,k=L.length,A=L[0],w=L.subarray(1);if(k===$&&(A===2||A===3)){const E=n.fromBytes(w);if(!n.isValid(E))throw new Error("bad point: is not on curve, wrong x");const _=h(E);let R;try{R=n.sqrt(_)}catch(N){const F=N instanceof Error?": "+N.message:"";throw new Error("bad point: is not on curve, sqrt error"+F)}c();const M=n.isOdd(R);return(A&1)===1!==M&&(R=n.neg(R)),{x:E,y:R}}else if(k===P&&A===4){const E=n.fromBytes(w.subarray(T*0,T*1)),_=n.fromBytes(w.subarray(T*1,T*2));if(!p(E,_))throw new Error("bad point: is not on curve");return{x:E,y:_}}else throw new Error(`bad point: got length ${k}, expected compressed=${$} or uncompressed=${P}`)}const l=t.toBytes||a,u=t.fromBytes||d,h=b$(n,e.a,e.b);function p(L,T){const $=n.sqr(T),P=h(L);return n.eql($,P)}if(!p(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const f=n.mul(n.pow(e.a,bc),Pb),g=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(f,g)))throw new Error("bad curve params: a or b");function m(L,T,$=!1){if(!n.isValid(T)||$&&n.is0(T))throw new Error(`bad point coordinate ${L}`);return T}function v(L){if(!(L instanceof b))throw new Error("ProjectivePoint expected")}const y=Mb((L,T)=>{const{px:$,py:P,pz:k}=L;if(n.eql(k,n.ONE))return{x:$,y:P};const A=L.is0();T==null&&(T=A?n.ONE:n.inv(k));const w=n.mul($,T),E=n.mul(P,T),_=n.mul(k,T);if(A)return{x:n.ZERO,y:n.ZERO};if(!n.eql(_,n.ONE))throw new Error("invZ was invalid");return{x:w,y:E}}),x=Mb(L=>{if(L.is0()){if(t.allowInfinityPoint&&!n.is0(L.py))return;throw new Error("bad point: ZERO")}const{x:T,y:$}=L.toAffine();if(!n.isValid(T)||!n.isValid($))throw new Error("bad point: x or y not field elements");if(!p(T,$))throw new Error("bad point: equation left != right");if(!L.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function C(L,T,$,P,k){return $=new b(n.mul($.px,L),$.py,$.pz),T=Fd(P,T),$=Fd(k,$),T.add($)}class b{constructor(T,$,P){this.px=m("x",T),this.py=m("y",$,!0),this.pz=m("z",P),Object.freeze(this)}static fromAffine(T){const{x:$,y:P}=T||{};if(!T||!n.isValid($)||!n.isValid(P))throw new Error("invalid affine point");if(T instanceof b)throw new Error("projective point not allowed");return n.is0($)&&n.is0(P)?b.ZERO:new b($,P,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(T){return Rb(b,"pz",T)}static fromBytes(T){return hn(T),b.fromHex(T)}static fromHex(T){const $=b.fromAffine(u(nr("pointHex",T)));return $.assertValidity(),$}static fromPrivateKey(T){const $=ux(r,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return b.BASE.multiply($(T))}static msm(T,$){return rz(b,r,T,$)}precompute(T=8,$=!0){return I.setWindowSize(this,T),$||this.multiply(bc),this}_setWindowSize(T){this.precompute(T)}assertValidity(){x(this)}hasEvenY(){const{y:T}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(T)}equals(T){v(T);const{px:$,py:P,pz:k}=this,{px:A,py:w,pz:E}=T,_=n.eql(n.mul($,E),n.mul(A,k)),R=n.eql(n.mul(P,E),n.mul(w,k));return _&&R}negate(){return new b(this.px,n.neg(this.py),this.pz)}double(){const{a:T,b:$}=e,P=n.mul($,bc),{px:k,py:A,pz:w}=this;let E=n.ZERO,_=n.ZERO,R=n.ZERO,M=n.mul(k,k),O=n.mul(A,A),N=n.mul(w,w),F=n.mul(k,A);return F=n.add(F,F),R=n.mul(k,w),R=n.add(R,R),E=n.mul(T,R),_=n.mul(P,N),_=n.add(E,_),E=n.sub(O,_),_=n.add(O,_),_=n.mul(E,_),E=n.mul(F,E),R=n.mul(P,R),N=n.mul(T,N),F=n.sub(M,N),F=n.mul(T,F),F=n.add(F,R),R=n.add(M,M),M=n.add(R,M),M=n.add(M,N),M=n.mul(M,F),_=n.add(_,M),N=n.mul(A,w),N=n.add(N,N),M=n.mul(N,F),E=n.sub(E,M),R=n.mul(N,O),R=n.add(R,R),R=n.add(R,R),new b(E,_,R)}add(T){v(T);const{px:$,py:P,pz:k}=this,{px:A,py:w,pz:E}=T;let _=n.ZERO,R=n.ZERO,M=n.ZERO;const O=e.a,N=n.mul(e.b,bc);let F=n.mul($,A),G=n.mul(P,w),z=n.mul(k,E),j=n.add($,P),V=n.add(A,w);j=n.mul(j,V),V=n.add(F,G),j=n.sub(j,V),V=n.add($,k);let Z=n.add(A,E);return V=n.mul(V,Z),Z=n.add(F,z),V=n.sub(V,Z),Z=n.add(P,k),_=n.add(w,E),Z=n.mul(Z,_),_=n.add(G,z),Z=n.sub(Z,_),M=n.mul(O,V),_=n.mul(N,z),M=n.add(_,M),_=n.sub(G,M),M=n.add(G,M),R=n.mul(_,M),G=n.add(F,F),G=n.add(G,F),z=n.mul(O,z),V=n.mul(N,V),G=n.add(G,z),z=n.sub(F,z),z=n.mul(O,z),V=n.add(V,z),F=n.mul(G,V),R=n.add(R,F),F=n.mul(Z,V),_=n.mul(j,_),_=n.sub(_,F),F=n.mul(j,G),M=n.mul(Z,M),M=n.add(M,F),new b(_,R,M)}subtract(T){return this.add(T.negate())}is0(){return this.equals(b.ZERO)}multiply(T){const{endo:$}=t;if(!r.isValidNot0(T))throw new Error("invalid scalar: out of range");let P,k;const A=w=>I.wNAFCached(this,w,b.normalizeZ);if($){const{k1neg:w,k1:E,k2neg:_,k2:R}=$.splitScalar(T),{p:M,f:O}=A(E),{p:N,f:F}=A(R);k=O.add(F),P=C($.beta,M,N,w,_)}else{const{p:w,f:E}=A(T);P=w,k=E}return b.normalizeZ([P,k])[0]}multiplyUnsafe(T){const{endo:$}=t,P=this;if(!r.isValid(T))throw new Error("invalid scalar: out of range");if(T===cl||P.is0())return b.ZERO;if(T===tr)return P;if(I.hasPrecomputes(this))return this.multiply(T);if($){const{k1neg:k,k1:A,k2neg:w,k2:E}=$.splitScalar(T),{p1:_,p2:R}=nz(b,P,A,E);return C($.beta,_,R,k,w)}else return I.wNAFCachedUnsafe(P,T)}multiplyAndAddUnsafe(T,$,P){const k=this.multiplyUnsafe($).add(T.multiplyUnsafe(P));return k.is0()?void 0:k}toAffine(T){return y(this,T)}isTorsionFree(){const{isTorsionFree:T}=t;return i===tr?!0:T?T(b,this):I.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:T}=t;return i===tr?this:T?T(b,this):this.multiplyUnsafe(i)}toBytes(T=!0){return Sg("isCompressed",T),this.assertValidity(),l(b,this,T)}toRawBytes(T=!0){return this.toBytes(T)}toHex(T=!0){return ma(this.toBytes(T))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}b.BASE=new b(e.Gx,e.Gy,n.ONE),b.ZERO=new b(n.ZERO,n.ONE,n.ZERO),b.Fp=n,b.Fn=r;const S=r.BITS,I=tz(b,t.endo?Math.ceil(S/2):S);return b}function qC(e){const{CURVE:t,curveOpts:n}=S$(e),r=w$(t,n);return fz(e,r)}function x$(e){return Uint8Array.of(e?2:3)}function uz(e,t,n={}){n0(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=t.randomBytes||Fw,i=t.hmac||((P,...k)=>Uw(t.hash,P,Ut(...k))),{Fp:s,Fn:o}=e,{ORDER:c,BITS:a}=o;function d(P){const k=c>>tr;return P>k}function l(P){return d(P)?o.neg(P):P}function u(P,k){if(!o.isValidNot0(k))throw new Error(`invalid signature ${P}: out of range 1..CURVE.n`)}class h{constructor(k,A,w){u("r",k),u("s",A),this.r=k,this.s=A,w!=null&&(this.recovery=w),Object.freeze(this)}static fromCompact(k){const A=o.BYTES,w=nr("compactSignature",k,A*2);return new h(o.fromBytes(w.subarray(0,A)),o.fromBytes(w.subarray(A,A*2)))}static fromDER(k){const{r:A,s:w}=qs.toSig(nr("DER",k));return new h(A,w)}assertValidity(){}addRecoveryBit(k){return new h(this.r,this.s,k)}recoverPublicKey(k){const A=s.ORDER,{r:w,s:E,recovery:_}=this;if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");if(c*Hs<A&&_>1)throw new Error("recovery id is ambiguous for h>1 curve");const M=_===2||_===3?w+c:w;if(!s.isValid(M))throw new Error("recovery id 2 or 3 invalid");const O=s.toBytes(M),N=e.fromHex(Ut(x$((_&1)===0),O)),F=o.inv(M),G=x(nr("msgHash",k)),z=o.create(-G*F),j=o.create(E*F),V=e.BASE.multiplyUnsafe(z).add(N.multiplyUnsafe(j));if(V.is0())throw new Error("point at infinify");return V.assertValidity(),V}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,o.neg(this.s),this.recovery):this}toBytes(k){if(k==="compact")return Ut(o.toBytes(this.r),o.toBytes(this.s));if(k==="der")return Fm(qs.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return ma(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return ma(this.toBytes("compact"))}}const p=ux(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),f={isValidPrivateKey(P){try{return p(P),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const P=c;return g$(r(cx(P)),P)},precompute(P=8,k=e.BASE){return k.precompute(P,!1)}};function g(P,k=!0){return e.fromPrivateKey(P).toBytes(k)}function m(P){if(typeof P=="bigint")return!1;if(P instanceof e)return!0;const A=nr("key",P).length,w=s.BYTES,E=w+1,_=2*w+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===E))return A===E||A===_}function v(P,k,A=!0){if(m(P)===!0)throw new Error("first arg must be private key");if(m(k)===!1)throw new Error("second arg must be public key");return e.fromHex(k).multiply(p(P)).toBytes(A)}const y=t.bits2int||function(P){if(P.length>8192)throw new Error("input is too large");const k=xi(P),A=P.length*8-a;return A>0?k>>BigInt(A):k},x=t.bits2int_modN||function(P){return o.create(y(P))},C=al(a);function b(P){return W7("num < 2^"+a,P,cl,C),o.toBytes(P)}function S(P,k,A=I){if(["recovered","canonical"].some(j=>j in A))throw new Error("sign() legacy options not supported");const{hash:w}=t;let{lowS:E,prehash:_,extraEntropy:R}=A;E==null&&(E=!0),P=nr("msgHash",P),ZC(A),_&&(P=nr("prehashed msgHash",w(P)));const M=x(P),O=p(k),N=[b(O),b(M)];if(R!=null&&R!==!1){const j=R===!0?r(s.BYTES):R;N.push(nr("extraEntropy",j))}const F=Ut(...N),G=M;function z(j){const V=y(j);if(!o.isValidNot0(V))return;const Z=o.inv(V),X=e.BASE.multiply(V).toAffine(),Y=o.create(X.x);if(Y===cl)return;const Q=o.create(Z*o.create(G+Y*O));if(Q===cl)return;let te=(X.x===Y?0:2)|Number(X.y&tr),re=Q;return E&&d(Q)&&(re=l(Q),te^=1),new h(Y,re,te)}return{seed:F,k2sig:z}}const I={lowS:t.lowS,prehash:!1},L={lowS:t.lowS,prehash:!1};function T(P,k,A=I){const{seed:w,k2sig:E}=S(P,k,A);return j7(t.hash.outputLen,o.BYTES,i)(w,E)}e.BASE.precompute(8);function $(P,k,A,w=L){const E=P;k=nr("msgHash",k),A=nr("publicKey",A),ZC(w);const{lowS:_,prehash:R,format:M}=w;if("strict"in w)throw new Error("options.strict was renamed to lowS");if(M!==void 0&&!["compact","der","js"].includes(M))throw new Error('format must be "compact", "der" or "js"');const O=typeof E=="string"||Dm(E),N=!O&&!M&&typeof E=="object"&&E!==null&&typeof E.r=="bigint"&&typeof E.s=="bigint";if(!O&&!N)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let F,G;try{if(N)if(M===void 0||M==="js")F=new h(E.r,E.s);else throw new Error("invalid format");if(O){try{M!=="compact"&&(F=h.fromDER(E))}catch(re){if(!(re instanceof qs.Err))throw re}!F&&M!=="der"&&(F=h.fromCompact(E))}G=e.fromHex(A)}catch{return!1}if(!F||_&&F.hasHighS())return!1;R&&(k=t.hash(k));const{r:z,s:j}=F,V=x(k),Z=o.inv(j),X=o.create(V*Z),Y=o.create(z*Z),Q=e.BASE.multiplyUnsafe(X).add(G.multiplyUnsafe(Y));return Q.is0()?!1:o.create(Q.x)===z}return Object.freeze({getPublicKey:g,getSharedSecret:v,sign:T,verify:$,utils:f,Point:e,Signature:h})}function S$(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=Lu(t.n,e.nBitLength),i={Fp:n,Fn:r,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:i}}function dz(e){const{CURVE:t,curveOpts:n}=S$(e),r={hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,ecdsaOpts:r}}function fz(e,t){const{Fp:n,Fn:r}=t;function i(c){return a$(c,tr,r.ORDER)}const s=b$(n,e.a,e.b),o=ux(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return Object.assign({},{CURVE:e,Point:t,ProjectivePoint:t,normPrivateKeyToScalar:o,weierstrassEquation:s,isWithinCurveOrder:i})}function hz(e,t){return Object.assign({},t,{ProjectivePoint:t.Point,CURVE:e})}function pz(e){const{CURVE:t,curveOpts:n,ecdsaOpts:r}=dz(e),i=w$(t,n),s=uz(i,r,n);return hz(e,s)}function gz(e,t){const n=e.ORDER;let r=cl;for(let f=n-tr;f%Hs===cl;f/=Hs)r+=tr;const i=r,s=Hs<<i-tr-tr,o=s*Hs,c=(n-tr)/o,a=(c-tr)/Hs,d=o-tr,l=s,u=e.pow(t,c),h=e.pow(t,(c+tr)/Hs);let p=(f,g)=>{let m=u,v=e.pow(g,d),y=e.sqr(v);y=e.mul(y,g);let x=e.mul(f,y);x=e.pow(x,a),x=e.mul(x,v),v=e.mul(x,g),y=e.mul(x,f);let C=e.mul(y,v);x=e.pow(C,l);let b=e.eql(x,e.ONE);v=e.mul(y,h),x=e.mul(C,m),y=e.cmov(v,y,b),C=e.cmov(x,C,b);for(let S=i;S>tr;S--){let I=S-Hs;I=Hs<<I-tr;let L=e.pow(C,I);const T=e.eql(L,e.ONE);v=e.mul(y,m),m=e.mul(m,m),L=e.mul(C,m),y=e.cmov(v,y,T),C=e.cmov(L,C,T)}return{isValid:b,value:y}};if(e.ORDER%Pb===bc){const f=(e.ORDER-bc)/Pb,g=e.sqrt(e.neg(t));p=(m,v)=>{let y=e.sqr(v);const x=e.mul(m,v);y=e.mul(y,x);let C=e.pow(y,f);C=e.mul(C,x);const b=e.mul(C,g),S=e.mul(e.sqr(C),v),I=e.eql(S,m);let L=e.cmov(b,C,I);return{isValid:I,value:L}}}return p}function E$(e,t){h$(e);const{A:n,B:r,Z:i}=t;if(!e.isValid(n)||!e.isValid(r)||!e.isValid(i))throw new Error("mapToCurveSimpleSWU: invalid opts");const s=gz(e,i);if(!e.isOdd)throw new Error("Field does not have .isOdd()");return o=>{let c,a,d,l,u,h,p,f;c=e.sqr(o),c=e.mul(c,i),a=e.sqr(c),a=e.add(a,c),d=e.add(a,e.ONE),d=e.mul(d,r),l=e.cmov(i,e.neg(a),!e.eql(a,e.ZERO)),l=e.mul(l,n),a=e.sqr(d),h=e.sqr(l),u=e.mul(h,n),a=e.add(a,u),a=e.mul(a,d),h=e.mul(h,l),u=e.mul(h,r),a=e.add(a,u),p=e.mul(c,d);const{isValid:g,value:m}=s(a,h);f=e.mul(c,o),f=e.mul(f,m),p=e.cmov(p,d,g),f=e.cmov(f,m,g);const v=e.isOdd(o)===e.isOdd(f);f=e.cmov(e.neg(f),f,v);const y=ll(e,[l],!0)[0];return p=e.mul(p,y),{x:p,y:f}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mz=BigInt(0),Kh=BigInt(1),XC=BigInt(2),wc=BigInt(3);function vz(e){const t=[];for(;e>Kh;e>>=Kh)(e&Kh)===mz?t.unshift(0):(e&wc)===wc?(t.unshift(-1),e+=Kh):t.unshift(1);return t}function C$(e){const{Fp:t,Fr:n,Fp2:r,Fp6:i,Fp12:s}=e.fields,o=e.params.xNegative,c=e.params.twistType,a=qC(e.G1),d=Object.assign(a,YC(a.Point,e.G1.mapToCurve,{...e.htfDefaults,...e.G1.htfDefaults})),l=qC(e.G2),u=Object.assign(l,YC(l.Point,e.G2.mapToCurve,{...e.htfDefaults,...e.G2.htfDefaults}));let h;if(c==="multiplicative")h=(X,Y,Q,te,re,pe)=>s.mul014(te,X,r.mul(Y,re),r.mul(Q,pe));else if(c==="divisive")h=(X,Y,Q,te,re,pe)=>s.mul034(te,r.mul(Q,pe),r.mul(Y,re),X);else throw new Error("bls: unknown twist type");const p=r.div(r.ONE,r.mul(r.ONE,XC));function f(X,Y,Q,te){const re=r.sqr(Q),pe=r.sqr(te),le=r.mulByB(r.mul(pe,wc)),ge=r.mul(le,wc),ne=r.sub(r.sub(r.sqr(r.add(Q,te)),pe),re),ve=r.sub(le,re),xe=r.mul(r.sqr(Y),wc),Me=r.neg(ne);return X.push([ve,xe,Me]),Y=r.mul(r.mul(r.mul(r.sub(re,ge),Y),Q),p),Q=r.sub(r.sqr(r.mul(r.add(re,ge),p)),r.mul(r.sqr(le),wc)),te=r.mul(re,ne),{Rx:Y,Ry:Q,Rz:te}}function g(X,Y,Q,te,re,pe){const le=r.sub(Q,r.mul(pe,te)),ge=r.sub(Y,r.mul(re,te)),ne=r.sub(r.mul(le,re),r.mul(ge,pe)),ve=r.neg(le),xe=ge;X.push([ne,ve,xe]);const Me=r.sqr(ge),Ve=r.mul(Me,ge),dt=r.mul(Me,Y),De=r.add(r.sub(Ve,r.mul(dt,XC)),r.mul(r.sqr(le),te));return Y=r.mul(ge,De),Q=r.sub(r.mul(r.sub(dt,De),le),r.mul(Ve,Q)),te=r.mul(te,Ve),{Rx:Y,Ry:Q,Rz:te}}const m=vz(e.params.ateLoopSize),v=Mb(X=>{const Y=X,{x:Q,y:te}=Y.toAffine(),re=Q,pe=te,le=r.neg(te);let ge=re,ne=pe,ve=r.ONE;const xe=[];for(const Me of m){const Ve=[];({Rx:ge,Ry:ne,Rz:ve}=f(Ve,ge,ne,ve)),Me&&({Rx:ge,Ry:ne,Rz:ve}=g(Ve,ge,ne,ve,re,Me===-1?le:pe)),xe.push(Ve)}if(e.postPrecompute){const Me=xe[xe.length-1];e.postPrecompute(ge,ne,ve,re,pe,g.bind(null,Me))}return xe});function y(X,Y=!1){let Q=s.ONE;if(X.length){const te=X[0][0].length;for(let re=0;re<te;re++){Q=s.sqr(Q);for(const[pe,le,ge]of X)for(const[ne,ve,xe]of pe[re])Q=h(ne,ve,xe,Q,le,ge)}}return o&&(Q=s.conjugate(Q)),Y?s.finalExponentiate(Q):Q}function x(X,Y=!0){const Q=[];Rb(d.Point,"pz",X.map(({g1:te})=>te)),Rb(u.Point,"pz",X.map(({g2:te})=>te));for(const{g1:te,g2:re}of X){if(te.is0()||re.is0())throw new Error("pairing is not available for ZERO point");te.assertValidity(),re.assertValidity();const pe=te.toAffine();Q.push([v(re),pe.x,pe.y])}return y(Q,Y)}function C(X,Y,Q=!0){return x([{g1:X,g2:Y}],Q)}const b=e.randomBytes||Fw,S={randomPrivateKey:()=>{const X=cx(n.ORDER);return g$(b(X),n.ORDER)},calcPairingPrecomputes:v};function I(X){if(!Array.isArray(X)||X.length===0)throw new Error("expected non-empty array")}function L(X){return X instanceof d.Point?X:d.Point.fromHex(X)}function T(X){return X instanceof u.Point?X:w.fromHex(X)}function $(X,Y){function Q(le){return le instanceof X.Point?le:X.Point.fromHex(le)}function te(le){return le instanceof Y.Point?le:Y.Point.fromHex(le)}function re(le){if(!(le instanceof Y.Point))throw new Error(`expected valid message hashed to ${pe?"G2":"G1"} curve`);return le}const pe=Y.Point.Fp.BYTES>X.Point.Fp.BYTES;return{getPublicKey(le){return X.Point.fromPrivateKey(le)},sign(le,ge,ne){if(ne!=null)throw new Error("sign() expects 2 arguments");return re(le).assertValidity(),le.multiply(X.normPrivateKeyToScalar(ge))},verify(le,ge,ne,ve){if(ve!=null)throw new Error("verify() expects 3 arguments");le=te(le),ne=Q(ne);const xe=ne.negate(),Me=X.Point.BASE,Ve=re(ge),dt=le,rn=x(pe?[{g1:xe,g2:Ve},{g1:Me,g2:dt}]:[{g1:Ve,g2:xe},{g1:dt,g2:Me}]);return s.eql(rn,s.ONE)},aggregatePublicKeys(le){I(le),le=le.map(ne=>Q(ne));const ge=le.reduce((ne,ve)=>ne.add(ve),X.Point.ZERO);return ge.assertValidity(),ge},aggregateSignatures(le){I(le),le=le.map(ne=>te(ne));const ge=le.reduce((ne,ve)=>ne.add(ve),Y.Point.ZERO);return ge.assertValidity(),ge},hash(le,ge){hn(le);const ne=ge?{DST:ge}:void 0;return Y.hashToCurve(le,ne)},Signature:pe?e.G2.Signature:e.G1.ShortSignature}}const P=$(d,u),k=$(u,d),{ShortSignature:A}=e.G1,{Signature:w}=e.G2;function E(X,Y){return X instanceof d.Point?X:k.hash(nr("point",X),Y==null?void 0:Y.DST)}function _(X,Y){return X instanceof u.Point?X:P.hash(nr("point",X),Y==null?void 0:Y.DST)}function R(X){return P.getPublicKey(X).toBytes(!0)}function M(X){return k.getPublicKey(X).toBytes(!0)}function O(X,Y,Q){const te=_(X,Q),re=P.sign(te,Y);return X instanceof u.Point?re:w.toBytes(re)}function N(X,Y,Q){const te=E(X,Q),re=k.sign(te,Y);return X instanceof d.Point?re:A.toBytes(re)}function F(X,Y,Q,te){const re=_(Y,te);return P.verify(X,re,Q)}function G(X,Y,Q,te){const re=E(Y,te);return k.verify(X,re,Q)}function z(X){const Y=P.aggregatePublicKeys(X);return X[0]instanceof d.Point?Y:Y.toBytes(!0)}function j(X){const Y=P.aggregateSignatures(X);return X[0]instanceof u.Point?Y:w.toBytes(Y)}function V(X){const Y=k.aggregateSignatures(X);return X[0]instanceof d.Point?Y:A.toBytes(Y)}function Z(X,Y,Q,te){if(I(Y),Q.length!==Y.length)throw new Error("amount of public keys and messages should be equal");const re=T(X),pe=Y.map(ve=>_(ve,te)),le=Q.map(L),ge=new Map;for(let ve=0;ve<le.length;ve++){const xe=le[ve],Me=pe[ve];let Ve=ge.get(Me);Ve===void 0&&(Ve=[],ge.set(Me,Ve)),Ve.push(xe)}const ne=[];try{for(const[ve,xe]of ge){const Me=xe.reduce((Ve,dt)=>Ve.add(dt));ne.push({g1:Me,g2:ve})}return ne.push({g1:d.Point.BASE.negate(),g2:re}),s.eql(x(ne),s.ONE)}catch{return!1}}return d.Point.BASE.precompute(4),{longSignatures:P,shortSignatures:k,millerLoopBatch:y,pairing:C,pairingBatch:x,verifyBatch:Z,curves:{G1:a.Point,G2:l.Point},fields:{Fr:n,Fp:t,Fp2:r,Fp6:i,Fp12:s},params:{ateLoopSize:e.params.ateLoopSize,twistType:e.params.twistType,r:e.params.r,G1b:e.G1.b,G2b:e.G2.b},utils:S,getPublicKey:R,getPublicKeyForShortSignatures:M,sign:O,signShortSignature:N,verify:F,verifyShortSignature:G,aggregatePublicKeys:z,aggregateSignatures:j,aggregateShortSignatures:V,G1:d,G2:u,Signature:w,ShortSignature:A}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const QC=BigInt(0),xc=BigInt(1),no=BigInt(2),JC=BigInt(3);function Iv(e,t,n,r,i=1,s){const o=BigInt(s===void 0?r:s),c=n**BigInt(r),a=[];for(let d=0;d<i;d++){const l=BigInt(d+1),u=[];for(let h=0,p=xc;h<r;h++){const f=(l*p-l)/o%c;u.push(e.pow(t,f)),p*=n}a.push(u)}return a}function A$(e,t,n){const r=t.pow(n,(e.ORDER-xc)/JC),i=t.pow(n,(e.ORDER-xc)/no);function s(h,p){const f=t.mul(t.frobeniusMap(h,1),r),g=t.mul(t.frobeniusMap(p,1),i);return[f,g]}const o=t.pow(n,(e.ORDER**no-xc)/JC),c=t.pow(n,(e.ORDER**no-xc)/no);if(!t.eql(c,t.neg(t.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function a(h,p){return[t.mul(h,o),t.neg(p)]}const d=h=>(p,f)=>{const g=f.toAffine(),m=h(g.x,g.y);return p.fromAffine({x:m[0],y:m[1]})},l=d(s),u=d(a);return{psi:s,psi2:a,G2psi:l,G2psi2:u,PSI_X:r,PSI_Y:i,PSI2_X:o,PSI2_Y:c}}function _$(e){const{ORDER:t}=e,n=Lu(t),r=n.create(e.NONRESIDUE||BigInt(-1)),i=n.div(n.ONE,no),s=Iv(n,r,n.ORDER,2)[0],o=({c0:A,c1:w},{c0:E,c1:_})=>({c0:n.add(A,E),c1:n.add(w,_)}),c=({c0:A,c1:w},{c0:E,c1:_})=>({c0:n.sub(A,E),c1:n.sub(w,_)}),a=({c0:A,c1:w},E)=>{if(typeof E=="bigint")return{c0:n.mul(A,E),c1:n.mul(w,E)};const{c0:_,c1:R}=E;let M=n.mul(A,_),O=n.mul(w,R);const N=n.sub(M,O),F=n.sub(n.mul(n.add(A,w),n.add(_,R)),n.add(M,O));return{c0:N,c1:F}},d=({c0:A,c1:w})=>{const E=n.add(A,w),_=n.sub(A,w),R=n.add(A,A);return{c0:n.mul(E,_),c1:n.mul(R,w)}},l=A=>{if(A.length!==2)throw new Error("invalid tuple");const w=A.map(E=>n.create(E));return{c0:w[0],c1:w[1]}};function u(A,w){return typeof A=="bigint"&&QC<=A&&A<w}const h=t*t,p=l(e.FP2_NONRESIDUE),f={ORDER:h,isLE:n.isLE,NONRESIDUE:p,BITS:zc(h),BYTES:Math.ceil(zc(h)/8),MASK:al(zc(h)),ZERO:{c0:n.ZERO,c1:n.ZERO},ONE:{c0:n.ONE,c1:n.ZERO},create:A=>A,isValid:({c0:A,c1:w})=>u(A,h)&&u(w,h),is0:({c0:A,c1:w})=>n.is0(A)&&n.is0(w),isValidNot0:A=>!f.is0(A)&&f.isValid(A),eql:({c0:A,c1:w},{c0:E,c1:_})=>n.eql(A,E)&&n.eql(w,_),neg:({c0:A,c1:w})=>({c0:n.neg(A),c1:n.neg(w)}),pow:(A,w)=>Tp(f,A,w),invertBatch:A=>ll(f,A),add:o,sub:c,mul:a,sqr:d,addN:o,subN:c,mulN:a,sqrN:d,div:(A,w)=>f.mul(A,typeof w=="bigint"?n.inv(n.create(w)):f.inv(w)),inv:({c0:A,c1:w})=>{const E=n.inv(n.create(A*A+w*w));return{c0:n.mul(E,n.create(A)),c1:n.mul(E,n.create(-w))}},sqrt:A=>{if(e.Fp2sqrt)return e.Fp2sqrt(A);const{c0:w,c1:E}=A;if(n.is0(E))return Eg(n,w)===1?f.create({c0:n.sqrt(w),c1:n.ZERO}):f.create({c0:n.ZERO,c1:n.sqrt(n.div(w,r))});const _=n.sqrt(n.sub(n.sqr(w),n.mul(n.sqr(E),r)));let R=n.mul(n.add(_,w),i);Eg(n,R)===-1&&(R=n.sub(R,_));const O=n.sqrt(R),N=f.create({c0:O,c1:n.div(n.mul(E,i),O)});if(!f.eql(f.sqr(N),A))throw new Error("Cannot find square root");const F=N,G=f.neg(F),{re:z,im:j}=f.reim(F),{re:V,im:Z}=f.reim(G);return j>Z||j===Z&&z>V?F:G},isOdd:A=>{const{re:w,im:E}=f.reim(A),_=w%no,R=w===QC,M=E%no;return BigInt(_||R&&M)==xc},fromBytes(A){if(A.length!==f.BYTES)throw new Error("fromBytes invalid length="+A.length);return{c0:n.fromBytes(A.subarray(0,n.BYTES)),c1:n.fromBytes(A.subarray(n.BYTES))}},toBytes:({c0:A,c1:w})=>Ut(n.toBytes(A),n.toBytes(w)),cmov:({c0:A,c1:w},{c0:E,c1:_},R)=>({c0:n.cmov(A,E,R),c1:n.cmov(w,_,R)}),reim:({c0:A,c1:w})=>({re:A,im:w}),mulByNonresidue:({c0:A,c1:w})=>f.mul({c0:A,c1:w},p),mulByB:e.Fp2mulByB,fromBigTuple:l,frobeniusMap:({c0:A,c1:w},E)=>({c0:A,c1:n.mul(w,s[E%2])})},g=({c0:A,c1:w,c2:E},{c0:_,c1:R,c2:M})=>({c0:f.add(A,_),c1:f.add(w,R),c2:f.add(E,M)}),m=({c0:A,c1:w,c2:E},{c0:_,c1:R,c2:M})=>({c0:f.sub(A,_),c1:f.sub(w,R),c2:f.sub(E,M)}),v=({c0:A,c1:w,c2:E},_)=>{if(typeof _=="bigint")return{c0:f.mul(A,_),c1:f.mul(w,_),c2:f.mul(E,_)};const{c0:R,c1:M,c2:O}=_,N=f.mul(A,R),F=f.mul(w,M),G=f.mul(E,O);return{c0:f.add(N,f.mulByNonresidue(f.sub(f.mul(f.add(w,E),f.add(M,O)),f.add(F,G)))),c1:f.add(f.sub(f.mul(f.add(A,w),f.add(R,M)),f.add(N,F)),f.mulByNonresidue(G)),c2:f.sub(f.add(F,f.mul(f.add(A,E),f.add(R,O))),f.add(N,G))}},y=({c0:A,c1:w,c2:E})=>{let _=f.sqr(A),R=f.mul(f.mul(A,w),no),M=f.mul(f.mul(w,E),no),O=f.sqr(E);return{c0:f.add(f.mulByNonresidue(M),_),c1:f.add(f.mulByNonresidue(O),R),c2:f.sub(f.sub(f.add(f.add(R,f.sqr(f.add(f.sub(A,w),E))),M),_),O)}},[x,C]=Iv(f,p,n.ORDER,6,2,3),b={ORDER:f.ORDER,isLE:f.isLE,BITS:3*f.BITS,BYTES:3*f.BYTES,MASK:al(3*f.BITS),ZERO:{c0:f.ZERO,c1:f.ZERO,c2:f.ZERO},ONE:{c0:f.ONE,c1:f.ZERO,c2:f.ZERO},create:A=>A,isValid:({c0:A,c1:w,c2:E})=>f.isValid(A)&&f.isValid(w)&&f.isValid(E),is0:({c0:A,c1:w,c2:E})=>f.is0(A)&&f.is0(w)&&f.is0(E),isValidNot0:A=>!b.is0(A)&&b.isValid(A),neg:({c0:A,c1:w,c2:E})=>({c0:f.neg(A),c1:f.neg(w),c2:f.neg(E)}),eql:({c0:A,c1:w,c2:E},{c0:_,c1:R,c2:M})=>f.eql(A,_)&&f.eql(w,R)&&f.eql(E,M),sqrt:Cn,div:(A,w)=>b.mul(A,typeof w=="bigint"?n.inv(n.create(w)):b.inv(w)),pow:(A,w)=>Tp(b,A,w),invertBatch:A=>ll(b,A),add:g,sub:m,mul:v,sqr:y,addN:g,subN:m,mulN:v,sqrN:y,inv:({c0:A,c1:w,c2:E})=>{let _=f.sub(f.sqr(A),f.mulByNonresidue(f.mul(E,w))),R=f.sub(f.mulByNonresidue(f.sqr(E)),f.mul(A,w)),M=f.sub(f.sqr(w),f.mul(A,E)),O=f.inv(f.add(f.mulByNonresidue(f.add(f.mul(E,R),f.mul(w,M))),f.mul(A,_)));return{c0:f.mul(O,_),c1:f.mul(O,R),c2:f.mul(O,M)}},fromBytes:A=>{if(A.length!==b.BYTES)throw new Error("fromBytes invalid length="+A.length);return{c0:f.fromBytes(A.subarray(0,f.BYTES)),c1:f.fromBytes(A.subarray(f.BYTES,2*f.BYTES)),c2:f.fromBytes(A.subarray(2*f.BYTES))}},toBytes:({c0:A,c1:w,c2:E})=>Ut(f.toBytes(A),f.toBytes(w),f.toBytes(E)),cmov:({c0:A,c1:w,c2:E},{c0:_,c1:R,c2:M},O)=>({c0:f.cmov(A,_,O),c1:f.cmov(w,R,O),c2:f.cmov(E,M,O)}),fromBigSix:A=>{if(!Array.isArray(A)||A.length!==6)throw new Error("invalid Fp6 usage");return{c0:f.fromBigTuple(A.slice(0,2)),c1:f.fromBigTuple(A.slice(2,4)),c2:f.fromBigTuple(A.slice(4,6))}},frobeniusMap:({c0:A,c1:w,c2:E},_)=>({c0:f.frobeniusMap(A,_),c1:f.mul(f.frobeniusMap(w,_),x[_%6]),c2:f.mul(f.frobeniusMap(E,_),C[_%6])}),mulByFp2:({c0:A,c1:w,c2:E},_)=>({c0:f.mul(A,_),c1:f.mul(w,_),c2:f.mul(E,_)}),mulByNonresidue:({c0:A,c1:w,c2:E})=>({c0:f.mulByNonresidue(E),c1:A,c2:w}),mul1:({c0:A,c1:w,c2:E},_)=>({c0:f.mulByNonresidue(f.mul(E,_)),c1:f.mul(A,_),c2:f.mul(w,_)}),mul01({c0:A,c1:w,c2:E},_,R){let M=f.mul(A,_),O=f.mul(w,R);return{c0:f.add(f.mulByNonresidue(f.sub(f.mul(f.add(w,E),R),O)),M),c1:f.sub(f.sub(f.mul(f.add(_,R),f.add(A,w)),M),O),c2:f.add(f.sub(f.mul(f.add(A,E),_),M),O)}}},S=Iv(f,p,n.ORDER,12,1,6)[0],I=({c0:A,c1:w},{c0:E,c1:_})=>({c0:b.add(A,E),c1:b.add(w,_)}),L=({c0:A,c1:w},{c0:E,c1:_})=>({c0:b.sub(A,E),c1:b.sub(w,_)}),T=({c0:A,c1:w},E)=>{if(typeof E=="bigint")return{c0:b.mul(A,E),c1:b.mul(w,E)};let{c0:_,c1:R}=E,M=b.mul(A,_),O=b.mul(w,R);return{c0:b.add(M,b.mulByNonresidue(O)),c1:b.sub(b.mul(b.add(A,w),b.add(_,R)),b.add(M,O))}},$=({c0:A,c1:w})=>{let E=b.mul(A,w);return{c0:b.sub(b.sub(b.mul(b.add(b.mulByNonresidue(w),A),b.add(A,w)),E),b.mulByNonresidue(E)),c1:b.add(E,E)}};function P(A,w){const E=f.sqr(A),_=f.sqr(w);return{first:f.add(f.mulByNonresidue(_),E),second:f.sub(f.sub(f.sqr(f.add(A,w)),E),_)}}const k={ORDER:f.ORDER,isLE:b.isLE,BITS:2*b.BITS,BYTES:2*b.BYTES,MASK:al(2*b.BITS),ZERO:{c0:b.ZERO,c1:b.ZERO},ONE:{c0:b.ONE,c1:b.ZERO},create:A=>A,isValid:({c0:A,c1:w})=>b.isValid(A)&&b.isValid(w),is0:({c0:A,c1:w})=>b.is0(A)&&b.is0(w),isValidNot0:A=>!k.is0(A)&&k.isValid(A),neg:({c0:A,c1:w})=>({c0:b.neg(A),c1:b.neg(w)}),eql:({c0:A,c1:w},{c0:E,c1:_})=>b.eql(A,E)&&b.eql(w,_),sqrt:Cn,inv:({c0:A,c1:w})=>{let E=b.inv(b.sub(b.sqr(A),b.mulByNonresidue(b.sqr(w))));return{c0:b.mul(A,E),c1:b.neg(b.mul(w,E))}},div:(A,w)=>k.mul(A,typeof w=="bigint"?n.inv(n.create(w)):k.inv(w)),pow:(A,w)=>Tp(k,A,w),invertBatch:A=>ll(k,A),add:I,sub:L,mul:T,sqr:$,addN:I,subN:L,mulN:T,sqrN:$,fromBytes:A=>{if(A.length!==k.BYTES)throw new Error("fromBytes invalid length="+A.length);return{c0:b.fromBytes(A.subarray(0,b.BYTES)),c1:b.fromBytes(A.subarray(b.BYTES))}},toBytes:({c0:A,c1:w})=>Ut(b.toBytes(A),b.toBytes(w)),cmov:({c0:A,c1:w},{c0:E,c1:_},R)=>({c0:b.cmov(A,E,R),c1:b.cmov(w,_,R)}),fromBigTwelve:A=>({c0:b.fromBigSix(A.slice(0,6)),c1:b.fromBigSix(A.slice(6,12))}),frobeniusMap(A,w){const{c0:E,c1:_,c2:R}=b.frobeniusMap(A.c1,w),M=S[w%12];return{c0:b.frobeniusMap(A.c0,w),c1:b.create({c0:f.mul(E,M),c1:f.mul(_,M),c2:f.mul(R,M)})}},mulByFp2:({c0:A,c1:w},E)=>({c0:b.mulByFp2(A,E),c1:b.mulByFp2(w,E)}),conjugate:({c0:A,c1:w})=>({c0:A,c1:b.neg(w)}),mul014:({c0:A,c1:w},E,_,R)=>{let M=b.mul01(A,E,_),O=b.mul1(w,R);return{c0:b.add(b.mulByNonresidue(O),M),c1:b.sub(b.sub(b.mul01(b.add(w,A),E,f.add(_,R)),M),O)}},mul034:({c0:A,c1:w},E,_,R)=>{const M=b.create({c0:f.mul(A.c0,E),c1:f.mul(A.c1,E),c2:f.mul(A.c2,E)}),O=b.mul01(w,_,R),N=b.mul01(b.add(A,w),f.add(E,_),R);return{c0:b.add(b.mulByNonresidue(O),M),c1:b.sub(N,b.add(M,O))}},_cyclotomicSquare:e.Fp12cyclotomicSquare,_cyclotomicExp:e.Fp12cyclotomicExp,finalExponentiate:e.Fp12finalExponentiate};return{Fp:n,Fp2:f,Fp6:b,Fp12:k,Fp4Square:P}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ir=BigInt(0),Cg=BigInt(1),$n=BigInt(2),r0=BigInt(3),Af=BigInt(4),zo=BigInt("0xd201000000010000"),yz=zc(zo),bl={p:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),n:BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001"),h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),a:ir,b:Af,Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1")},bz=Lu(bl.n),{Fp:Ne,Fp2:Pe,Fp6:Ob,Fp4Square:Tv,Fp12:st}=_$({ORDER:bl.p,FP2_NONRESIDUE:[Cg,Cg],Fp2mulByB:({c0:e,c1:t})=>{const n=Ne.mul(e,Af),r=Ne.mul(t,Af);return{c0:Ne.sub(n,r),c1:Ne.add(n,r)}},Fp12cyclotomicSquare:({c0:e,c1:t})=>{const{c0:n,c1:r,c2:i}=e,{c0:s,c1:o,c2:c}=t,{first:a,second:d}=Tv(n,o),{first:l,second:u}=Tv(s,i),{first:h,second:p}=Tv(r,c),f=Pe.mulByNonresidue(p);return{c0:Ob.create({c0:Pe.add(Pe.mul(Pe.sub(a,n),$n),a),c1:Pe.add(Pe.mul(Pe.sub(l,r),$n),l),c2:Pe.add(Pe.mul(Pe.sub(h,i),$n),h)}),c1:Ob.create({c0:Pe.add(Pe.mul(Pe.add(f,s),$n),f),c1:Pe.add(Pe.mul(Pe.add(d,o),$n),d),c2:Pe.add(Pe.mul(Pe.add(u,c),$n),u)})}},Fp12cyclotomicExp(e,t){let n=st.ONE;for(let r=yz-1;r>=0;r--)n=st._cyclotomicSquare(n),l$(t,r)&&(n=st.mul(n,e));return n},Fp12finalExponentiate:e=>{const t=zo,n=st.div(st.frobeniusMap(e,6),e),r=st.mul(st.frobeniusMap(n,2),n),i=st.conjugate(st._cyclotomicExp(r,t)),s=st.mul(st.conjugate(st._cyclotomicSquare(r)),i),o=st.conjugate(st._cyclotomicExp(s,t)),c=st.conjugate(st._cyclotomicExp(o,t)),a=st.mul(st.conjugate(st._cyclotomicExp(c,t)),st._cyclotomicSquare(i)),d=st.conjugate(st._cyclotomicExp(a,t)),l=st.frobeniusMap(st.mul(i,c),2),u=st.frobeniusMap(st.mul(o,r),3),h=st.frobeniusMap(st.mul(a,st.conjugate(r)),1),p=st.mul(st.mul(d,st.conjugate(s)),r);return st.mul(st.mul(st.mul(l,u),h),p)}}),{G2psi:e2,G2psi2:wz}=A$(Ne,Pe,Pe.div(Pe.ONE,Pe.NONRESIDUE)),$v=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:Ne.ORDER,m:2,k:128,expand:"xmd",hash:Tl}),dx={p:Pe.ORDER,n:bl.n,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),a:Pe.ZERO,b:Pe.fromBigTuple([Af,Af]),Gx:Pe.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:Pe.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")])},i0=oh(Ne.toBytes(ir),{infinity:!0,compressed:!0});function s0(e){e=e.slice();const t=e[0]&224,n=!!(t>>7&1),r=!!(t>>6&1),i=!!(t>>5&1);return e[0]&=31,{compressed:n,infinity:r,sort:i,value:e}}function oh(e,t){if(e[0]&224)throw new Error("setMask: non-empty mask");return t.compressed&&(e[0]|=128),t.infinity&&(e[0]|=64),t.sort&&(e[0]|=32),e}function xz(e,t,n){const{BYTES:r,ORDER:i}=Ne,s=t.is0(),{x:o,y:c}=t.toAffine();if(n){if(s)return i0.slice();const a=!!(c*$n/i);return oh(Un(o,r),{compressed:!0,sort:a})}else return s?Ut(Uint8Array.of(64),new Uint8Array(2*r-1)):Ut(Un(o,r),Un(c,r))}function Lv(e){e.assertValidity();const{BYTES:t,ORDER:n}=Ne,{x:r,y:i}=e.toAffine();if(e.is0())return i0.slice();const s=!!(i*$n/n);return oh(Un(r,t),{compressed:!0,sort:s})}function Sz(e){const{compressed:t,infinity:n,sort:r,value:i}=s0(e),{BYTES:s,ORDER:o}=Ne;if(i.length===48&&t){const c=xi(i),a=Ne.create(c&Ne.MASK);if(n){if(a!==ir)throw new Error("invalid G1 point: non-empty, at infinity, with compression");return{x:ir,y:ir}}const d=Ne.add(Ne.pow(a,r0),Ne.create(bl.b));let l=Ne.sqrt(d);if(!l)throw new Error("invalid G1 point: compressed point");return l*$n/o!==BigInt(r)&&(l=Ne.neg(l)),{x:Ne.create(a),y:Ne.create(l)}}else if(i.length===96&&!t){const c=xi(i.subarray(0,s)),a=xi(i.subarray(s));if(n){if(c!==ir||a!==ir)throw new Error("G1: non-empty point at infinity");return sr.G1.Point.ZERO.toAffine()}return{x:Ne.create(c),y:Ne.create(a)}}else throw new Error("invalid G1 point: expected 48/96 bytes")}function t2(e){const{infinity:t,sort:n,value:r}=s0(nr("signatureHex",e,48)),i=Ne.ORDER,s=sr.G1.Point,o=xi(r);if(t)return s.ZERO;const c=Ne.create(o&Ne.MASK),a=Ne.add(Ne.pow(c,r0),Ne.create(bl.b));let d=Ne.sqrt(a);if(!d)throw new Error("invalid G1 point: compressed");const l=BigInt(n);d*$n/i!==l&&(d=Ne.neg(d));const u=s.fromAffine({x:c,y:d});return u.assertValidity(),u}function Ez(e,t,n){const{BYTES:r,ORDER:i}=Ne,s=t.is0(),{x:o,y:c}=t.toAffine();if(n){if(s)return Ut(i0,Un(ir,r));const a=!!(c.c1===ir?c.c0*$n/i:c.c1*$n/i);return Ut(oh(Un(o.c1,r),{compressed:!0,sort:a}),Un(o.c0,r))}else{if(s)return Ut(Uint8Array.of(64),new Uint8Array(4*r-1));const{re:a,im:d}=Pe.reim(o),{re:l,im:u}=Pe.reim(c);return Ut(Un(d,r),Un(a,r),Un(u,r),Un(l,r))}}function Mv(e){e.assertValidity();const{BYTES:t}=Ne;if(e.is0())return Ut(i0,Un(ir,t));const{x:n,y:r}=e.toAffine(),{re:i,im:s}=Pe.reim(n),{re:o,im:c}=Pe.reim(r),d=!!((c>ir?c*$n:o*$n)/Ne.ORDER&Cg),l=i;return Ut(oh(Un(s,t),{sort:d,compressed:!0}),Un(l,t))}function Cz(e){const{BYTES:t,ORDER:n}=Ne,{compressed:r,infinity:i,sort:s,value:o}=s0(e);if(!r&&!i&&s||!r&&i&&s||s&&i&&r)throw new Error("invalid encoding flag: "+(e[0]&224));const c=(a,d,l)=>xi(a.slice(d,l));if(o.length===96&&r){if(i){if(o.reduce((f,g)=>f!==0?g+1:g,0)>0)throw new Error("invalid G2 point: compressed");return{x:Pe.ZERO,y:Pe.ZERO}}const a=c(o,0,t),d=c(o,t,2*t),l=Pe.create({c0:Ne.create(d),c1:Ne.create(a)}),u=Pe.add(Pe.pow(l,r0),dx.b);let h=Pe.sqrt(u);const p=h.c1===ir?h.c0*$n/n:h.c1*$n/n?Cg:ir;return h=s&&p>0?h:Pe.neg(h),{x:l,y:h}}else if(o.length===192&&!r){if(i){if(o.reduce((h,p)=>h!==0?p+1:p,0)>0)throw new Error("invalid G2 point: uncompressed");return{x:Pe.ZERO,y:Pe.ZERO}}const a=c(o,0*t,1*t),d=c(o,1*t,2*t),l=c(o,2*t,3*t),u=c(o,3*t,4*t);return{x:Pe.fromBigTuple([d,a]),y:Pe.fromBigTuple([u,l])}}else throw new Error("invalid G2 point: expected 96/192 bytes")}function n2(e){const{ORDER:t}=Ne,{infinity:n,sort:r,value:i}=s0(nr("signatureHex",e)),s=sr.G2.Point,o=i.length/2;if(o!==48&&o!==96)throw new Error("invalid compressed signature length, expected 96/192 bytes");const c=xi(i.slice(0,o)),a=xi(i.slice(o));if(n)return s.ZERO;const d=Ne.create(c&Ne.MASK),l=Ne.create(a),u=Pe.create({c0:l,c1:d}),h=Pe.add(Pe.pow(u,r0),dx.b);let p=Pe.sqrt(h);if(!p)throw new Error("Failed to find a square root");const{re:f,im:g}=Pe.reim(p),m=BigInt(r),v=g>ir&&g*$n/t!==m,y=g===ir&&f*$n/t!==m;(v||y)&&(p=Pe.neg(p));const x=s.fromAffine({x:u,y:p});return x.assertValidity(),x}const sr=C$({fields:{Fp:Ne,Fp2:Pe,Fp6:Ob,Fp12:st,Fr:bz},G1:{...bl,Fp:Ne,htfDefaults:{...$v,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(e,t)=>{const n=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),r=new e(Ne.mul(t.px,n),t.py,t.pz);return t.multiplyUnsafe(zo).negate().multiplyUnsafe(zo).equals(r)},clearCofactor:(e,t)=>t.multiplyUnsafe(zo).add(t),mapToCurve:Tz,fromBytes:Sz,toBytes:xz,ShortSignature:{fromBytes(e){return hn(e),t2(e)},fromHex(e){return t2(e)},toBytes(e){return Lv(e)},toRawBytes(e){return Lv(e)},toHex(e){return ma(Lv(e))}}},G2:{...dx,Fp:Pe,hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...$v},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:$z,isTorsionFree:(e,t)=>t.multiplyUnsafe(zo).negate().equals(e2(e,t)),clearCofactor:(e,t)=>{const n=zo;let r=t.multiplyUnsafe(n).negate(),i=e2(e,t),s=t.double();return s=wz(e,s),s=s.subtract(i),i=r.add(i),i=i.multiplyUnsafe(n).negate(),s=s.add(i),s=s.subtract(r),s.subtract(t)},fromBytes:Cz,toBytes:Ez,Signature:{fromBytes(e){return hn(e),n2(e)},fromHex(e){return n2(e)},toBytes(e){return Mv(e)},toRawBytes(e){return Mv(e)},toHex(e){return ma(Mv(e))}}},params:{ateLoopSize:zo,r:bl.n,xNegative:!0,twistType:"multiplicative"},htfDefaults:$v,hash:Tl}),Az=y$(Pe,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(e=>e.map(t=>Pe.fromBigTuple(t.map(BigInt))))),_z=y$(Ne,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),kz=E$(Ne,{A:Ne.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:Ne.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:Ne.create(BigInt(11))}),Iz=E$(Pe,{A:Pe.create({c0:Ne.create(ir),c1:Ne.create(BigInt(240))}),B:Pe.create({c0:Ne.create(BigInt(1012)),c1:Ne.create(BigInt(1012))}),Z:Pe.create({c0:Ne.create(BigInt(-2)),c1:Ne.create(BigInt(-1))})});function Tz(e){const{x:t,y:n}=kz(Ne.create(e[0]));return _z(t,n)}function $z(e){const{x:t,y:n}=Iz(Pe.fromBigTuple(e));return Az(t,n)}const $p=sr.G1.ProjectivePoint.ZERO,Lp=sr.G2.ProjectivePoint.ZERO;function Nb(e,t){if(ue(e)>=Lb)throw new ee(ee.errorMessages.BLS_12_381_FP_NOT_IN_FIELD);if(ue(t)>=Lb)throw new ee(ee.errorMessages.BLS_12_381_FP_NOT_IN_FIELD);const n=Xe(e.subarray(16),t.subarray(16));return sr.fields.Fp2.fromBytes(n)}function ad(e,t=!0){if(Ye(e,n$)===!0)return $p;const n=ue(e.subarray(16,di/2)),r=ue(e.subarray(80,di)),i=sr.G1.ProjectivePoint.fromAffine({x:n,y:r});try{i.assertValidity()}catch(s){if(t||s.message!=="bad point: not in prime-order subgroup")throw new ee(ee.errorMessages.BLS_12_381_POINT_NOT_ON_CURVE)}return i}function Yh(e){const t=qe(Je(e.x),64),n=qe(Je(e.y),64);return Xe(t,n)}function ld(e,t=!0){if(Ye(e,r$)===!0)return Lp;const n=e.subarray(0,64),r=e.subarray(64,Oi/2),i=e.subarray(128,192),s=e.subarray(192,Oi),o=Nb(n,r),c=Nb(i,s),a=sr.G2.ProjectivePoint.fromAffine({x:o,y:c});try{a.assertValidity()}catch(d){if(t||d.message!=="bad point: not in prime-order subgroup")throw new ee(ee.errorMessages.BLS_12_381_POINT_NOT_ON_CURVE)}return a}function Zh(e){const t=qe(Je(e.x.c0),64),n=qe(Je(e.x.c1),64),r=qe(Je(e.y.c0),64),i=qe(Je(e.y.c1),64);return Xe(t,n,r,i)}function qh(e){const t=sr.fields.Fr.fromBytes(e);return sr.fields.Fr.create(t)}function Lz(e){if(ue(e)>=Lb)throw new ee(ee.errorMessages.BLS_12_381_FP_NOT_IN_FIELD);return sr.fields.Fp.fromBytes(e.slice(16))}class Mz{addG1(t){const n=ad(t.subarray(0,di),!1),r=ad(t.subarray(di,di*2),!1),i=n.add(r);return Yh(i)}mulG1(t){const n=ad(t.subarray(0,di)),r=qh(t.subarray(di,160));if(r===q)return n$;const i=n.multiplyUnsafe(r);return Yh(i)}addG2(t){const n=ld(t.subarray(0,Oi),!1),r=ld(t.subarray(Oi,Oi*2),!1),i=n.add(r);return Zh(i)}mulG2(t){const n=ld(t.subarray(0,Oi)),r=qh(t.subarray(Oi,288));if(r===q)return r$;const i=n.multiplyUnsafe(r);return Zh(i)}mapFPtoG1(t){const n=Lz(t.subarray(0,64)),r=sr.G1.mapToCurve([n]).toAffine();return Yh(r)}mapFP2toG2(t){const n=Nb(t.subarray(0,64),t.subarray(64,128)),r=sr.G2.mapToCurve([n.c0,n.c1]).toAffine();return Zh(r)}msmG1(t){const r=t.length/160;let i=$p;for(let s=0;s<r;s++){const o=160*s,c=ad(t.subarray(o,o+di)),a=qh(t.subarray(o+di,o+160));let d;a===q?d=$p:d=c.multiplyUnsafe(a),i=i.add(d)}return Yh(i)}msmG2(t){const r=t.length/288;let i=Lp;for(let s=0;s<r;s++){const o=288*s,c=ld(t.subarray(o,o+Oi)),a=qh(t.subarray(o+Oi,o+288));let d;a===q?d=Lp:d=c.multiplyUnsafe(a),i=i.add(d)}return Zh(i)}pairingCheck(t){const r=[];for(let o=0;o<t.length/384;o++){const c=384*o,a=ad(t.subarray(c,c+di)),d=c+di,l=ld(t.subarray(d,d+Oi));r.push({g1:a,g2:l})}const i=r.filter(o=>!o.g1.equals($p)&&!o.g2.equals(Lp)),s=sr.pairingBatch(i,!0);return sr.fields.Fp12.eql(s,sr.fields.Fp12.ONE)?G7:U7}}const Rz=new Uint8Array(16),k$=(e,t,n)=>{const r=n[n.length-1][1];let i;return e<=n.length?e===0?i=0:i=n[e-1][1]:i=r,BigInt(e)*t*BigInt(i)/BigInt(1e3)},Ll=(e,t,n,r=0)=>{for(const i in t){const s=e.data.subarray(t[i][0]+r,t[i][1]+r);if(Ye(s,Rz)!==!0)return e._debug!==void 0&&e._debug(`${n} failed: Point not on curve`),!1}return!0};async function Pz(e){const t=Pn("0b"),n=e._EVM._bls,r=e.common.param("bls12381G1AddGas")??BigInt(0);if(!Kn(e,r,t))return St(e.gasLimit);if(!e0(e,256,t))return lt(new ee(ee.errorMessages.BLS_12_381_INVALID_INPUT_LENGTH),e.gasLimit);if(!Ll(e,[[0,16],[64,80],[128,144],[192,208]],t))return lt(new ee(ee.errorMessages.BLS_12_381_POINT_NOT_ON_CURVE),e.gasLimit);let s;try{s=n.addG1(e.data)}catch(o){return e._debug!==void 0&&e._debug(`${t} failed: ${o.message}`),lt(o,e.gasLimit)}return e._debug!==void 0&&e._debug(`${t} return value=${ie(s)}`),{executionGasUsed:r,returnValue:s}}async function Oz(e){const t=Pn("0d"),n=e._EVM._bls,r=e.data;if(r.length===0)return e._debug!==void 0&&e._debug(`${t} failed: Empty input`),lt(new ee(ee.errorMessages.BLS_12_381_INPUT_EMPTY),e.gasLimit);const i=Math.floor(r.length/160),s=e.common.param("bls12381G1MulGas")??BigInt(0),o=k$(i,s,z7);if(!Kn(e,o,t))return St(e.gasLimit);if(r.length%160!==0)return e._debug!==void 0&&e._debug(`${t} failed: Invalid input length length=${r.length}`),lt(new ee(ee.errorMessages.BLS_12_381_INVALID_INPUT_LENGTH),e.gasLimit);if(!t0(e,160,t))return lt(new ee(ee.errorMessages.BLS_12_381_INVALID_INPUT_LENGTH),e.gasLimit);const c=[[0,16],[64,80]];for(let d=0;d<i;d++){const l=160*d;if(!Ll(e,c,t,l))return lt(new ee(ee.errorMessages.BLS_12_381_POINT_NOT_ON_CURVE),e.gasLimit)}let a;try{a=n.msmG1(e.data)}catch(d){return e._debug!==void 0&&e._debug(`${t} failed: ${d.message}`),lt(d,e.gasLimit)}return e._debug!==void 0&&e._debug(`${t} return value=${ie(a)}`),{executionGasUsed:o,returnValue:a}}async function Nz(e){const t=Pn("0e"),n=e._EVM._bls,r=e.common.param("bls12381G2AddGas")??BigInt(0);if(!Kn(e,r,t))return St(e.gasLimit);if(!e0(e,512,t))return lt(new ee(ee.errorMessages.BLS_12_381_INVALID_INPUT_LENGTH),e.gasLimit);if(!Ll(e,[[0,16],[64,80],[128,144],[192,208],[256,272],[320,336],[384,400],[448,464]],t))return lt(new ee(ee.errorMessages.BLS_12_381_POINT_NOT_ON_CURVE),e.gasLimit);let s;try{s=n.addG2(e.data)}catch(o){return lt(o,e.gasLimit)}return e._debug!==void 0&&e._debug(`${t} return value=${ie(s)}`),{executionGasUsed:r,returnValue:s}}async function Bz(e){const t=Pn("10"),n=e._EVM._bls;if(e.data.length===0)return e._debug!==void 0&&e._debug(`${t} failed: Empty input`),lt(new ee(ee.errorMessages.BLS_12_381_INPUT_EMPTY),e.gasLimit);const r=Math.floor(e.data.length/288),i=e.common.param("bls12381G2MulGas")??BigInt(0),s=k$(r,i,H7);if(!Kn(e,s,t))return St(e.gasLimit);if(!t0(e,288,t))return lt(new ee(ee.errorMessages.BLS_12_381_INVALID_INPUT_LENGTH),e.gasLimit);const o=[[0,16],[64,80],[128,144],[192,208]];for(let a=0;a<r;a++){const d=288*a;if(!Ll(e,o,t,d))return lt(new ee(ee.errorMessages.BLS_12_381_POINT_NOT_ON_CURVE),e.gasLimit)}let c;try{c=n.msmG2(e.data)}catch(a){return e._debug!==void 0&&e._debug(`${t} failed: ${a.message}`),lt(a,e.gasLimit)}return e._debug!==void 0&&e._debug(`${t} return value=${ie(c)}`),{executionGasUsed:s,returnValue:c}}async function Dz(e){const t=Pn("11"),n=e._EVM._bls,r=e.common.param("bls12381PairingBaseGas")??BigInt(0);if(e.data.length===0)return e._debug!==void 0&&e._debug(`${t} failed: Empty input`),lt(new ee(ee.errorMessages.BLS_12_381_INPUT_EMPTY),e.gasLimit);const i=e.common.param("bls12381PairingPerPairGas")??BigInt(0);if(!t0(e,384,t))return lt(new ee(ee.errorMessages.BLS_12_381_INVALID_INPUT_LENGTH),e.gasLimit);const s=r+i*BigInt(Math.floor(e.data.length/384));if(!Kn(e,s,t))return St(e.gasLimit);const o=[[0,16],[64,80],[128,144],[192,208],[256,272],[320,336]];for(let a=0;a<e.data.length/384;a++){const d=384*a;if(!Ll(e,o,t,d))return lt(new ee(ee.errorMessages.BLS_12_381_POINT_NOT_ON_CURVE),e.gasLimit)}let c;try{c=n.pairingCheck(e.data)}catch(a){return e._debug!==void 0&&e._debug(`${t} failed: ${a.message}`),lt(a,e.gasLimit)}return e._debug!==void 0&&e._debug(`${t} return value=${ie(c)}`),{executionGasUsed:s,returnValue:c}}function Fz(e){const t=Pn("01"),n=e.common.customCrypto.ecrecover??jm,r=e.common.param("ecRecoverGas");if(!Kn(e,r,t))return St(e.gasLimit);const i=gr(e.data,128),s=i.subarray(0,32),o=i.subarray(32,64),c=ue(o);if(c!==Zw&&c!==N9)return e._debug!==void 0&&e._debug(`${t} failed: v neither 27 nor 28`),{executionGasUsed:r,returnValue:new Uint8Array};const a=i.subarray(64,96),d=i.subarray(96,128);let l;try{e._debug!==void 0&&e._debug(`${t}: PK recovery with msgHash=${ie(s)} v=${ie(o)} r=${ie(a)}s=${ie(d)}}`),l=n(s,ue(o),a,d)}catch{return e._debug!==void 0&&e._debug(`${t} failed: PK recovery failed`),{executionGasUsed:r,returnValue:new Uint8Array(0)}}const u=qe(Wm(l),32);return e._debug!==void 0&&e._debug(`${t} return address=${ie(u)}`),{executionGasUsed:r,returnValue:u}}function Uz(e){const t=Pn("02"),n=e.data,r=e.common.customCrypto.sha256??jf;let i=e.common.param("sha256Gas");if(i+=e.common.param("sha256WordGas")*BigInt(Math.ceil(n.length/32)),!Kn(e,i,t))return St(e.gasLimit);const s=r(n);return e._debug!==void 0&&e._debug(`${t} return hash=${ie(s)}`),{executionGasUsed:i,returnValue:s}}const Gz=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),I$=Uint8Array.from(new Array(16).fill(0).map((e,t)=>t)),zz=I$.map(e=>(9*e+5)%16),T$=(()=>{const n=[[I$],[zz]];for(let r=0;r<4;r++)for(let i of n)i.push(i[r].map(s=>Gz[s]));return n})(),$$=T$[0],L$=T$[1],M$=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),Hz=$$.map((e,t)=>e.map(n=>M$[t][n])),Wz=L$.map((e,t)=>e.map(n=>M$[t][n])),jz=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),Vz=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function r2(e,t,n,r){return e===0?t^n^r:e===1?t&n|~t&r:e===2?(t|~n)^r:e===3?t&r|n&~r:t^(n|~r)}const Xh=new Uint32Array(16);class Kz extends VI{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:r,h3:i,h4:s}=this;return[t,n,r,i,s]}set(t,n,r,i,s){this.h0=t|0,this.h1=n|0,this.h2=r|0,this.h3=i|0,this.h4=s|0}process(t,n){for(let p=0;p<16;p++,n+=4)Xh[p]=t.getUint32(n,!0);let r=this.h0|0,i=r,s=this.h1|0,o=s,c=this.h2|0,a=c,d=this.h3|0,l=d,u=this.h4|0,h=u;for(let p=0;p<5;p++){const f=4-p,g=jz[p],m=Vz[p],v=$$[p],y=L$[p],x=Hz[p],C=Wz[p];for(let b=0;b<16;b++){const S=Dh(r+r2(p,s,c,d)+Xh[v[b]]+g,x[b])+u|0;r=u,u=d,d=Dh(c,10)|0,c=s,s=S}for(let b=0;b<16;b++){const S=Dh(i+r2(f,o,a,l)+Xh[y[b]]+m,C[b])+h|0;i=h,h=l,l=Dh(a,10)|0,a=o,o=S}}this.set(this.h1+c+l|0,this.h2+d+h|0,this.h3+u+i|0,this.h4+r+o|0,this.h0+s+a|0)}roundClean(){ga(Xh)}destroy(){this.destroyed=!0,ga(this.buffer),this.set(0,0,0,0,0)}}const Yz=Dw(()=>new Kz),i2=jw(Yz);function Zz(e){const t=Pn("03"),n=e.data;let r=e.common.param("ripemd160Gas");if(r+=e.common.param("ripemd160WordGas")*BigInt(Math.ceil(n.length/32)),!Kn(e,r,t))return St(e.gasLimit);const i=qe(i2(n),32);return e._debug!==void 0&&e._debug(`${t} return hash=${ie(i)}`),{executionGasUsed:r,returnValue:qe(i2(n),32)}}function qz(e){const t=Pn("04"),n=e.data;let r=e.common.param("identityGas");return r+=e.common.param("identityWordGas")*BigInt(Math.ceil(n.length/32)),Kn(e,r,t)?(e._debug!==void 0&&e._debug(`${t} return data=${ya(e.data)}`),{executionGasUsed:r,returnValue:Uint8Array.from(n)}):St(e.gasLimit)}const Xz=BigInt(4),Qz=BigInt(16),s2=BigInt(200),Jz=BigInt(480),eH=BigInt(1024),tH=BigInt(3072),nH=BigInt(199680),rH=BigInt(Number.MAX_SAFE_INTEGER),Rv=BigInt(2147483647);function iH(e){let t,n;return e<=Nd?e**Qr:e<=eH?(t=e**Qr/Xz,n=e*qw,t+n-tH):(t=e**Qr/Qz,n=e*Jz,t+n-nH)}function sH(e){const t=(e+Yw)/Yo;return t*t}function oH(e){let t;try{const l=ue(e.subarray(0,32));t=96+Number(l)}catch{t=Number.MAX_SAFE_INTEGER-32}const n=ue(e.subarray(32,64));let r=e.subarray(t,t+32);r=gr(r,32);let i=ue(r),s=0;n<kn&&(s=32-Number(n)),i=i>>Yo*BigInt(Math.max(s,0));let o=-1;for(;i>q;)o=o+1,i=i>>ze;let c=n-kn;c<q&&(c=q);let d=c*Yo;return o>0&&(d+=BigInt(o)),d}function aH(e,t,n){if(t===q)return ze%n;let r=ze;for(;t>q;)t&ze&&(r=r*e%n),e=e*e%n,t>>=ze;return r}function lH(e){const t=Pn("05"),n=e.data.length<96?gr(e.data,96):e.data;let r=oH(n);r<ze&&(r=ze);const i=ue(n.subarray(0,32)),s=ue(n.subarray(32,64)),o=ue(n.subarray(64,96));let c=i;c<o&&(c=o);const a=e.common.param("modexpGquaddivisorGas");let d;const l=qw,u=l+i,h=u,p=h+s,f=p,g=f+o;if(e.common.isActivatedEIP(2565)?(d=r*sH(c)/a,d<s2&&(d=s2)):d=r*iH(c)/a,!Kn(e,d,t))return St(e.gasLimit);if(i===q&&o===q)return{executionGasUsed:d,returnValue:new Uint8Array};if(i>Rv||s>Rv||o>Rv)return e._debug!==void 0&&e._debug(`${t} failed: OOG`),St(e.gasLimit);if(g>rH)return e._debug!==void 0&&e._debug(`${t} failed: OOG`),St(e.gasLimit);const m=ue(gr(n.subarray(Number(l),Number(u)),Number(i))),v=ue(gr(n.subarray(Number(h),Number(p)),Number(s))),y=ue(gr(n.subarray(Number(f),Number(g)),Number(o)));let x;y===q?x=new Uint8Array:(x=aH(m,v,y),x===q?x=new Uint8Array:x=Je(x));const C=qe(x,Number(o));return e._debug!==void 0&&e._debug(`${t} return value=${ie(C)}`),{executionGasUsed:d,returnValue:C}}function cH(e){const t=Pn("06"),n=e.common.param("bn254AddGas");if(!Kn(e,n,t))return St(e.gasLimit);const r=gr(e.data.subarray(0,128),128);let i;try{i=e._EVM._bn254.add(r)}catch(s){return e._debug!==void 0&&e._debug(`${t} failed: ${s.message}`),lt(s,e.gasLimit)}return i.length!==64?(e._debug!==void 0&&e._debug(`${t} failed: OOG`),St(e.gasLimit)):(e._debug!==void 0&&e._debug(`${t} return value=${ie(i)}`),{executionGasUsed:n,returnValue:i})}function uH(e){const t=Pn("07"),n=e.common.param("bn254MulGas");if(!Kn(e,n,t))return St(e.gasLimit);const r=gr(e.data.subarray(0,128),128);let i;try{i=e._EVM._bn254.mul(r)}catch(s){return e._debug!==void 0&&e._debug(`${t} failed: ${s.message}`),lt(s,e.gasLimit)}return i.length!==64?(e._debug!==void 0&&e._debug(`${t} failed: OOG`),St(e.gasLimit)):(e._debug!==void 0&&e._debug(`${t} return value=${ie(i)}`),{executionGasUsed:n,returnValue:i})}function dH(e){const t=Pn("08");if(!t0(e,192,t))return lt(new ee(ee.errorMessages.INVALID_INPUT_LENGTH),e.gasLimit);const n=BigInt(Math.floor(e.data.length/192)),r=e.common.param("bn254PairingGas")+n*e.common.param("bn254PairingWordGas");if(!Kn(e,r,t))return St(e.gasLimit);let i;try{i=e._EVM._bn254.pairing(e.data)}catch(s){return e._debug!==void 0&&e._debug(`${t} failed: ${s.message}`),lt(s,e.gasLimit)}return i.length!==32?(e._debug!==void 0&&e._debug(`${t} failed: OOG`),St(e.gasLimit)):(e._debug!==void 0&&e._debug(`${t} return value=${ie(i)}`),{executionGasUsed:r,returnValue:i})}function Qh(e,t,n){const r=e[t]+e[n];let i=e[t+1]+e[n+1];r>=4294967296&&i++,e[t]=r,e[t+1]=i}function o2(e,t,n,r){let i=e[t]+n;n<0&&(i+=4294967296);let s=e[t+1]+r;i>=4294967296&&s++,e[t]=i,e[t+1]=s}function Mo(e,t,n,r,i,s,o,c){const a=t[o],d=t[o+1],l=t[c],u=t[c+1];Qh(e,n,r),o2(e,n,a,d);let h=e[s]^e[n],p=e[s+1]^e[n+1];e[s]=p,e[s+1]=h,Qh(e,i,s),h=e[r]^e[i],p=e[r+1]^e[i+1],e[r]=h>>>24^p<<8,e[r+1]=p>>>24^h<<8,Qh(e,n,r),o2(e,n,l,u),h=e[s]^e[n],p=e[s+1]^e[n+1],e[s]=h>>>16^p<<16,e[s+1]=p>>>16^h<<16,Qh(e,i,s),h=e[r]^e[i],p=e[r+1]^e[i+1],e[r]=p>>>31^h<<1,e[r+1]=h>>>31^p<<1}const fH=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),hH=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],Xn=new Uint8Array(hH.map(function(e){return e*2}));function pH(e,t,n,r,i){const s=new Uint32Array(32);let o=0;for(o=0;o<16;o++)s[o]=e[o],s[o+16]=fH[o];for(s[24]=s[24]^n[0],s[25]=s[25]^n[1],s[26]=s[26]^n[2],s[27]=s[27]^n[3],r&&(s[28]=~s[28],s[29]=~s[29]),o=0;o<i;o++){const c=o%10*16;Mo(s,t,0,8,16,24,Xn[c+0],Xn[c+1]),Mo(s,t,2,10,18,26,Xn[c+2],Xn[c+3]),Mo(s,t,4,12,20,28,Xn[c+4],Xn[c+5]),Mo(s,t,6,14,22,30,Xn[c+6],Xn[c+7]),Mo(s,t,0,10,20,30,Xn[c+8],Xn[c+9]),Mo(s,t,2,12,22,24,Xn[c+10],Xn[c+11]),Mo(s,t,4,14,16,26,Xn[c+12],Xn[c+13]),Mo(s,t,6,8,18,28,Xn[c+14],Xn[c+15])}for(o=0;o<16;o++)e[o]=e[o]^s[o]^s[o+16]}function gH(e){const t=Pn("09"),n=e.data;if(n.length!==213)return e._debug!==void 0&&e._debug(`${t} failed: OUT_OF_RANGE dataLength=${n.length}`),{returnValue:new Uint8Array(0),executionGasUsed:e.gasLimit,exceptionError:new ee(ee.errorMessages.OUT_OF_RANGE)};const r=n.subarray(212,213)[0];if(r!==1&&r!==0)return e._debug!==void 0&&e._debug(`${t} failed: OUT_OF_RANGE lastByte=${r}`),{returnValue:new Uint8Array(0),executionGasUsed:e.gasLimit,exceptionError:new ee(ee.errorMessages.OUT_OF_RANGE)};const i=new DataView(n.buffer,n.byteOffset).getUint32(0),s=new DataView(n.buffer,n.byteOffset+4,64),o=new DataView(n.buffer,n.byteOffset+68,128),c=new DataView(n.buffer,n.byteOffset+196,16),a=r===1;let d=e.common.param("blake2RoundGas");if(d*=BigInt(i),!Kn(e,d,t))return St(e.gasLimit);const l=new Uint32Array(16);for(let g=0;g<16;g++)l[g]=s.getUint32(g*4,!0);const u=new Uint32Array(32);for(let g=0;g<32;g++)u[g]=o.getUint32(g*4,!0);const h=new Uint32Array(4);for(let g=0;g<4;g++)h[g]=c.getUint32(g*4,!0);pH(l,u,h,a,i);const p=new Uint8Array(64),f=new DataView(p.buffer);for(let g=0;g<16;g++)f.setUint32(g*4,l[g],!0);return e._debug!==void 0&&e._debug(`${t} return hash=${ie(p)}`),{executionGasUsed:d,returnValue:p}}async function mH(e){const t=Pn("12"),n=e._EVM._bls,r=e.common.param("bls12381MapG1Gas")??BigInt(0);if(!Kn(e,r,t))return St(e.gasLimit);if(!e0(e,64,t))return lt(new ee(ee.errorMessages.BLS_12_381_INVALID_INPUT_LENGTH),e.gasLimit);if(!Ll(e,[[0,16]],t))return lt(new ee(ee.errorMessages.BLS_12_381_POINT_NOT_ON_CURVE),e.gasLimit);let s;try{s=n.mapFPtoG1(e.data)}catch(o){return e._debug!==void 0&&e._debug(`${t} failed: ${o.message}`),lt(o,e.gasLimit)}return e._debug!==void 0&&e._debug(`${t} return value=${ie(s)}`),{executionGasUsed:r,returnValue:s}}async function vH(e){const t=Pn("13"),n=e._EVM._bls,r=e.common.param("bls12381MapG2Gas")??BigInt(0);if(!Kn(e,r,t))return St(e.gasLimit);if(!e0(e,128,t))return lt(new ee(ee.errorMessages.BLS_12_381_INVALID_INPUT_LENGTH),e.gasLimit);if(!Ll(e,[[0,16],[64,80]],t))return lt(new ee(ee.errorMessages.BLS_12_381_POINT_NOT_ON_CURVE),e.gasLimit);let s;try{s=n.mapFP2toG2(e.data)}catch(o){return e._debug!==void 0&&e._debug(`${t} failed: ${o.message}`),lt(o,e.gasLimit)}return e._debug!==void 0&&e._debug(`${t} return value=${ie(s)}`),{executionGasUsed:r,returnValue:s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yH=BigInt(0),Bb=BigInt(1),Ho=BigInt(2),bH=BigInt(3),R$=BigInt(6),o0=BigInt("4965661367192848881"),wH=zc(o0),xH=R$*o0**Ho,a0={p:BigInt("0x30644e72e131a029b85045b68181585d97816a916871ca8d3c208c16d87cfd47"),n:BigInt("0x30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001"),h:Bb,a:yH,b:bH,Gx:Bb,Gy:BigInt(2)},a2=Lu(a0.n),P$={c0:BigInt("19485874751759354771024239261021720505790618469301721065564631296452457478373"),c1:BigInt("266929791119991161246907387137283842545076965332900288569378510910307636690")},{Fp:_f,Fp2:_t,Fp6:Db,Fp4Square:Pv,Fp12:xt}=_$({ORDER:a0.p,FP2_NONRESIDUE:[BigInt(9),Bb],Fp2mulByB:e=>_t.mul(e,P$),Fp12cyclotomicSquare:({c0:e,c1:t})=>{const{c0:n,c1:r,c2:i}=e,{c0:s,c1:o,c2:c}=t,{first:a,second:d}=Pv(n,o),{first:l,second:u}=Pv(s,i),{first:h,second:p}=Pv(r,c);let f=_t.mulByNonresidue(p);return{c0:Db.create({c0:_t.add(_t.mul(_t.sub(a,n),Ho),a),c1:_t.add(_t.mul(_t.sub(l,r),Ho),l),c2:_t.add(_t.mul(_t.sub(h,i),Ho),h)}),c1:Db.create({c0:_t.add(_t.mul(_t.add(f,s),Ho),f),c1:_t.add(_t.mul(_t.add(d,o),Ho),d),c2:_t.add(_t.mul(_t.add(u,c),Ho),u)})}},Fp12cyclotomicExp(e,t){let n=xt.ONE;for(let r=wH-1;r>=0;r--)n=xt._cyclotomicSquare(n),l$(t,r)&&(n=xt.mul(n,e));return n},Fp12finalExponentiate:e=>{const t=l=>xt.conjugate(xt._cyclotomicExp(l,o0)),n=xt.mul(xt.conjugate(e),xt.inv(e)),r=xt.mul(xt.frobeniusMap(n,2),n),i=xt._cyclotomicSquare(t(r)),s=xt.mul(xt._cyclotomicSquare(i),i),o=t(s),c=t(xt._cyclotomicSquare(o)),a=xt.mul(xt.mul(xt.conjugate(c),o),xt.conjugate(s)),d=xt.mul(a,i);return xt.mul(xt.frobeniusMap(xt.mul(xt.conjugate(r),d),3),xt.mul(xt.frobeniusMap(a,2),xt.mul(xt.frobeniusMap(d,1),xt.mul(xt.mul(a,o),r))))}}),{G2psi:SH,psi:l2}=A$(_f,_t,_t.NONRESIDUE),Ov=Object.freeze({DST:"BN254G2_XMD:SHA-256_SVDW_RO_",encodeDST:"BN254G2_XMD:SHA-256_SVDW_RO_",p:_f.ORDER,m:2,k:128,expand:"xmd",hash:Tl}),EH=(e,t,n,r,i,s)=>{const o=l2(r,i);({Rx:e,Ry:t,Rz:n}=s(e,t,n,o[0],o[1]));const c=l2(o[0],o[1]);s(e,t,n,c[0],_t.neg(c[1]))},CH={p:_t.ORDER,n:a0.n,h:BigInt("0x30644e72e131a029b85045b68181585e06ceecda572a2489345f2299c0f9fa8d"),a:_t.ZERO,b:P$,Gx:_t.fromBigTuple([BigInt("10857046999023057135944570762232829481370756359578518086990519993285655852781"),BigInt("11559732032986387107991004021392285783925812861821192530917403151452391805634")]),Gy:_t.fromBigTuple([BigInt("8495653923123431417604973247489272438418190587263600148770280649306958101930"),BigInt("4082367875863433681332203403145435568316851327593401208105741076214120093531")])},or=C$({fields:{Fp:_f,Fp2:_t,Fp6:Db,Fp12:xt,Fr:a2},G1:{...a0,Fp:_f,htfDefaults:{...Ov,m:1,DST:"BN254G2_XMD:SHA-256_SVDW_RO_"},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:Cn,fromBytes:Cn,toBytes:Cn,ShortSignature:{fromBytes:Cn,fromHex:Cn,toBytes:Cn,toRawBytes:Cn,toHex:Cn}},G2:{...CH,Fp:_t,hEff:BigInt("21888242871839275222246405745257275088844257914179612981679871602714643921549"),htfDefaults:{...Ov},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(e,t)=>t.multiplyUnsafe(xH).equals(SH(e,t)),mapToCurve:Cn,fromBytes:Cn,toBytes:Cn,Signature:{fromBytes:Cn,fromHex:Cn,toBytes:Cn,toRawBytes:Cn,toHex:Cn}},params:{ateLoopSize:o0*R$+Ho,r:a2.ORDER,xNegative:!1,twistType:"divisive"},htfDefaults:Ov,hash:Tl,postPrecompute:EH});pz({a:BigInt(0),b:BigInt(3),Fp:_f,n:BigInt("21888242871839275222246405745257275088548364400416034343698204186575808495617"),Gx:BigInt(1),Gy:BigInt(2),h:BigInt(1),hash:Tl});const O$=new Uint8Array(64),AH=new Uint8Array(128),Do=64,qi=32,_H=128,kH=new Uint8Array(32),IH=Xe(new Uint8Array(31),We("0x01"));function Jh(e){if(Ye(e,O$)===!0)return or.G1.ProjectivePoint.ZERO;const t=ue(e.subarray(0,qi)),n=ue(e.subarray(qi,Do)),r=or.G1.ProjectivePoint.fromAffine({x:t,y:n});return r.assertValidity(),r}function c2(e){const t=qe(Je(e.x),qi),n=qe(Je(e.y),qi);return Xe(t,n)}function TH(e){const t=or.fields.Fr.fromBytes(e);return t>=or.fields.Fr.ORDER?t%or.fields.Fr.ORDER:t}function u2(e,t){if(ue(e)>=or.fields.Fp2.ORDER)throw new ee(ee.errorMessages.BN254_FP_NOT_IN_FIELD);if(ue(t)>=or.fields.Fp2.ORDER)throw new ee(ee.errorMessages.BN254_FP_NOT_IN_FIELD);const n=Xe(e,t);return or.fields.Fp2.fromBytes(n)}function $H(e){if(Ye(e,AH)===!0)return or.G2.ProjectivePoint.ZERO;const t=e.subarray(0,qi),n=e.subarray(qi,qi*2),r=qi*2,i=e.subarray(r,r+qi),s=e.subarray(r+qi,r+qi*2);for(const d of[n,t,s,i]){const l=ue(d);if(or.fields.Fp.create(l)!==l)throw new ee(ee.errorMessages.BN254_FP_NOT_IN_FIELD)}const o=u2(n,t),c=u2(s,i),a=or.G2.ProjectivePoint.fromAffine({x:o,y:c});return a.assertValidity(),a}class LH{add(t){const n=Jh(t.slice(0,Do)),r=Jh(t.slice(Do,Do*2));return c2(n.add(r))}mul(t){const n=Jh(t.slice(0,Do)),r=TH(t.slice(Do,96));return r===q?O$:c2(n.multiply(r))}pairing(t){const r=[];for(let s=0;s<t.length/192;s++){const o=192*s,c=Jh(t.subarray(o,o+Do)),a=o+Do,d=$H(t.subarray(a,a+_H));c===or.G1.ProjectivePoint.ZERO||d===or.G2.ProjectivePoint.ZERO||r.push({g1:c,g2:d})}const i=or.pairingBatch(r);return or.fields.Fp12.eql(i,or.fields.Fp12.ONE)===!0?IH:kH}}const gn={EIP:"eip",Hardfork:"hardfork"},Nn="00000000000000000000000000000000000000",N$=[{address:Nn+"01",check:{type:gn.Hardfork,param:se.Chainstart},precompile:Fz,name:"ECRECOVER (0x01)"},{address:Nn+"02",check:{type:gn.Hardfork,param:se.Chainstart},precompile:Uz,name:"SHA256 (0x02)"},{address:Nn+"03",check:{type:gn.Hardfork,param:se.Chainstart},precompile:Zz,name:"RIPEMD160 (0x03)"},{address:Nn+"04",check:{type:gn.Hardfork,param:se.Chainstart},precompile:qz,name:"IDENTITY (0x04)"},{address:Nn+"05",check:{type:gn.Hardfork,param:se.Byzantium},precompile:lH,name:"MODEXP (0x05)"},{address:Nn+"06",check:{type:gn.Hardfork,param:se.Byzantium},precompile:cH,name:"BN254_ADD (0x06)"},{address:Nn+"07",check:{type:gn.Hardfork,param:se.Byzantium},precompile:uH,name:"BN254_MUL (0x07)"},{address:Nn+"08",check:{type:gn.Hardfork,param:se.Byzantium},precompile:dH,name:"BN254_PAIRING (0x08)"},{address:Nn+"09",check:{type:gn.Hardfork,param:se.Istanbul},precompile:gH,name:"BLAKE2f (0x09)"},{address:Nn+"0a",check:{type:gn.EIP,param:4844},precompile:F7,name:"KZG_POINT_EVALUATION (0x0a)"},{address:Nn+"0b",check:{type:gn.EIP,param:2537},precompile:Pz,name:"BLS12_G1ADD (0x0b)"},{address:Nn+"0c",check:{type:gn.EIP,param:2537},precompile:Oz,name:"BLS12_G1MSM (0x0c)"},{address:Nn+"0d",check:{type:gn.EIP,param:2537},precompile:Nz,name:"BLS12_G2ADD (0x0d)"},{address:Nn+"0e",check:{type:gn.EIP,param:2537},precompile:Bz,name:"BLS12_G2MSM (0x0e)"},{address:Nn+"0f",check:{type:gn.EIP,param:2537},precompile:Dz,name:"BLS12_PAIRING (0x0f)"},{address:Nn+"10",check:{type:gn.EIP,param:2537},precompile:mH,name:"BLS12_MAP_FP_TO_G1 (0x10)"},{address:Nn+"11",check:{type:gn.EIP,param:2537},precompile:vH,name:"BLS12_MAP_FP_TO_G2 (0x11)"}];function Fb(e,t){const n=new Map;if(t)for(const r of t)n.set(at(r.address.bytes),"function"in r?r.function:void 0);for(const r of N$){if(n.has(r.address))continue;(r.check.type===gn.Hardfork&&e.gteHardfork(r.check.param)||r.check.type===gn.EIP&&e.isActivatedEIP(r.check.param))&&n.set(r.address,r.precompile)}return n}function Pn(e){e.length<40&&(e=e.padStart(40,"0"));for(const t of N$)if(t.address===e)return t.name;return""}class MH{constructor(){this._storage=new Map,this._changeJournal=[],this._indices=[0]}get(t,n){const r=this._storage.get(t.toString());if(!r)return new Uint8Array(32);const i=r.get(ie(n));return i||new Uint8Array(32)}put(t,n,r){if(n.length!==32)throw W("Transient storage key must be 32 bytes long");if(r.length>32)throw W("Transient storage value cannot be longer than 32 bytes");const i=t.toString();this._storage.has(i)||this._storage.set(i,new Map);const s=this._storage.get(i),o=ie(n),c=s.get(o)??new Uint8Array(32);this._changeJournal.push({addr:i,key:o,prevValue:c}),s.set(o,r)}commit(){if(this._indices.length===0)throw W("Nothing to commit");this._indices.pop()}checkpoint(){this._indices.push(this._changeJournal.length)}revert(){const t=this._indices.pop();if(typeof t>"u")throw W("Nothing to revert");for(let n=this._changeJournal.length-1;n>=t;n--){const{key:r,prevValue:i,addr:s}=this._changeJournal[n];this._storage.get(s).set(r,i)}this._changeJournal.splice(t,this._changeJournal.length-t)}toJSON(){const t={};for(const[n,r]of this._storage.entries()){t[n]={};for(const[i,s]of r.entries())t[n][i]=ie(s)}return t}clear(){this._storage=new Map,this._changeJournal=[]}}var Nv={};const bt=ii("evm:evm"),ds=ii("evm:gas"),RH=ii("evm:precompiles");function St(e){return{returnValue:new Uint8Array(0),executionGasUsed:e,exceptionError:new ee(ee.errorMessages.OUT_OF_GAS)}}function PH(e){return{returnValue:new Uint8Array(0),executionGasUsed:e,exceptionError:new ee(ee.errorMessages.CODESTORE_OUT_OF_GAS)}}function d2(e){return{returnValue:new Uint8Array(0),executionGasUsed:e,exceptionError:new ee(ee.errorMessages.INVALID_BYTECODE_RESULT)}}function OH(e){return{returnValue:new Uint8Array(0),executionGasUsed:e,exceptionError:new ee(ee.errorMessages.CODESIZE_EXCEEDS_MAXIMUM)}}function lt(e,t){return{returnValue:new Uint8Array(0),executionGasUsed:t,exceptionError:e}}function Bv(){return{header:{number:q,coinbase:gi(),timestamp:q,difficulty:q,prevRandao:new Uint8Array(32),gasLimit:q,baseFeePerGas:void 0,getBlobGasPrice:()=>{}}}}class kf{get precompiles(){return this._precompiles}get opcodes(){return this._opcodes}constructor(t){var r,i,s;if(this.DEBUG=!1,this.common=t.common,this.blockchain=t.blockchain,this.stateManager=t.stateManager,this.common.isActivatedEIP(6800)||this.common.isActivatedEIP(7864)){const o=["checkChunkWitnessPresent"];for(const c of o)if(!(c in this.stateManager))throw W(`State manager used must implement ${c} if Verkle (EIP-6800) is activated`)}this.events=new vg,this._optsCached=t;const n=[663,1153,1559,2537,2565,2718,2929,2930,2935,3198,3529,3540,3541,3607,3651,3670,3855,3860,4200,4399,4750,4788,4844,4895,5133,5450,5656,6110,6206,6780,6800,7002,7069,7251,7480,7516,7620,7685,7691,7692,7698,7702,7709];for(const o of this.common.eips())if(!n.includes(o))throw W(`EIP-${o} is not supported by the EVM`);if(!kf.supportedHardforks.includes(this.common.hardfork()))throw W(`Hardfork ${this.common.hardfork()} not set as supported in supportedHardforks`);this.common.updateParams(t.params??B7),this.allowUnlimitedContractSize=t.allowUnlimitedContractSize??!1,this.allowUnlimitedInitCodeSize=t.allowUnlimitedInitCodeSize??!1,this._customOpcodes=t.customOpcodes,this._customPrecompiles=t.customPrecompiles,this.journal=new N7(this.stateManager,this.common),this.transientStorage=new MH,this.common.events.on("hardforkChanged",()=>{this.getActiveOpcodes(),this._precompiles=Fb(this.common,this._customPrecompiles)}),this.getActiveOpcodes(),this._precompiles=Fb(this.common,this._customPrecompiles),this.common.isActivatedEIP(2537)&&(this._bls=t.bls??new Mz,(i=(r=this._bls).init)==null||i.call(r)),this._bn254=t.bn254,this._emit=async(o,c)=>{const a=this.events.listeners(o);for(const d of a)d.length===2?await new Promise(l=>{d(c,l)}):d(c)},this.performanceLogger=new p7,this.DEBUG=typeof window>"u"?((s=Nv==null?void 0:Nv.DEBUG)==null?void 0:s.includes("ethjs"))??!1:!1}getActiveOpcodes(){const t=R7(this.common,this._customOpcodes);return this._opcodes=t.opcodes,this._dynamicGasHandlers=t.dynamicGasHandlers,this._handlers=t.handlers,this._opcodeMap=t.opcodeMap,t.opcodes}async _executeCall(t){var d,l,u,h;let n=t.gasLimit;const r=t.caller;if(this.common.isActivatedEIP(6800)||this.common.isActivatedEIP(7864)){if(t.accessWitness===void 0)throw W("accessWitness is required for EIP-6800 & EIP-7864");const p=t.value!==q;if(t.depth===0){const g=t.accessWitness.readAccountHeader(r);ds(`originAccessGas=${g} waived off for origin at depth=0`);let m=t.accessWitness.readAccountCodeHash(t.to);p?m+=t.accessWitness.writeAccountBasicData(t.to):m+=t.accessWitness.readAccountBasicData(t.to),ds(`destAccessGas=${m} waived off for target at depth=0`)}let f=t.accessWitness.readAccountBasicData(t.to);if(p&&(f+=t.accessWitness.writeAccountBasicData(t.to)),n-=f,n<q)return this.DEBUG&&ds(`callAccessGas charged(${f}) caused OOG (-> ${n})`),t.accessWitness.revert(),{execResult:St(t.gasLimit)};this.DEBUG&&ds(`callAccessGas used (${f} gas (-> ${n}))`),t.accessWitness.commit()}let i=await this.stateManager.getAccount(r);i||(i=new Rt);let s;if(!t.delegatecall)try{await this._reduceSenderBalance(i,t)}catch(p){s=p}let o=await this.stateManager.getAccount(t.to);if(!o){if(this.common.isActivatedEIP(6800)||this.common.isActivatedEIP(7864)){const p=t.accessWitness.readAccountHeader(t.to);if(n-=p,n<q)return this.DEBUG&&ds(`Proof of absence access charged(${p}) caused OOG (-> ${n})`),(d=t.accessWitness)==null||d.revert(),{execResult:St(t.gasLimit)};this.DEBUG&&ds(`Proof of absence access used (${p} gas (-> ${n}))`),(l=t.accessWitness)==null||l.commit()}o=new Rt}if(!t.delegatecall)try{await this._addToBalance(o,t)}catch(p){s=p}await this._loadCode(t);let c=!1;if((!t.code||typeof t.code!="function"&&t.code.length===0)&&(c=!0,this.DEBUG&&bt("Exit early on no code (CALL)")),s!==void 0&&(c=!0,this.DEBUG&&bt("Exit early on value transfer overflowed (CALL)")),c)return{execResult:{gasRefund:t.gasRefund,executionGasUsed:t.gasLimit-n,exceptionError:s,returnValue:new Uint8Array(0)}};let a;if(t.isCompiled){let p,f,g;((u=this._optsCached.profiler)==null?void 0:u.enabled)===!0&&(g=at(t.codeAddress.bytes),g=Pn(g)??g.slice(20),this.performanceLogger.hasTimer()&&(f=this.performanceLogger.pauseTimer()),p=this.performanceLogger.startTimer(g)),a=await this.runPrecompile(t.code,t.data,n),((h=this._optsCached.profiler)==null?void 0:h.enabled)===!0&&(this.performanceLogger.stopTimer(p,Number(a.executionGasUsed),"precompiles"),f!==void 0&&this.performanceLogger.unpauseTimer(f)),a.gasRefund=t.gasRefund}else this.DEBUG&&bt("Start bytecode processing..."),a=await this.runInterpreter({...t,gasLimit:n});return t.depth===0&&this.postMessageCleanup(),a.executionGasUsed+=t.gasLimit-n,{execResult:a}}async _executeCreate(t){var f,g,m,v,y,x,C,b,S,I;let n=t.gasLimit;const r=t.caller;if((this.common.isActivatedEIP(6800)||this.common.isActivatedEIP(7864))&&t.depth===0){const L=t.accessWitness.readAccountHeader(r);ds(`originAccessGas=${L} waived off for origin at depth=0`)}let i=await this.stateManager.getAccount(t.caller);if(i||(i=new Rt),await this._reduceSenderBalance(i,t),this.common.isActivatedEIP(3860)&&t.data.length>Number(this.common.param("maxInitCodeSize"))&&!this.allowUnlimitedInitCodeSize)return{createdAddress:t.to,execResult:{returnValue:new Uint8Array(0),exceptionError:new ee(ee.errorMessages.INITCODE_SIZE_VIOLATION),executionGasUsed:t.gasLimit}};t.code=t.data,t.data=t.eofCallData??new Uint8Array,t.to=await this._generateAddress(t),this.common.isActivatedEIP(6780)&&t.createdAddresses.add(t.to.toString()),this.DEBUG&&bt(`Generated CREATE contract address ${t.to}`);let s=await this.stateManager.getAccount(t.to);if(s||(s=new Rt),this.common.isActivatedEIP(6800)||this.common.isActivatedEIP(7864)){const L=t.accessWitness.writeAccountBasicData(t.to)+t.accessWitness.readAccountCodeHash(t.to);if(n-=L,n<q)return this.DEBUG&&(ds(`ContractCreateInit charge(${L}) caused OOG (-> ${n})`),(f=t.accessWitness)==null||f.revert()),{execResult:St(t.gasLimit)};this.DEBUG&&ds(`ContractCreateInit charged (${L} gas (-> ${n}))`),(g=t.accessWitness)==null||g.commit()}if(s.nonce&&s.nonce>q||Ye(s.codeHash,gc)!==!0||Ye(s.storageRoot,ua)!==!0)return this.DEBUG&&bt("Returning on address collision"),{createdAddress:t.to,execResult:{returnValue:new Uint8Array(0),exceptionError:new ee(ee.errorMessages.CREATE_COLLISION),executionGasUsed:t.gasLimit}};await this.journal.putAccount(t.to,s),await this.stateManager.clearStorage(t.to);const o={address:t.to,code:t.code};await this._emit("newContract",o),s=await this.stateManager.getAccount(t.to),s||(s=new Rt),this.common.gteHardfork(se.SpuriousDragon)&&(s.nonce+=ze);let c;try{await this._addToBalance(s,t)}catch(L){c=L}let a=!1;if((t.code===void 0||typeof t.code!="function"&&t.code.length===0)&&(a=!0,this.DEBUG&&bt("Exit early on no code (CREATE)")),c!==void 0&&(a=!0,this.DEBUG&&bt("Exit early on value transfer overflowed (CREATE)")),a){if(this.common.isActivatedEIP(6800)||this.common.isActivatedEIP(7864)){const L=t.accessWitness.writeAccountHeader(t.to);if(n-=L,n<q)return this.DEBUG&&bt(`ContractCreateComplete access gas (${L}) caused OOG (-> ${n})`),(m=t.accessWitness)==null||m.revert(),{execResult:St(t.gasLimit)};this.DEBUG&&bt(`ContractCreateComplete access used (${L}) gas (-> ${n})`),(v=t.accessWitness)==null||v.commit()}return{createdAddress:t.to,execResult:{executionGasUsed:t.gasLimit-n,gasRefund:t.gasRefund,exceptionError:c,returnValue:new Uint8Array(0)}}}this.DEBUG&&bt("Start bytecode processing...");let d=await this.runInterpreter({...t,gasLimit:n,isCreate:!0});d.executionGasUsed+=t.gasLimit-n;let l=d.executionGasUsed,u=q;!d.exceptionError&&!this.common.isActivatedEIP(6800)&&(u=BigInt(d.returnValue.length)*BigInt(this.common.param("createDataGas")),l=l+u,this.DEBUG&&ds(`Add return value size fee (${u} to gas used (-> ${l}))`));let h=!0;!d.exceptionError&&this.common.gteHardfork(se.SpuriousDragon)&&d.returnValue.length>Number(this.common.param("maxCodeSize"))&&(h=!1);let p=!1;if(l<=t.gasLimit&&(this.allowUnlimitedContractSize||h)?this.common.isActivatedEIP(3541)&&d.returnValue[0]===Jm?this.common.isActivatedEIP(3540)?Na(t.code)?d.executionGasUsed=l:d={...d,...d2(t.gasLimit)}:d={...d,...d2(t.gasLimit)}:d.executionGasUsed=l:this.common.gteHardfork(se.Homestead)?h?(this.DEBUG&&bt("Contract creation: out of gas"),(y=t.accessWitness)==null||y.revert(),d={...d,...St(t.gasLimit)}):(this.DEBUG&&bt("Code size exceeds maximum code size (>= SpuriousDragon)"),d={...d,...OH(t.gasLimit)}):l-u<=t.gasLimit?(this.DEBUG&&bt("Not enough gas to pay the code deposit fee (Frontier)"),(x=t.accessWitness)==null||x.revert(),d={...d,...PH(l-u)},p=!0):(this.DEBUG&&bt("Contract creation: out of gas"),(C=t.accessWitness)==null||C.revert(),d={...d,...St(t.gasLimit)}),n=t.gasLimit-d.executionGasUsed,!d.exceptionError&&(this.common.isActivatedEIP(6800)||this.common.isActivatedEIP(7864))){const L=t.accessWitness.writeAccountHeader(t.to);n-=L,n<q?(this.DEBUG&&bt(`ContractCreateComplete access gas (${L}) caused OOG (-> ${n})`),(b=t.accessWitness)==null||b.revert(),d={...d,...St(t.gasLimit)}):(bt(`ContractCreateComplete access used (${L}) gas (-> ${n})`),d.executionGasUsed+=L)}if(!d.exceptionError&&d.returnValue!==void 0&&d.returnValue.length!==0){if(this.common.isActivatedEIP(6800)||this.common.isActivatedEIP(7864)){const L=t.accessWitness.writeAccountCodeChunks(t.to,0,d.returnValue.length-1);n-=L,n<q?(this.DEBUG&&bt(`byteCodeWrite access gas (${L}) caused OOG (-> ${n})`),(S=t.accessWitness)==null||S.revert(),d={...d,...St(t.gasLimit)}):(bt(`byteCodeWrite access used (${L}) gas (-> ${n})`),(I=t.accessWitness)==null||I.commit(),d.executionGasUsed+=L)}await this.stateManager.putCode(t.to,d.returnValue),this.DEBUG&&bt("Code saved on new contract creation")}else if(p&&!this.common.gteHardfork(se.Homestead)){const L=await this.stateManager.getAccount(t.to);await this.journal.putAccount(t.to,L??new Rt)}return t.depth===0&&this.postMessageCleanup(),{createdAddress:t.to,execResult:d}}async runInterpreter(t,n={}){var d,l;let r=await this.stateManager.getAccount(t.to??gi());r||(r=new Rt);const i={address:t.to??gi(),caller:t.caller??gi(),callData:t.data??Uint8Array.from([0]),callValue:t.value??q,code:t.code,isStatic:t.isStatic??!1,isCreate:t.isCreate??!1,depth:t.depth??0,gasPrice:this._tx.gasPrice,origin:this._tx.origin??t.caller??gi(),block:this._block??Bv(),contract:r,codeAddress:t.codeAddress,gasRefund:t.gasRefund,chargeCodeAccesses:t.chargeCodeAccesses,blobVersionedHashes:t.blobVersionedHashes??[],accessWitness:t.accessWitness,createdAddresses:t.createdAddresses},s=new O7(this,this.stateManager,this.blockchain,i,t.gasLimit,this.journal,this.performanceLogger,this._optsCached.profiler);t.selfdestruct&&(s._result.selfdestruct=t.selfdestruct),t.createdAddresses&&(s._result.createdAddresses=t.createdAddresses);const o=await s.run(t.code,n);let c=s._result,a=t.gasLimit-o.runState.gasLeft;return o.exceptionError&&(o.exceptionError.error!==ee.errorMessages.REVERT&&o.exceptionError.error!==ee.errorMessages.INVALID_EOF_FORMAT&&(a=t.gasLimit),c={...c,logs:[],selfdestruct:new Set,createdAddresses:new Set}),(d=t.accessWitness)==null||d.commit(),{...c,runState:{...o.runState,...c,...s._env},exceptionError:o.exceptionError,gas:(l=o.runState)==null?void 0:l.gasLeft,executionGasUsed:a,gasRefund:o.runState.gasRefund,returnValue:c.returnValue??new Uint8Array(0)}}async runCall(t){var c,a,d;let n;(t.depth===0||t.message===void 0)&&((c=this._optsCached.profiler)==null?void 0:c.enabled)===!0&&(n=this.performanceLogger.startTimer("Initialization"));let r=t.message,i;if(!r){this._block=t.block??Bv();const l=t.caller??gi();this._tx={gasPrice:t.gasPrice??q,origin:t.origin??l};const u=t.value??q;t.skipBalance===!0&&(i=await this.stateManager.getAccount(l),i||(i=new Rt),i.balance<u&&(i.balance=u,await this.journal.putAccount(l,i))),r=new Fa({caller:l,gasLimit:t.gasLimit??BigInt(16777215),to:t.to,value:u,data:t.data,code:t.code,depth:t.depth,isCompiled:t.isCompiled,isStatic:t.isStatic,salt:t.salt,selfdestruct:t.selfdestruct??new Set,createdAddresses:t.createdAddresses??new Set,delegatecall:t.delegatecall,blobVersionedHashes:t.blobVersionedHashes,accessWitness:this.verkleAccessWitness})}r.depth===0&&(i||(i=await this.stateManager.getAccount(r.caller)),i||(i=new Rt),i.nonce++,await this.journal.putAccount(r.caller,i),this.DEBUG&&bt(`Update fromAccount (caller) nonce (-> ${i.nonce}))`)),await this._emit("beforeMessage",r),!r.to&&this.common.isActivatedEIP(2929)&&(r.code=r.data,this.journal.addWarmedAddress((await this._generateAddress(r)).bytes)),await this.journal.checkpoint(),this.common.isActivatedEIP(1153)&&this.transientStorage.checkpoint(),this.DEBUG&&(bt("-".repeat(100)),bt("message checkpoint"));let s;if(this.DEBUG){const{caller:l,gasLimit:u,to:h,value:p,delegatecall:f}=r;bt(`New message caller=${l} gasLimit=${u} to=${(h==null?void 0:h.toString())??"none"} value=${p} delegatecall=${f?"yes":"no"}`)}if(r.to?(this.DEBUG&&bt(`Message CALL execution (to: ${r.to})`),s=await this._executeCall(r)):(this.DEBUG&&bt("Message CREATE execution (to: undefined)"),s=await this._executeCreate(r)),this.DEBUG){const{executionGasUsed:l,exceptionError:u,returnValue:h}=s.execResult;bt(`Received message execResult: [ gasUsed=${l} exceptionError=${u?`'${u.error}'`:"none"} returnValue=${ya(h)} gasRefund=${s.execResult.gasRefund??0} ]`)}const o=s.execResult.exceptionError;return o&&o.error!==ee.errorMessages.CODESTORE_OUT_OF_GAS&&(s.execResult.selfdestruct=new Set,s.execResult.createdAddresses=new Set,s.execResult.gasRefund=q),o&&!(this.common.hardfork()===se.Chainstart&&o.error===ee.errorMessages.CODESTORE_OUT_OF_GAS)?(s.execResult.logs=[],await this.journal.revert(),this.common.isActivatedEIP(1153)&&this.transientStorage.revert(),this.DEBUG&&bt("message checkpoint reverted")):(await this.journal.commit(),this.common.isActivatedEIP(1153)&&this.transientStorage.commit(),this.DEBUG&&bt("message checkpoint committed")),await this._emit("afterMessage",s),r.depth===0&&((a=this._optsCached.profiler)==null?void 0:a.enabled)===!0&&this.performanceLogger.stopTimer(n,0),(d=r.accessWitness)==null||d.commit(),s}async runCode(t){this._block=t.block??Bv(),this._tx={gasPrice:t.gasPrice??q,origin:t.origin??t.caller??gi()};const n=new Fa({code:t.code,data:t.data,gasLimit:t.gasLimit??BigInt(16777215),to:t.to??gi(),caller:t.caller,value:t.value,depth:t.depth,selfdestruct:t.selfdestruct??new Set,isStatic:t.isStatic,blobVersionedHashes:t.blobVersionedHashes});return this.runInterpreter(n,{pc:t.pc})}getPrecompile(t){return this.precompiles.get(at(t.bytes))}runPrecompile(t,n,r){if(typeof t!="function")throw W("Invalid precompile");const i={data:n,gasLimit:r,common:this.common,_EVM:this,_debug:this.DEBUG?RH:void 0,stateManager:this.stateManager};return t(i)}async _loadCode(t){if(!t.code){const n=this.getPrecompile(t.codeAddress);if(n)t.code=n,t.isCompiled=!0;else{if(t.code=await this.stateManager.getCode(t.codeAddress),this.common.isActivatedEIP(7702)&&Ye(t.code.slice(0,3),t$)){const r=new Ht(t.code.slice(3,24));t.code=await this.stateManager.getCode(r),t.depth===0&&this.journal.addAlwaysWarmAddress(r.toString())}t.isCompiled=!1,t.chargeCodeAccesses=!0}}}async _generateAddress(t){let n;if(t.salt)n=tU(t.caller.bytes,t.salt,t.code);else{let r=await this.stateManager.getAccount(t.caller);r||(r=new Rt);const i=r.nonce-ze;n=eU(t.caller.bytes,Je(i))}return new Ht(n)}async _reduceSenderBalance(t,n){if(t.balance-=n.value,t.balance<q)throw new ee(ee.errorMessages.INSUFFICIENT_BALANCE);const r=this.journal.putAccount(n.caller,t);return this.DEBUG&&bt(`Reduced sender (${n.caller}) balance (-> ${t.balance})`),r}async _addToBalance(t,n){const r=t.balance+n.value;if(r>rs)throw new ee(ee.errorMessages.VALUE_OVERFLOW);t.balance=r,await this.journal.putAccount(n.to,t),this.DEBUG&&bt(`Added toAccount (${n.to}) balance (-> ${t.balance})`)}postMessageCleanup(){this.common.isActivatedEIP(1153)&&this.transientStorage.clear()}shallowCopy(){const t=this.common.copy();t.setHardfork(this.common.hardfork());const n={...this._optsCached,common:t,stateManager:this.stateManager.shallowCopy()};return n.stateManager.common=t,new kf(n)}getPerformanceLogs(){return this.performanceLogger.getLogs()}clearPerformanceLogs(){this.performanceLogger.clear()}}kf.supportedHardforks=[se.Chainstart,se.Homestead,se.Dao,se.TangerineWhistle,se.SpuriousDragon,se.Byzantium,se.Constantinople,se.Petersburg,se.Istanbul,se.MuirGlacier,se.Berlin,se.London,se.ArrowGlacier,se.GrayGlacier,se.MergeNetsplitBlock,se.Paris,se.Shanghai,se.Cancun,se.Prague,se.Osaka,se.Verkle];class B${constructor(){this.cache=new Map}set(t,n){this.cache.set(t,n)}get(t){return this.cache.get(t)}del(t){this.cache.delete(t)}commit(){const t=Array.from(this.cache.entries());return this.clear(),t}clear(){this.cache.clear()}size(){return this.cache.size}}class D${constructor(){this.cache=new Map}set(t,n){this.cache.set(t,n)}get(t){return this.cache.get(t)}del(t){this.cache.delete(t)}commit(){const t=Array.from(this.cache.entries());return this.clear(),t}clear(){this.cache.clear()}size(){return this.cache.size}}const jl=ii("evm:binaryTree:aw"),f2=BigInt(1900),h2=BigInt(200),p2=BigInt(3e3),g2=BigInt(500),NH=BigInt(6200);function BH(e,t){const n=BigInt(e)*BigInt(mf)+BigInt(t);switch(n){case BigInt(0):return{type:td.BasicData};case BigInt(1):return{type:td.CodeHash};default:if(n<mc)throw Error(`No attribute yet stored >=2 and <${mc}`);if(n>=mc&&n<Uc){const r=n-BigInt(mc);return{type:td.Storage,slot:r}}else if(n>=Uc&&n<Ep){const r=Number(n)-Uc;return{type:td.Code,codeOffset:r*31}}else if(n>=Ep){const r=BigInt(n-Ep);return{type:td.Storage,slot:r}}else throw Error(`Invalid treeIndex=${e} chunkIndex=${t} for binary tree access`)}}class DH{constructor(t){this.stemCache=new D$,this.chunkCache=new B$,this.hashFunction=t.hashFunction,this.stems=t.stems??new Map,this.chunks=t.chunks??new Map}readAccountBasicData(t){return this.touchAddressOnReadAndComputeGas(t,0,vb)}writeAccountBasicData(t){return this.touchAddressOnWriteAndComputeGas(t,0,vb)}readAccountCodeHash(t){return this.touchAddressOnReadAndComputeGas(t,0,yb)}writeAccountCodeHash(t){return this.touchAddressOnWriteAndComputeGas(t,0,yb)}readAccountHeader(t){let n=q;return n+=this.readAccountBasicData(t),n+=this.readAccountCodeHash(t),n}writeAccountHeader(t){let n=q;return n+=this.writeAccountBasicData(t),n+=this.writeAccountCodeHash(t),n}readAccountCodeChunks(t,n,r){let i=q;for(let s=Math.floor(n/31);s<=Math.floor(r/31);s++){const{treeIndex:o,subIndex:c}=TC(s);i+=this.touchAddressOnReadAndComputeGas(t,o,c)}return i}writeAccountCodeChunks(t,n,r){let i=q;for(let s=Math.floor(n/31);s<=Math.floor(r/31);s++){const{treeIndex:o,subIndex:c}=TC(s);i+=this.touchAddressOnWriteAndComputeGas(t,o,c)}return i}readAccountStorage(t,n){const{treeIndex:r,subIndex:i}=IC(n);return this.touchAddressOnReadAndComputeGas(t,r,i)}writeAccountStorage(t,n){const{treeIndex:r,subIndex:i}=IC(n);return this.touchAddressOnWriteAndComputeGas(t,r,i)}touchAddressOnWriteAndComputeGas(t,n,r){return this.touchAddressAndComputeGas(t,n,r,{isWrite:!0})}touchAddressOnReadAndComputeGas(t,n,r){return this.touchAddressAndComputeGas(t,n,r,{isWrite:!1})}touchAddressAndComputeGas(t,n,r,{isWrite:i}){let s=q;const{stemRead:o,stemWrite:c,chunkRead:a,chunkWrite:d,chunkFill:l}=this.touchAddress(t,n,r,{isWrite:i});return o===!0&&(s+=f2),c===!0&&(s+=p2),a===!0&&(s+=h2),d===!0&&(s+=g2),l===!0&&(s+=NH),jl(`touchAddressAndComputeGas=${s} address=${t} treeIndex=${n} subIndex=${r}`),s}touchAddress(t,n,r,{isWrite:i}={}){let s=!1,o=!1,c=!1,a=!1;const d=!1,l=vU(this.hashFunction,t,n),u=ie(l);let h=this.stemCache.get(u)??this.stems.get(u);h===void 0&&(s=!0,h={address:t,treeIndex:n},this.stemCache.set(u,h));const p=bU(l,typeof r=="number"?_i(r):r),f=ie(p);let g=this.chunkCache.get(f)??this.chunks.get(f);return g===void 0&&(c=!0,g={},this.chunkCache.set(f,g)),i===!0&&(h.write!==!0&&(o=!0,h.write=!0),g.write!==!0&&(a=!0,g.write=!0)),jl(`${f}: isWrite=${i} for stemRead=${s} stemWrite=${o} chunkRead=${c} chunkWrite=${a} chunkFill=${d}`),{stemRead:s,stemWrite:o,chunkRead:c,chunkWrite:a,chunkFill:d}}merge(t){for(const[n,r]of t.chunks.entries()){const i=n.slice(0,n.length-2),s=t.stems.get(i);if(s===void 0)throw Error(`Internal error: missing stem for the chunkKey=${n}`);const o=this.stems.get(i);o===void 0?this.stems.set(i,s):o.write=o.write!==!0?s.write:!0;const c=this.chunks.get(n);c===void 0?this.chunks.set(n,r):(c.write=c.write!==!0?r.write:!0,c.fill=c.fill!==!0?c.fill:!0)}}commit(){const t=this.stemCache.commit();for(const[r,i]of t)this.stems.set(r,i);const n=this.chunkCache.commit();for(const[r,i]of n)this.chunks.set(r,i)}revert(){this.stemCache.clear(),this.chunkCache.clear()}debugWitnessCost(){let t=0,n=0,r=0,i=0;for(const[s,{write:o}]of this.stems.entries())t++,o===!0&&n++;for(const[s,{write:o}]of this.chunks.entries())r++,o===!0&&i++;jl(`${t} stem reads, totalling ${BigInt(t)*f2} gas units`),jl(`${n} stem writes, totalling ${BigInt(n)*p2} gas units`),jl(`${r} chunk reads, totalling ${BigInt(r)*h2} gas units`),jl(`${i} chunk writes, totalling ${BigInt(i)*g2} gas units`)}*rawAccesses(){for(const t of this.chunks.keys()){const n=t.slice(0,t.length-2),r=this.stems.get(n);if(r===void 0)throw Error(`Internal error: missing stem for the chunkKey=${t}`);const{address:i,treeIndex:s}=r,o=+`0x${t.slice(t.length-2)}`;yield{address:i,treeIndex:s,chunkIndex:o,chunkKey:t}}}*accesses(){for(const t of this.rawAccesses()){const{address:n,treeIndex:r,chunkIndex:i,chunkKey:s}=t;yield{...BH(r,i),address:n,chunkKey:s}}}}async function F$(e){const t=e??{};return t.bn254=new LH,t.common===void 0&&(t.common=new $u({chain:kl})),t.blockchain===void 0&&(t.blockchain=new e$),t.stateManager===void 0&&(t.stateManager=new ix),new kf(t)}const Vl=ii("evm:verkle:aw"),m2=BigInt(1900),v2=BigInt(200),y2=BigInt(3e3),b2=BigInt(500),FH=BigInt(6200);function UH(e,t){const n=BigInt(e)*BigInt(bf)+BigInt(t);switch(n){case BigInt(0):return{type:nd.BasicData};case BigInt(1):return{type:nd.CodeHash};default:if(n<vc)throw Error(`No attribute yet stored >=2 and <${vc}`);if(n>=vc&&n<Gc){const r=n-BigInt(vc);return{type:nd.Storage,slot:r}}else if(n>=Gc&&n<Cp){const r=Number(n)-Gc;return{type:nd.Code,codeOffset:r*31}}else if(n>=Cp){const r=BigInt(n-Cp);return{type:nd.Storage,slot:r}}else throw Error(`Invalid treeIndex=${e} chunkIndex=${t} for verkle tree access`)}}class GH{constructor(t){if(this.stemCache=new D$,this.chunkCache=new B$,t.verkleCrypto===void 0)throw W("verkle crypto required");this.verkleCrypto=t.verkleCrypto,this.stems=t.stems??new Map,this.chunks=t.chunks??new Map}readAccountBasicData(t){return this.touchAddressOnReadAndComputeGas(t,0,bb)}writeAccountBasicData(t){return this.touchAddressOnWriteAndComputeGas(t,0,bb)}readAccountCodeHash(t){return this.touchAddressOnReadAndComputeGas(t,0,wb)}writeAccountCodeHash(t){return this.touchAddressOnWriteAndComputeGas(t,0,wb)}readAccountHeader(t){let n=q;return n+=this.readAccountBasicData(t),n+=this.readAccountCodeHash(t),n}writeAccountHeader(t){let n=q;return n+=this.writeAccountBasicData(t),n+=this.writeAccountCodeHash(t),n}readAccountCodeChunks(t,n,r){let i=q;for(let s=Math.floor(n/31);s<=Math.floor(r/31);s++){const{treeIndex:o,subIndex:c}=LC(s);i+=this.touchAddressOnReadAndComputeGas(t,o,c)}return i}writeAccountCodeChunks(t,n,r){let i=q;for(let s=Math.floor(n/31);s<=Math.floor(r/31);s++){const{treeIndex:o,subIndex:c}=LC(s);i+=this.touchAddressOnWriteAndComputeGas(t,o,c)}return i}readAccountStorage(t,n){const{treeIndex:r,subIndex:i}=$C(n);return this.touchAddressOnReadAndComputeGas(t,r,i)}writeAccountStorage(t,n){const{treeIndex:r,subIndex:i}=$C(n);return this.touchAddressOnWriteAndComputeGas(t,r,i)}touchAddressOnWriteAndComputeGas(t,n,r){return this.touchAddressAndComputeGas(t,n,r,{isWrite:!0})}touchAddressOnReadAndComputeGas(t,n,r){return this.touchAddressAndComputeGas(t,n,r,{isWrite:!1})}touchAddressAndComputeGas(t,n,r,{isWrite:i}){let s=q;const{stemRead:o,stemWrite:c,chunkRead:a,chunkWrite:d,chunkFill:l}=this.touchAddress(t,n,r,{isWrite:i});return o===!0&&(s+=m2),c===!0&&(s+=y2),a===!0&&(s+=v2),d===!0&&(s+=b2),l===!0&&(s+=FH),Vl(`touchAddressAndComputeGas=${s} address=${t} treeIndex=${n} subIndex=${r}`),s}touchAddress(t,n,r,{isWrite:i}={}){let s=!1,o=!1,c=!1,a=!1;const d=!1,l=MU(this.verkleCrypto,t,n),u=ie(l);let h=this.stemCache.get(u)??this.stems.get(u);h===void 0&&(s=!0,h={address:t,treeIndex:n},this.stemCache.set(u,h));const p=PU(l,typeof r=="number"?_i(r):r),f=ie(p);let g=this.chunkCache.get(f)??this.chunks.get(f);return g===void 0&&(c=!0,g={},this.chunkCache.set(f,g)),i===!0&&(h.write!==!0&&(o=!0,h.write=!0),g.write!==!0&&(a=!0,g.write=!0)),Vl(`${f}: isWrite=${i} for stemRead=${s} stemWrite=${o} chunkRead=${c} chunkWrite=${a} chunkFill=${d}`),{stemRead:s,stemWrite:o,chunkRead:c,chunkWrite:a,chunkFill:d}}merge(t){for(const[n,r]of t.chunks.entries()){const i=n.slice(0,n.length-2),s=t.stems.get(i);if(s===void 0)throw Error(`Internal error: missing stem for the chunkKey=${n}`);const o=this.stems.get(i);o===void 0?this.stems.set(i,s):o.write=o.write!==!0?s.write:!0;const c=this.chunks.get(n);c===void 0?this.chunks.set(n,r):(c.write=c.write!==!0?r.write:!0,c.fill=c.fill!==!0?c.fill:!0)}}commit(){const t=this.stemCache.commit();for(const[r,i]of t)this.stems.set(r,i);const n=this.chunkCache.commit();for(const[r,i]of n)this.chunks.set(r,i)}revert(){this.stemCache.clear(),this.chunkCache.clear()}debugWitnessCost(){let t=0,n=0,r=0,i=0;for(const[s,{write:o}]of this.stems.entries())t++,o===!0&&n++;for(const[s,{write:o}]of this.chunks.entries())r++,o===!0&&i++;Vl(`${t} stem reads, totalling ${BigInt(t)*m2} gas units`),Vl(`${n} stem writes, totalling ${BigInt(n)*y2} gas units`),Vl(`${r} chunk reads, totalling ${BigInt(r)*v2} gas units`),Vl(`${i} chunk writes, totalling ${BigInt(i)*b2} gas units`)}*rawAccesses(){for(const t of this.chunks.keys()){const n=t.slice(0,t.length-2),r=this.stems.get(n);if(r===void 0)throw Error(`Internal error: missing stem for the chunkKey=${t}`);const{address:i,treeIndex:s}=r,o=+`0x${t.slice(t.length-2)}`;yield{address:i,treeIndex:s,chunkIndex:o,chunkKey:t}}}*accesses(){for(const t of this.rawAccesses()){const{address:n,treeIndex:r,chunkIndex:i,chunkKey:s}=t;yield{...UH(r,i),address:n,chunkKey:s}}}}function w2(e,t){if(e.length===0)return;let n=0,r=0,i=0;const s=["tag","calls","avgTimePerCall","totalTime","staticGasUsed","dynamicGasUsed","gasUsed","staticGas","millionGasPerSecond","blocksPerSlot"],o=["tag","calls","ms/call","total (ms)","sgas","dgas","total (s+d)","static fee","Mgas/s","BpS"];function c(C,b){return" "+C.toString().padStart(b," ")+" "}function a(C){return c(C,0).length-2}const d=[];for(const C of e){let b=0;d[b]=Math.max(d[b]??0,a(o[b]));for(const S of s)if(C[S]!==void 0)switch(d[b]=Math.max(d[b]??0,a(C[S])),b++,S){case"calls":n+=C[S];break;case"totalTime":r+=C[S];break;case"gasUsed":i+=C[S];break}}for(const C in d)d[C]=Math.max(d[C]??0,a(o[C]));const l=d.reduce((C,b)=>C+b,0)+d.length*3-1,p=3e7/12e3,f=i/r,g=Math.round(f)/1e3,m=Math.round(f/p*1e3)/1e3;console.log("+== "+t+" ==+"),console.log(`+== Calls: ${n}, Total time: ${Math.round(r*1e3)/1e3}ms, Total gas: ${i}, MGas/s: ${g}, Blocks per Slot (BpS): ${m} ==+`);const v="|"+"-".repeat(l)+"|";console.log(v);let y="";for(const C in d)y+="|"+c(o[C],d[C]);y+="|",console.log(y);for(const C of e){let b="",S=0;for(const I of s)C[I]!==void 0&&(b+="|"+c(C[I],d[S]),S++);b+="|",console.log(b)}const x="+"+"-".repeat(l)+"+";console.log(x)}ii("vm:block");const Dv=da("0x000F3df6D732807Ef1319fB7B8bB8522d0Beac02");async function zH(e,t,n){if(!e.common.isActivatedEIP(2935))throw W("Cannot call `accumulateParentBlockHash`: EIP 2935 is not active");const r=new Ht(Hm(e.common.param("historyStorageAddress"))),i=e.common.param("historyServeWindow");if((await e.stateManager.getCode(r)).length===0)return;async function o(c,a,d){const l=d%i;if(c.common.isActivatedEIP(6800)){if(c.evm.systemVerkleAccessWitness===void 0)throw Error("verkleAccessWitness required if verkle (EIP-6800) is activated");c.evm.systemVerkleAccessWitness.writeAccountStorage(r,l)}else if(c.common.isActivatedEIP(7864)){if(c.evm.systemBinaryTreeAccessWitness===void 0)throw Error("systemBinaryTreeAccessWitness required if binary tree (EIP-7864) is activated");c.evm.systemBinaryTreeAccessWitness.writeAccountStorage(r,l)}const u=qe(Je(l),32);await c.stateManager.putStorage(r,u,a)}await o(e,n,t-ze),await e.evm.journal.cleanup()}async function HH(e,t,n){if(!e.common.isActivatedEIP(4788))throw W("Cannot call `accumulateParentBeaconBlockRoot`: EIP 4788 is not active");const r=BigInt(e.common.param("historicalRootsLength")),i=n%r,s=i+r;(await e.stateManager.getCode(Dv)).length!==0&&(await e.stateManager.putStorage(Dv,qe(Je(i),32),Je(n)),await e.stateManager.putStorage(Dv,qe(Je(s),32),t),await e.evm.journal.cleanup())}function WH(e,t){const r=e/BigInt(32)*BigInt(t);return e+r}async function x2(e,t,n,r){let i=await e.stateManager.getAccount(t);if(i===void 0){if(r.isActivatedEIP(6800)===!0&&n!==q){if(e.systemVerkleAccessWitness===void 0)throw Error("verkleAccessWitness required if verkle (EIP-6800) is activated");e.systemVerkleAccessWitness.writeAccountHeader(t)}if(r.isActivatedEIP(7864)===!0&&n!==q){if(e.systemBinaryTreeAccessWitness===void 0)throw Error("systemBinaryTreeAccessWitness required if binary tree (EIP-7864) is activated");e.systemBinaryTreeAccessWitness.writeAccountHeader(t)}i=new Rt}if(i.balance+=n,await e.journal.putAccount(t,i),r.isActivatedEIP(6800)===!0&&n!==q){if(e.systemVerkleAccessWitness===void 0)throw Error("verkleAccessWitness required if verkle (EIP-6800) is activated");e.systemVerkleAccessWitness.writeAccountBasicData(t),e.systemVerkleAccessWitness.readAccountCodeHash(t)}if(r.isActivatedEIP(7864)===!0&&n!==q){if(e.systemBinaryTreeAccessWitness===void 0)throw Error("systemBinaryTreeAccessWitness required if binary tree (EIP-7864) is activated");e.systemBinaryTreeAccessWitness.writeAccountBasicData(t),e.systemBinaryTreeAccessWitness.readAccountCodeHash(t)}return i}function jH(e,t){const n=ut.encode([e.stateRoot??(e.status===0?Uint8Array.from([]):We("0x01")),Je(e.cumulativeBlockGasUsed),e.bitvector,e.logs]);return t===Vn.Legacy?n:Xe(_i(t),n)}const cd={Reverted:"reverted",Build:"build",Pending:"pending"};class VH{get transactionReceipts(){return this.transactionResults.map(t=>t.receipt)}get minerValue(){return this._minerValue}constructor(t,n){var r,i,s,o,c;this.gasUsed=q,this.blobGasUsed=q,this._minerValue=q,this.transactions=[],this.transactionResults=[],this.checkpointed=!1,this.blockStatus={status:cd.Pending},this.vm=t,this.blockOpts={putBlockIntoBlockchain:!0,...n.blockOpts,common:this.vm.common},this.headerData={...n.headerData,parentHash:((r=n.headerData)==null?void 0:r.parentHash)??n.parentBlock.hash(),number:((i=n.headerData)==null?void 0:i.number)??n.parentBlock.header.number+ze,gasLimit:((s=n.headerData)==null?void 0:s.gasLimit)??n.parentBlock.header.gasLimit,timestamp:((o=n.headerData)==null?void 0:o.timestamp)??Math.round(Date.now()/1e3)},this.withdrawals=(c=n.withdrawals)==null?void 0:c.map(ET),this.vm.common.isActivatedEIP(1559)&&typeof this.headerData.baseFeePerGas>"u"&&(this.headerData.number===t.common.hardforkBlock(se.London)?this.headerData.baseFeePerGas=t.common.param("initialBaseFee"):this.headerData.baseFeePerGas=n.parentBlock.header.calcNextBaseFee()),typeof this.headerData.gasLimit>"u"&&(this.headerData.number===t.common.hardforkBlock(se.London)?this.headerData.gasLimit=n.parentBlock.header.gasLimit*Qr:this.headerData.gasLimit=n.parentBlock.header.gasLimit),this.vm.common.isActivatedEIP(4844)&&typeof this.headerData.excessBlobGas>"u"&&(this.headerData.excessBlobGas=n.parentBlock.header.calcNextExcessBlobGas(this.vm.common))}checkStatus(){if(this.blockStatus.status===cd.Build)throw W("Block has already been built");if(this.blockStatus.status===cd.Reverted)throw W("State has already been reverted")}getStatus(){return this.blockStatus}async transactionsTrie(){return jT(this.transactions,new ks({common:this.vm.common}))}logsBloom(){const t=new ZT(void 0,this.vm.common);for(const n of this.transactionResults)t.or(n.bloom);return t.bitvector}async receiptTrie(){if(this.transactionResults.length===0)return ua;const t=new ks({common:this.vm.common});for(const[n,r]of this.transactionResults.entries()){const i=this.transactions[n],s=jH(r.receipt,i.type);await t.put(ut.encode(n),s)}return t.root()}async rewardMiner(){const t=this.vm.common.param("minerReward"),n=WH(t,0),r=this.headerData.coinbase!==void 0?new Ht(je(this.headerData.coinbase)):gi();await x2(this.vm.evm,r,n,this.vm.common)}async processWithdrawals(){for(const t of this.withdrawals??[]){const{address:n,amount:r}=t;r!==0n&&await x2(this.vm.evm,n,r*G9,this.vm.common)}}async addTransaction(t,{skipHardForkValidation:n,allowNoBlobs:r}={}){var p;this.checkStatus(),this.checkpointed||(await this.vm.evm.journal.checkpoint(),this.checkpointed=!0);const i=Ze(this.headerData.gasLimit,He.BigInt),s=this.vm.common.param("maxBlobGasPerBlock"),o=this.vm.common.param("blobGasPerBlob"),c=i-this.gasUsed;if(t.gasLimit>c)throw W("tx has a higher gas limit than the remaining gas in the block");let a;if(t instanceof wf){if(((p=this.blockOpts.common)==null?void 0:p.isActivatedEIP(4844))===!1)throw Error("eip4844 not activated yet for adding a blob transaction");const f=t;if(f.blobs===void 0&&r!==!0)throw W("blobs missing for 4844 transaction");if(this.blobGasUsed+BigInt(f.numBlobs())*o>s)throw W("block blob gas limit reached");a=this.blobGasUsed}const l={header:{...this.headerData,gasUsed:this.gasUsed,blobGasUsed:a},transactions:this.transactions},u=wg(l,this.blockOpts),h=await XH(this.vm,{tx:t,block:u,skipHardForkValidation:n});if(t instanceof wf){const f=t;this.blobGasUsed+=BigInt(f.blobVersionedHashes.length)*o,t=aG(f,{common:this.blockOpts.common})}return this.transactions.push(t),this.transactionResults.push(h),this.gasUsed+=h.totalGasSpent,this._minerValue+=h.minerValue,h}async revert(){this.checkpointed&&(await this.vm.evm.journal.revert(),this.checkpointed=!1),this.blockStatus={status:cd.Reverted}}async build(t){this.checkStatus();const n=this.blockOpts,r=this.vm.common.consensusType();r===yl.ProofOfWork&&await this.rewardMiner(),await this.processWithdrawals();const i=await this.transactionsTrie(),s=this.withdrawals?await WT(this.withdrawals,new ks({common:this.vm.common})):void 0,o=await this.receiptTrie(),c=this.logsBloom(),a=this.gasUsed,d=this.headerData.timestamp??q;let l;this.vm.common.isActivatedEIP(4844)&&(l=this.blobGasUsed);let u,h;if(this.vm.common.isActivatedEIP(7685)){const y=this.vm.common.customCrypto.sha256??jf;u=await NG(this.vm,this.transactionResults),h=wG(u,y)}const p=await this.vm.stateManager.getStateRoot(),f={...this.headerData,stateRoot:p,transactionsTrie:i,withdrawalsRoot:s,receiptTrie:o,logsBloom:c,gasUsed:a,timestamp:d,blobGasUsed:l,requestsHash:h};r===yl.ProofOfWork&&(f.nonce=(t==null?void 0:t.nonce)??f.nonce,f.mixHash=(t==null?void 0:t.mixHash)??f.mixHash);const g={header:f,transactions:this.transactions,withdrawals:this.withdrawals};let m;const v=this.blockOpts.cliqueSigner;return v!==void 0?m=xG(g,v,this.blockOpts):m=wg(g,n),this.blockOpts.putBlockIntoBlockchain===!0&&await this.vm.blockchain.putBlock(m),this.blockStatus={status:cd.Build,block:m},this.checkpointed&&(await this.vm.evm.journal.commit(),this.checkpointed=!1),{block:m,requests:u}}async initState(){if(this.vm.common.isActivatedEIP(4788)){this.checkpointed||(await this.vm.evm.journal.checkpoint(),this.checkpointed=!0);const{parentBeaconBlockRoot:t,timestamp:n}=this.headerData,r=Ze(n??0,He.BigInt),i=Ze(t,He.Uint8Array)??new Uint8Array(32);await HH(this.vm,i,r)}if(this.vm.common.isActivatedEIP(2935)){this.checkpointed||(await this.vm.evm.journal.checkpoint(),this.checkpointed=!0);const{parentHash:t,number:n}=this.headerData,r=Ze(n??0,He.BigInt),i=Ze(t,He.Uint8Array)??new Uint8Array(32);await zH(this.vm,r,i)}}}async function KH(e,t){const n=new VH(e,t);return await n.initState(),n}const YH={1:{maxRefundQuotient:2,blobGasPerBlob:0,maxBlobGasPerBlock:0,targetBlobGasPerBlock:0,minerReward:"5000000000000000000"},609:{minerReward:"3000000000000000000"},1013:{minerReward:"2000000000000000000"},1559:{elasticityMultiplier:2,initialBaseFee:1e9},2935:{historyStorageAddress:"0x0000F90827F1C53A10CB7A02335B175320002935",historyServeWindow:8191,systemAddress:"0xfffffffffffffffffffffffffffffffffffffffe"},3529:{maxRefundQuotient:5},4844:{targetBlobGasPerBlock:393216,blobGasPerBlob:131072,maxBlobGasPerBlock:786432,blobGasPriceUpdateFraction:3338477,minBlobGas:1},4788:{historicalRootsLength:8191},7002:{systemAddress:"0xfffffffffffffffffffffffffffffffffffffffe",withdrawalRequestPredeployAddress:"0x00000961EF480EB55E80D19AD83579A64C007002"},7251:{systemAddress:"0xfffffffffffffffffffffffffffffffffffffffe",consolidationRequestPredeployAddress:"0x0000BBDDC7CE488642FB579F8B00F3A590007251"},7691:{targetBlobGasPerBlock:786432,maxBlobGasPerBlock:1179648,blobGasPriceUpdateFraction:5007716}};class ZH{constructor(t={}){var n,r;this._isInitialized=!1,this.DEBUG=!1,this.common=t.common,this.common.updateParams(t.params??YH),this.stateManager=t.stateManager,this.blockchain=t.blockchain,this.evm=t.evm,this.events=new vg,this._emit=async(i,s)=>{const o=this.events.listeners(i);for(const c of o)c.length===2?await new Promise(a=>{c(s,a)}):c(s)},this._opts=t,this._setHardfork=t.setHardfork??!1,this.DEBUG=typeof window>"u"?((r=(n=process==null?void 0:process.env)==null?void 0:n.DEBUG)==null?void 0:r.includes("ethjs"))??!1:!1}async shallowCopy(t=!0){var c,a,d,l,u,h;const n=this.common.copy();n.setHardfork(this.common.hardfork());const r=this.blockchain.shallowCopy(),i=this.stateManager.shallowCopy(t),s={...this.evm._optsCached,common:((a=(c=this._opts.evmOpts)==null?void 0:c.common)==null?void 0:a.copy())??n,blockchain:((l=(d=this._opts.evmOpts)==null?void 0:d.blockchain)==null?void 0:l.shallowCopy())??r,stateManager:((h=(u=this._opts.evmOpts)==null?void 0:u.stateManager)==null?void 0:h.shallowCopy(t))??i},o=await F$(s);return U$({stateManager:i,blockchain:this.blockchain,common:n,evm:o,setHardfork:this._setHardfork,profilerOpts:this._opts.profilerOpts})}errorStr(){let t="";try{t=this.common.hardfork()}catch{t="error"}return`vm hf=${t}`}}async function U$(e={}){var n,r;const t=e.stateManager!==void 0;if(e.common===void 0&&(e.common=new $u({chain:kl})),e.stateManager===void 0&&(e.stateManager=new Sf({common:e.common})),e.blockchain===void 0&&(e.blockchain=new e$),e.profilerOpts!==void 0){const i=e.profilerOpts;if(i.reportAfterBlock===!0&&i.reportAfterTx===!0)throw W("Cannot have `reportProfilerAfterBlock` and `reportProfilerAfterTx` set to `true` at the same time")}if(e.evm!==void 0&&e.evmOpts!==void 0)throw W("the evm and evmOpts options cannot be used in conjunction");if(e.evm===void 0){let i=!1;(((n=e.profilerOpts)==null?void 0:n.reportAfterBlock)===!0||((r=e.profilerOpts)==null?void 0:r.reportAfterTx)===!0)&&(i=!0);const s=e.evmOpts??{};e.evm=await F$({common:e.common,stateManager:e.stateManager,blockchain:e.blockchain,profiler:{enabled:i},...s})}if(e.activatePrecompiles===!0&&!t){await e.evm.journal.checkpoint();for(const[i]of Fb(e.common)){const s=new Ht(ca(i));let o=await e.evm.stateManager.getAccount(s);if(o===void 0){o=new Rt;const c=mb({balance:1,storageRoot:o.storageRoot});await e.evm.stateManager.putAccount(s,c)}}await e.evm.journal.commit()}return new ZH(e)}const vn=ii("vm:tx"),Fv=ii("vm:tx:gas"),Li=$b();let Ni=!1;const G$="EVM journal init, address/slot warming, fee validation",S2="Balance/Nonce checks and update",qH="Execution",E2="Logs, gas usage, account/miner balances",C2="Accounts clean up",A2="Access list label",_2="Journal/cache cleanup",k2="Receipts",I2="Entire tx",Uv=new Uint8Array([239,1,0]);async function XH(e,t){var r,i;if(((r=e._opts.profilerOpts)==null?void 0:r.reportAfterTx)===!0&&(Ni=!0),Ni){const s=`Profiler run - Tx ${ie(t.tx.hash())}`;console.log(s),console.time(G$),console.time(I2)}if(t.skipHardForkValidation!==!0&&t.block!==void 0&&(t.tx.common.hardfork()!==t.block.common.hardfork()&&t.tx.common.setHardfork(t.block.common.hardfork()),t.block.common.hardfork()!==e.common.hardfork())){const s=hi("block has a different hardfork than the vm",e,t.block,t.tx);throw W(s)}const n=((i=t.block)==null?void 0:i.header.gasLimit)??Li.gasLimit;if(t.skipBlockGasLimitValidation!==!0&&n<t.tx.gasLimit){const s=hi("tx has a higher gas limit than the block",e,t.block,t.tx);throw W(s)}if(await e.evm.journal.cleanup(),t.reportAccessList===!0&&e.evm.journal.startReportingAccessList(),t.reportPreimages===!0&&e.evm.journal.startReportingPreimages(),await e.evm.journal.checkpoint(),e.DEBUG&&(vn("-".repeat(100)),vn("tx checkpoint")),t.tx.supports(zn.EIP2718TypedTransaction)&&e.common.isActivatedEIP(2718)){if(!e.common.isActivatedEIP(2930)){await e.evm.journal.revert();const o=hi("Cannot run transaction: EIP 2930 is not activated.",e,t.block,t.tx);throw W(o)}if(t.tx.supports(zn.EIP1559FeeMarket)&&!e.common.isActivatedEIP(1559)){await e.evm.journal.revert();const o=hi("Cannot run transaction: EIP 1559 is not activated.",e,t.block,t.tx);throw W(o)}const s=t.tx;for(const o of s.accessList){const[c,a]=o,d=at(c);e.evm.journal.addAlwaysWarmAddress(d,!0);for(const l of a)e.evm.journal.addAlwaysWarmSlot(d,at(l),!0)}}try{const s=await QH(e,t);return await e.evm.journal.commit(),e.DEBUG&&vn("tx checkpoint committed"),s}catch(s){throw await e.evm.journal.revert(),e.DEBUG&&vn("tx checkpoint reverted"),s}finally{if(e.common.isActivatedEIP(2929)&&e.evm.journal.cleanJournal(),e.evm.stateManager.originalStorageCache.clear(),Ni){console.timeEnd(I2);const s=e.evm.getPerformanceLogs();s.precompiles.length===0&&s.opcodes.length===0&&console.log("No precompile or opcode execution."),w2(s.precompiles,"Precompile performance"),w2(s.opcodes,"Opcodes performance"),e.evm.clearPerformanceLogs()}}}async function QH(e,t){var j,V,Z,X;const n=e.stateManager;let r,i;if(e.common.isActivatedEIP(6800)){if(e.evm.verkleAccessWitness===void 0)throw Error("Verkle access witness needed for execution of verkle blocks");if(!("verifyVerklePostState"in e.stateManager))throw W("Verkle State Manager needed for execution of verkle blocks");r=e.evm.verkleAccessWitness,i=new GH({verkleCrypto:e.stateManager.verkleCrypto})}else if(e.common.isActivatedEIP(7864)){if(e.evm.binaryTreeAccessWitness===void 0)throw Error("Binary tree access witness needed for execution of binary tree blocks");if(!("verifyBinaryPostState"in e.stateManager))throw W("Binary tree State Manager needed for execution of binary tree blocks");r=e.evm.binaryTreeAccessWitness,i=new DH({hashFunction:e.evm.binaryTreeAccessWitness.hashFunction})}const{tx:s,block:o}=t;await e._emit("beforeTx",s);const c=s.getSenderAddress();if(e.DEBUG&&vn(`New tx run hash=${t.tx.isSigned()?ie(t.tx.hash()):"unsigned"} sender=${c}`),e.common.isActivatedEIP(2929)){const Y=e.evm.precompiles;for(const[Q]of Y.entries())e.evm.journal.addAlwaysWarmAddress(Q);if(e.evm.journal.addAlwaysWarmAddress(c.toString()),s.to!==void 0&&e.evm.journal.addAlwaysWarmAddress(at(s.to.bytes)),e.common.isActivatedEIP(3651)){const Q=(o==null?void 0:o.header.coinbase.bytes)??Li.coinbase.bytes;e.evm.journal.addAlwaysWarmAddress(at(Q))}}const a=s.getIntrinsicGas();let d=q;if(e.common.isActivatedEIP(7623)){let Y=0;for(let Q=0;Q<s.data.length;Q++)Y+=s.data[Q]===0?1:4;d=s.common.param("txGas")+s.common.param("totalCostFloorPerToken")*BigInt(Y)}let l=s.gasLimit;const u=hT(a,d);if(l<u){const Y=hi(`tx gas limit ${Number(l)} is lower than the minimum gas limit of ${Number(u)}`,e,o,s);throw W(Y)}if(l-=a,e.DEBUG&&Fv(`Subtracting base fee (${a}) from gasLimit (-> ${l})`),e.common.isActivatedEIP(1559)){const Y="maxFeePerGas"in s?s.maxFeePerGas:s.gasPrice,Q=(o==null?void 0:o.header.baseFeePerGas)??Li.baseFeePerGas;if(Y<Q){const te=hi(`Transaction's ${"maxFeePerGas"in s?"maxFeePerGas":"gasPrice"} (${Y}) is less than the block's baseFeePerGas (${Q})`,e,o,s);throw W(te)}}Ni&&(console.timeEnd(G$),console.time(S2));let h=await n.getAccount(c);h===void 0&&(h=new Rt);const{nonce:p,balance:f}=h;if(e.DEBUG&&vn(`Sender's pre-tx balance is ${f}`),e.common.isActivatedEIP(3607)&&!Ye(h.codeHash,gc))switch(e.common.isActivatedEIP(7702)){case!0:{const Q=await n.getCode(c);if(Ye(Q.slice(0,3),Uv))break}default:{const Q=hi("invalid sender address, address is not EOA (EIP-3607)",e,o,s);throw W(Q)}}const g=(o==null?void 0:o.header.baseFeePerGas)??Li.baseFeePerGas,m=s.getUpfrontCost(g);if(f<m)if(t.skipBalance===!0&&h.balance<m)s.supports(zn.EIP1559FeeMarket)===!1&&(h.balance=m,await e.evm.journal.putAccount(c,h));else{const Y=hi(`sender doesn't have enough funds to send tx. The upfront cost is: ${m} and the sender's account (${c}) only has: ${f}`,e,o,s);throw W(Y)}let v=s.value,y=q,x=q;if(s.supports(zn.EIP1559FeeMarket)&&(v+=s.gasLimit*s.maxFeePerGas),Ip(s)){if(!e.common.isActivatedEIP(4844)){const Y=hi("blob transactions are only valid with EIP4844 active",e,o,s);throw W(Y)}if(x=e.common.param("blobGasPerBlob")*BigInt(s.numBlobs()),v+=x*s.maxFeePerBlobGas,y=((j=t.block)==null?void 0:j.header.getBlobGasPrice())??Li.getBlobGasPrice(),s.maxFeePerBlobGas<y){const Y=hi(`Transaction's maxFeePerBlobGas ${s.maxFeePerBlobGas}) is less than block blobGasPrice (${y}).`,e,o,s);throw W(Y)}}if(h.balance<v)if(t.skipBalance===!0&&h.balance<v)h.balance=v,await e.evm.journal.putAccount(c,h);else{const Y=hi(`sender doesn't have enough funds to send tx. The max cost is: ${v} and the sender's account (${c}) only has: ${f}`,e,o,s);throw W(Y)}if(t.skipNonce!==!0&&p!==s.nonce){const Y=hi(`the tx doesn't have the correct nonce. account has nonce of: ${p} tx has nonce of: ${s.nonce}`,e,o,s);throw W(Y)}let C,b;if(s.supports(zn.EIP1559FeeMarket)){const Y=(o==null?void 0:o.header.baseFeePerGas)??Li.baseFeePerGas;b=s.getEffectivePriorityFee(Y),C=b+Y}else if(C=s.gasPrice,e.common.isActivatedEIP(1559)){const Y=(o==null?void 0:o.header.baseFeePerGas)??Li.baseFeePerGas;b=s.gasPrice-Y}let S;Ip(s)&&(S=s.blobVersionedHashes);const I=s.gasLimit*C,L=x*y;h.balance-=I,h.balance-=L,t.skipBalance===!0&&h.balance<q&&(h.balance=q),await e.evm.journal.putAccount(c,h);let T=q;if(s.supports(zn.EIP7702EOACode)){const Y=s.authorizationList;for(let Q=0;Q<Y.length;Q++){const te=Y[Q],re=te[0],pe=ue(re);if(pe!==q&&pe!==e.common.chainId())continue;const le=te[1],ge=te[2];if(ue(ge)>=gf)continue;const ne=te[5];if(ue(ne)>gT||ue(te[3])>ze)continue;let xe;try{xe=mU(te)}catch{continue}const Me=await e.stateManager.getAccount(xe),Ve=Me!==void 0,dt=Me??new Rt;if(e.evm.journal.addAlwaysWarmAddress(xe.toString()),dt.isContract()){const De=await e.stateManager.getCode(xe);if(!Ye(De.slice(0,3),Uv))continue}if(c.toString()===xe.toString()){if(dt.nonce+ze!==ue(ge))continue}else if(dt.nonce!==ue(ge))continue;if(Ve){const De=s.common.param("perEmptyAccountCost")-s.common.param("perAuthBaseGas");T+=De}if(dt.nonce++,await e.evm.journal.putAccount(xe,dt),Ye(le,new Uint8Array(20)))await e.stateManager.putCode(xe,new Uint8Array);else{const De=Xe(Uv,le);await e.stateManager.putCode(xe,De)}}}e.DEBUG&&vn(`Update fromAccount (caller) balance (-> ${h.balance}))`);let $;Ni&&(console.timeEnd(S2),$=performance.now());const{value:P,data:k,to:A}=s;e.DEBUG&&vn(`Running tx=${s.isSigned()?ie(s.hash()):"unsigned"} with caller=${c} gasLimit=${l} to=${(A==null?void 0:A.toString())??"none"} value=${P} data=${ya(k)}`);const w=await e.evm.runCall({block:o,gasPrice:C,caller:c,gasLimit:l,to:A,value:P,data:k,blobVersionedHashes:S,accessWitness:i});if((e.common.isActivatedEIP(6800)||e.common.isActivatedEIP(7864))&&(r==null||r.merge(i)),Ni&&(console.log(`${qH}: ${performance.now()-$}ms`),console.log("[ For execution details see table output ]"),console.time(E2)),e.DEBUG&&vn(`Update fromAccount (caller) nonce (-> ${h.nonce})`),e.DEBUG){const{executionGasUsed:Y,exceptionError:Q,returnValue:te}=w.execResult;vn("-".repeat(100)),vn(`Received tx execResult: [ executionGasUsed=${Y} exceptionError=${Q!==void 0?`'${Q.error}'`:"none"} returnValue=${ya(te)} gasRefund=${w.gasRefund??0} ]`)}w.bloom=JH(w.execResult.logs,e.common),e.DEBUG&&vn(`Generated tx bloom with logs=${(V=w.execResult.logs)==null?void 0:V.length}`),w.totalGasSpent=w.execResult.executionGasUsed+a,e.DEBUG&&Fv(`tx add baseFee ${a} to totalGasSpent (-> ${w.totalGasSpent})`),Ip(s)&&(w.blobGasUsed=x),T+=w.execResult.gasRefund??q,w.gasRefund=T;const E=e.common.param("maxRefundQuotient");if(T!==q){const Y=w.totalGasSpent/E;T=T<Y?T:Y,w.totalGasSpent-=T,e.DEBUG&&vn(`Subtract tx gasRefund (${T}) from totalGasSpent (-> ${w.totalGasSpent})`)}else e.DEBUG&&vn("No tx gasRefund");e.common.isActivatedEIP(7623)&&w.totalGasSpent<d&&(e.DEBUG&&Fv(`tx floorCost ${d} is higher than to total execution gas spent (-> ${w.totalGasSpent}), setting floor as gas paid`),w.gasRefund=q,w.totalGasSpent=d),w.amountSpent=w.totalGasSpent*C,h=await n.getAccount(c),h===void 0&&(h=new Rt);const _=w.totalGasSpent*C,R=I-_;h.balance+=R,await e.evm.journal.putAccount(c,h),e.DEBUG&&vn(`Refunded txCostDiff (${R}) to fromAccount (caller) balance (-> ${h.balance})`);let M;e.common.consensusType()===yl.ProofOfAuthority?M=vG((o==null?void 0:o.header)??Li):M=(o==null?void 0:o.header.coinbase)??Li.coinbase;let O=await n.getAccount(M);const N=O!==void 0;if(O===void 0){if(e.common.isActivatedEIP(6800)&&e.evm.verkleAccessWitness===void 0)throw Error("verkleAccessWitness required if verkle (EIP-6800) is activated");O=new Rt,(Z=e.evm.systemVerkleAccessWitness)==null||Z.writeAccountHeader(M)}if(w.minerValue=e.common.isActivatedEIP(1559)?w.totalGasSpent*b:w.amountSpent,O.balance+=w.minerValue,e.common.isActivatedEIP(6800)&&w.minerValue!==q){if(e.evm.verkleAccessWitness===void 0)throw Error("verkleAccessWitness required if verkle (EIP-6800) is activated");N?(e.evm.verkleAccessWitness.writeAccountBasicData(M),e.evm.verkleAccessWitness.readAccountCodeHash(M)):e.evm.verkleAccessWitness.writeAccountHeader(M)}if(await e.evm.journal.putAccount(M,O),e.DEBUG&&vn(`tx update miner account (${M}) balance (-> ${O.balance})`),Ni&&(console.timeEnd(E2),console.time(C2)),w.execResult.selfdestruct!==void 0)for(const Y of w.execResult.selfdestruct){const Q=new Ht(We(Y));e.common.isActivatedEIP(6780)&&!w.execResult.createdAddresses.has(Q.toString())||(await e.evm.journal.deleteAccount(Q),e.DEBUG&&vn(`tx selfdestruct on address=${Q}`))}if(Ni&&(console.timeEnd(C2),console.time(A2)),t.reportAccessList===!0&&e.common.isActivatedEIP(2930)){const Y=[];for(const[Q,te]of e.evm.journal.accessList){const re={address:`0x${Q}`,storageKeys:[]};for(const pe of te)re.storageKeys.push(`0x${pe}`);Y.push(re)}w.accessList=Y}Ni&&(console.timeEnd(A2),console.time(_2)),t.reportPreimages===!0&&e.evm.journal.preimages!==void 0&&(w.preimages=e.evm.journal.preimages),await e.evm.journal.cleanup(),n.originalStorageCache.clear(),Ni&&(console.timeEnd(_2),console.time(k2));const G=(t.blockGasUsed??(o==null?void 0:o.header.gasUsed)??Li.gasUsed)+w.totalGasSpent;w.receipt=await eW(e,s,w,G,x,y),Ni&&console.timeEnd(k2);const z={transaction:s,...w};return await e._emit("afterTx",z),e.DEBUG&&vn(`tx run finished hash=${t.tx.isSigned()?ie(t.tx.hash()):"unsigned"} sender=${c}`),e.common.isActivatedEIP(6800)&&((X=e.evm.verkleAccessWitness)==null||X.commit()),w}function JH(e,t){const n=new ZT(void 0,t);if(e)for(let r=0;r<e.length;r++){const i=e[r];n.add(i[0]);const s=i[1];for(let o=0;o<s.length;o++)n.add(s[o])}return n}async function eW(e,t,n,r,i,s){const o={cumulativeBlockGasUsed:r,bitvector:n.bloom.bitvector,logs:n.execResult.logs??[]};let c;return e.DEBUG&&vn(`Generate tx receipt transactionType=${t.type} cumulativeBlockGasUsed=${r} bitvector=${ya(o.bitvector)} (${o.bitvector.length} bytes) logs=${o.logs.length}`),t.supports(zn.EIP2718TypedTransaction)?Ip(t)?c={blobGasUsed:i,blobGasPrice:s,status:n.execResult.exceptionError?0:1,...o}:c={status:n.execResult.exceptionError?0:1,...o}:e.common.gteHardfork(se.Byzantium)?c={status:n.execResult.exceptionError!==void 0?0:1,...o}:c={stateRoot:await e.stateManager.getStateRoot(),...o},c}function hi(e,t,n,r){const i=n??Li,s="errorStr"in i?i.errorStr():"block",o="errorStr"in r?r.errorStr():"tx";return`${e} (${t.errorStr()} -> ${s} -> ${o})`}const tW="6.15.0";function nW(e,t,n){const r=t.split("|").map(s=>s.trim());for(let s=0;s<r.length;s++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const i=new Error(`invalid value for type ${t}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=e,i}function zt(e,t,n){for(let r in t){let i=t[r];const s=n?n[r]:null;s&&nW(i,s,r),Object.defineProperty(e,r,{enumerable:!0,value:i,writable:!1})}}function Sc(e,t){if(e==null)return"null";if(t==null&&(t=new Set),typeof e=="object"){if(t.has(e))return"[Circular]";t.add(e)}if(Array.isArray(e))return"[ "+e.map(n=>Sc(n,t)).join(", ")+" ]";if(e instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let i=0;i<e.length;i++)r+=n[e[i]>>4],r+=n[e[i]&15];return r}if(typeof e=="object"&&typeof e.toJSON=="function")return Sc(e.toJSON(),t);switch(typeof e){case"boolean":case"number":case"symbol":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const n=Object.keys(e);return n.sort(),"{ "+n.map(r=>`${Sc(r,t)}: ${Sc(e[r],t)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function T2(e,t){return e&&e.code===t}function z$(e,t,n){let r=e;{const s=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${Sc(n)}`);for(const o in n){if(o==="shortMessage")continue;const c=n[o];s.push(o+"="+Sc(c))}}s.push(`code=${t}`),s.push(`version=${tW}`),s.length&&(e+=" ("+s.join(", ")+")")}let i;switch(t){case"INVALID_ARGUMENT":i=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(e);break;default:i=new Error(e)}return zt(i,{code:t}),n&&Object.assign(i,n),i.shortMessage==null&&zt(i,{shortMessage:r}),i}function Ct(e,t,n,r){if(!e)throw z$(t,n,r)}function Se(e,t,n,r){Ct(e,t,"INVALID_ARGUMENT",{argument:n,value:r})}function H$(e,t,n){n==null&&(n=""),n&&(n=": "+n),Ct(e>=t,"missing argument"+n,"MISSING_ARGUMENT",{count:e,expectedCount:t}),Ct(e<=t,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");e.push(t)}catch{}return e},[]);function l0(e,t,n){if(n==null&&(n=""),e!==t){let r=n,i="new";n&&(r+=".",i+=" "+n),Ct(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function W$(e,t,n){if(e instanceof Uint8Array)return n?new Uint8Array(e):e;if(typeof e=="string"&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((e.length-2)/2);let i=2;for(let s=0;s<r.length;s++)r[s]=parseInt(e.substring(i,i+2),16),i+=2;return r}Se(!1,"invalid BytesLike value",t||"value",e)}function Rs(e,t){return W$(e,t,!1)}function Ts(e,t){return W$(e,t,!0)}function ep(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||typeof t=="number"&&e.length!==2+2*t||t===!0&&e.length%2!==0)}const $2="0123456789abcdef";function Gn(e){const t=Rs(e);let n="0x";for(let r=0;r<t.length;r++){const i=t[r];n+=$2[(i&240)>>4]+$2[i&15]}return n}function Hc(e){return"0x"+e.map(t=>Gn(t).substring(2)).join("")}function Kl(e,t,n){const r=Rs(e);return n!=null&&n>r.length&&Ct(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),Gn(r.slice(t??0,n??r.length))}function j$(e,t,n){const r=Rs(e);Ct(t>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:t,offset:t+1});const i=new Uint8Array(t);return i.fill(0),n?i.set(r,t-r.length):i.set(r,0),Gn(i)}function rW(e,t){return j$(e,t,!0)}function iW(e,t){return j$(e,t,!1)}const c0=BigInt(0),Qi=BigInt(1),Ec=9007199254740991;function Ag(e,t){const n=u0(e,"value"),r=BigInt(Ps(t,"width"));if(Ct(n>>r===c0,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),n>>r-Qi){const i=(Qi<<r)-Qi;return-((~n&i)+Qi)}return n}function sW(e,t){let n=Ml(e,"value");const r=BigInt(Ps(t,"width")),i=Qi<<r-Qi;if(n<c0){n=-n,Ct(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});const s=(Qi<<r)-Qi;return(~n&s)+Qi}else Ct(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});return n}function Cc(e,t){const n=u0(e,"value"),r=BigInt(Ps(t,"bits"));return n&(Qi<<r)-Qi}function Ml(e,t){switch(typeof e){case"bigint":return e;case"number":return Se(Number.isInteger(e),"underflow",t||"value",e),Se(e>=-Ec&&e<=Ec,"overflow",t||"value",e),BigInt(e);case"string":try{if(e==="")throw new Error("empty string");return e[0]==="-"&&e[1]!=="-"?-BigInt(e.substring(1)):BigInt(e)}catch(n){Se(!1,`invalid BigNumberish string: ${n.message}`,t||"value",e)}}Se(!1,"invalid BigNumberish value",t||"value",e)}function u0(e,t){const n=Ml(e,t);return Ct(n>=c0,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),n}const L2="0123456789abcdef";function fx(e){if(e instanceof Uint8Array){let t="0x0";for(const n of e)t+=L2[n>>4],t+=L2[n&15];return BigInt(t)}return Ml(e)}function Ps(e,t){switch(typeof e){case"bigint":return Se(e>=-Ec&&e<=Ec,"overflow",t||"value",e),Number(e);case"number":return Se(Number.isInteger(e),"underflow",t||"value",e),Se(e>=-Ec&&e<=Ec,"overflow",t||"value",e),e;case"string":try{if(e==="")throw new Error("empty string");return Ps(BigInt(e),t)}catch(n){Se(!1,`invalid numeric string: ${n.message}`,t||"value",e)}}Se(!1,"invalid numeric value",t||"value",e)}function oW(e){return Ps(fx(e))}function V$(e,t){let r=u0(e,"value").toString(16);if(t==null)r.length%2&&(r="0"+r);else{const i=Ps(t,"width");for(Ct(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});r.length<i*2;)r="0"+r}return"0x"+r}function aW(e){const t=u0(e,"value");if(t===c0)return new Uint8Array([]);let n=t.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const s=i*2;r[i]=parseInt(n.substring(s,s+2),16)}return r}function lW(e,t,n,r,i){Se(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",n)}function K$(e,t,n,r,i){if(e==="BAD_PREFIX"||e==="UNEXPECTED_CONTINUE"){let s=0;for(let o=t+1;o<n.length&&n[o]>>6===2;o++)s++;return s}return e==="OVERRUN"?n.length-t-1:0}function cW(e,t,n,r,i){return e==="OVERLONG"?(Se(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),K$(e,t,n))}const uW=Object.freeze({error:lW,ignore:K$,replace:cW});function dW(e,t){t==null&&(t=uW.error);const n=Rs(e,"bytes"),r=[];let i=0;for(;i<n.length;){const s=n[i++];if(!(s>>7)){r.push(s);continue}let o=null,c=null;if((s&224)===192)o=1,c=127;else if((s&240)===224)o=2,c=2047;else if((s&248)===240)o=3,c=65535;else{(s&192)===128?i+=t("UNEXPECTED_CONTINUE",i-1,n,r):i+=t("BAD_PREFIX",i-1,n,r);continue}if(i-1+o>=n.length){i+=t("OVERRUN",i-1,n,r);continue}let a=s&(1<<8-o-1)-1;for(let d=0;d<o;d++){let l=n[i];if((l&192)!=128){i+=t("MISSING_CONTINUE",i,n,r),a=null;break}a=a<<6|l&63,i++}if(a!==null){if(a>1114111){i+=t("OUT_OF_RANGE",i-1-o,n,r,a);continue}if(a>=55296&&a<=57343){i+=t("UTF16_SURROGATE",i-1-o,n,r,a);continue}if(a<=c){i+=t("OVERLONG",i-1-o,n,r,a);continue}r.push(a)}}return r}function Y$(e,t){Se(typeof e=="string","invalid string value","str",e);let n=[];for(let r=0;r<e.length;r++){const i=e.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const s=e.charCodeAt(r);Se(r<e.length&&(s&64512)===56320,"invalid surrogate pair","str",e);const o=65536+((i&1023)<<10)+(s&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function fW(e){return e.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function hW(e,t){return fW(dW(e,t))}const pW=BigInt(-1),Mi=BigInt(0),Ac=BigInt(1),gW=BigInt(5),Yl={};let Wc="0000";for(;Wc.length<80;)Wc+=Wc;function La(e){let t=Wc;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function ud(e,t,n){const r=BigInt(t.width);if(t.signed){const i=Ac<<r-Ac;Ct(n==null||e>=-i&&e<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e>Mi?e=Ag(Cc(e,r),r):e=-Ag(Cc(-e,r),r)}else{const i=Ac<<r;Ct(n==null||e>=0&&e<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=(e%i+i)%i&i-Ac}return e}function Gv(e){typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,n=128,r=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);Se(s,"invalid fixed format","format",e),t=s[1]!=="u",n=parseInt(s[2]),r=parseInt(s[3])}}else if(e){const s=e,o=(c,a,d)=>s[c]==null?d:(Se(typeof s[c]===a,"invalid fixed format ("+c+" not "+a+")","format."+c,s[c]),s[c]);t=o("signed","boolean",t),n=o("width","number",n),r=o("decimals","number",r)}Se(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),Se(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const i=(t?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:t,width:n,decimals:r,name:i}}function mW(e,t){let n="";e<Mi&&(n="-",e*=pW);let r=e.toString();if(t===0)return n+r;for(;r.length<=t;)r=Wc+r;const i=r.length-t;for(r=r.substring(0,i)+"."+r.substring(i);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}var ji,Lt,hr,Et,Ba,Ws,Gb,zb,Hb,Wb;const Wo=class Wo{constructor(t,n,r){Re(this,Et);he(this,"format");Re(this,ji);Re(this,Lt);Re(this,hr);he(this,"_value");l0(t,Yl,"FixedNumber"),be(this,Lt,n),be(this,ji,r);const i=mW(n,r.decimals);zt(this,{format:r.name,_value:i}),be(this,hr,La(r.decimals))}get signed(){return D(this,ji).signed}get width(){return D(this,ji).width}get decimals(){return D(this,ji).decimals}get value(){return D(this,Lt)}addUnsafe(t){return de(this,Et,Gb).call(this,t)}add(t){return de(this,Et,Gb).call(this,t,"add")}subUnsafe(t){return de(this,Et,zb).call(this,t)}sub(t){return de(this,Et,zb).call(this,t,"sub")}mulUnsafe(t){return de(this,Et,Hb).call(this,t)}mul(t){return de(this,Et,Hb).call(this,t,"mul")}mulSignal(t){de(this,Et,Ba).call(this,t);const n=D(this,Lt)*D(t,Lt);return Ct(n%D(this,hr)===Mi,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),de(this,Et,Ws).call(this,n/D(this,hr),"mulSignal")}divUnsafe(t){return de(this,Et,Wb).call(this,t)}div(t){return de(this,Et,Wb).call(this,t,"div")}divSignal(t){Ct(D(t,Lt)!==Mi,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),de(this,Et,Ba).call(this,t);const n=D(this,Lt)*D(this,hr);return Ct(n%D(t,Lt)===Mi,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),de(this,Et,Ws).call(this,n/D(t,Lt),"divSignal")}cmp(t){let n=this.value,r=t.value;const i=this.decimals-t.decimals;return i>0?r*=La(i):i<0&&(n*=La(-i)),n<r?-1:n>r?1:0}eq(t){return this.cmp(t)===0}lt(t){return this.cmp(t)<0}lte(t){return this.cmp(t)<=0}gt(t){return this.cmp(t)>0}gte(t){return this.cmp(t)>=0}floor(){let t=D(this,Lt);return D(this,Lt)<Mi&&(t-=D(this,hr)-Ac),t=D(this,Lt)/D(this,hr)*D(this,hr),de(this,Et,Ws).call(this,t,"floor")}ceiling(){let t=D(this,Lt);return D(this,Lt)>Mi&&(t+=D(this,hr)-Ac),t=D(this,Lt)/D(this,hr)*D(this,hr),de(this,Et,Ws).call(this,t,"ceiling")}round(t){if(t==null&&(t=0),t>=this.decimals)return this;const n=this.decimals-t,r=gW*La(n-1);let i=this.value+r;const s=La(n);return i=i/s*s,ud(i,D(this,ji),"round"),new Wo(Yl,i,D(this,ji))}isZero(){return D(this,Lt)===Mi}isNegative(){return D(this,Lt)<Mi}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Wo.fromString(this.toString(),t)}static fromValue(t,n,r){const i=n==null?0:Ps(n),s=Gv(r);let o=Ml(t,"value");const c=i-s.decimals;if(c>0){const a=La(c);Ct(o%a===Mi,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:t}),o/=a}else c<0&&(o*=La(-c));return ud(o,s,"fromValue"),new Wo(Yl,o,s)}static fromString(t,n){const r=t.match(/^(-?)([0-9]*)\.?([0-9]*)$/);Se(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",t);const i=Gv(n);let s=r[2]||"0",o=r[3]||"";for(;o.length<i.decimals;)o+=Wc;Ct(o.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:t}),o=o.substring(0,i.decimals);const c=BigInt(r[1]+s+o);return ud(c,i,"fromString"),new Wo(Yl,c,i)}static fromBytes(t,n){let r=fx(Rs(t,"value"));const i=Gv(n);return i.signed&&(r=Ag(r,i.width)),ud(r,i,"fromBytes"),new Wo(Yl,r,i)}};ji=new WeakMap,Lt=new WeakMap,hr=new WeakMap,Et=new WeakSet,Ba=function(t){Se(this.format===t.format,"incompatible format; use fixedNumber.toFormat","other",t)},Ws=function(t,n){return t=ud(t,D(this,ji),n),new Wo(Yl,t,D(this,ji))},Gb=function(t,n){return de(this,Et,Ba).call(this,t),de(this,Et,Ws).call(this,D(this,Lt)+D(t,Lt),n)},zb=function(t,n){return de(this,Et,Ba).call(this,t),de(this,Et,Ws).call(this,D(this,Lt)-D(t,Lt),n)},Hb=function(t,n){return de(this,Et,Ba).call(this,t),de(this,Et,Ws).call(this,D(this,Lt)*D(t,Lt)/D(this,hr),n)},Wb=function(t,n){return Ct(D(t,Lt)!==Mi,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),de(this,Et,Ba).call(this,t),de(this,Et,Ws).call(this,D(this,Lt)*D(this,hr)/D(t,Lt),n)};let Ub=Wo;function vW(e,t){let n=18;return n=Ps(t,"unit"),Ub.fromValue(e,n,{decimals:n,width:512}).toString()}function dd(e){return vW(e,18)}const mr=32,jb=new Uint8Array(mr),yW=["then"],tp={},Z$=new WeakMap;function Ua(e){return Z$.get(e)}function M2(e,t){Z$.set(e,t)}function fd(e,t){const n=new Error(`deferred error during ABI decoding triggered accessing ${e}`);throw n.error=t,n}function Vb(e,t,n){return e.indexOf(null)>=0?t.map((r,i)=>r instanceof mu?Vb(Ua(r),r,n):r):e.reduce((r,i,s)=>{let o=t.getValue(i);return i in r||(n&&o instanceof mu&&(o=Vb(Ua(o),o,n)),r[i]=o),r},{})}var Zc;const _c=class _c extends Array{constructor(...n){const r=n[0];let i=n[1],s=(n[2]||[]).slice(),o=!0;r!==tp&&(i=n,s=[],o=!1);super(i.length);Re(this,Zc);i.forEach((d,l)=>{this[l]=d});const c=s.reduce((d,l)=>(typeof l=="string"&&d.set(l,(d.get(l)||0)+1),d),new Map);if(M2(this,Object.freeze(i.map((d,l)=>{const u=s[l];return u!=null&&c.get(u)===1?u:null}))),be(this,Zc,[]),D(this,Zc)==null&&D(this,Zc),!o)return;Object.freeze(this);const a=new Proxy(this,{get:(d,l,u)=>{if(typeof l=="string"){if(l.match(/^[0-9]+$/)){const p=Ps(l,"%index");if(p<0||p>=this.length)throw new RangeError("out of result range");const f=d[p];return f instanceof Error&&fd(`index ${p}`,f),f}if(yW.indexOf(l)>=0)return Reflect.get(d,l,u);const h=d[l];if(h instanceof Function)return function(...p){return h.apply(this===u?d:this,p)};if(!(l in d))return d.getValue.apply(this===u?d:this,[l])}return Reflect.get(d,l,u)}});return M2(a,Ua(this)),a}toArray(n){const r=[];return this.forEach((i,s)=>{i instanceof Error&&fd(`index ${s}`,i),n&&i instanceof _c&&(i=i.toArray(n)),r.push(i)}),r}toObject(n){const r=Ua(this);return r.reduce((i,s,o)=>(Ct(s!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Vb(r,this,n)),{})}slice(n,r){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const i=Ua(this),s=[],o=[];for(let c=n;c<r;c++)s.push(this[c]),o.push(i[c]);return new _c(tp,s,o)}filter(n,r){const i=Ua(this),s=[],o=[];for(let c=0;c<this.length;c++){const a=this[c];a instanceof Error&&fd(`index ${c}`,a),n.call(r,a,c,this)&&(s.push(a),o.push(i[c]))}return new _c(tp,s,o)}map(n,r){const i=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&fd(`index ${s}`,o),i.push(n.call(r,o,s,this))}return i}getValue(n){const r=Ua(this).indexOf(n);if(r===-1)return;const i=this[r];return i instanceof Error&&fd(`property ${JSON.stringify(n)}`,i.error),i}static fromItems(n,r){return new _c(tp,n,r)}};Zc=new WeakMap;let mu=_c;function R2(e){let t=aW(e);return Ct(t.length<=mr,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:mr,offset:t.length}),t.length!==mr&&(t=Ts(Hc([jb.slice(t.length%mr),t]))),t}class bo{constructor(t,n,r,i){he(this,"name");he(this,"type");he(this,"localName");he(this,"dynamic");zt(this,{name:t,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,n){Se(!1,t,this.localName,n)}}var eo,el,qc,Mp;class Kb{constructor(){Re(this,qc);Re(this,eo);Re(this,el);be(this,eo,[]),be(this,el,0)}get data(){return Hc(D(this,eo))}get length(){return D(this,el)}appendWriter(t){return de(this,qc,Mp).call(this,Ts(t.data))}writeBytes(t){let n=Ts(t);const r=n.length%mr;return r&&(n=Ts(Hc([n,jb.slice(r)]))),de(this,qc,Mp).call(this,n)}writeValue(t){return de(this,qc,Mp).call(this,R2(t))}writeUpdatableValue(){const t=D(this,eo).length;return D(this,eo).push(jb),be(this,el,D(this,el)+mr),n=>{D(this,eo)[t]=R2(n)}}}eo=new WeakMap,el=new WeakMap,qc=new WeakSet,Mp=function(t){return D(this,eo).push(t),be(this,el,D(this,el)+t.length),t.length};var Cr,Hr,tl,nl,qo,El,Zb,q$;const Ix=class Ix{constructor(t,n,r){Re(this,El);he(this,"allowLoose");Re(this,Cr);Re(this,Hr);Re(this,tl);Re(this,nl);Re(this,qo);zt(this,{allowLoose:!!n}),be(this,Cr,Ts(t)),be(this,tl,0),be(this,nl,null),be(this,qo,r??1024),be(this,Hr,0)}get data(){return Gn(D(this,Cr))}get dataLength(){return D(this,Cr).length}get consumed(){return D(this,Hr)}get bytes(){return new Uint8Array(D(this,Cr))}subReader(t){const n=new Ix(D(this,Cr).slice(D(this,Hr)+t),this.allowLoose,D(this,qo));return be(n,nl,this),n}readBytes(t,n){let r=de(this,El,q$).call(this,0,t,!!n);return de(this,El,Zb).call(this,t),be(this,Hr,D(this,Hr)+r.length),r.slice(0,t)}readValue(){return fx(this.readBytes(mr))}readIndex(){return oW(this.readBytes(mr))}};Cr=new WeakMap,Hr=new WeakMap,tl=new WeakMap,nl=new WeakMap,qo=new WeakMap,El=new WeakSet,Zb=function(t){var n;if(D(this,nl))return de(n=D(this,nl),El,Zb).call(n,t);be(this,tl,D(this,tl)+t),Ct(D(this,qo)<1||D(this,tl)<=D(this,qo)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${D(this,qo)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Ts(D(this,Cr)),offset:D(this,Hr),length:t,info:{bytesRead:D(this,tl),dataLength:this.dataLength}})},q$=function(t,n,r){let i=Math.ceil(n/mr)*mr;return D(this,Hr)+i>D(this,Cr).length&&(this.allowLoose&&r&&D(this,Hr)+n<=D(this,Cr).length?i=n:Ct(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Ts(D(this,Cr)),length:D(this,Cr).length,offset:D(this,Hr)+i})),D(this,Cr).slice(D(this,Hr),D(this,Hr)+i)};let Yb=Ix;function P2(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function X$(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function O2(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function bW(e,t){X$(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wW=e=>e instanceof Uint8Array,xW=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),SW=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!SW)throw new Error("Non little-endian hardware is not supported");function EW(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Q$(e){if(typeof e=="string"&&(e=EW(e)),!wW(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}let CW=class{clone(){return this._cloneInto()}};function AW(e){const t=r=>e().update(Q$(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const np=BigInt(2**32-1),N2=BigInt(32);function _W(e,t=!1){return t?{h:Number(e&np),l:Number(e>>N2&np)}:{h:Number(e>>N2&np)|0,l:Number(e&np)|0}}function kW(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=_W(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const IW=(e,t,n)=>e<<n|t>>>32-n,TW=(e,t,n)=>t<<n|e>>>32-n,$W=(e,t,n)=>t<<n-32|e>>>64-n,LW=(e,t,n)=>e<<n-32|t>>>64-n,[J$,eL,tL]=[[],[],[]],MW=BigInt(0),hd=BigInt(1),RW=BigInt(2),PW=BigInt(7),OW=BigInt(256),NW=BigInt(113);for(let e=0,t=hd,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],J$.push(2*(5*r+n)),eL.push((e+1)*(e+2)/2%64);let i=MW;for(let s=0;s<7;s++)t=(t<<hd^(t>>PW)*NW)%OW,t&RW&&(i^=hd<<(hd<<BigInt(s))-hd);tL.push(i)}const[BW,DW]=kW(tL,!0),B2=(e,t,n)=>n>32?$W(e,t,n):IW(e,t,n),D2=(e,t,n)=>n>32?LW(e,t,n):TW(e,t,n);function FW(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const c=(o+8)%10,a=(o+2)%10,d=n[a],l=n[a+1],u=B2(d,l,1)^n[c],h=D2(d,l,1)^n[c+1];for(let p=0;p<50;p+=10)e[o+p]^=u,e[o+p+1]^=h}let i=e[2],s=e[3];for(let o=0;o<24;o++){const c=eL[o],a=B2(i,s,c),d=D2(i,s,c),l=J$[o];i=e[l],s=e[l+1],e[l]=a,e[l+1]=d}for(let o=0;o<50;o+=10){for(let c=0;c<10;c++)n[c]=e[o+c];for(let c=0;c<10;c++)e[o+c]^=~n[(c+2)%10]&n[(c+4)%10]}e[0]^=BW[r],e[1]^=DW[r]}n.fill(0)}class hx extends CW{constructor(t,n,r,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,P2(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=xW(this.state)}keccak(){FW(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){O2(this);const{blockLen:n,state:r}=this;t=Q$(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let c=0;c<o;c++)r[this.pos++]^=t[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,n&128&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){O2(this,!1),X$(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=t.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);t.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return P2(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(bW(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new hx(n,r,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}const UW=(e,t,n)=>AW(()=>new hx(t,e,n)),GW=UW(1,136,256/8);let nL=!1;const rL=function(e){return GW(e)};let iL=rL;function ba(e){const t=Rs(e,"data");return Gn(iL(t))}ba._=rL;ba.lock=function(){nL=!0};ba.register=function(e){if(nL)throw new TypeError("keccak256 is locked");iL=e};Object.freeze(ba);const zW=BigInt(0),HW=BigInt(36);function F2(e){e=e.toLowerCase();const t=e.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=t[i].charCodeAt(0);const r=Rs(ba(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(r[i>>1]&15)>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const px={};for(let e=0;e<10;e++)px[String(e)]=String(e);for(let e=0;e<26;e++)px[String.fromCharCode(65+e)]=String(10+e);const U2=15;function WW(e){e=e.toUpperCase(),e=e.substring(4)+e.substring(0,2)+"00";let t=e.split("").map(r=>px[r]).join("");for(;t.length>=U2;){let r=t.substring(0,U2);t=parseInt(r,10)%97+t.substring(r.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}const jW=function(){const e={};for(let t=0;t<36;t++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[t];e[n]=BigInt(t)}return e}();function VW(e){e=e.toLowerCase();let t=zW;for(let n=0;n<e.length;n++)t=t*HW+jW[e[n]];return t}function _g(e){if(Se(typeof e=="string","invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=F2(e);return Se(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Se(e.substring(2,4)===WW(e),"bad icap checksum","address",e);let t=VW(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return F2("0x"+t)}Se(!1,"invalid address","address",e)}const Vs={};function Ae(e,t){let n=!1;return t<0&&(n=!0,t*=-1),new Pr(Vs,`${n?"":"u"}int${t}`,e,{signed:n,width:t})}function ht(e,t){return new Pr(Vs,`bytes${t||""}`,e,{size:t})}const G2=Symbol.for("_ethers_typed");var rl;const Ks=class Ks{constructor(t,n,r,i){he(this,"type");he(this,"value");Re(this,rl);he(this,"_typedSymbol");i==null&&(i=null),l0(Vs,t,"Typed"),zt(this,{_typedSymbol:G2,type:n,value:r}),be(this,rl,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(t=>t.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return D(this,rl)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return D(this,rl)===!0?-1:D(this,rl)===!1?this.value.length:null}static from(t,n){return new Ks(Vs,t,n)}static uint8(t){return Ae(t,8)}static uint16(t){return Ae(t,16)}static uint24(t){return Ae(t,24)}static uint32(t){return Ae(t,32)}static uint40(t){return Ae(t,40)}static uint48(t){return Ae(t,48)}static uint56(t){return Ae(t,56)}static uint64(t){return Ae(t,64)}static uint72(t){return Ae(t,72)}static uint80(t){return Ae(t,80)}static uint88(t){return Ae(t,88)}static uint96(t){return Ae(t,96)}static uint104(t){return Ae(t,104)}static uint112(t){return Ae(t,112)}static uint120(t){return Ae(t,120)}static uint128(t){return Ae(t,128)}static uint136(t){return Ae(t,136)}static uint144(t){return Ae(t,144)}static uint152(t){return Ae(t,152)}static uint160(t){return Ae(t,160)}static uint168(t){return Ae(t,168)}static uint176(t){return Ae(t,176)}static uint184(t){return Ae(t,184)}static uint192(t){return Ae(t,192)}static uint200(t){return Ae(t,200)}static uint208(t){return Ae(t,208)}static uint216(t){return Ae(t,216)}static uint224(t){return Ae(t,224)}static uint232(t){return Ae(t,232)}static uint240(t){return Ae(t,240)}static uint248(t){return Ae(t,248)}static uint256(t){return Ae(t,256)}static uint(t){return Ae(t,256)}static int8(t){return Ae(t,-8)}static int16(t){return Ae(t,-16)}static int24(t){return Ae(t,-24)}static int32(t){return Ae(t,-32)}static int40(t){return Ae(t,-40)}static int48(t){return Ae(t,-48)}static int56(t){return Ae(t,-56)}static int64(t){return Ae(t,-64)}static int72(t){return Ae(t,-72)}static int80(t){return Ae(t,-80)}static int88(t){return Ae(t,-88)}static int96(t){return Ae(t,-96)}static int104(t){return Ae(t,-104)}static int112(t){return Ae(t,-112)}static int120(t){return Ae(t,-120)}static int128(t){return Ae(t,-128)}static int136(t){return Ae(t,-136)}static int144(t){return Ae(t,-144)}static int152(t){return Ae(t,-152)}static int160(t){return Ae(t,-160)}static int168(t){return Ae(t,-168)}static int176(t){return Ae(t,-176)}static int184(t){return Ae(t,-184)}static int192(t){return Ae(t,-192)}static int200(t){return Ae(t,-200)}static int208(t){return Ae(t,-208)}static int216(t){return Ae(t,-216)}static int224(t){return Ae(t,-224)}static int232(t){return Ae(t,-232)}static int240(t){return Ae(t,-240)}static int248(t){return Ae(t,-248)}static int256(t){return Ae(t,-256)}static int(t){return Ae(t,-256)}static bytes1(t){return ht(t,1)}static bytes2(t){return ht(t,2)}static bytes3(t){return ht(t,3)}static bytes4(t){return ht(t,4)}static bytes5(t){return ht(t,5)}static bytes6(t){return ht(t,6)}static bytes7(t){return ht(t,7)}static bytes8(t){return ht(t,8)}static bytes9(t){return ht(t,9)}static bytes10(t){return ht(t,10)}static bytes11(t){return ht(t,11)}static bytes12(t){return ht(t,12)}static bytes13(t){return ht(t,13)}static bytes14(t){return ht(t,14)}static bytes15(t){return ht(t,15)}static bytes16(t){return ht(t,16)}static bytes17(t){return ht(t,17)}static bytes18(t){return ht(t,18)}static bytes19(t){return ht(t,19)}static bytes20(t){return ht(t,20)}static bytes21(t){return ht(t,21)}static bytes22(t){return ht(t,22)}static bytes23(t){return ht(t,23)}static bytes24(t){return ht(t,24)}static bytes25(t){return ht(t,25)}static bytes26(t){return ht(t,26)}static bytes27(t){return ht(t,27)}static bytes28(t){return ht(t,28)}static bytes29(t){return ht(t,29)}static bytes30(t){return ht(t,30)}static bytes31(t){return ht(t,31)}static bytes32(t){return ht(t,32)}static address(t){return new Ks(Vs,"address",t)}static bool(t){return new Ks(Vs,"bool",!!t)}static bytes(t){return new Ks(Vs,"bytes",t)}static string(t){return new Ks(Vs,"string",t)}static array(t,n){throw new Error("not implemented yet")}static tuple(t,n){throw new Error("not implemented yet")}static overrides(t){return new Ks(Vs,"overrides",Object.assign({},t))}static isTyped(t){return t&&typeof t=="object"&&"_typedSymbol"in t&&t._typedSymbol===G2}static dereference(t,n){if(Ks.isTyped(t)){if(t.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${t.type}`);return t.value}return t}};rl=new WeakMap;let Pr=Ks;class KW extends bo{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,n){let r=Pr.dereference(n,"string");try{r=_g(r)}catch(i){return this._throwError(i.message,n)}return t.writeValue(r)}decode(t){return _g(V$(t.readValue(),20))}}class YW extends bo{constructor(n){super(n.name,n.type,"_",n.dynamic);he(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,r){return this.coder.encode(n,r)}decode(n){return this.coder.decode(n)}}function sL(e,t,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let a={};r=t.map(d=>{const l=d.localName;return Ct(l,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:d},value:n}),Ct(!a[l],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:d},value:n}),a[l]=!0,n[l]})}else Se(!1,"invalid tuple value","tuple",n);Se(t.length===r.length,"types/value length mismatch","tuple",n);let i=new Kb,s=new Kb,o=[];t.forEach((a,d)=>{let l=r[d];if(a.dynamic){let u=s.length;a.encode(s,l);let h=i.writeUpdatableValue();o.push(p=>{h(p+u)})}else a.encode(i,l)}),o.forEach(a=>{a(i.length)});let c=e.appendWriter(i);return c+=e.appendWriter(s),c}function oL(e,t){let n=[],r=[],i=e.subReader(0);return t.forEach(s=>{let o=null;if(s.dynamic){let c=e.readIndex(),a=i.subReader(c);try{o=s.decode(a)}catch(d){if(T2(d,"BUFFER_OVERRUN"))throw d;o=d,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(e)}catch(c){if(T2(c,"BUFFER_OVERRUN"))throw c;o=c,o.baseType=s.name,o.name=s.localName,o.type=s.type}if(o==null)throw new Error("investigate");n.push(o),r.push(s.localName||null)}),mu.fromItems(n,r)}class ZW extends bo{constructor(n,r,i){const s=n.type+"["+(r>=0?r:"")+"]",o=r===-1||n.dynamic;super("array",s,i,o);he(this,"coder");he(this,"length");zt(this,{coder:n,length:r})}defaultValue(){const n=this.coder.defaultValue(),r=[];for(let i=0;i<this.length;i++)r.push(n);return r}encode(n,r){const i=Pr.dereference(r,"array");Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,n.writeValue(i.length)),H$(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let c=0;c<i.length;c++)o.push(this.coder);return sL(n,o,i)}decode(n){let r=this.length;r===-1&&(r=n.readIndex(),Ct(r*mr<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:r*mr,length:n.dataLength}));let i=[];for(let s=0;s<r;s++)i.push(new YW(this.coder));return oL(n,i)}}class qW extends bo{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,n){const r=Pr.dereference(n,"bool");return t.writeValue(r?1:0)}decode(t){return!!t.readValue()}}class aL extends bo{constructor(t,n){super(t,t,n,!0)}defaultValue(){return"0x"}encode(t,n){n=Ts(n);let r=t.writeValue(n.length);return r+=t.writeBytes(n),r}decode(t){return t.readBytes(t.readIndex(),!0)}}class XW extends aL{constructor(t){super("bytes",t)}decode(t){return Gn(super.decode(t))}}class QW extends bo{constructor(n,r){let i="bytes"+String(n);super(i,i,r,!1);he(this,"size");zt(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,r){let i=Ts(Pr.dereference(r,this.type));return i.length!==this.size&&this._throwError("incorrect data length",r),n.writeBytes(i)}decode(n){return Gn(n.readBytes(this.size))}}const JW=new Uint8Array([]);class ej extends bo{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,n){return n!=null&&this._throwError("not null",n),t.writeBytes(JW)}decode(t){return t.readBytes(0),null}}const tj=BigInt(0),nj=BigInt(1),rj=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class ij extends bo{constructor(n,r,i){const s=(r?"int":"uint")+n*8;super(s,s,i,!1);he(this,"size");he(this,"signed");zt(this,{size:n,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,r){let i=Ml(Pr.dereference(r,this.type)),s=Cc(rj,mr*8);if(this.signed){let o=Cc(s,this.size*8-1);(i>o||i<-(o+nj))&&this._throwError("value out-of-bounds",r),i=sW(i,8*mr)}else(i<tj||i>Cc(s,this.size*8))&&this._throwError("value out-of-bounds",r);return n.writeValue(i)}decode(n){let r=Cc(n.readValue(),this.size*8);return this.signed&&(r=Ag(r,this.size*8)),r}}class sj extends aL{constructor(t){super("string",t)}defaultValue(){return""}encode(t,n){return super.encode(t,Y$(Pr.dereference(n,"string")))}decode(t){return hW(super.decode(t))}}class rp extends bo{constructor(n,r){let i=!1;const s=[];n.forEach(c=>{c.dynamic&&(i=!0),s.push(c.type)});const o="tuple("+s.join(",")+")";super("tuple",o,r,i);he(this,"coders");zt(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(i=>{n.push(i.defaultValue())});const r=this.coders.reduce((i,s)=>{const o=s.localName;return o&&(i[o]||(i[o]=0),i[o]++),i},{});return this.coders.forEach((i,s)=>{let o=i.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),n[o]==null&&(n[o]=n[s]))}),Object.freeze(n)}encode(n,r){const i=Pr.dereference(r,"tuple");return sL(n,this.coders,i)}decode(n){return oL(n,this.coders)}}function If(e){return ba(Y$(e))}function vr(e){const t=new Set;return e.forEach(n=>t.add(n)),Object.freeze(t)}const oj="external public payable override",aj=vr(oj.split(" ")),lL="constant external internal payable private public pure view override",lj=vr(lL.split(" ")),cL="constructor error event fallback function receive struct",uL=vr(cL.split(" ")),dL="calldata memory storage payable indexed",cj=vr(dL.split(" ")),uj="tuple returns",dj=[cL,dL,uj,lL].join(" "),fj=vr(dj.split(" ")),hj={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},pj=new RegExp("^(\\s*)"),gj=new RegExp("^([0-9]+)"),mj=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),fL=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),hL=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Bn,Vi,Rf,qb;const Lg=class Lg{constructor(t){Re(this,Rf);Re(this,Bn);Re(this,Vi);be(this,Bn,0),be(this,Vi,t.slice())}get offset(){return D(this,Bn)}get length(){return D(this,Vi).length-D(this,Bn)}clone(){return new Lg(D(this,Vi))}reset(){be(this,Bn,0)}popKeyword(t){const n=this.peek();if(n.type!=="KEYWORD"||!t.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(t){if(this.peek().type!==t){const n=this.peek();throw new Error(`expected ${t}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const n=de(this,Rf,qb).call(this,D(this,Bn)+1,t.match+1);return be(this,Bn,t.match+1),n}popParams(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;D(this,Bn)<t.match-1;){const r=this.peek().linkNext;n.push(de(this,Rf,qb).call(this,D(this,Bn)+1,r)),be(this,Bn,r)}return be(this,Bn,t.match+1),n}peek(){if(D(this,Bn)>=D(this,Vi).length)throw new Error("out-of-bounds");return D(this,Vi)[D(this,Bn)]}peekKeyword(t){const n=this.peekType("KEYWORD");return n!=null&&t.has(n)?n:null}peekType(t){if(this.length===0)return null;const n=this.peek();return n.type===t?n.text:null}pop(){const t=this.peek();return Du(this,Bn)._++,t}toString(){const t=[];for(let n=D(this,Bn);n<D(this,Vi).length;n++){const r=D(this,Vi)[n];t.push(`${r.type}:${r.text}`)}return`<TokenString ${t.join(" ")}>`}};Bn=new WeakMap,Vi=new WeakMap,Rf=new WeakSet,qb=function(t=0,n=0){return new Lg(D(this,Vi).slice(t,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-t,linkBack:r.linkBack-t,linkNext:r.linkNext-t}))))};let ss=Lg;function Ea(e){const t=[],n=o=>{const c=s<e.length?JSON.stringify(e[s]):"$EOI";throw new Error(`invalid token ${c} at ${s}: ${o}`)};let r=[],i=[],s=0;for(;s<e.length;){let o=e.substring(s),c=o.match(pj);c&&(s+=c[1].length,o=e.substring(s));const a={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};t.push(a);let d=hj[o[0]]||"";if(d){if(a.type=d,a.text=o[0],s++,d==="OPEN_PAREN")r.push(t.length-1),i.push(t.length-1);else if(d=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),a.match=r.pop(),t[a.match].match=t.length-1,a.depth--,a.linkBack=i.pop(),t[a.linkBack].linkNext=t.length-1;else if(d==="COMMA")a.linkBack=i.pop(),t[a.linkBack].linkNext=t.length-1,i.push(t.length-1);else if(d==="OPEN_BRACKET")a.type="BRACKET";else if(d==="CLOSE_BRACKET"){let l=t.pop().text;if(t.length>0&&t[t.length-1].type==="NUMBER"){const u=t.pop().text;l=u+l,t[t.length-1].value=Ps(u)}if(t.length===0||t[t.length-1].type!=="BRACKET")throw new Error("missing opening bracket");t[t.length-1].text+=l}continue}if(c=o.match(mj),c){if(a.text=c[1],s+=a.text.length,fj.has(a.text)){a.type="KEYWORD";continue}if(a.text.match(hL)){a.type="TYPE";continue}a.type="ID";continue}if(c=o.match(gj),c){a.text=c[1],a.type="NUMBER",s+=a.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`)}return new ss(t.map(o=>Object.freeze(o)))}function z2(e,t){let n=[];for(const r in t.keys())e.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function d0(e,t){if(t.peekKeyword(uL)){const n=t.pop().text;if(n!==e)throw new Error(`expected ${e}, got ${n}`)}return t.popType("ID")}function go(e,t){const n=new Set;for(;;){const r=e.peekType("KEYWORD");if(r==null||t&&!t.has(r))break;if(e.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function pL(e){let t=go(e,lj);return z2(t,vr("constant payable nonpayable".split(" "))),z2(t,vr("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function lo(e,t){return e.popParams().map(n=>Wn.from(n,t))}function gL(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return Ml(e.pop().text);throw new Error("invalid gas")}return null}function wl(e){if(e.length)throw new Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}const vj=new RegExp(/^(.*)\[([0-9]*)\]$/);function H2(e){const t=e.match(hL);if(Se(t,"invalid type","type",e),e==="uint")return"uint256";if(e==="int")return"int256";if(t[2]){const n=parseInt(t[2]);Se(n!==0&&n<=32,"invalid bytes length","type",e)}else if(t[3]){const n=parseInt(t[3]);Se(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",e)}return e}const Zt={},Nr=Symbol.for("_ethers_internal"),W2="_ParamTypeInternal",j2="_ErrorInternal",V2="_EventInternal",K2="_ConstructorInternal",Y2="_FallbackInternal",Z2="_FunctionInternal",q2="_StructInternal";var Xc,Rp;const ci=class ci{constructor(t,n,r,i,s,o,c,a){Re(this,Xc);he(this,"name");he(this,"type");he(this,"baseType");he(this,"indexed");he(this,"components");he(this,"arrayLength");he(this,"arrayChildren");if(l0(t,Zt,"ParamType"),Object.defineProperty(this,Nr,{value:W2}),o&&(o=Object.freeze(o.slice())),i==="array"){if(c==null||a==null)throw new Error("")}else if(c!=null||a!=null)throw new Error("");if(i==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");zt(this,{name:n,type:r,baseType:i,indexed:s,components:o,arrayLength:c,arrayChildren:a})}format(t){if(t==null&&(t="sighash"),t==="json"){const r=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=r,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(t)))),JSON.stringify(i)}let n="";return this.isArray()?(n+=this.arrayChildren.format(t),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(t)).join(t==="full"?", ":",")+")":n+=this.type,t!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),t==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(t,n){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return t.map(i=>r.arrayChildren.walk(i,n))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const r=this;return t.map((i,s)=>r.components[s].walk(i,n))}return n(this.type,t)}async walkAsync(t,n){const r=[],i=[t];return de(this,Xc,Rp).call(this,r,t,n,s=>{i[0]=s}),r.length&&await Promise.all(r),i[0]}static from(t,n){if(ci.isParamType(t))return t;if(typeof t=="string")try{return ci.from(Ea(t),n)}catch{Se(!1,"invalid param type","obj",t)}else if(t instanceof ss){let c="",a="",d=null;go(t,vr(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(a="tuple",d=t.popParams().map(g=>ci.from(g)),c=`tuple(${d.map(g=>g.format()).join(",")})`):(c=H2(t.popType("TYPE")),a=c);let l=null,u=null;for(;t.length&&t.peekType("BRACKET");){const g=t.pop();l=new ci(Zt,"",c,a,null,d,u,l),u=g.value,c+=g.text,a="array",d=null}let h=null;if(go(t,cj).has("indexed")){if(!n)throw new Error("");h=!0}const f=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new ci(Zt,f,c,a,h,d,u,l)}const r=t.name;Se(!r||typeof r=="string"&&r.match(fL),"invalid name","obj.name",r);let i=t.indexed;i!=null&&(Se(n,"parameter cannot be indexed","obj.indexed",t.indexed),i=!!i);let s=t.type,o=s.match(vj);if(o){const c=parseInt(o[2]||"-1"),a=ci.from({type:o[1],components:t.components});return new ci(Zt,r||"",s,"array",i,null,c,a)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const c=t.components!=null?t.components.map(d=>ci.from(d)):null;return new ci(Zt,r||"",s,"tuple",i,c,null,null)}return s=H2(t.type),new ci(Zt,r||"",s,s,i,null,null,null)}static isParamType(t){return t&&t[Nr]===W2}};Xc=new WeakSet,Rp=function(t,n,r,i){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,c=n.slice();c.forEach((a,d)=>{var l;de(l=o,Xc,Rp).call(l,t,a,r,u=>{c[d]=u})}),i(c);return}if(this.isTuple()){const o=this.components;let c;if(Array.isArray(n))c=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");c=o.map(a=>{if(!a.name)throw new Error("cannot use object value with unnamed components");if(!(a.name in n))throw new Error(`missing value for component ${a.name}`);return n[a.name]})}if(c.length!==this.components.length)throw new Error("array is wrong length");c.forEach((a,d)=>{var l;de(l=o[d],Xc,Rp).call(l,t,a,r,u=>{c[d]=u})}),i(c);return}const s=r(this.type,n);s.then?t.push(async function(){i(await s)}()):i(s)};let Wn=ci;class xl{constructor(t,n,r){he(this,"type");he(this,"inputs");l0(t,Zt,"Fragment"),r=Object.freeze(r.slice()),zt(this,{type:n,inputs:r})}static from(t){if(typeof t=="string"){try{xl.from(JSON.parse(t))}catch{}return xl.from(Ea(t))}if(t instanceof ss)switch(t.peekKeyword(uL)){case"constructor":return so.from(t);case"error":return kr.from(t);case"event":return ws.from(t);case"fallback":case"receive":return Xs.from(t);case"function":return xs.from(t);case"struct":return ul.from(t)}else if(typeof t=="object"){switch(t.type){case"constructor":return so.from(t);case"error":return kr.from(t);case"event":return ws.from(t);case"fallback":case"receive":return Xs.from(t);case"function":return xs.from(t);case"struct":return ul.from(t)}Ct(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}Se(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return so.isFragment(t)}static isError(t){return kr.isFragment(t)}static isEvent(t){return ws.isFragment(t)}static isFunction(t){return xs.isFragment(t)}static isStruct(t){return ul.isFragment(t)}}class f0 extends xl{constructor(n,r,i,s){super(n,r,s);he(this,"name");Se(typeof i=="string"&&i.match(fL),"invalid identifier","name",i),s=Object.freeze(s.slice()),zt(this,{name:i})}}function Tf(e,t){return"("+t.map(n=>n.format(e)).join(e==="full"?", ":",")+")"}class kr extends f0{constructor(t,n,r){super(t,"error",n,r),Object.defineProperty(this,Nr,{value:j2})}get selector(){return If(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(t)))});const n=[];return t!=="sighash"&&n.push("error"),n.push(this.name+Tf(t,this.inputs)),n.join(" ")}static from(t){if(kr.isFragment(t))return t;if(typeof t=="string")return kr.from(Ea(t));if(t instanceof ss){const n=d0("error",t),r=lo(t);return wl(t),new kr(Zt,n,r)}return new kr(Zt,t.name,t.inputs?t.inputs.map(Wn.from):[])}static isFragment(t){return t&&t[Nr]===j2}}class ws extends f0{constructor(n,r,i,s){super(n,"event",r,i);he(this,"anonymous");Object.defineProperty(this,Nr,{value:V2}),zt(this,{anonymous:s})}get topicHash(){return If(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("event"),r.push(this.name+Tf(n,this.inputs)),n!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(n,r){return r=(r||[]).map(s=>Wn.from(s)),new ws(Zt,n,r,!1).topicHash}static from(n){if(ws.isFragment(n))return n;if(typeof n=="string")try{return ws.from(Ea(n))}catch{Se(!1,"invalid event fragment","obj",n)}else if(n instanceof ss){const r=d0("event",n),i=lo(n,!0),s=!!go(n,vr(["anonymous"])).has("anonymous");return wl(n),new ws(Zt,r,i,s)}return new ws(Zt,n.name,n.inputs?n.inputs.map(r=>Wn.from(r,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[Nr]===V2}}class so extends xl{constructor(n,r,i,s,o){super(n,r,i);he(this,"payable");he(this,"gas");Object.defineProperty(this,Nr,{value:K2}),zt(this,{payable:s,gas:o})}format(n){if(Ct(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[`constructor${Tf(n,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(n){if(so.isFragment(n))return n;if(typeof n=="string")try{return so.from(Ea(n))}catch{Se(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof ss){go(n,vr(["constructor"]));const r=lo(n),i=!!go(n,aj).has("payable"),s=gL(n);return wl(n),new so(Zt,"constructor",r,i,s)}return new so(Zt,"constructor",n.inputs?n.inputs.map(Wn.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Nr]===K2}}class Xs extends xl{constructor(n,r,i){super(n,"fallback",r);he(this,"payable");Object.defineProperty(this,Nr,{value:Y2}),zt(this,{payable:i})}format(n){const r=this.inputs.length===0?"receive":"fallback";if(n==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:i})}return`${r}()${this.payable?" payable":""}`}static from(n){if(Xs.isFragment(n))return n;if(typeof n=="string")try{return Xs.from(Ea(n))}catch{Se(!1,"invalid fallback fragment","obj",n)}else if(n instanceof ss){const r=n.toString(),i=n.peekKeyword(vr(["fallback","receive"]));if(Se(i,"type must be fallback or receive","obj",r),n.popKeyword(vr(["fallback","receive"]))==="receive"){const a=lo(n);return Se(a.length===0,"receive cannot have arguments","obj.inputs",a),go(n,vr(["payable"])),wl(n),new Xs(Zt,[],!0)}let o=lo(n);o.length?Se(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(a=>a.format("minimal")).join(", ")):o=[Wn.from("bytes")];const c=pL(n);if(Se(c==="nonpayable"||c==="payable","fallback cannot be constants","obj.stateMutability",c),go(n,vr(["returns"])).has("returns")){const a=lo(n);Se(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(d=>d.format("minimal")).join(", "))}return wl(n),new Xs(Zt,o,c==="payable")}if(n.type==="receive")return new Xs(Zt,[],!0);if(n.type==="fallback"){const r=[Wn.from("bytes")],i=n.stateMutability==="payable";return new Xs(Zt,r,i)}Se(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[Nr]===Y2}}class xs extends f0{constructor(n,r,i,s,o,c){super(n,"function",r,s);he(this,"constant");he(this,"outputs");he(this,"stateMutability");he(this,"payable");he(this,"gas");Object.defineProperty(this,Nr,{value:Z2}),o=Object.freeze(o.slice()),zt(this,{constant:i==="view"||i==="pure",gas:c,outputs:o,payable:i==="payable",stateMutability:i})}get selector(){return If(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n))),outputs:this.outputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("function"),r.push(this.name+Tf(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(Tf(n,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(n,r){return r=(r||[]).map(s=>Wn.from(s)),new xs(Zt,n,"view",r,[],null).selector}static from(n){if(xs.isFragment(n))return n;if(typeof n=="string")try{return xs.from(Ea(n))}catch{Se(!1,"invalid function fragment","obj",n)}else if(n instanceof ss){const i=d0("function",n),s=lo(n),o=pL(n);let c=[];go(n,vr(["returns"])).has("returns")&&(c=lo(n));const a=gL(n);return wl(n),new xs(Zt,i,o,s,c,a)}let r=n.stateMutability;return r==null&&(r="payable",typeof n.constant=="boolean"?(r="view",n.constant||(r="payable",typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable")),new xs(Zt,n.name,r,n.inputs?n.inputs.map(Wn.from):[],n.outputs?n.outputs.map(Wn.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Nr]===Z2}}class ul extends f0{constructor(t,n,r){super(t,"struct",n,r),Object.defineProperty(this,Nr,{value:q2})}format(){throw new Error("@TODO")}static from(t){if(typeof t=="string")try{return ul.from(Ea(t))}catch{Se(!1,"invalid struct fragment","obj",t)}else if(t instanceof ss){const n=d0("struct",t),r=lo(t);return wl(t),new ul(Zt,n,r)}return new ul(Zt,t.name,t.inputs?t.inputs.map(Wn.from):[])}static isFragment(t){return t&&t[Nr]===q2}}const as=new Map;as.set(0,"GENERIC_PANIC");as.set(1,"ASSERT_FALSE");as.set(17,"OVERFLOW");as.set(18,"DIVIDE_BY_ZERO");as.set(33,"ENUM_RANGE_ERROR");as.set(34,"BAD_STORAGE_DATA");as.set(49,"STACK_UNDERFLOW");as.set(50,"ARRAY_RANGE_ERROR");as.set(65,"OUT_OF_MEMORY");as.set(81,"UNINITIALIZED_FUNCTION_CALL");const yj=new RegExp(/^bytes([0-9]*)$/),bj=new RegExp(/^(u?int)([0-9]*)$/);let zv=null,X2=1024;function wj(e,t,n,r){let i="missing revert data",s=null;const o=null;let c=null;if(n){i="execution reverted";const d=Rs(n);if(n=Gn(n),d.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(d.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(Gn(d.slice(0,4))==="0x08c379a0")try{s=r.decode(["string"],d.slice(4))[0],c={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(Gn(d.slice(0,4))==="0x4e487b71")try{const l=Number(r.decode(["uint256"],d.slice(4))[0]);c={signature:"Panic(uint256)",name:"Panic",args:[l]},s=`Panic due to ${as.get(l)||"UNKNOWN"}(${l})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const a={to:t.to?_g(t.to):null,data:t.data||"0x"};return t.from&&(a.from=_g(t.from)),z$(i,"CALL_EXCEPTION",{action:e,data:n,reason:s,transaction:a,invocation:o,revert:c})}var Xo,tc;const Mg=class Mg{constructor(){Re(this,Xo)}getDefaultValue(t){const n=t.map(i=>de(this,Xo,tc).call(this,Wn.from(i)));return new rp(n,"_").defaultValue()}encode(t,n){H$(n.length,t.length,"types/values length mismatch");const r=t.map(o=>de(this,Xo,tc).call(this,Wn.from(o))),i=new rp(r,"_"),s=new Kb;return i.encode(s,n),s.data}decode(t,n,r){const i=t.map(o=>de(this,Xo,tc).call(this,Wn.from(o)));return new rp(i,"_").decode(new Yb(n,r,X2))}static _setDefaultMaxInflation(t){Se(typeof t=="number"&&Number.isInteger(t),"invalid defaultMaxInflation factor","value",t),X2=t}static defaultAbiCoder(){return zv==null&&(zv=new Mg),zv}static getBuiltinCallException(t,n,r){return wj(t,n,r,Mg.defaultAbiCoder())}};Xo=new WeakSet,tc=function(t){if(t.isArray())return new ZW(de(this,Xo,tc).call(this,t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new rp(t.components.map(r=>de(this,Xo,tc).call(this,r)),t.name);switch(t.baseType){case"address":return new KW(t.name);case"bool":return new qW(t.name);case"string":return new sj(t.name);case"bytes":return new XW(t.name);case"":return new ej(t.name)}let n=t.type.match(bj);if(n){let r=parseInt(n[2]||"256");return Se(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",t),new ij(r/8,n[1]==="int",t.name)}if(n=t.type.match(yj),n){let r=parseInt(n[1]);return Se(r!==0&&r<=32,"invalid bytes length","param",t),new QW(r,t.name)}Se(!1,"invalid type","type",t.type)};let kg=Mg;class xj{constructor(t,n,r){he(this,"fragment");he(this,"name");he(this,"signature");he(this,"topic");he(this,"args");const i=t.name,s=t.format();zt(this,{fragment:t,name:i,signature:s,topic:n,args:r})}}class Sj{constructor(t,n,r,i){he(this,"fragment");he(this,"name");he(this,"args");he(this,"signature");he(this,"selector");he(this,"value");const s=t.name,o=t.format();zt(this,{fragment:t,name:s,args:r,signature:o,selector:n,value:i})}}class Ej{constructor(t,n,r){he(this,"fragment");he(this,"name");he(this,"args");he(this,"signature");he(this,"selector");const i=t.name,s=t.format();zt(this,{fragment:t,name:i,args:r,signature:s,selector:n})}}class Q2{constructor(t){he(this,"hash");he(this,"_isIndexed");zt(this,{hash:t,_isIndexed:!0})}static isIndexed(t){return!!(t&&t._isIndexed)}}const J2={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},eA={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&J2[e.toString()]&&(t=J2[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};var hs,ps,gs,er,$s,Pp,Op;const Ga=class Ga{constructor(t){Re(this,$s);he(this,"fragments");he(this,"deploy");he(this,"fallback");he(this,"receive");Re(this,hs);Re(this,ps);Re(this,gs);Re(this,er);let n=[];typeof t=="string"?n=JSON.parse(t):n=t,be(this,gs,new Map),be(this,hs,new Map),be(this,ps,new Map);const r=[];for(const o of n)try{r.push(xl.from(o))}catch(c){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,c.message)}zt(this,{fragments:Object.freeze(r)});let i=null,s=!1;be(this,er,this.getAbiCoder()),this.fragments.forEach((o,c)=>{let a;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}zt(this,{deploy:o});return;case"fallback":o.inputs.length===0?s=!0:(Se(!i||o.payable!==i.payable,"conflicting fallback fragments",`fragments[${c}]`,o),i=o,s=i.payable);return;case"function":a=D(this,gs);break;case"event":a=D(this,ps);break;case"error":a=D(this,hs);break;default:return}const d=o.format();a.has(d)||a.set(d,o)}),this.deploy||zt(this,{deploy:so.from("constructor()")}),zt(this,{fallback:i,receive:s})}format(t){const n=t?"minimal":"full";return this.fragments.map(i=>i.format(n))}formatJson(){const t=this.fragments.map(n=>n.format("json"));return JSON.stringify(t.map(n=>JSON.parse(n)))}getAbiCoder(){return kg.defaultAbiCoder()}getFunctionName(t){const n=de(this,$s,Pp).call(this,t,null,!1);return Se(n,"no matching function","key",t),n.name}hasFunction(t){return!!de(this,$s,Pp).call(this,t,null,!1)}getFunction(t,n){return de(this,$s,Pp).call(this,t,n||null,!0)}forEachFunction(t){const n=Array.from(D(this,gs).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];t(D(this,gs).get(i),r)}}getEventName(t){const n=de(this,$s,Op).call(this,t,null,!1);return Se(n,"no matching event","key",t),n.name}hasEvent(t){return!!de(this,$s,Op).call(this,t,null,!1)}getEvent(t,n){return de(this,$s,Op).call(this,t,n||null,!0)}forEachEvent(t){const n=Array.from(D(this,ps).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];t(D(this,ps).get(i),r)}}getError(t,n){if(ep(t)){const i=t.toLowerCase();if(eA[i])return kr.from(eA[i].signature);for(const s of D(this,hs).values())if(i===s.selector)return s;return null}if(t.indexOf("(")===-1){const i=[];for(const[s,o]of D(this,hs))s.split("(")[0]===t&&i.push(o);if(i.length===0)return t==="Error"?kr.from("error Error(string)"):t==="Panic"?kr.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(o=>JSON.stringify(o.format())).join(", ");Se(!1,`ambiguous error description (i.e. ${s})`,"name",t)}return i[0]}if(t=kr.from(t).format(),t==="Error(string)")return kr.from("error Error(string)");if(t==="Panic(uint256)")return kr.from("error Panic(uint256)");const r=D(this,hs).get(t);return r||null}forEachError(t){const n=Array.from(D(this,hs).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];t(D(this,hs).get(i),r)}}_decodeParams(t,n){return D(this,er).decode(t,n)}_encodeParams(t,n){return D(this,er).encode(t,n)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,n){if(typeof t=="string"){const r=this.getError(t);Se(r,"unknown error","fragment",t),t=r}return Se(Kl(n,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",n),this._decodeParams(t.inputs,Kl(n,4))}encodeErrorResult(t,n){if(typeof t=="string"){const r=this.getError(t);Se(r,"unknown error","fragment",t),t=r}return Hc([t.selector,this._encodeParams(t.inputs,n||[])])}decodeFunctionData(t,n){if(typeof t=="string"){const r=this.getFunction(t);Se(r,"unknown function","fragment",t),t=r}return Se(Kl(n,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",n),this._decodeParams(t.inputs,Kl(n,4))}encodeFunctionData(t,n){if(typeof t=="string"){const r=this.getFunction(t);Se(r,"unknown function","fragment",t),t=r}return Hc([t.selector,this._encodeParams(t.inputs,n||[])])}decodeFunctionResult(t,n){if(typeof t=="string"){const s=this.getFunction(t);Se(s,"unknown function","fragment",t),t=s}let r="invalid length for result data";const i=Ts(n);if(i.length%32===0)try{return D(this,er).decode(t.outputs,i)}catch{r="could not decode result data"}Ct(!1,r,"BAD_DATA",{value:Gn(i),info:{method:t.name,signature:t.format()}})}makeError(t,n){const r=Rs(t,"data"),i=kg.getBuiltinCallException("call",n,r);if(i.message.startsWith("execution reverted (unknown custom error)")){const c=Gn(r.slice(0,4)),a=this.getError(c);if(a)try{const d=D(this,er).decode(a.inputs,r.slice(4));i.revert={name:a.name,signature:a.format(),args:d},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(n);return o&&(i.invocation={method:o.name,signature:o.signature,args:o.args}),i}encodeFunctionResult(t,n){if(typeof t=="string"){const r=this.getFunction(t);Se(r,"unknown function","fragment",t),t=r}return Gn(D(this,er).encode(t.outputs,n||[]))}encodeFilterTopics(t,n){if(typeof t=="string"){const s=this.getEvent(t);Se(s,"unknown event","eventFragment",t),t=s}Ct(n.length<=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:t.inputs.length});const r=[];t.anonymous||r.push(t.topicHash);const i=(s,o)=>s.type==="string"?If(o):s.type==="bytes"?ba(Gn(o)):(s.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":s.type.match(/^u?int/)?o=V$(o):s.type.match(/^bytes/)?o=iW(o,32):s.type==="address"&&D(this,er).encode(["address"],[o]),rW(Gn(o),32));for(n.forEach((s,o)=>{const c=t.inputs[o];if(!c.indexed){Se(s==null,"cannot filter non-indexed parameters; must be null","contract."+c.name,s);return}s==null?r.push(null):c.baseType==="array"||c.baseType==="tuple"?Se(!1,"filtering with tuples or arrays not supported","contract."+c.name,s):Array.isArray(s)?r.push(s.map(a=>i(c,a))):r.push(i(c,s))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(t,n){if(typeof t=="string"){const o=this.getEvent(t);Se(o,"unknown event","eventFragment",t),t=o}const r=[],i=[],s=[];return t.anonymous||r.push(t.topicHash),Se(n.length===t.inputs.length,"event arguments/values mismatch","values",n),t.inputs.forEach((o,c)=>{const a=n[c];if(o.indexed)if(o.type==="string")r.push(If(a));else if(o.type==="bytes")r.push(ba(a));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(D(this,er).encode([o.type],[a]))}else i.push(o),s.push(a)}),{data:D(this,er).encode(i,s),topics:r}}decodeEventLog(t,n,r){if(typeof t=="string"){const p=this.getEvent(t);Se(p,"unknown event","eventFragment",t),t=p}if(r!=null&&!t.anonymous){const p=t.topicHash;Se(ep(r[0],32)&&r[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],s=[],o=[];t.inputs.forEach((p,f)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(i.push(Wn.from({type:"bytes32",name:p.name})),o.push(!0)):(i.push(p),o.push(!1)):(s.push(p),o.push(!1))});const c=r!=null?D(this,er).decode(i,Hc(r)):null,a=D(this,er).decode(s,n,!0),d=[],l=[];let u=0,h=0;return t.inputs.forEach((p,f)=>{let g=null;if(p.indexed)if(c==null)g=new Q2(null);else if(o[f])g=new Q2(c[h++]);else try{g=c[h++]}catch(m){g=m}else try{g=a[u++]}catch(m){g=m}d.push(g),l.push(p.name||null)}),mu.fromItems(d,l)}parseTransaction(t){const n=Rs(t.data,"tx.data"),r=Ml(t.value!=null?t.value:0,"tx.value"),i=this.getFunction(Gn(n.slice(0,4)));if(!i)return null;const s=D(this,er).decode(i.inputs,n.slice(4));return new Sj(i,i.selector,s,r)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const n=this.getEvent(t.topics[0]);return!n||n.anonymous?null:new xj(n,n.topicHash,this.decodeEventLog(n,t.data,t.topics))}parseError(t){const n=Gn(t),r=this.getError(Kl(n,0,4));if(!r)return null;const i=D(this,er).decode(r.inputs,Kl(n,4));return new Ej(r,r.selector,i)}static from(t){return t instanceof Ga?t:typeof t=="string"?new Ga(JSON.parse(t)):typeof t.formatJson=="function"?new Ga(t.formatJson()):typeof t.format=="function"?new Ga(t.format("json")):new Ga(t)}};hs=new WeakMap,ps=new WeakMap,gs=new WeakMap,er=new WeakMap,$s=new WeakSet,Pp=function(t,n,r){if(ep(t)){const s=t.toLowerCase();for(const o of D(this,gs).values())if(s===o.selector)return o;return null}if(t.indexOf("(")===-1){const s=[];for(const[o,c]of D(this,gs))o.split("(")[0]===t&&s.push(c);if(n){const o=n.length>0?n[n.length-1]:null;let c=n.length,a=!0;Pr.isTyped(o)&&o.type==="overrides"&&(a=!1,c--);for(let d=s.length-1;d>=0;d--){const l=s[d].inputs.length;l!==c&&(!a||l!==c-1)&&s.splice(d,1)}for(let d=s.length-1;d>=0;d--){const l=s[d].inputs;for(let u=0;u<n.length;u++)if(Pr.isTyped(n[u])){if(u>=l.length){if(n[u].type==="overrides")continue;s.splice(d,1);break}if(n[u].type!==l[u].baseType){s.splice(d,1);break}}}}if(s.length===1&&n&&n.length!==s[0].inputs.length){const o=n[n.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&r){const o=s.map(c=>JSON.stringify(c.format())).join(", ");Se(!1,`ambiguous function description (i.e. matches ${o})`,"key",t)}return s[0]}const i=D(this,gs).get(xs.from(t).format());return i||null},Op=function(t,n,r){if(ep(t)){const s=t.toLowerCase();for(const o of D(this,ps).values())if(s===o.topicHash)return o;return null}if(t.indexOf("(")===-1){const s=[];for(const[o,c]of D(this,ps))o.split("(")[0]===t&&s.push(c);if(n){for(let o=s.length-1;o>=0;o--)s[o].inputs.length<n.length&&s.splice(o,1);for(let o=s.length-1;o>=0;o--){const c=s[o].inputs;for(let a=0;a<n.length;a++)if(Pr.isTyped(n[a])&&n[a].type!==c[a].baseType){s.splice(o,1);break}}}if(s.length===0)return null;if(s.length>1&&r){const o=s.map(c=>JSON.stringify(c.format())).join(", ");Se(!1,`ambiguous event description (i.e. matches ${o})`,"key",t)}return s[0]}const i=D(this,ps).get(ws.from(t).format());return i||null};let Ig=Ga;class Cj{constructor(){he(this,"vm");he(this,"common");he(this,"stateManager");he(this,"defaultAddress");he(this,"defaultPrivateKey");he(this,"currentBlock");he(this,"blockBuilder");he(this,"parentBlock");he(this,"transactionCounter",0);he(this,"accounts",new Map);he(this,"createdAccounts",new Set);he(this,"accountPrivateKeys",new Map);he(this,"transactionUpdateCallbacks",[]);he(this,"isInitialized",!1);he(this,"initializationPromise",null);he(this,"instanceId");this.instanceId=Math.random().toString(36).substring(2,15),this.common=new $u({chain:kl,hardfork:se.Berlin}),this.stateManager=new Sf,this.vm=null,this.defaultPrivateKey=We("0x1234567890123456789012345678901234567890123456789012345678901234"),this.defaultAddress=_C(this.defaultPrivateKey),this.currentBlock={blockNumber:BigInt(0),timestamp:BigInt(Math.floor(Date.now()/1e3)),gasLimit:BigInt(3e7),gasUsed:BigInt(0),transactions:[],stateRoot:"",blockHash:"",accounts:new Map,totalAccounts:0}}onTransactionUpdate(t){this.transactionUpdateCallbacks.push(t)}notifyTransactionUpdate(){this.transactionUpdateCallbacks.forEach(t=>t())}async initialize(){if(!this.isInitialized){if(this.initializationPromise){await this.initializationPromise;return}this.initializationPromise=this.performInitialization();try{await this.initializationPromise}finally{this.initializationPromise=null}}}async performInitialization(){try{if(!this.vm){this.vm=await U$({common:this.common,stateManager:this.stateManager});const t=await this.stateManager.getAccount(this.defaultAddress);if(!t||t.balance===BigInt(0)){const n=new Rt(BigInt(0),1000000000000000000n);await this.stateManager.putAccount(this.defaultAddress,n);const r={id:`tx_${++this.transactionCounter}`,type:"account_creation",from:"0x0000000000000000000000000000000000000000",to:this.defaultAddress.toString(),data:"0x",gasUsed:BigInt(0),gasPrice:BigInt(2e10),nonce:BigInt(0),value:1000000000000000000n,timestamp:Date.now(),status:"executed",logs:[],metadata:{blockNumber:this.currentBlock.blockNumber,transactionIndex:this.currentBlock.transactions.length,gasLimit:BigInt(0),effectiveGasPrice:BigInt(2e10),cumulativeGasUsed:BigInt(0),status:!0,events:[]}};this.currentBlock.transactions.push(r),this.notifyTransactionUpdate()}await this.updateAccountsTracking()}}catch(t){throw console.error("Error initializing VM:",t),t}this.parentBlock=wg({header:{number:BigInt(0),gasLimit:this.currentBlock.gasLimit,timestamp:this.currentBlock.timestamp-BigInt(1)}},{common:this.common});try{this.blockBuilder=await KH(this.vm,{parentBlock:this.parentBlock,headerData:{number:this.currentBlock.blockNumber,timestamp:this.currentBlock.timestamp,gasLimit:this.currentBlock.gasLimit}})}catch(t){throw console.error("Error initializing block builder:",t),t}this.isInitialized=!0}async getNonce(){const t=await this.stateManager.getAccount(this.defaultAddress);return(t==null?void 0:t.nonce)??BigInt(0)}async createAccount(t=BigInt("1000000000000000000")){const n=this.generateRandomPrivateKey(),r=_C(n),i=new Rt(BigInt(0),t);await this.stateManager.putAccount(r,i),this.createdAccounts.add(r.toString()),this.accountPrivateKeys.set(r.toString(),n);const s={id:`tx_${++this.transactionCounter}`,type:"account_creation",from:this.defaultAddress.toString(),to:r.toString(),data:"0x",gasUsed:BigInt(0),gasPrice:BigInt(2e10),nonce:await this.getNonce(),value:t,timestamp:Date.now(),status:"executed",logs:[],metadata:{blockNumber:this.currentBlock.blockNumber,transactionIndex:this.currentBlock.transactions.length,gasLimit:BigInt(0),effectiveGasPrice:BigInt(2e10),cumulativeGasUsed:BigInt(0),status:!0,events:[]}};return this.currentBlock.transactions.push(s),this.notifyTransactionUpdate(),await this.updateAccountsTracking(),r.toString()}async transferETH(t,n,r){let i;if(t===this.defaultAddress.toString())i=this.defaultPrivateKey;else{const l=this.accountPrivateKeys.get(t);if(!l)throw new Error(`Private key not found for account ${t}`);i=l}const s=We(t),o=await this.stateManager.getAccount(new Ht(s)),c=(o==null?void 0:o.nonce)??BigInt(0),a=BigInt(2e10),d={id:`tx_${++this.transactionCounter}`,type:"eth_transfer",from:t,to:n,data:"0x",gasUsed:BigInt(0),gasPrice:a,nonce:c,value:r,timestamp:Date.now(),status:"pending",logs:[],metadata:{blockNumber:this.currentBlock.blockNumber,transactionIndex:this.currentBlock.transactions.length,gasLimit:BigInt(21e3),effectiveGasPrice:a,cumulativeGasUsed:BigInt(0),status:!1,events:[]}};try{const l={to:We(n),data:We("0x"),gasLimit:BigInt(21e3),gasPrice:a,value:r,nonce:c},u=Ya(l,{common:this.common}).sign(i),h=await this.blockBuilder.addTransaction(u);if(d.gasUsed=h.totalGasSpent,d.status="executed",d.metadata.status=!0,d.metadata.cumulativeGasUsed=h.totalGasSpent,h.execResult.logs)for(const p of h.execResult.logs){const[f,g,m]=p,v={address:ie(f),topics:g.map(y=>ie(y)),data:ie(m),blockNumber:this.currentBlock.blockNumber,transactionIndex:this.currentBlock.transactions.length,logIndex:d.logs.length};d.logs.push(v),d.metadata.events.push(v)}this.currentBlock.transactions.push(d),this.currentBlock.gasUsed+=d.gasUsed,await this.updateAccountsTracking(),this.notifyTransactionUpdate()}catch(l){d.status="failed",d.error=l instanceof Error?l.message:String(l),this.currentBlock.transactions.push(d),this.notifyTransactionUpdate()}return d}async addTransaction(t,n,r,i,s){var l;const o=await this.getNonce(),c=BigInt(2e10),a=n.startsWith("0x")?n:`0x${n}`;if(!/^0x[0-9a-fA-F]*$/.test(a))throw new Error(`Invalid hex string: ${a}`);const d={id:`tx_${++this.transactionCounter}`,type:t,from:this.defaultAddress.toString(),to:r,data:a,gasUsed:BigInt(0),gasPrice:c,nonce:o,value:BigInt(0),timestamp:Date.now(),status:"pending",functionName:i,functionArgs:s,logs:[],metadata:{blockNumber:this.currentBlock.blockNumber,transactionIndex:this.currentBlock.transactions.length,gasLimit:BigInt(5e6),effectiveGasPrice:c,cumulativeGasUsed:BigInt(0),status:!1,events:[]}};try{const u={to:r?We(r):void 0,data:We(a),gasLimit:BigInt(5e6),gasPrice:c,value:BigInt(0),nonce:o},h=Ya(u,{common:this.common}).sign(this.defaultPrivateKey),p=await this.blockBuilder.addTransaction(h);if(d.gasUsed=p.totalGasSpent,d.status="executed",d.metadata.status=!0,d.metadata.cumulativeGasUsed=p.totalGasSpent,t==="deployment"&&(d.contractAddress=(l=p.createdAddress)==null?void 0:l.toString()),p.execResult.returnValue.length>0&&(d.returnValue=ie(p.execResult.returnValue)),p.execResult.logs)for(const f of p.execResult.logs){const[g,m,v]=f,y={address:ie(g),topics:m.map(x=>ie(x)),data:ie(v),blockNumber:this.currentBlock.blockNumber,transactionIndex:this.currentBlock.transactions.length,logIndex:d.logs.length};d.logs.push(y),d.metadata.events.push(y)}this.currentBlock.transactions.push(d),this.currentBlock.gasUsed+=d.gasUsed,await this.updateAccountsTracking(),this.notifyTransactionUpdate()}catch(u){d.status="failed",d.error=u instanceof Error?u.message:String(u),this.currentBlock.transactions.push(d),this.notifyTransactionUpdate()}return d}async executeContractFunction(t,n,r,i=[]){const s=await this.getNonce(),o=BigInt(2e10),c=new Ig(n),a=c.getFunction(r);if(!a)throw new Error(`Function ${r} not found in ABI`);const d=c.encodeFunctionData(a,i),l={id:`tx_${++this.transactionCounter}`,type:"function_call",from:this.defaultAddress.toString(),to:t,data:d,gasUsed:BigInt(0),gasPrice:o,nonce:s,value:BigInt(0),timestamp:Date.now(),status:"pending",functionName:r,functionArgs:i,logs:[],metadata:{blockNumber:this.currentBlock.blockNumber,transactionIndex:this.currentBlock.transactions.length,gasLimit:BigInt(5e6),effectiveGasPrice:o,cumulativeGasUsed:BigInt(0),status:!1,events:[]}};try{const u={to:We(t),data:We(d),gasLimit:BigInt(5e6),gasPrice:o,value:BigInt(0),nonce:s},h=Ya(u,{common:this.common}).sign(this.defaultPrivateKey),p=await this.blockBuilder.addTransaction(h);if(l.gasUsed=p.totalGasSpent,l.status="executed",l.metadata.status=!0,l.metadata.cumulativeGasUsed=p.totalGasSpent,p.execResult.returnValue.length>0){const f=ie(p.execResult.returnValue);try{const g=c.decodeFunctionResult(a,f);g.length===1?l.returnValue=g[0].toString():g.length>1?l.returnValue=g.map(m=>m.toString()).join(", "):l.returnValue="success"}catch{l.returnValue=f}}if(p.execResult.logs)for(const f of p.execResult.logs){const[g,m,v]=f,y={address:ie(g),topics:m.map(x=>ie(x)),data:ie(v),blockNumber:this.currentBlock.blockNumber,transactionIndex:this.currentBlock.transactions.length,logIndex:l.logs.length};l.logs.push(y),l.metadata.events.push(y)}this.currentBlock.transactions.push(l),this.currentBlock.gasUsed+=l.gasUsed,await this.updateAccountsTracking(),this.notifyTransactionUpdate()}catch(u){l.status="failed",l.error=u instanceof Error?u.message:String(u),l.errorDetails={reason:u instanceof Error?u.message:String(u),gasUsed:l.gasUsed,revertData:u instanceof Error?u.stack:void 0,opcode:"REVERT"},this.currentBlock.transactions.push(l),this.notifyTransactionUpdate()}return l}async executeContractToContractCall(t,n,r,i,s=[],o=BigInt(0)){const c=await this.getNonce(),a=BigInt(2e10),d=new Ig(r),l=d.getFunction(i);if(!l)throw new Error(`Function ${i} not found in ABI`);const u=d.encodeFunctionData(l,s),h={id:`tx_${++this.transactionCounter}`,type:"contract_call",from:t,to:n,data:u,gasUsed:BigInt(0),gasPrice:a,nonce:c,value:o,timestamp:Date.now(),status:"pending",functionName:i,functionArgs:s,logs:[],internalCalls:[],metadata:{blockNumber:this.currentBlock.blockNumber,transactionIndex:this.currentBlock.transactions.length,gasLimit:BigInt(5e6),effectiveGasPrice:a,cumulativeGasUsed:BigInt(0),status:!1,events:[]}};try{const p={to:We(n),data:We(u),gasLimit:BigInt(5e6),gasPrice:a,value:o,nonce:c},f=Ya(p,{common:this.common}).sign(this.defaultPrivateKey),g=await this.blockBuilder.addTransaction(f);if(h.gasUsed=g.totalGasSpent,h.status="executed",h.metadata.status=!0,h.metadata.cumulativeGasUsed=g.totalGasSpent,g.execResult.returnValue.length>0){const m=ie(g.execResult.returnValue);try{const v=d.decodeFunctionResult(l,m);v.length===1?h.returnValue=v[0].toString():v.length>1?h.returnValue=v.map(y=>y.toString()).join(", "):h.returnValue="success"}catch{h.returnValue=m}}if(g.execResult.logs)for(const m of g.execResult.logs){const[v,y,x]=m,C={address:ie(v),topics:y.map(b=>ie(b)),data:ie(x),blockNumber:this.currentBlock.blockNumber,transactionIndex:this.currentBlock.transactions.length,logIndex:h.logs.length};h.logs.push(C),h.metadata.events.push(C)}this.currentBlock.transactions.push(h),this.currentBlock.gasUsed+=h.gasUsed,await this.updateAccountsTracking(),this.notifyTransactionUpdate()}catch(p){h.status="failed",h.error=p instanceof Error?p.message:String(p),h.errorDetails={reason:p instanceof Error?p.message:String(p),gasUsed:h.gasUsed,revertData:p instanceof Error?p.stack:void 0,opcode:"REVERT"},this.currentBlock.transactions.push(h),this.notifyTransactionUpdate()}return h}async finalizeBlock(){if(this.blockBuilder){const t=await this.blockBuilder.build();this.currentBlock.stateRoot=ie(t.header.stateRoot),this.currentBlock.blockHash=ie(t.hash())}return this.currentBlock}getCurrentBlock(){return this.currentBlock}getTransactions(){return this.currentBlock.transactions}getAccounts(){return Array.from(this.accounts.values())}getAccountBalance(t){const n=this.accounts.get(t);return n?n.balance:BigInt(0)}getAllLogs(){const t=[];for(const n of this.currentBlock.transactions)t.push(...n.logs);return t}async updateAccountsTracking(){this.accounts.clear();const t=await this.stateManager.getAccount(this.defaultAddress);t&&this.accounts.set(this.defaultAddress.toString(),{address:this.defaultAddress.toString(),balance:t.balance,nonce:t.nonce,code:ie(t.codeHash),isContract:t.codeHash.length>0});for(const n of this.createdAccounts){const r=await this.stateManager.getAccount(new Ht(We(n)));r&&this.accounts.set(n,{address:n,balance:r.balance,nonce:r.nonce,code:ie(r.codeHash),isContract:r.codeHash.length>0})}this.currentBlock.accounts=this.accounts,this.currentBlock.totalAccounts=this.accounts.size}generateRandomPrivateKey(){const t=new Uint8Array(32);return crypto.getRandomValues(t),t}async reset(){this.vm=null,this.stateManager=new Sf,this.accounts.clear(),this.createdAccounts.clear(),this.accountPrivateKeys.clear(),this.currentBlock={blockNumber:BigInt(0),timestamp:BigInt(Math.floor(Date.now()/1e3)),gasLimit:BigInt(3e7),gasUsed:BigInt(0),transactions:[],stateRoot:"",blockHash:"",accounts:new Map,totalAccounts:0},this.transactionCounter=0,this.isInitialized=!1}}const Aj="modulepreload",_j=function(e){return"/yz-eth/"+e},tA={},kj=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(a=>{if(a=_j(a),a in tA)return;tA[a]=!0;const d=a.endsWith(".css"),l=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${l}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":Aj,d||(u.as="script"),u.crossOrigin="",u.href=a,c&&u.setAttribute("nonce",c),document.head.appendChild(u),d)return new Promise((h,p)=>{u.addEventListener("load",h),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${a}`)))})}))}function s(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})};class mL{constructor(){he(this,"worker",null);he(this,"ready",!1);he(this,"messageQueue",[]);he(this,"messageId",0);this.initWorker()}initWorker(){try{this.worker=new Worker("/solc-worker-bundle.js"),this.worker.onmessage=t=>{const{type:n,success:r,output:i,version:s,error:o}=t.data;if(n==="ready")this.ready=!0,console.log("Solc worker ready");else if(n==="compileResult"||n==="versionResult"){const c=this.messageQueue.find(a=>a.id===n);c&&(this.messageQueue=this.messageQueue.filter(a=>a.id!==n),r?c.resolve({output:i,version:s}):c.reject(new Error(o)))}else n==="error"&&(this.messageQueue.forEach(c=>c.reject(new Error(o))),this.messageQueue=[])},this.worker.onerror=t=>{console.error("Worker error:",t),this.messageQueue.forEach(n=>n.reject(t)),this.messageQueue=[]}}catch(t){throw console.error("Failed to initialize solc worker:",t),t}}async compile(t){if(!this.worker||!this.ready)throw new Error("Worker not ready");return new Promise((n,r)=>{this.messageQueue.push({resolve:n,reject:r,id:"compileResult"}),this.worker.postMessage({type:"compile",input:t})})}async getVersion(){if(!this.worker||!this.ready)throw new Error("Worker not ready");return new Promise((t,n)=>{this.messageQueue.push({resolve:t,reject:n,id:"versionResult"}),this.worker.postMessage({type:"version"})})}destroy(){this.worker&&(this.worker.terminate(),this.worker=null),this.ready=!1,this.messageQueue=[]}}let Qs=null;async function Ij(){if(typeof window<"u")try{if(typeof Worker<"u"&&!Qs&&(Qs=new mL),Qs){let e=0;for(;!Qs.ready&&e<50;)await new Promise(t=>setTimeout(t,100)),e++;if(Qs.ready)return Qs}console.log("Worker not available or failed, falling back to web-solc")}catch(e){console.log("Worker initialization failed, falling back to web-solc:",e)}try{const e=await kj(()=>import("./browser-BShQRHQ6.js"),[]);return e.default||e}catch(e){throw console.error("Failed to load web-solc:",e),new Error("Failed to load Solidity compiler")}}class Tj{constructor(t){he(this,"blockManager");he(this,"lastCompiledAbi",null);he(this,"lastCompiledName",null);he(this,"contractAbiMap",new Map);if(!t)throw new Error("BlockManager is required for SolidityExecutor");this.blockManager=t}async compileSolidity(t){try{console.log("Getting solc compiler...");const n=await Ij();console.log("Solc compiler obtained:",!!n);const r={language:"Solidity",sources:{"contract.sol":{content:t}},settings:{outputSelection:{"*":{"*":["abi","evm.bytecode"]}}}};console.log("Compiling with input:",JSON.stringify(r,null,2));let i;if(typeof window<"u"&&n instanceof mL?i=(await n.compile(r)).output:i=JSON.parse(n.compile(JSON.stringify(r))),console.log("Compilation output:",i),i.errors){const o=i.errors.filter(c=>c.severity==="error");if(o.length>0)throw new Error(`Compilation failed:
${o.map(c=>c.formattedMessage).join(`
`)}`)}const s=[];if(i.contracts&&i.contracts["contract.sol"])for(const[o,c]of Object.entries(i.contracts["contract.sol"])){const a=c;a.evm&&a.evm.bytecode&&a.evm.bytecode.object&&s.push({bytecode:a.evm.bytecode.object,abi:a.abi||[],contractName:o})}return s}catch(n){throw console.error("Compilation error:",n),n}}async deploySolidity(t){try{const n=await this.compileSolidity(t);if(n.length===0)return{success:!1,output:"No contracts found in the compiled code",gasUsed:BigInt(0),logs:[],error:"No contracts found"};const r=n[0];this.storeCompiledContractInfo(r.contractName,r.abi);let i=r.bytecode;typeof i!="string"&&(i=String(i)),i=i.trim(),i.startsWith("0x")||(i=`0x${i}`);const s=await this.blockManager.addTransaction("deployment",i);return s.status==="failed"?{success:!1,output:"",gasUsed:BigInt(0),logs:[],error:s.error||"Contract deployment failed"}:(s.contractAddress&&this.storeContractByAddress(s.contractAddress,r.contractName,r.abi),{success:!0,output:`Contract "${r.contractName}" deployed successfully at ${s.contractAddress}
Ready for function execution via Dashboard.`,gasUsed:s.gasUsed,logs:s.logs,transactionId:s.id,contractAddress:s.contractAddress})}catch(n){return{success:!1,output:"",gasUsed:BigInt(0),logs:[],error:n instanceof Error?n.message:String(n)}}}async executeSolidity(t){try{const n=await this.compileSolidity(t);if(n.length===0)return{success:!1,output:"No contracts found in the compiled code",gasUsed:BigInt(0),logs:[],error:"No contracts found"};const r=n[0];this.storeCompiledContractInfo(r.contractName,r.abi);let i=r.bytecode;typeof i!="string"&&(i=String(i)),i=i.trim(),i.startsWith("0x")||(i=`0x${i}`);const s=await this.blockManager.addTransaction("deployment",i);if(s.status==="failed")return{success:!1,output:"",gasUsed:BigInt(0),logs:[],error:s.error||"Contract deployment failed"};s.contractAddress&&this.storeContractByAddress(s.contractAddress,r.contractName,r.abi);const o=r.abi.find(c=>c.type==="function"&&(c.name==="main"||c.name==="test"||c.name==="run"));if(o&&s.contractAddress)try{const c=await this.blockManager.executeContractFunction(s.contractAddress,r.abi,o.name);let a=`Contract "${r.contractName}" deployed at ${s.contractAddress}
Function ${o.name} executed successfully`;return c.returnValue&&(a+=`
Return value: ${c.returnValue}`),{success:c.status==="executed",output:a,gasUsed:s.gasUsed+c.gasUsed,logs:[...s.logs,...c.logs],transactionId:c.id,contractAddress:s.contractAddress}}catch(c){return{success:!0,output:`Contract "${r.contractName}" deployed successfully at ${s.contractAddress}
Function execution failed: ${c instanceof Error?c.message:String(c)}`,gasUsed:s.gasUsed,logs:s.logs,transactionId:s.id,contractAddress:s.contractAddress}}else return{success:!0,output:`Contract "${r.contractName}" deployed successfully at ${s.contractAddress}
No main function found to execute.`,gasUsed:s.gasUsed,logs:s.logs,transactionId:s.id,contractAddress:s.contractAddress}}catch(n){return{success:!1,output:"",gasUsed:BigInt(0),logs:[],error:n instanceof Error?n.message:String(n)}}}async reset(){this.contractAbiMap.clear(),this.lastCompiledAbi=null,this.lastCompiledName=null}destroy(){Qs&&(Qs.destroy(),Qs=null)}storeCompiledContractInfo(t,n){this.lastCompiledAbi=n,this.lastCompiledName=t,console.log("Stored compiled contract info:",{name:t,abi:n})}storeContractByAddress(t,n,r){this.contractAbiMap.set(t.toLowerCase(),{name:n,abi:r}),console.log("📍 Stored contract by address:",{address:t,name:n,abiLength:r.length})}getContractByAddress(t){return this.contractAbiMap.get(t.toLowerCase())||null}getAllStoredContracts(){return Array.from(this.contractAbiMap.entries()).map(([t,n])=>({address:t,name:n.name,abi:n.abi}))}async executeContractToContractCall(t,n,r,i=[],s=BigInt(0)){try{const o=this.getContractByAddress(n);if(!o)return{success:!1,output:"",gasUsed:BigInt(0),logs:[],error:`Contract at address ${n} not found`};const c=await this.blockManager.executeContractToContractCall(t,n,o.abi,r,i,s);return c.status==="failed"?{success:!1,output:"",gasUsed:c.gasUsed,logs:c.logs,error:c.error||"Contract-to-contract call failed"}:{success:!0,output:`Contract-to-contract call executed successfully
Function: ${r}
Return value: ${c.returnValue||"None"}`,gasUsed:c.gasUsed,logs:c.logs,transactionId:c.id,contractAddress:n}}catch(o){return{success:!1,output:"",gasUsed:BigInt(0),logs:[],error:o instanceof Error?o.message:String(o)}}}}var vu={},gx={},vL={exports:{}};(function(e,t){(function(){var n="ace",r=function(){return this}();!r&&typeof window<"u"&&(r=window);var i=function(l,u,h){if(typeof l!="string"){i.original?i.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(h=u),i.modules[l]||(i.payloads[l]=h,i.modules[l]=null)};i.modules={},i.payloads={};var s=function(l,u,h){if(typeof u=="string"){var p=a(l,u);if(p!=null)return h&&h(),p}else if(Object.prototype.toString.call(u)==="[object Array]"){for(var f=[],g=0,m=u.length;g<m;++g){var v=a(l,u[g]);if(v==null&&o.original)return;f.push(v)}return h&&h.apply(null,f)||!0}},o=function(l,u){var h=s("",l,u);return h==null&&o.original?o.original.apply(this,arguments):h},c=function(l,u){if(u.indexOf("!")!==-1){var h=u.split("!");return c(l,h[0])+"!"+c(l,h[1])}if(u.charAt(0)=="."){var p=l.split("/").slice(0,-1).join("/");for(u=p+"/"+u;u.indexOf(".")!==-1&&f!=u;){var f=u;u=u.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return u},a=function(l,u){u=c(l,u);var h=i.modules[u];if(!h){if(h=i.payloads[u],typeof h=="function"){var p={},f={id:u,uri:"",exports:p,packaged:!0},g=function(v,y){return s(u,v,y)},m=h(g,p,f);p=m||f.exports,i.modules[u]=p,delete i.payloads[u]}h=i.modules[u]=p||h}return h};function d(l){var u=r;r[l]||(r[l]={}),u=r[l],(!u.define||!u.define.packaged)&&(i.original=u.define,u.define=i,u.define.packaged=!0),(!u.require||!u.require.packaged)&&(o.original=u.require,u.require=o,u.require.packaged=!0)}d(n)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(n,r,i){function s(o,c,a){Object.defineProperty(o,c,{value:a,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||s(String.prototype,"startsWith",function(o,c){return c=c||0,this.lastIndexOf(o,c)===c}),String.prototype.endsWith||s(String.prototype,"endsWith",function(o,c){var a=this;(c===void 0||c>a.length)&&(c=a.length),c-=o.length;var d=a.indexOf(o,c);return d!==-1&&d===c}),String.prototype.repeat||s(String.prototype,"repeat",function(o){for(var c="",a=this;o>0;)o&1&&(c+=a),(o>>=1)&&(a+=a);return c}),String.prototype.includes||s(String.prototype,"includes",function(o,c){return this.indexOf(o,c)!=-1}),Object.assign||(Object.assign=function(o){if(o==null)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(o),a=1;a<arguments.length;a++){var d=arguments[a];d!=null&&Object.keys(d).forEach(function(l){c[l]=d[l]})}return c}),Object.values||(Object.values=function(o){return Object.keys(o).map(function(c){return o[c]})}),Array.prototype.find||s(Array.prototype,"find",function(o){for(var c=this.length,a=arguments[1],d=0;d<c;d++){var l=this[d];if(o.call(a,l,d,this))return l}}),Array.prototype.findIndex||s(Array.prototype,"findIndex",function(o){for(var c=this.length,a=arguments[1],d=0;d<c;d++){var l=this[d];if(o.call(a,l,d,this))return d}}),Array.prototype.includes||s(Array.prototype,"includes",function(o,c){return this.indexOf(o,c)!=-1}),Array.prototype.fill||s(Array.prototype,"fill",function(o){for(var c=this,a=c.length>>>0,d=arguments[1],l=d>>0,u=l<0?Math.max(a+l,0):Math.min(l,a),h=arguments[2],p=h===void 0?a:h>>0,f=p<0?Math.max(a+p,0):Math.min(p,a);u<f;)c[u]=o,u++;return c}),Array.of||s(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(n,r,i){n("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(n,r,i){r.deepCopy=function s(o){if(typeof o!="object"||!o)return o;var c;if(Array.isArray(o)){c=[];for(var a=0;a<o.length;a++)c[a]=s(o[a]);return c}if(Object.prototype.toString.call(o)!=="[object Object]")return o;c={};for(var a in o)c[a]=s(o[a]);return c}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(n,r,i){r.last=function(c){return c[c.length-1]},r.stringReverse=function(c){return c.split("").reverse().join("")},r.stringRepeat=function(c,a){for(var d="";a>0;)a&1&&(d+=c),(a>>=1)&&(c+=c);return d};var s=/^\s\s*/,o=/\s\s*$/;r.stringTrimLeft=function(c){return c.replace(s,"")},r.stringTrimRight=function(c){return c.replace(o,"")},r.copyObject=function(c){var a={};for(var d in c)a[d]=c[d];return a},r.copyArray=function(c){for(var a=[],d=0,l=c.length;d<l;d++)c[d]&&typeof c[d]=="object"?a[d]=this.copyObject(c[d]):a[d]=c[d];return a},r.deepCopy=n("./deep_copy").deepCopy,r.arrayToMap=function(c){for(var a={},d=0;d<c.length;d++)a[c[d]]=1;return a},r.createMap=function(c){var a=Object.create(null);for(var d in c)a[d]=c[d];return a},r.arrayRemove=function(c,a){for(var d=0;d<=c.length;d++)a===c[d]&&c.splice(d,1)},r.escapeRegExp=function(c){return c.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},r.escapeHTML=function(c){return(""+c).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},r.getMatchOffsets=function(c,a){var d=[];return c.replace(a,function(l){d.push({offset:arguments[arguments.length-2],length:l.length})}),d},r.deferredCall=function(c){var a=null,d=function(){a=null,c()},l=function(u){return l.cancel(),a=setTimeout(d,u||0),l};return l.schedule=l,l.call=function(){return this.cancel(),c(),l},l.cancel=function(){return clearTimeout(a),a=null,l},l.isPending=function(){return a},l},r.delayedCall=function(c,a){var d=null,l=function(){d=null,c()},u=function(h){d==null&&(d=setTimeout(l,h||a))};return u.delay=function(h){d&&clearTimeout(d),d=setTimeout(l,h||a)},u.schedule=u,u.call=function(){this.cancel(),c()},u.cancel=function(){d&&clearTimeout(d),d=null},u.isPending=function(){return d},u},r.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},r.skipEmptyMatch=function(c,a,d){return d&&c.codePointAt(a)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(n,r,i){r.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},r.getOS=function(){return r.isMac?r.OS.MAC:r.isLinux?r.OS.LINUX:r.OS.WINDOWS};var s=typeof navigator=="object"?navigator:{},o=(/mac|win|linux/i.exec(s.platform)||["other"])[0].toLowerCase(),c=s.userAgent||"",a=s.appName||"";r.isWin=o=="win",r.isMac=o=="mac",r.isLinux=o=="linux",r.isIE=a=="Microsoft Internet Explorer"||a.indexOf("MSAppHost")>=0?parseFloat((c.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((c.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),r.isOldIE=r.isIE&&r.isIE<9,r.isGecko=r.isMozilla=c.match(/ Gecko\/\d+/),r.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",r.isWebKit=parseFloat(c.split("WebKit/")[1])||void 0,r.isChrome=parseFloat(c.split(" Chrome/")[1])||void 0,r.isSafari=parseFloat(c.split(" Safari/")[1])&&!r.isChrome||void 0,r.isEdge=parseFloat(c.split(" Edge/")[1])||void 0,r.isAIR=c.indexOf("AdobeAIR")>=0,r.isAndroid=c.indexOf("Android")>=0,r.isChromeOS=c.indexOf(" CrOS ")>=0,r.isIOS=/iPad|iPhone|iPod/.test(c)&&!window.MSStream,r.isIOS&&(r.isMac=!0),r.isMobile=r.isIOS||r.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(n,r,i){var s=n("./useragent"),o="http://www.w3.org/1999/xhtml";r.buildDom=function h(p,f,g){if(typeof p=="string"&&p){var m=document.createTextNode(p);return f&&f.appendChild(m),m}if(!Array.isArray(p))return p&&p.appendChild&&f&&f.appendChild(p),p;if(typeof p[0]!="string"||!p[0]){for(var v=[],y=0;y<p.length;y++){var x=h(p[y],f,g);x&&v.push(x)}return v}var C=document.createElement(p[0]),b=p[1],S=1;b&&typeof b=="object"&&!Array.isArray(b)&&(S=2);for(var y=S;y<p.length;y++)h(p[y],C,g);return S==2&&Object.keys(b).forEach(function(I){var L=b[I];I==="class"?C.className=Array.isArray(L)?L.join(" "):L:typeof L=="function"||I=="value"||I[0]=="$"?C[I]=L:I==="ref"?g&&(g[L]=C):I==="style"?typeof L=="string"&&(C.style.cssText=L):L!=null&&C.setAttribute(I,L)}),f&&f.appendChild(C),C},r.getDocumentHead=function(h){return h||(h=document),h.head||h.getElementsByTagName("head")[0]||h.documentElement},r.createElement=function(h,p){return document.createElementNS?document.createElementNS(p||o,h):document.createElement(h)},r.removeChildren=function(h){h.innerHTML=""},r.createTextNode=function(h,p){var f=p?p.ownerDocument:document;return f.createTextNode(h)},r.createFragment=function(h){var p=h?h.ownerDocument:document;return p.createDocumentFragment()},r.hasCssClass=function(h,p){var f=(h.className+"").split(/\s+/g);return f.indexOf(p)!==-1},r.addCssClass=function(h,p){r.hasCssClass(h,p)||(h.className+=" "+p)},r.removeCssClass=function(h,p){for(var f=h.className.split(/\s+/g);;){var g=f.indexOf(p);if(g==-1)break;f.splice(g,1)}h.className=f.join(" ")},r.toggleCssClass=function(h,p){for(var f=h.className.split(/\s+/g),g=!0;;){var m=f.indexOf(p);if(m==-1)break;g=!1,f.splice(m,1)}return g&&f.push(p),h.className=f.join(" "),g},r.setCssClass=function(h,p,f){f?r.addCssClass(h,p):r.removeCssClass(h,p)},r.hasCssString=function(h,p){var f=0,g;if(p=p||document,g=p.querySelectorAll("style")){for(;f<g.length;)if(g[f++].id===h)return!0}},r.removeElementById=function(h,p){p=p||document,p.getElementById(h)&&p.getElementById(h).remove()};var c,a=[];r.useStrictCSP=function(h){c=h,h==!1?d():a||(a=[])};function d(){var h=a;a=null,h&&h.forEach(function(p){l(p[0],p[1])})}function l(h,p,f){if(!(typeof document>"u")){if(a){if(f)d();else if(f===!1)return a.push([h,p])}if(!c){var g=f;!f||!f.getRootNode?g=document:(g=f.getRootNode(),(!g||g==f)&&(g=document));var m=g.ownerDocument||g;if(p&&r.hasCssString(p,g))return null;p&&(h+=`
/*# sourceURL=ace/css/`+p+" */");var v=r.createElement("style");v.appendChild(m.createTextNode(h)),p&&(v.id=p),g==m&&(g=r.getDocumentHead(m)),g.insertBefore(v,g.firstChild)}}}if(r.importCssString=l,r.importCssStylsheet=function(h,p){r.buildDom(["link",{rel:"stylesheet",href:h}],r.getDocumentHead(p))},r.scrollbarWidth=function(h){var p=r.createElement("ace_inner");p.style.width="100%",p.style.minWidth="0px",p.style.height="200px",p.style.display="block";var f=r.createElement("ace_outer"),g=f.style;g.position="absolute",g.left="-10000px",g.overflow="hidden",g.width="200px",g.minWidth="0px",g.height="150px",g.display="block",f.appendChild(p);var m=h&&h.documentElement||document&&document.documentElement;if(!m)return 0;m.appendChild(f);var v=p.offsetWidth;g.overflow="scroll";var y=p.offsetWidth;return v===y&&(y=f.clientWidth),m.removeChild(f),v-y},r.computedStyle=function(h,p){return window.getComputedStyle(h,"")||{}},r.setStyle=function(h,p,f){h[p]!==f&&(h[p]=f)},r.HAS_CSS_ANIMATION=!1,r.HAS_CSS_TRANSFORMS=!1,r.HI_DPI=s.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,s.isChromeOS&&(r.HI_DPI=!1),typeof document<"u"){var u=document.createElement("div");r.HI_DPI&&u.style.transform!==void 0&&(r.HAS_CSS_TRANSFORMS=!0),!s.isEdge&&typeof u.style.animationName<"u"&&(r.HAS_CSS_ANIMATION=!0),u=null}r.HAS_CSS_TRANSFORMS?r.translate=function(h,p,f){h.style.transform="translate("+Math.round(p)+"px, "+Math.round(f)+"px)"}:r.translate=function(h,p,f){h.style.top=Math.round(f)+"px",h.style.left=Math.round(p)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(n,r,i){var s=n("./dom");r.get=function(o,c){var a=new XMLHttpRequest;a.open("GET",o,!0),a.onreadystatechange=function(){a.readyState===4&&c(a.responseText)},a.send(null)},r.loadScript=function(o,c){var a=s.getDocumentHead(),d=document.createElement("script");d.src=o,a.appendChild(d),d.onload=d.onreadystatechange=function(l,u){(u||!d.readyState||d.readyState=="loaded"||d.readyState=="complete")&&(d=d.onload=d.onreadystatechange=null,u||c())}},r.qualifyURL=function(o){var c=document.createElement("a");return c.href=o,c.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(n,r,i){r.inherits=function(s,o){s.super_=o,s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})},r.mixin=function(s,o){for(var c in o)s[c]=o[c];return s},r.implement=function(s,o){r.mixin(s,o)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(n,r,i){var s={},o=function(){this.propagationStopped=!0},c=function(){this.defaultPrevented=!0};s._emit=s._dispatchEvent=function(a,d){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var l=this._eventRegistry[a]||[],u=this._defaultHandlers[a];if(!(!l.length&&!u)){(typeof d!="object"||!d)&&(d={}),d.type||(d.type=a),d.stopPropagation||(d.stopPropagation=o),d.preventDefault||(d.preventDefault=c),l=l.slice();for(var h=0;h<l.length&&(l[h](d,this),!d.propagationStopped);h++);if(u&&!d.defaultPrevented)return u(d,this)}},s._signal=function(a,d){var l=(this._eventRegistry||{})[a];if(l){l=l.slice();for(var u=0;u<l.length;u++)l[u](d,this)}},s.once=function(a,d){var l=this;if(this.on(a,function u(){l.off(a,u),d.apply(null,arguments)}),!d)return new Promise(function(u){d=u})},s.setDefaultHandler=function(a,d){var l=this._defaultHandlers;if(l||(l=this._defaultHandlers={_disabled_:{}}),l[a]){var u=l[a],h=l._disabled_[a];h||(l._disabled_[a]=h=[]),h.push(u);var p=h.indexOf(d);p!=-1&&h.splice(p,1)}l[a]=d},s.removeDefaultHandler=function(a,d){var l=this._defaultHandlers;if(l){var u=l._disabled_[a];if(l[a]==d)u&&this.setDefaultHandler(a,u.pop());else if(u){var h=u.indexOf(d);h!=-1&&u.splice(h,1)}}},s.on=s.addEventListener=function(a,d,l){this._eventRegistry=this._eventRegistry||{};var u=this._eventRegistry[a];return u||(u=this._eventRegistry[a]=[]),u.indexOf(d)==-1&&u[l?"unshift":"push"](d),d},s.off=s.removeListener=s.removeEventListener=function(a,d){this._eventRegistry=this._eventRegistry||{};var l=this._eventRegistry[a];if(l){var u=l.indexOf(d);u!==-1&&l.splice(u,1)}},s.removeAllListeners=function(a){a||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[a]=void 0),this._defaultHandlers&&(this._defaultHandlers[a]=void 0)},r.EventEmitter=s}),ace.define("ace/lib/report_error",["require","exports","module"],function(n,r,i){r.reportError=function(o,c){var a=new Error(o);a.data=c,typeof console=="object"&&console.error&&console.error(a),setTimeout(function(){throw a})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(n,r,i){var s={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor gutter","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions","editor.tooltip.disable-editing":"Editing is disabled"};r.defaultEnglishMessages=s}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(n,r,i){"no use strict";var s=n("./oop"),o=n("./event_emitter").EventEmitter,c=n("./report_error").reportError,a=n("./default_english_messages").defaultEnglishMessages,d={setOptions:function(f){Object.keys(f).forEach(function(g){this.setOption(g,f[g])},this)},getOptions:function(f){var g={};if(f)Array.isArray(f)||(f=Object.keys(f));else{var m=this.$options;f=Object.keys(m).filter(function(v){return!m[v].hidden})}return f.forEach(function(v){g[v]=this.getOption(v)},this),g},setOption:function(f,g){if(this["$"+f]!==g){var m=this.$options[f];if(!m)return l('misspelled option "'+f+'"');if(m.forwardTo)return this[m.forwardTo]&&this[m.forwardTo].setOption(f,g);m.handlesSet||(this["$"+f]=g),m&&m.set&&m.set.call(this,g)}},getOption:function(f){var g=this.$options[f];return g?g.forwardTo?this[g.forwardTo]&&this[g.forwardTo].getOption(f):g&&g.get?g.get.call(this):this["$"+f]:l('misspelled option "'+f+'"')}};function l(f){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var u,h,p=function(){function f(){this.$defaultOptions={},u=a,h="dollarSigns"}return f.prototype.defineOptions=function(g,m,v){return g.$options||(this.$defaultOptions[m]=g.$options={}),Object.keys(v).forEach(function(y){var x=v[y];typeof x=="string"&&(x={forwardTo:x}),x.name||(x.name=y),g.$options[x.name]=x,"initialValue"in x&&(g["$"+x.name]=x.initialValue)}),s.implement(g,d),this},f.prototype.resetOptions=function(g){Object.keys(g.$options).forEach(function(m){var v=g.$options[m];"value"in v&&g.setOption(m,v.value)})},f.prototype.setDefaultValue=function(g,m,v){if(!g){for(g in this.$defaultOptions)if(this.$defaultOptions[g][m])break;if(!this.$defaultOptions[g][m])return!1}var y=this.$defaultOptions[g]||(this.$defaultOptions[g]={});y[m]&&(y.forwardTo?this.setDefaultValue(y.forwardTo,m,v):y[m].value=v)},f.prototype.setDefaultValues=function(g,m){Object.keys(m).forEach(function(v){this.setDefaultValue(g,v,m[v])},this)},f.prototype.setMessages=function(g,m){u=g,m&&m.placeholders&&(h=m.placeholders)},f.prototype.nls=function(g,m,v){u[g]||(l("No message found for the key '"+g+"' in messages with id "+u.$id+", trying to find a translation for the default string '"+m+"'."),u[m]||l("No message found for the default string '"+m+"' in the provided messages. Falling back to the default English message."));var y=u[g]||u[m]||m;return v&&(h==="dollarSigns"&&(y=y.replace(/\$(\$|[\d]+)/g,function(x,C){return C=="$"?"$":v[C]})),h==="curlyBrackets"&&(y=y.replace(/\{([^\}]+)\}/g,function(x,C){return v[C]}))),y},f}();p.prototype.warn=l,p.prototype.reportError=c,s.implement(p.prototype,o),r.AppConfig=p}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(n,r,i){i.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(n,r,i){r.isDark=!1,r.cssClass="ace-tm",r.cssText=n("./textmate-css"),r.$id="ace/theme/textmate";var s=n("../lib/dom");s.importCssString(r.cssText,r.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(n,r,i){"no use strict";var s=n("./lib/lang"),o=n("./lib/net"),c=n("./lib/dom"),a=n("./lib/app_config").AppConfig;i.exports=r=new a;var d={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};r.get=function(p){if(!d.hasOwnProperty(p))throw new Error("Unknown config key: "+p);return d[p]},r.set=function(p,f){if(d.hasOwnProperty(p))d[p]=f;else if(this.setDefaultValue("",p,f)==!1)throw new Error("Unknown config key: "+p);p=="useStrictCSP"&&c.useStrictCSP(f)},r.all=function(){return s.copyObject(d)},r.$modes={},r.moduleUrl=function(p,f){if(d.$moduleUrls[p])return d.$moduleUrls[p];var g=p.split("/");f=f||g[g.length-2]||"";var m=f=="snippets"?"/":"-",v=g[g.length-1];if(f=="worker"&&m=="-"){var y=new RegExp("^"+f+"[\\-_]|[\\-_]"+f+"$","g");v=v.replace(y,"")}(!v||v==f)&&g.length>1&&(v=g[g.length-2]);var x=d[f+"Path"];return x==null?x=d.basePath:m=="/"&&(f=m=""),x&&x.slice(-1)!="/"&&(x+="/"),x+f+m+v+this.get("suffix")},r.setModuleUrl=function(p,f){return d.$moduleUrls[p]=f};var l=function(p,f){if(p==="ace/theme/textmate"||p==="./theme/textmate")return f(null,n("./theme/textmate"));if(u)return u(p,f);console.error("loader is not configured")},u;r.setLoader=function(p){u=p},r.dynamicModules=Object.create(null),r.$loading={},r.$loaded={},r.loadModule=function(p,f){var g;if(Array.isArray(p))var m=p[0],v=p[1];else if(typeof p=="string")var v=p;var y=function(x){if(x&&!r.$loading[v])return f&&f(x);if(r.$loading[v]||(r.$loading[v]=[]),r.$loading[v].push(f),!(r.$loading[v].length>1)){var C=function(){l(v,function(b,S){S&&(r.$loaded[v]=S),r._emit("load.module",{name:v,module:S});var I=r.$loading[v];r.$loading[v]=null,I.forEach(function(L){L&&L(S)})})};if(!r.get("packaged"))return C();o.loadScript(r.moduleUrl(v,m),C),h()}};if(r.dynamicModules[v])r.dynamicModules[v]().then(function(x){x.default?y(x.default):y(x)});else{try{g=this.$require(v)}catch{}y(g||r.$loaded[v])}},r.$require=function(p){if(typeof i.require=="function"){var f="require";return i[f](p)}},r.setModuleLoader=function(p,f){r.dynamicModules[p]=f};var h=function(){!d.basePath&&!d.workerPath&&!d.modePath&&!d.themePath&&!Object.keys(d.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),h=function(){})};r.version="1.43.1"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(n,r,i){n("./lib/fixoldbrowsers");var s=n("./config");s.setLoader(function(d,l){n([d],function(u){l(null,u)})});var o=function(){return this||typeof window<"u"&&window}();i.exports=function(d){s.init=c,s.$require=n,d.require=n},c(!0);function c(d){if(!(!o||!o.document)){s.set("packaged",d||n.packaged||i.packaged||o.define&&(void 0).packaged);var l={},u="",h=document.currentScript||document._currentScript,p=h&&h.ownerDocument||document;h&&h.src&&(u=h.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var f=p.getElementsByTagName("script"),g=0;g<f.length;g++){var m=f[g],v=m.src||m.getAttribute("src");if(v){for(var y=m.attributes,x=0,C=y.length;x<C;x++){var b=y[x];b.name.indexOf("data-ace-")===0&&(l[a(b.name.replace(/^data-ace-/,""))]=b.value)}var S=v.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);S&&(u=S[1])}}u&&(l.base=l.base||u,l.packaged=!0),l.basePath=l.base,l.workerPath=l.workerPath||l.base,l.modePath=l.modePath||l.base,l.themePath=l.themePath||l.base,delete l.base;for(var I in l)typeof l[I]<"u"&&s.set(I,l[I])}}function a(d){return d.replace(/-(.)/g,function(l,u){return u.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(n,r,i){var s=function(){function o(c,a,d,l){this.start={row:c,column:a},this.end={row:d,column:l}}return o.prototype.isEqual=function(c){return this.start.row===c.start.row&&this.end.row===c.end.row&&this.start.column===c.start.column&&this.end.column===c.end.column},o.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},o.prototype.contains=function(c,a){return this.compare(c,a)==0},o.prototype.compareRange=function(c){var a,d=c.end,l=c.start;return a=this.compare(d.row,d.column),a==1?(a=this.compare(l.row,l.column),a==1?2:a==0?1:0):a==-1?-2:(a=this.compare(l.row,l.column),a==-1?-1:a==1?42:0)},o.prototype.comparePoint=function(c){return this.compare(c.row,c.column)},o.prototype.containsRange=function(c){return this.comparePoint(c.start)==0&&this.comparePoint(c.end)==0},o.prototype.intersects=function(c){var a=this.compareRange(c);return a==-1||a==0||a==1},o.prototype.isEnd=function(c,a){return this.end.row==c&&this.end.column==a},o.prototype.isStart=function(c,a){return this.start.row==c&&this.start.column==a},o.prototype.setStart=function(c,a){typeof c=="object"?(this.start.column=c.column,this.start.row=c.row):(this.start.row=c,this.start.column=a)},o.prototype.setEnd=function(c,a){typeof c=="object"?(this.end.column=c.column,this.end.row=c.row):(this.end.row=c,this.end.column=a)},o.prototype.inside=function(c,a){return this.compare(c,a)==0?!(this.isEnd(c,a)||this.isStart(c,a)):!1},o.prototype.insideStart=function(c,a){return this.compare(c,a)==0?!this.isEnd(c,a):!1},o.prototype.insideEnd=function(c,a){return this.compare(c,a)==0?!this.isStart(c,a):!1},o.prototype.compare=function(c,a){return!this.isMultiLine()&&c===this.start.row?a<this.start.column?-1:a>this.end.column?1:0:c<this.start.row?-1:c>this.end.row?1:this.start.row===c?a>=this.start.column?0:-1:this.end.row===c?a<=this.end.column?0:1:0},o.prototype.compareStart=function(c,a){return this.start.row==c&&this.start.column==a?-1:this.compare(c,a)},o.prototype.compareEnd=function(c,a){return this.end.row==c&&this.end.column==a?1:this.compare(c,a)},o.prototype.compareInside=function(c,a){return this.end.row==c&&this.end.column==a?1:this.start.row==c&&this.start.column==a?-1:this.compare(c,a)},o.prototype.clipRows=function(c,a){if(this.end.row>a)var d={row:a+1,column:0};else if(this.end.row<c)var d={row:c,column:0};if(this.start.row>a)var l={row:a+1,column:0};else if(this.start.row<c)var l={row:c,column:0};return o.fromPoints(l||this.start,d||this.end)},o.prototype.extend=function(c,a){var d=this.compare(c,a);if(d==0)return this;if(d==-1)var l={row:c,column:a};else var u={row:c,column:a};return o.fromPoints(l||this.start,u||this.end)},o.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},o.prototype.isMultiLine=function(){return this.start.row!==this.end.row},o.prototype.clone=function(){return o.fromPoints(this.start,this.end)},o.prototype.collapseRows=function(){return this.end.column==0?new o(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new o(this.start.row,0,this.end.row,0)},o.prototype.toScreenRange=function(c){var a=c.documentToScreenPosition(this.start),d=c.documentToScreenPosition(this.end);return new o(a.row,a.column,d.row,d.column)},o.prototype.moveBy=function(c,a){this.start.row+=c,this.start.column+=a,this.end.row+=c,this.end.column+=a},o}();s.fromPoints=function(o,c){return new s(o.row,o.column,c.row,c.column)},s.comparePoints=function(o,c){return o.row-c.row||o.column-c.column},r.Range=s}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(n,r,i){for(var s=n("./oop"),o={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},c={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},a=0;a<10;a++)c["Digit"+a]=48+a,c["Numpad"+a]=96+a,o.PRINTABLE_KEYS[48+a]=""+a,o.FUNCTION_KEYS[96+a]="Numpad"+a;for(var a=65;a<91;a++){var d=String.fromCharCode(a+32);c["Key"+d.toUpperCase()]=a,o.PRINTABLE_KEYS[a]=d}for(var a=1;a<13;a++)c["F"+a]=111+a,o.FUNCTION_KEYS[111+a]="F"+a;var l={Shift:16,Control:17,Alt:18,Meta:224};for(var u in l)c[u]=c[u+"Left"]=c[u+"Right"]=l[u];r.$codeToKeyCode=c,o.PRINTABLE_KEYS[173]="-";for(var h in o.FUNCTION_KEYS){var p=o.FUNCTION_KEYS[h].toLowerCase();o[p]=parseInt(h,10)}for(var h in o.PRINTABLE_KEYS){var p=o.PRINTABLE_KEYS[h].toLowerCase();o[p]=parseInt(h,10)}s.mixin(o,o.MODIFIER_KEYS),s.mixin(o,o.PRINTABLE_KEYS),s.mixin(o,o.FUNCTION_KEYS),o.enter=o.return,o.escape=o.esc,o.del=o.delete,function(){for(var f=["cmd","ctrl","alt","shift"],g=Math.pow(2,f.length);g--;)o.KEY_MODS[g]=f.filter(function(m){return g&o.KEY_MODS[m]}).join("-")+"-"}(),o.KEY_MODS[0]="",o.KEY_MODS[-1]="input-",s.mixin(r,o),r.default=r,r.keyCodeToString=function(f){var g=o[f];return typeof g!="string"&&(g=String.fromCharCode(f)),g.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,r,i){var s=n("./keys"),o=n("./useragent"),c=null,a=0,d;function l(){d=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return d={passive:!1},!0}})}catch{}}function u(){return d==null&&l(),d}function h(x,C,b){this.elem=x,this.type=C,this.callback=b}h.prototype.destroy=function(){f(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var p=r.addListener=function(x,C,b,S){x.addEventListener(C,b,u()),S&&S.$toDestroy.push(new h(x,C,b))},f=r.removeListener=function(x,C,b){x.removeEventListener(C,b,u())};r.stopEvent=function(x){return r.stopPropagation(x),r.preventDefault(x),!1},r.stopPropagation=function(x){x.stopPropagation&&x.stopPropagation()},r.preventDefault=function(x){x.preventDefault&&x.preventDefault()},r.getButton=function(x){return x.type=="dblclick"?0:x.type=="contextmenu"||o.isMac&&x.ctrlKey&&!x.altKey&&!x.shiftKey?2:x.button},r.capture=function(x,C,b){var S=x&&x.ownerDocument||document;function I(L){C&&C(L),b&&b(L),f(S,"mousemove",C),f(S,"mouseup",I),f(S,"dragstart",I)}return p(S,"mousemove",C),p(S,"mouseup",I),p(S,"dragstart",I),I},r.addMouseWheelListener=function(x,C,b){p(x,"wheel",function(S){var I=.15,L=S.deltaX||0,T=S.deltaY||0;switch(S.deltaMode){case S.DOM_DELTA_PIXEL:S.wheelX=L*I,S.wheelY=T*I;break;case S.DOM_DELTA_LINE:var $=15;S.wheelX=L*$,S.wheelY=T*$;break;case S.DOM_DELTA_PAGE:var P=150;S.wheelX=L*P,S.wheelY=T*P;break}C(S)},b)},r.addMultiMouseDownListener=function(x,C,b,S,I){var L=0,T,$,P,k={2:"dblclick",3:"tripleclick",4:"quadclick"};function A(w){if(r.getButton(w)!==0?L=0:w.detail>1?(L++,L>4&&(L=1)):L=1,o.isIE){var E=Math.abs(w.clientX-T)>5||Math.abs(w.clientY-$)>5;(!P||E)&&(L=1),P&&clearTimeout(P),P=setTimeout(function(){P=null},C[L-1]||600),L==1&&(T=w.clientX,$=w.clientY)}if(w._clicks=L,b[S]("mousedown",w),L>4)L=0;else if(L>1)return b[S](k[L],w)}Array.isArray(x)||(x=[x]),x.forEach(function(w){p(w,"mousedown",A,I)})};function g(x){return 0|(x.ctrlKey?1:0)|(x.altKey?2:0)|(x.shiftKey?4:0)|(x.metaKey?8:0)}r.getModifierString=function(x){return s.KEY_MODS[g(x)]};function m(x,C,b){var S=g(C);if(!b&&C.code&&(b=s.$codeToKeyCode[C.code]||b),!o.isMac&&c){if(C.getModifierState&&(C.getModifierState("OS")||C.getModifierState("Win"))&&(S|=8),c.altGr)if((3&S)!=3)c.altGr=0;else return;if(b===18||b===17){var I=C.location;if(b===17&&I===1)c[b]==1&&(a=C.timeStamp);else if(b===18&&S===3&&I===2){var L=C.timeStamp-a;L<50&&(c.altGr=!0)}}}if(b in s.MODIFIER_KEYS&&(b=-1),!(!S&&b===13&&C.location===3&&(x(C,S,-b),C.defaultPrevented))){if(o.isChromeOS&&S&8){if(x(C,S,b),C.defaultPrevented)return;S&=-9}return!S&&!(b in s.FUNCTION_KEYS)&&!(b in s.PRINTABLE_KEYS)?!1:x(C,S,b)}}r.addCommandKeyListener=function(x,C,b){var S=null;p(x,"keydown",function(I){c[I.keyCode]=(c[I.keyCode]||0)+1;var L=m(C,I,I.keyCode);return S=I.defaultPrevented,L},b),p(x,"keypress",function(I){S&&(I.ctrlKey||I.altKey||I.shiftKey||I.metaKey)&&(r.stopEvent(I),S=null)},b),p(x,"keyup",function(I){c[I.keyCode]=null},b),c||(v(),p(window,"focus",v))};function v(){c=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!o.isOldIE){var y=1;r.nextTick=function(x,C){C=C||window;var b="zero-timeout-message-"+y++,S=function(I){I.data==b&&(r.stopPropagation(I),f(C,"message",S),x())};p(C,"message",S),C.postMessage(b,"*")}}r.$idleBlocked=!1,r.onIdle=function(x,C){return setTimeout(function b(){r.$idleBlocked?setTimeout(b,100):x()},C)},r.$idleBlockId=null,r.blockIdle=function(x){r.$idleBlockId&&clearTimeout(r.$idleBlockId),r.$idleBlocked=!0,r.$idleBlockId=setTimeout(function(){r.$idleBlocked=!1},x||100)},r.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),r.nextFrame?r.nextFrame=r.nextFrame.bind(window):r.nextFrame=function(x){setTimeout(x,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(n,r,i){var s;i.exports={lineMode:!1,pasteCancelled:function(){return s&&s>Date.now()-50?!0:s=!1},cancel:function(){s=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(n,r,i){var s=n("../lib/event"),o=n("../config").nls,c=n("../lib/useragent"),a=n("../lib/dom"),d=n("../lib/lang"),l=n("../clipboard"),u=c.isChrome<18,h=c.isIE,p=c.isChrome>63,f=400,g=n("../lib/keys"),m=g.KEY_MODS,v=c.isIOS,y=v?/\s/:/\n/,x=c.isMobile,C=function(){function b(S,I){var L=this;this.host=I,this.text=a.createElement("textarea"),this.text.className="ace_text-input",this.text.setAttribute("wrap","off"),this.text.setAttribute("autocorrect","off"),this.text.setAttribute("autocapitalize","off"),this.text.setAttribute("spellcheck","false"),this.text.style.opacity="0",S.insertBefore(this.text,S.firstChild),this.copied=!1,this.pasted=!1,this.inComposition=!1,this.sendingText=!1,this.tempStyle="",x||(this.text.style.fontSize="1px"),this.commandMode=!1,this.ignoreFocusEvents=!1,this.lastValue="",this.lastSelectionStart=0,this.lastSelectionEnd=0,this.lastRestoreEnd=0,this.rowStart=Number.MAX_SAFE_INTEGER,this.rowEnd=Number.MIN_SAFE_INTEGER,this.numberOfExtraLines=0;try{this.$isFocused=document.activeElement===this.text}catch{}this.cancelComposition=this.cancelComposition.bind(this),this.setAriaOptions({role:"textbox"}),s.addListener(this.text,"blur",function(T){L.ignoreFocusEvents||(I.onBlur(T),L.$isFocused=!1)},I),s.addListener(this.text,"focus",function(T){if(!L.ignoreFocusEvents){if(L.$isFocused=!0,c.isEdge)try{if(!document.hasFocus())return}catch{}I.onFocus(T),c.isEdge?setTimeout(L.resetSelection.bind(L)):L.resetSelection()}},I),this.$focusScroll=!1,I.on("beforeEndOperation",function(){var T=I.curOp,$=T&&T.command&&T.command.name;if($!="insertstring"){var P=$&&(T.docChanged||T.selectionChanged);L.inComposition&&P&&(L.lastValue=L.text.value="",L.onCompositionEnd()),L.resetSelection()}}),I.on("changeSelection",this.setAriaLabel.bind(this)),this.resetSelection=v?this.$resetSelectionIOS:this.$resetSelection,this.$isFocused&&I.onFocus(),this.inputHandler=null,this.afterContextMenu=!1,s.addCommandKeyListener(this.text,function(T,$,P){if(!L.inComposition)return I.onCommandKey(T,$,P)},I),s.addListener(this.text,"select",this.onSelect.bind(this),I),s.addListener(this.text,"input",this.onInput.bind(this),I),s.addListener(this.text,"cut",this.onCut.bind(this),I),s.addListener(this.text,"copy",this.onCopy.bind(this),I),s.addListener(this.text,"paste",this.onPaste.bind(this),I),(!("oncut"in this.text)||!("oncopy"in this.text)||!("onpaste"in this.text))&&s.addListener(S,"keydown",function(T){if(!(c.isMac&&!T.metaKey||!T.ctrlKey))switch(T.keyCode){case 67:L.onCopy(T);break;case 86:L.onPaste(T);break;case 88:L.onCut(T);break}},I),this.syncComposition=d.delayedCall(this.onCompositionUpdate.bind(this),50).schedule.bind(null,null),s.addListener(this.text,"compositionstart",this.onCompositionStart.bind(this),I),s.addListener(this.text,"compositionupdate",this.onCompositionUpdate.bind(this),I),s.addListener(this.text,"keyup",this.onKeyup.bind(this),I),s.addListener(this.text,"keydown",this.syncComposition.bind(this),I),s.addListener(this.text,"compositionend",this.onCompositionEnd.bind(this),I),this.closeTimeout,s.addListener(this.text,"mouseup",this.$onContextMenu.bind(this),I),s.addListener(this.text,"mousedown",function(T){T.preventDefault(),L.onContextMenuClose()},I),s.addListener(I.renderer.scroller,"contextmenu",this.$onContextMenu.bind(this),I),s.addListener(this.text,"contextmenu",this.$onContextMenu.bind(this),I),v&&this.addIosSelectionHandler(S,I,this.text)}return b.prototype.addIosSelectionHandler=function(S,I,L){var T=this,$=null,P=!1;L.addEventListener("keydown",function(A){$&&clearTimeout($),P=!0},!0),L.addEventListener("keyup",function(A){$=setTimeout(function(){P=!1},100)},!0);var k=function(A){if(document.activeElement===L&&!(P||T.inComposition||I.$mouseHandler.isMousePressed)&&!T.copied){var w=L.selectionStart,E=L.selectionEnd,_=null,R=0;if(w==0?_=g.up:w==1?_=g.home:E>T.lastSelectionEnd&&T.lastValue[E]==`
`?_=g.end:w<T.lastSelectionStart&&T.lastValue[w-1]==" "?(_=g.left,R=m.option):w<T.lastSelectionStart||w==T.lastSelectionStart&&T.lastSelectionEnd!=T.lastSelectionStart&&w==E?_=g.left:E>T.lastSelectionEnd&&T.lastValue.slice(0,E).split(`
`).length>2?_=g.down:E>T.lastSelectionEnd&&T.lastValue[E-1]==" "?(_=g.right,R=m.option):(E>T.lastSelectionEnd||E==T.lastSelectionEnd&&T.lastSelectionEnd!=T.lastSelectionStart&&w==E)&&(_=g.right),w!==E&&(R|=m.shift),_){var M=I.onCommandKey({},R,_);if(!M&&I.commands){_=g.keyCodeToString(_);var O=I.commands.findKeyCommand(R,_);O&&I.execCommand(O)}T.lastSelectionStart=w,T.lastSelectionEnd=E,T.resetSelection("")}}};document.addEventListener("selectionchange",k),I.on("destroy",function(){document.removeEventListener("selectionchange",k)})},b.prototype.onContextMenuClose=function(){var S=this;clearTimeout(this.closeTimeout),this.closeTimeout=setTimeout(function(){S.tempStyle&&(S.text.style.cssText=S.tempStyle,S.tempStyle=""),S.host.renderer.$isMousePressed=!1,S.host.renderer.$keepTextAreaAtCursor&&S.host.renderer.$moveTextAreaToCursor()},0)},b.prototype.$onContextMenu=function(S){this.host.textInput.onContextMenu(S),this.onContextMenuClose()},b.prototype.onKeyup=function(S){S.keyCode==27&&this.text.value.length<this.text.selectionStart&&(this.inComposition||(this.lastValue=this.text.value),this.lastSelectionStart=this.lastSelectionEnd=-1,this.resetSelection()),this.syncComposition()},b.prototype.cancelComposition=function(){this.ignoreFocusEvents=!0,this.text.blur(),this.text.focus(),this.ignoreFocusEvents=!1},b.prototype.onCompositionStart=function(S){if(!(this.inComposition||!this.host.onCompositionStart||this.host.$readOnly)&&(this.inComposition={},!this.commandMode)){S.data&&(this.inComposition.useTextareaForIME=!1),setTimeout(this.onCompositionUpdate.bind(this),0),this.host._signal("compositionStart"),this.host.on("mousedown",this.cancelComposition);var I=this.host.getSelectionRange();I.end.row=I.start.row,I.end.column=I.start.column,this.inComposition.markerRange=I,this.inComposition.selectionStart=this.lastSelectionStart,this.host.onCompositionStart(this.inComposition),this.inComposition.useTextareaForIME?(this.lastValue=this.text.value="",this.lastSelectionStart=0,this.lastSelectionEnd=0):(this.text.msGetInputContext&&(this.inComposition.context=this.text.msGetInputContext()),this.text.getInputContext&&(this.inComposition.context=this.text.getInputContext()))}},b.prototype.onCompositionUpdate=function(){if(!(!this.inComposition||!this.host.onCompositionUpdate||this.host.$readOnly)){if(this.commandMode)return this.cancelComposition();if(this.inComposition.useTextareaForIME)this.host.onCompositionUpdate(this.text.value);else{var S=this.text.value;this.sendText(S),this.inComposition.markerRange&&(this.inComposition.context&&(this.inComposition.markerRange.start.column=this.inComposition.selectionStart=this.inComposition.context.compositionStartOffset),this.inComposition.markerRange.end.column=this.inComposition.markerRange.start.column+this.lastSelectionEnd-this.inComposition.selectionStart+this.lastRestoreEnd)}}},b.prototype.onCompositionEnd=function(S){!this.host.onCompositionEnd||this.host.$readOnly||(this.inComposition=!1,this.host.onCompositionEnd(),this.host.off("mousedown",this.cancelComposition),S&&this.onInput())},b.prototype.onCut=function(S){this.doCopy(S,!0)},b.prototype.onCopy=function(S){this.doCopy(S,!1)},b.prototype.onPaste=function(S){var I=this.handleClipboardData(S);l.pasteCancelled()||(typeof I=="string"?(I&&this.host.onPaste(I,S),c.isIE&&setTimeout(this.resetSelection),s.preventDefault(S)):(this.text.value="",this.pasted=!0))},b.prototype.doCopy=function(S,I){var L=this,T=this.host.getCopyText();if(!T)return s.preventDefault(S);this.handleClipboardData(S,T)?(v&&(this.resetSelection(T),this.copied=T,setTimeout(function(){L.copied=!1},10)),I?this.host.onCut():this.host.onCopy(),s.preventDefault(S)):(this.copied=!0,this.text.value=T,this.text.select(),setTimeout(function(){L.copied=!1,L.resetSelection(),I?L.host.onCut():L.host.onCopy()}))},b.prototype.handleClipboardData=function(S,I,L){var T=S.clipboardData||window.clipboardData;if(!(!T||u)){var $=h||L?"Text":"text/plain";try{return I?T.setData($,I)!==!1:T.getData($)}catch(P){if(!L)return this.handleClipboardData(P,I,!0)}}},b.prototype.onInput=function(S){if(this.inComposition)return this.onCompositionUpdate();if(S&&S.inputType){if(S.inputType=="historyUndo")return this.host.execCommand("undo");if(S.inputType=="historyRedo")return this.host.execCommand("redo")}var I=this.text.value,L=this.sendText(I,!0);(I.length>f+100||y.test(L)||x&&this.lastSelectionStart<1&&this.lastSelectionStart==this.lastSelectionEnd)&&this.resetSelection()},b.prototype.sendText=function(S,I){if(this.afterContextMenu&&(this.afterContextMenu=!1),this.pasted)return this.resetSelection(),S&&this.host.onPaste(S),this.pasted=!1,"";for(var L=this.text.selectionStart,T=this.text.selectionEnd,$=this.lastSelectionStart,P=this.lastValue.length-this.lastSelectionEnd,k=S,A=S.length-L,w=S.length-T,E=0;$>0&&this.lastValue[E]==S[E];)E++,$--;for(k=k.slice(E),E=1;P>0&&this.lastValue.length-E>this.lastSelectionStart-1&&this.lastValue[this.lastValue.length-E]==S[S.length-E];)E++,P--;A-=E-1,w-=E-1;var _=k.length-E+1;if(_<0&&($=-_,_=0),k=k.slice(0,_),!I&&!k&&!A&&!$&&!P&&!w)return"";this.sendingText=!0;var R=!1;return c.isAndroid&&k==". "&&(k="  ",R=!0),k&&!$&&!P&&!A&&!w||this.commandMode?this.host.onTextInput(k):this.host.onTextInput(k,{extendLeft:$,extendRight:P,restoreStart:A,restoreEnd:w}),this.sendingText=!1,this.lastValue=S,this.lastSelectionStart=L,this.lastSelectionEnd=T,this.lastRestoreEnd=w,R?`
`:k},b.prototype.onSelect=function(S){var I=this;if(!this.inComposition){var L=function(T){return T.selectionStart===0&&T.selectionEnd>=I.lastValue.length&&T.value===I.lastValue&&I.lastValue&&T.selectionEnd!==I.lastSelectionEnd};this.copied?this.copied=!1:L(this.text)?(this.host.selectAll(),this.resetSelection()):x&&this.text.selectionStart!=this.lastSelectionStart&&this.resetSelection()}},b.prototype.$resetSelectionIOS=function(S){if(!(!this.$isFocused||this.copied&&!S||this.sendingText)){S||(S="");var I=`
 ab`+S+`cde fg
`;I!=this.text.value&&(this.text.value=this.lastValue=I);var L=4,T=4+(S.length||(this.host.selection.isEmpty()?0:1));(this.lastSelectionStart!=L||this.lastSelectionEnd!=T)&&this.text.setSelectionRange(L,T),this.lastSelectionStart=L,this.lastSelectionEnd=T}},b.prototype.$resetSelection=function(){var S=this;if(!(this.inComposition||this.sendingText)&&!(!this.$isFocused&&!this.afterContextMenu)){this.inComposition=!0;var I=0,L=0,T="",$=function(O,N){for(var F=N,G=1;G<=O-S.rowStart&&G<2*S.numberOfExtraLines+1;G++)F+=S.host.session.getLine(O-G).length+1;return F};if(this.host.session){var P=this.host.selection,k=P.getRange(),A=P.cursor.row;A===this.rowEnd+1?(this.rowStart=this.rowEnd+1,this.rowEnd=this.rowStart+2*this.numberOfExtraLines):A===this.rowStart-1?(this.rowEnd=this.rowStart-1,this.rowStart=this.rowEnd-2*this.numberOfExtraLines):(A<this.rowStart-1||A>this.rowEnd+1)&&(this.rowStart=A>this.numberOfExtraLines?A-this.numberOfExtraLines:0,this.rowEnd=A>this.numberOfExtraLines?A+this.numberOfExtraLines:2*this.numberOfExtraLines);for(var w=[],E=this.rowStart;E<=this.rowEnd;E++)w.push(this.host.session.getLine(E));if(T=w.join(`
`),I=$(k.start.row,k.start.column),L=$(k.end.row,k.end.column),k.start.row<this.rowStart){var _=this.host.session.getLine(this.rowStart-1);I=k.start.row<this.rowStart-1?0:I,L+=_.length+1,T=_+`
`+T}else if(k.end.row>this.rowEnd){var R=this.host.session.getLine(this.rowEnd+1);L=k.end.row>this.rowEnd+1?R.length:k.end.column,L+=T.length+1,T=T+`
`+R}else x&&A>0&&(T=`
`+T,L+=1,I+=1);T.length>f&&(I<f&&L<f?T=T.slice(0,f):(T=`
`,I==L?I=L=0:(I=0,L=1)));var M=T+`

`;M!=this.lastValue&&(this.text.value=this.lastValue=M,this.lastSelectionStart=this.lastSelectionEnd=M.length)}if(this.afterContextMenu&&(this.lastSelectionStart=this.text.selectionStart,this.lastSelectionEnd=this.text.selectionEnd),this.lastSelectionEnd!=L||this.lastSelectionStart!=I||this.text.selectionEnd!=this.lastSelectionEnd)try{this.text.setSelectionRange(I,L),this.lastSelectionStart=I,this.lastSelectionEnd=L}catch{}this.inComposition=!1}},b.prototype.setHost=function(S){this.host=S},b.prototype.setNumberOfExtraLines=function(S){if(this.rowStart=Number.MAX_SAFE_INTEGER,this.rowEnd=Number.MIN_SAFE_INTEGER,S<0){this.numberOfExtraLines=0;return}this.numberOfExtraLines=S},b.prototype.setAriaLabel=function(){var S="";if(this.host.$textInputAriaLabel&&(S+="".concat(this.host.$textInputAriaLabel,", ")),this.host.session){var I=this.host.session.selection.cursor.row;S+=o("text-input.aria-label","Cursor at row $0",[I+1])}this.text.setAttribute("aria-label",S)},b.prototype.setAriaOptions=function(S){S.activeDescendant?(this.text.setAttribute("aria-haspopup","true"),this.text.setAttribute("aria-autocomplete",S.inline?"both":"list"),this.text.setAttribute("aria-activedescendant",S.activeDescendant)):(this.text.setAttribute("aria-haspopup","false"),this.text.setAttribute("aria-autocomplete","both"),this.text.removeAttribute("aria-activedescendant")),S.role&&this.text.setAttribute("role",S.role),S.setLabel&&(this.text.setAttribute("aria-roledescription",o("text-input.aria-roledescription","editor")),this.setAriaLabel())},b.prototype.focus=function(){var S=this;if(this.setAriaOptions({setLabel:this.host.renderer.enableKeyboardAccessibility}),this.tempStyle||p||this.$focusScroll=="browser")return this.text.focus({preventScroll:!0});var I=this.text.style.top;this.text.style.position="fixed",this.text.style.top="0px";try{var L=this.text.getBoundingClientRect().top!=0}catch{return}var T=[];if(L)for(var $=this.text.parentElement;$&&$.nodeType==1;)T.push($),$.setAttribute("ace_nocontext","true"),!$.parentElement&&$.getRootNode?$=$.getRootNode().host:$=$.parentElement;this.text.focus({preventScroll:!0}),L&&T.forEach(function(P){P.removeAttribute("ace_nocontext")}),setTimeout(function(){S.text.style.position="",S.text.style.top=="0px"&&(S.text.style.top=I)},0)},b.prototype.blur=function(){this.text.blur()},b.prototype.isFocused=function(){return this.$isFocused},b.prototype.setInputHandler=function(S){this.inputHandler=S},b.prototype.getInputHandler=function(){return this.inputHandler},b.prototype.getElement=function(){return this.text},b.prototype.setCommandMode=function(S){this.commandMode=S,this.text.readOnly=!1},b.prototype.setReadOnly=function(S){this.commandMode||(this.text.readOnly=S)},b.prototype.setCopyWithEmptySelection=function(S){},b.prototype.onContextMenu=function(S){this.afterContextMenu=!0,this.resetSelection(),this.host._emit("nativecontextmenu",{target:this.host,domEvent:S}),this.moveToMouse(S,!0)},b.prototype.moveToMouse=function(S,I){var L=this;this.tempStyle||(this.tempStyle=this.text.style.cssText),this.text.style.cssText=(I?"z-index:100000;":"")+(c.isIE?"opacity:0.1;":"")+"text-indent: -"+(this.lastSelectionStart+this.lastSelectionEnd)*this.host.renderer.characterWidth*.5+"px;";var T=this.host.container.getBoundingClientRect(),$=a.computedStyle(this.host.container),P=T.top+(parseInt($.borderTopWidth)||0),k=T.left+(parseInt($.borderLeftWidth)||0),A=T.bottom-P-this.text.clientHeight-2,w=function(E){a.translate(L.text,E.clientX-k-2,Math.min(E.clientY-P-2,A))};w(S),S.type=="mousedown"&&(this.host.renderer.$isMousePressed=!0,clearTimeout(this.closeTimeout),c.isWin&&s.capture(this.host.container,w,this.onContextMenuClose.bind(this)))},b.prototype.destroy=function(){this.text.parentElement&&this.text.parentElement.removeChild(this.text)},b}();r.TextInput=C,r.$setUserAgentForTests=function(b,S){x=b,v=S}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(n,r,i){var s=n("../lib/useragent"),o=0,c=550,a=function(){function u(h){h.$clickSelection=null;var p=h.editor;p.setDefaultHandler("mousedown",this.onMouseDown.bind(h)),p.setDefaultHandler("dblclick",this.onDoubleClick.bind(h)),p.setDefaultHandler("tripleclick",this.onTripleClick.bind(h)),p.setDefaultHandler("quadclick",this.onQuadClick.bind(h)),p.setDefaultHandler("mousewheel",this.onMouseWheel.bind(h));var f=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];f.forEach(function(g){h[g]=this[g]},this),h.selectByLines=this.extendSelectionBy.bind(h,"getLineRange"),h.selectByWords=this.extendSelectionBy.bind(h,"getWordRange")}return u.prototype.onMouseDown=function(h){var p=h.inSelection(),f=h.getDocumentPosition();this.mousedownEvent=h;var g=this.editor,m=h.getButton();if(m!==0){var v=g.getSelectionRange(),y=v.isEmpty();(y||m==1)&&g.selection.moveToPosition(f),m==2&&(g.textInput.onContextMenu(h.domEvent),s.isMozilla||h.preventDefault());return}if(this.mousedownEvent.time=Date.now(),p&&!g.isFocused()&&(g.focus(),this.$focusTimeout&&!this.$clickSelection&&!g.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(h);return}return this.captureMouse(h),this.startSelect(f,h.domEvent._clicks>1),h.preventDefault()},u.prototype.startSelect=function(h,p){h=h||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var f=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?f.selection.selectToPosition(h):p||f.selection.moveToPosition(h),p||this.select(),f.setStyle("ace_selecting"),this.setState("select"))},u.prototype.select=function(){var h,p=this.editor,f=p.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var g=this.$clickSelection.comparePoint(f);if(g==-1)h=this.$clickSelection.end;else if(g==1)h=this.$clickSelection.start;else{var m=l(this.$clickSelection,f);f=m.cursor,h=m.anchor}p.selection.setSelectionAnchor(h.row,h.column)}p.selection.selectToPosition(f),p.renderer.scrollCursorIntoView()},u.prototype.extendSelectionBy=function(h){var p,f=this.editor,g=f.renderer.screenToTextCoordinates(this.x,this.y),m=f.selection[h](g.row,g.column);if(this.$clickSelection){var v=this.$clickSelection.comparePoint(m.start),y=this.$clickSelection.comparePoint(m.end);if(v==-1&&y<=0)p=this.$clickSelection.end,(m.end.row!=g.row||m.end.column!=g.column)&&(g=m.start);else if(y==1&&v>=0)p=this.$clickSelection.start,(m.start.row!=g.row||m.start.column!=g.column)&&(g=m.end);else if(v==-1&&y==1)g=m.end,p=m.start;else{var x=l(this.$clickSelection,g);g=x.cursor,p=x.anchor}f.selection.setSelectionAnchor(p.row,p.column)}f.selection.selectToPosition(g),f.renderer.scrollCursorIntoView()},u.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},u.prototype.focusWait=function(){var h=d(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),p=Date.now();(h>o||p-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},u.prototype.onDoubleClick=function(h){var p=h.getDocumentPosition(),f=this.editor,g=f.session,m=g.getBracketRange(p);m?(m.isEmpty()&&(m.start.column--,m.end.column++),this.setState("select")):(m=f.selection.getWordRange(p.row,p.column),this.setState("selectByWords")),this.$clickSelection=m,this.select()},u.prototype.onTripleClick=function(h){var p=h.getDocumentPosition(),f=this.editor;this.setState("selectByLines");var g=f.getSelectionRange();g.isMultiLine()&&g.contains(p.row,p.column)?(this.$clickSelection=f.selection.getLineRange(g.start.row),this.$clickSelection.end=f.selection.getLineRange(g.end.row).end):this.$clickSelection=f.selection.getLineRange(p.row),this.select()},u.prototype.onQuadClick=function(h){var p=this.editor;p.selectAll(),this.$clickSelection=p.getSelectionRange(),this.setState("selectAll")},u.prototype.onMouseWheel=function(h){if(!h.getAccelKey()){h.getShiftKey()&&h.wheelY&&!h.wheelX&&(h.wheelX=h.wheelY,h.wheelY=0);var p=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var f=this.$lastScroll,g=h.domEvent.timeStamp,m=g-f.t,v=m?h.wheelX/m:f.vx,y=m?h.wheelY/m:f.vy;m<c&&(v=(v+f.vx)/2,y=(y+f.vy)/2);var x=Math.abs(v/y),C=!1;if(x>=1&&p.renderer.isScrollableBy(h.wheelX*h.speed,0)&&(C=!0),x<=1&&p.renderer.isScrollableBy(0,h.wheelY*h.speed)&&(C=!0),C)f.allowed=g;else if(g-f.allowed<c){var b=Math.abs(v)<=1.5*Math.abs(f.vx)&&Math.abs(y)<=1.5*Math.abs(f.vy);b?(C=!0,f.allowed=g):f.allowed=0}if(f.t=g,f.vx=v,f.vy=y,C)return p.renderer.scrollBy(h.wheelX*h.speed,h.wheelY*h.speed),h.stop()}},u}();a.prototype.selectEnd=a.prototype.selectByLinesEnd,a.prototype.selectAllEnd=a.prototype.selectByLinesEnd,a.prototype.selectByWordsEnd=a.prototype.selectByLinesEnd,r.DefaultHandlers=a;function d(u,h,p,f){return Math.sqrt(Math.pow(p-u,2)+Math.pow(f-h,2))}function l(u,h){if(u.start.row==u.end.row)var p=2*h.column-u.start.column-u.end.column;else if(u.start.row==u.end.row-1&&!u.start.column&&!u.end.column)var p=h.column-4;else var p=2*h.row-u.start.row-u.end.row;return p<0?{cursor:u.start,anchor:u.end}:{cursor:u.end,anchor:u.start}}}),ace.define("ace/lib/scroll",["require","exports","module"],function(n,r,i){r.preventParentScroll=function(o){o.stopPropagation();var c=o.currentTarget,a=c.scrollHeight>c.clientHeight;a||o.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(n,r,i){var s=this&&this.__extends||function(){var g=function(m,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var C in x)Object.prototype.hasOwnProperty.call(x,C)&&(y[C]=x[C])},g(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function y(){this.constructor=m}m.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}(),o=this&&this.__values||function(g){var m=typeof Symbol=="function"&&Symbol.iterator,v=m&&g[m],y=0;if(v)return v.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&y>=g.length&&(g=void 0),{value:g&&g[y++],done:!g}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")},c=n("./lib/dom");n("./lib/event");var a=n("./range").Range,d=n("./lib/scroll").preventParentScroll,l="ace_tooltip",u=function(){function g(m){this.isOpen=!1,this.$element=null,this.$parentNode=m}return g.prototype.$init=function(){return this.$element=c.createElement("div"),this.$element.className=l,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},g.prototype.getElement=function(){return this.$element||this.$init()},g.prototype.setText=function(m){this.getElement().textContent=m},g.prototype.setHtml=function(m){this.getElement().innerHTML=m},g.prototype.setPosition=function(m,v){this.getElement().style.left=m+"px",this.getElement().style.top=v+"px"},g.prototype.setClassName=function(m){c.addCssClass(this.getElement(),m)},g.prototype.setTheme=function(m){this.$element.className=l+" "+(m.isDark?"ace_dark ":"")+(m.cssClass||"")},g.prototype.show=function(m,v,y){m!=null&&this.setText(m),v!=null&&y!=null&&this.setPosition(v,y),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},g.prototype.hide=function(m){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=l,this.isOpen=!1)},g.prototype.getHeight=function(){return this.getElement().offsetHeight},g.prototype.getWidth=function(){return this.getElement().offsetWidth},g.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},g}(),h=function(){function g(){this.popups=[]}return g.prototype.addPopup=function(m){this.popups.push(m),this.updatePopups()},g.prototype.removePopup=function(m){var v=this.popups.indexOf(m);v!==-1&&(this.popups.splice(v,1),this.updatePopups())},g.prototype.updatePopups=function(){var m,v,y,x;this.popups.sort(function(k,A){return A.priority-k.priority});var C=[];try{for(var b=o(this.popups),S=b.next();!S.done;S=b.next()){var I=S.value,L=!0;try{for(var T=(y=void 0,o(C)),$=T.next();!$.done;$=T.next()){var P=$.value;if(this.doPopupsOverlap(P,I)){L=!1;break}}}catch(k){y={error:k}}finally{try{$&&!$.done&&(x=T.return)&&x.call(T)}finally{if(y)throw y.error}}L?C.push(I):I.hide()}}catch(k){m={error:k}}finally{try{S&&!S.done&&(v=b.return)&&v.call(b)}finally{if(m)throw m.error}}},g.prototype.doPopupsOverlap=function(m,v){var y=m.getElement().getBoundingClientRect(),x=v.getElement().getBoundingClientRect();return y.left<x.right&&y.right>x.left&&y.top<x.bottom&&y.bottom>x.top},g}(),p=new h;r.popupManager=p,r.Tooltip=u;var f=function(g){s(m,g);function m(v){v===void 0&&(v=document.body);var y=g.call(this,v)||this;y.timeout=void 0,y.lastT=0,y.idleTime=350,y.lastEvent=void 0,y.onMouseOut=y.onMouseOut.bind(y),y.onMouseMove=y.onMouseMove.bind(y),y.waitForHover=y.waitForHover.bind(y),y.hide=y.hide.bind(y);var x=y.getElement();return x.style.whiteSpace="pre-wrap",x.style.pointerEvents="auto",x.addEventListener("mouseout",y.onMouseOut),x.tabIndex=-1,x.addEventListener("blur",(function(){x.contains(document.activeElement)||this.hide()}).bind(y)),x.addEventListener("wheel",d),y}return m.prototype.addToEditor=function(v){v.on("mousemove",this.onMouseMove),v.on("mousedown",this.hide),v.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},m.prototype.removeFromEditor=function(v){v.off("mousemove",this.onMouseMove),v.off("mousedown",this.hide),v.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},m.prototype.onMouseMove=function(v,y){this.lastEvent=v,this.lastT=Date.now();var x=y.$mouseHandler.isMousePressed;if(this.isOpen){var C=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(C.row,C.column)||x||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||x||(this.lastEvent=v,this.timeout=setTimeout(this.waitForHover,this.idleTime))},m.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var v=Date.now()-this.lastT;if(this.idleTime-v>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-v);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},m.prototype.isOutsideOfText=function(v){var y=v.editor,x=v.getDocumentPosition(),C=y.session.getLine(x.row);if(x.column==C.length){var b=y.renderer.pixelToScreenCoordinates(v.clientX,v.clientY),S=y.session.documentToScreenPosition(x.row,x.column);if(S.column!=b.column||S.row!=b.row)return!0}return!1},m.prototype.setDataProvider=function(v){this.$gatherData=v},m.prototype.showForRange=function(v,y,x,C){var b=10;if(!(C&&C!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var S=v.renderer;this.isOpen||(p.addPopup(this),this.$registerCloseEvents(),this.setTheme(S.theme)),this.isOpen=!0,this.addMarker(y,v.session),this.range=a.fromPoints(y.start,y.end);var I=S.textToScreenCoordinates(y.start.row,y.start.column),L=S.scroller.getBoundingClientRect();I.pageX<L.left&&(I.pageX=L.left);var T=this.getElement();T.innerHTML="",T.appendChild(x),T.style.maxHeight="",T.style.display="block";var $=T.clientHeight,P=T.clientWidth,k=window.innerHeight-I.pageY-S.lineHeight,A=!0;I.pageY-$<0&&I.pageY<k&&(A=!1),T.style.maxHeight=(A?I.pageY:k)-b+"px",T.style.top=A?"":I.pageY+S.lineHeight+"px",T.style.bottom=A?window.innerHeight-I.pageY+"px":"",T.style.left=Math.min(I.pageX,window.innerWidth-P-b)+"px"}},m.prototype.addMarker=function(v,y){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=y,this.marker=y&&y.addMarker(v,"ace_highlight-marker","text")},m.prototype.hide=function(v){!v&&document.activeElement==this.getElement()||v&&v.target&&(v.type!="keydown"||v.ctrlKey||v.metaKey)&&this.$element.contains(v.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,p.removePopup(this)))},m.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},m.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},m.prototype.onMouseOut=function(v){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!v.relatedTarget||this.getElement().contains(v.relatedTarget)||v&&v.currentTarget.contains(v.relatedTarget)||v.relatedTarget.classList.contains("ace_content")||this.hide())},m}(u);r.HoverTooltip=f}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],function(n,r,i){var s=this&&this.__extends||function(){var g=function(m,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var C in x)Object.prototype.hasOwnProperty.call(x,C)&&(y[C]=x[C])},g(m,v)};return function(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(m,v);function y(){this.constructor=m}m.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}(),o=this&&this.__values||function(g){var m=typeof Symbol=="function"&&Symbol.iterator,v=m&&g[m],y=0;if(v)return v.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&y>=g.length&&(g=void 0),{value:g&&g[y++],done:!g}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")},c=n("../lib/dom"),a=n("../lib/event"),d=n("../tooltip").Tooltip,l=n("../config").nls,u=5,h=3;r.GUTTER_TOOLTIP_LEFT_OFFSET=u,r.GUTTER_TOOLTIP_TOP_OFFSET=h;function p(g){var m=g.editor,v=m.renderer.$gutterLayer,y=new f(m,!0);g.editor.setDefaultHandler("guttermousedown",function(L){if(!(!m.isFocused()||L.getButton()!=0)){var T=v.getRegion(L);if(T!="foldWidgets"){var $=L.getDocumentPosition().row,P=m.session.selection;if(L.getShiftKey())P.selectTo($,0);else{if(L.domEvent.detail==2)return m.selectAll(),L.preventDefault();g.$clickSelection=m.selection.getLineRange($)}return g.setState("selectByLines"),g.captureMouse(L),L.preventDefault()}}});var x,C;function b(){var L=C.getDocumentPosition().row,T=m.session.getLength();if(L==T){var $=m.renderer.pixelToScreenCoordinates(0,C.y).row,P=C.$pos;if($>m.session.documentToScreenRow(P.row,P.column))return S()}if(y.showTooltip(L),!!y.isOpen)if(m.on("mousewheel",S),m.on("changeSession",S),window.addEventListener("keydown",S,!0),g.$tooltipFollowsMouse)I(C);else{var k=C.getGutterRow(),A=v.$lines.get(k);if(A){var w=A.element.querySelector(".ace_gutter_annotation"),E=w.getBoundingClientRect(),_=y.getElement().style;_.left=E.right-u+"px",_.top=E.bottom-h+"px"}else I(C)}}function S(L){L&&L.type==="keydown"&&(L.ctrlKey||L.metaKey)||L&&L.type==="mouseout"&&(!L.relatedTarget||y.getElement().contains(L.relatedTarget))||(x&&(x=clearTimeout(x)),y.isOpen&&(y.hideTooltip(),m.off("mousewheel",S),m.off("changeSession",S),window.removeEventListener("keydown",S,!0)))}function I(L){y.setPosition(L.x,L.y)}g.editor.setDefaultHandler("guttermousemove",function(L){var T=L.domEvent.target||L.domEvent.srcElement;if(c.hasCssClass(T,"ace_fold-widget")||c.hasCssClass(T,"ace_custom-widget"))return S();y.isOpen&&g.$tooltipFollowsMouse&&I(L),C=L,!x&&(x=setTimeout(function(){x=null,C&&!g.isMousePressed&&b()},50))}),a.addListener(m.renderer.$gutter,"mouseout",function(L){C=null,y.isOpen&&(x=setTimeout(function(){x=null,S(L)},50))},m)}r.GutterHandler=p;var f=function(g){s(m,g);function m(v,y){y===void 0&&(y=!1);var x=g.call(this,v.container)||this;x.id="gt"+ ++m.$uid,x.editor=v,x.visibleTooltipRow;var C=x.getElement();return C.setAttribute("role","tooltip"),C.setAttribute("id",x.id),C.style.pointerEvents="auto",y&&(x.onMouseOut=x.onMouseOut.bind(x),C.addEventListener("mouseout",x.onMouseOut)),x}return m.prototype.onMouseOut=function(v){this.isOpen&&(!v.relatedTarget||this.getElement().contains(v.relatedTarget)||v&&v.currentTarget.contains(v.relatedTarget)||this.hideTooltip())},m.prototype.setPosition=function(v,y){var x=window.innerWidth||document.documentElement.clientWidth,C=window.innerHeight||document.documentElement.clientHeight,b=this.getWidth(),S=this.getHeight();v+=15,y+=15,v+b>x&&(v-=v+b-x),y+S>C&&(y-=20+S),d.prototype.setPosition.call(this,v,y)},Object.defineProperty(m,"annotationLabels",{get:function(){return{error:{singular:l("gutter-tooltip.aria-label.error.singular","error"),plural:l("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:l("gutter-tooltip.aria-label.security.singular","security finding"),plural:l("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:l("gutter-tooltip.aria-label.warning.singular","warning"),plural:l("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:l("gutter-tooltip.aria-label.info.singular","information message"),plural:l("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:l("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:l("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),m.prototype.showTooltip=function(v){var y,x=this.editor.renderer.$gutterLayer,C=x.$annotations[v],b;C?b={displayText:Array.from(C.displayText),type:Array.from(C.type)}:b={displayText:[],type:[]};var S=x.session.getFoldLine(v);if(S&&x.$showFoldedAnnotations){for(var I={error:[],security:[],warning:[],info:[],hint:[]},L={error:1,security:2,warning:3,info:4,hint:5},T,$=v+1;$<=S.end.row;$++)if(x.$annotations[$])for(var P=0;P<x.$annotations[$].text.length;P++){var k=x.$annotations[$].type[P];I[k].push(x.$annotations[$].text[P]),(!T||L[k]<L[T])&&(T=k)}if(["error","security","warning"].includes(T)){var A="".concat(m.annotationsToSummaryString(I)," in folded code.");b.displayText.push(A),b.type.push(T+"_fold")}}if(b.displayText.length===0)return this.hideTooltip();for(var w={error:[],security:[],warning:[],info:[],hint:[]},E=x.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",$=0;$<b.displayText.length;$++){var _=c.createElement("span"),R=c.createElement("span");(y=R.classList).add.apply(y,["ace_".concat(b.type[$]),E]),R.setAttribute("aria-label","".concat(m.annotationLabels[b.type[$].replace("_fold","")].singular)),R.setAttribute("role","img"),R.appendChild(c.createTextNode(" ")),_.appendChild(R),_.appendChild(c.createTextNode(b.displayText[$])),_.appendChild(c.createElement("br")),w[b.type[$].replace("_fold","")].push(_)}var M=this.getElement();c.removeChildren(M),w.error.forEach(function(N){return M.appendChild(N)}),w.security.forEach(function(N){return M.appendChild(N)}),w.warning.forEach(function(N){return M.appendChild(N)}),w.info.forEach(function(N){return M.appendChild(N)}),w.hint.forEach(function(N){return M.appendChild(N)}),M.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip"));var O=this.$findLinkedAnnotationNode(v);O&&O.setAttribute("aria-describedby",this.id),this.show(),this.visibleTooltipRow=v,this.editor._signal("showGutterTooltip",this)},m.prototype.$findLinkedAnnotationNode=function(v){var y=this.$findCellByRow(v);if(y){var x=y.element;if(x.childNodes.length>2)return x.childNodes[2]}},m.prototype.$findCellByRow=function(v){return this.editor.renderer.$gutterLayer.$lines.cells.find(function(y){return y.row===v})},m.prototype.hideTooltip=function(){if(this.isOpen){if(this.$element.removeAttribute("aria-live"),this.hide(),this.visibleTooltipRow!=null){var v=this.$findLinkedAnnotationNode(this.visibleTooltipRow);v&&v.removeAttribute("aria-describedby")}this.visibleTooltipRow=void 0,this.editor._signal("hideGutterTooltip",this)}},m.annotationsToSummaryString=function(v){var y,x,C=[],b=["error","security","warning","info","hint"];try{for(var S=o(b),I=S.next();!I.done;I=S.next()){var L=I.value;if(v[L].length){var T=v[L].length===1?m.annotationLabels[L].singular:m.annotationLabels[L].plural;C.push("".concat(v[L].length," ").concat(T))}}}catch($){y={error:$}}finally{try{I&&!I.done&&(x=S.return)&&x.call(S)}finally{if(y)throw y.error}}return C.join(", ")},m}(d);f.$uid=0,r.GutterTooltip=f}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,r,i){var s=n("../lib/event"),o=n("../lib/useragent"),c=function(){function a(d,l){this.speed,this.wheelX,this.wheelY,this.domEvent=d,this.editor=l,this.x=this.clientX=d.clientX,this.y=this.clientY=d.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return a.prototype.stopPropagation=function(){s.stopPropagation(this.domEvent),this.propagationStopped=!0},a.prototype.preventDefault=function(){s.preventDefault(this.domEvent),this.defaultPrevented=!0},a.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},a.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},a.prototype.getGutterRow=function(){var d=this.getDocumentPosition().row,l=this.editor.session.documentToScreenRow(d,0),u=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return l-u},a.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var d=this.editor,l=d.getSelectionRange();if(l.isEmpty())this.$inSelection=!1;else{var u=this.getDocumentPosition();this.$inSelection=l.contains(u.row,u.column)}return this.$inSelection},a.prototype.getButton=function(){return s.getButton(this.domEvent)},a.prototype.getShiftKey=function(){return this.domEvent.shiftKey},a.prototype.getAccelKey=function(){return o.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},a}();r.MouseEvent=c}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(n,r,i){var s=n("../lib/dom"),o=n("../lib/event"),c=n("../lib/useragent"),a=200,d=200,l=5;function u(p){var f=p.editor,g=s.createElement("div");g.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",g.textContent=" ";var m=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];m.forEach(function(z){p[z]=this[z]},this),f.on("mousedown",this.onMouseDown.bind(p));var v=f.container,y,x,C,b,S,I,L=0,T,$,P,k,A;this.onDragStart=function(z){if(this.cancelDrag||!v.draggable){var j=this;return setTimeout(function(){j.startSelect(),j.captureMouse(z)},0),z.preventDefault()}S=f.getSelectionRange();var V=z.dataTransfer;V.effectAllowed=f.getReadOnly()?"copy":"copyMove",f.container.appendChild(g),V.setDragImage&&V.setDragImage(g,0,0),setTimeout(function(){f.container.removeChild(g)}),V.clearData(),V.setData("Text",f.session.getTextRange()),$=!0,this.setState("drag")},this.onDragEnd=function(z){if(v.draggable=!1,$=!1,this.setState(null),!f.getReadOnly()){var j=z.dataTransfer.dropEffect;!T&&j=="move"&&f.session.remove(f.getSelectionRange()),f.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(z){if(!(f.getReadOnly()||!F(z.dataTransfer)))return x=z.clientX,C=z.clientY,y||R(),L++,z.dataTransfer.dropEffect=T=G(z),o.preventDefault(z)},this.onDragOver=function(z){if(!(f.getReadOnly()||!F(z.dataTransfer)))return x=z.clientX,C=z.clientY,y||(R(),L++),O!==null&&(O=null),z.dataTransfer.dropEffect=T=G(z),o.preventDefault(z)},this.onDragLeave=function(z){if(L--,L<=0&&y)return M(),T=null,o.preventDefault(z)},this.onDrop=function(z){if(I){var j=z.dataTransfer;if($)switch(T){case"move":S.contains(I.row,I.column)?S={start:I,end:I}:S=f.moveText(S,I);break;case"copy":S=f.moveText(S,I,!0);break}else{var V=j.getData("Text");S={start:I,end:f.session.insert(I,V)},f.focus(),T=null}return M(),o.preventDefault(z)}},o.addListener(v,"dragstart",this.onDragStart.bind(p),f),o.addListener(v,"dragend",this.onDragEnd.bind(p),f),o.addListener(v,"dragenter",this.onDragEnter.bind(p),f),o.addListener(v,"dragover",this.onDragOver.bind(p),f),o.addListener(v,"dragleave",this.onDragLeave.bind(p),f),o.addListener(v,"drop",this.onDrop.bind(p),f);function w(z,j){var V=Date.now(),Z=!j||z.row!=j.row,X=!j||z.column!=j.column;if(!k||Z||X)f.moveCursorToPosition(z),k=V,A={x,y:C};else{var Y=h(A.x,A.y,x,C);Y>l?k=null:V-k>=d&&(f.renderer.scrollCursorIntoView(),k=null)}}function E(z,j){var V=Date.now(),Z=f.renderer.layerConfig.lineHeight,X=f.renderer.layerConfig.characterWidth,Y=f.renderer.scroller.getBoundingClientRect(),Q={x:{left:x-Y.left,right:Y.right-x},y:{top:C-Y.top,bottom:Y.bottom-C}},te=Math.min(Q.x.left,Q.x.right),re=Math.min(Q.y.top,Q.y.bottom),pe={row:z.row,column:z.column};te/X<=2&&(pe.column+=Q.x.left<Q.x.right?-3:2),re/Z<=1&&(pe.row+=Q.y.top<Q.y.bottom?-1:1);var le=z.row!=pe.row,ge=z.column!=pe.column,ne=!j||z.row!=j.row;le||ge&&!ne?P?V-P>=a&&f.renderer.scrollCursorIntoView(pe):P=V:P=null}function _(){var z=I;I=f.renderer.screenToTextCoordinates(x,C),w(I,z),E(I,z)}function R(){S=f.selection.toOrientedRange(),y=f.session.addMarker(S,"ace_selection",f.getSelectionStyle()),f.clearSelection(),f.isFocused()&&f.renderer.$cursorLayer.setBlinking(!1),clearInterval(b),_(),b=setInterval(_,20),L=0,o.addListener(document,"mousemove",N)}function M(){clearInterval(b),f.session.removeMarker(y),y=null,f.selection.fromOrientedRange(S),f.isFocused()&&!$&&f.$resetCursorStyle(),S=null,I=null,L=0,P=null,k=null,o.removeListener(document,"mousemove",N)}var O=null;function N(){O==null&&(O=setTimeout(function(){O!=null&&y&&M()},20))}function F(z){var j=z.types;return!j||Array.prototype.some.call(j,function(V){return V=="text/plain"||V=="Text"})}function G(z){var j=["copy","copymove","all","uninitialized"],V=["move","copymove","linkmove","all","uninitialized"],Z=c.isMac?z.altKey:z.ctrlKey,X="uninitialized";try{X=z.dataTransfer.effectAllowed.toLowerCase()}catch{}var Y="none";return Z&&j.indexOf(X)>=0?Y="copy":V.indexOf(X)>=0?Y="move":j.indexOf(X)>=0&&(Y="copy"),Y}}(function(){this.dragWait=function(){var p=Date.now()-this.mousedownEvent.time;p>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var p=this.editor.container;p.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(p){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var p=this.editor,f=p.container;f.draggable=!0,p.renderer.$cursorLayer.setBlinking(!1),p.setStyle("ace_dragging");var g=c.isWin?"default":"move";p.renderer.setCursorStyle(g),this.setState("dragReady")},this.onMouseDrag=function(p){var f=this.editor.container;if(c.isIE&&this.state=="dragReady"){var g=h(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);g>3&&f.dragDrop()}if(this.state==="dragWait"){var g=h(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);g>0&&(f.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(p){if(this.$dragEnabled){this.mousedownEvent=p;var f=this.editor,g=p.inSelection(),m=p.getButton(),v=p.domEvent.detail||1;if(v===1&&m===0&&g){if(p.editor.inMultiSelectMode&&(p.getAccelKey()||p.getShiftKey()))return;this.mousedownEvent.time=Date.now();var y=p.domEvent.target||p.domEvent.srcElement;if("unselectable"in y&&(y.unselectable="on"),f.getDragDelay()){if(c.isWebKit){this.cancelDrag=!0;var x=f.container;x.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(p,this.onMouseDrag.bind(this)),p.defaultPrevented=!0}}}}).call(u.prototype);function h(p,f,g,m){return Math.sqrt(Math.pow(g-p,2)+Math.pow(m-f,2))}r.DragdropHandler=u}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(n,r,i){var s=n("./mouse_event").MouseEvent,o=n("../lib/event"),c=n("../lib/dom");r.addTouchListeners=function(a,d){var l="scroll",u,h,p,f,g,m,v=0,y,x=0,C=0,b=0,S,I;function L(){var w=window.navigator&&window.navigator.clipboard,E=!1,_=function(){var O=d.getCopyText(),N=d.session.getUndoManager().hasUndo();I.replaceChild(c.buildDom(E?["span",!O&&R("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],O&&R("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],O&&R("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],w&&R("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],N&&R("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],R("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],R("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),I.firstChild)},R=function(O){return d.commands.canExecute(O,d)},M=function(O){var N=O.target.getAttribute("action");if(N=="more"||!E)return E=!E,_();N=="paste"?w.readText().then(function(F){d.execCommand(N,F)}):N&&((N=="cut"||N=="copy")&&(w?w.writeText(d.getCopyText()):document.execCommand("copy")),d.execCommand(N)),I.firstChild.style.display="none",E=!1,N!="openCommandPalette"&&d.focus()};I=c.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(O){l="menu",O.stopPropagation(),O.preventDefault(),d.textInput.focus()},ontouchend:function(O){O.stopPropagation(),O.preventDefault(),M(O)},onclick:M},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],d.container)}function T(){if(!d.getOption("enableMobileMenu")){I&&$();return}I||L();var w=d.selection.cursor,E=d.renderer.textToScreenCoordinates(w.row,w.column),_=d.renderer.textToScreenCoordinates(0,0).pageX,R=d.renderer.scrollLeft,M=d.container.getBoundingClientRect();I.style.top=E.pageY-M.top-3+"px",E.pageX-M.left<M.width-70?(I.style.left="",I.style.right="10px"):(I.style.right="",I.style.left=_+R-M.left+"px"),I.style.display="",I.firstChild.style.display="none",d.on("input",$)}function $(w){I&&(I.style.display="none"),d.off("input",$)}function P(){g=null,clearTimeout(g);var w=d.selection.getRange(),E=w.contains(y.row,y.column);(w.isEmpty()||!E)&&(d.selection.moveToPosition(y),d.selection.selectWord()),l="wait",T()}function k(){g=null,clearTimeout(g),d.selection.moveToPosition(y);var w=x>=2?d.selection.getLineRange(y.row):d.session.getBracketRange(y);w&&!w.isEmpty()?d.selection.setRange(w):d.selection.selectWord(),l="wait"}o.addListener(a,"contextmenu",function(w){if(S){var E=d.textInput.getElement();E.focus()}},d),o.addListener(a,"touchstart",function(w){var E=w.touches;if(g||E.length>1){clearTimeout(g),g=null,p=-1,l="zoom";return}S=d.$mouseHandler.isMousePressed=!0;var _=d.renderer.layerConfig.lineHeight,R=d.renderer.layerConfig.lineHeight,M=w.timeStamp;f=M;var O=E[0],N=O.clientX,F=O.clientY;Math.abs(u-N)+Math.abs(h-F)>_&&(p=-1),u=w.clientX=N,h=w.clientY=F,C=b=0;var G=new s(w,d);if(y=G.getDocumentPosition(),M-p<500&&E.length==1&&!v)x++,w.preventDefault(),w.button=0,k();else{x=0;var z=d.selection.cursor,j=d.selection.isEmpty()?z:d.selection.anchor,V=d.renderer.$cursorLayer.getPixelPosition(z,!0),Z=d.renderer.$cursorLayer.getPixelPosition(j,!0),X=d.renderer.scroller.getBoundingClientRect(),Y=d.renderer.layerConfig.offset,Q=d.renderer.scrollLeft,te=function(le,ge){return le=le/R,ge=ge/_-.75,le*le+ge*ge};if(w.clientX<X.left){l="zoom";return}var re=te(w.clientX-X.left-V.left+Q,w.clientY-X.top-V.top+Y),pe=te(w.clientX-X.left-Z.left+Q,w.clientY-X.top-Z.top+Y);re<3.5&&pe<3.5&&(l=re>pe?"cursor":"anchor"),pe<3.5?l="anchor":re<3.5?l="cursor":l="scroll",g=setTimeout(P,450)}p=M},d),o.addListener(a,"touchend",function(w){S=d.$mouseHandler.isMousePressed=!1,m&&clearInterval(m),l=="zoom"?(l="",v=0):g?(d.selection.moveToPosition(y),v=0,T()):l=="scroll"?(A(),$()):T(),clearTimeout(g),g=null},d),o.addListener(a,"touchmove",function(w){g&&(clearTimeout(g),g=null);var E=w.touches;if(!(E.length>1||l=="zoom")){var _=E[0],R=u-_.clientX,M=h-_.clientY;if(l=="wait")if(R*R+M*M>4)l="cursor";else return w.preventDefault();u=_.clientX,h=_.clientY,w.clientX=_.clientX,w.clientY=_.clientY;var O=w.timeStamp,N=O-f;if(f=O,l=="scroll"){var F=new s(w,d);F.speed=1,F.wheelX=R,F.wheelY=M,10*Math.abs(R)<Math.abs(M)&&(R=0),10*Math.abs(M)<Math.abs(R)&&(M=0),N!=0&&(C=R/N,b=M/N),d._emit("mousewheel",F),F.propagationStopped||(C=b=0)}else{var G=new s(w,d),z=G.getDocumentPosition();l=="cursor"?d.selection.moveCursorToPosition(z):l=="anchor"&&d.selection.setSelectionAnchor(z.row,z.column),d.renderer.scrollCursorIntoView(z),w.preventDefault()}}},d);function A(){v+=60,m=setInterval(function(){v--<=0&&(clearInterval(m),m=null),Math.abs(C)<.01&&(C=0),Math.abs(b)<.01&&(b=0),v<20&&(C=.9*C),v<20&&(b=.9*b);var w=d.session.getScrollTop();d.renderer.scrollBy(10*C,10*b),w==d.session.getScrollTop()&&(v=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(n,r,i){var s=n("../lib/event"),o=n("../lib/useragent"),c=n("./default_handlers").DefaultHandlers,a=n("./default_gutter_handler").GutterHandler,d=n("./mouse_event").MouseEvent,l=n("./dragdrop_handler").DragdropHandler,u=n("./touch_handler").addTouchListeners,h=n("../config"),p=function(){function f(g){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var m=this;this.editor=g,new c(this),new a(this),new l(this);var v=function(C){var b=!document.hasFocus||!document.hasFocus()||!g.isFocused()&&document.activeElement==(g.textInput&&g.textInput.getElement());b&&window.focus(),g.focus(),setTimeout(function(){g.isFocused()||g.focus()})},y=g.renderer.getMouseEventTarget();s.addListener(y,"click",this.onMouseEvent.bind(this,"click"),g),s.addListener(y,"mousemove",this.onMouseMove.bind(this,"mousemove"),g),s.addMultiMouseDownListener([y,g.renderer.scrollBarV&&g.renderer.scrollBarV.inner,g.renderer.scrollBarH&&g.renderer.scrollBarH.inner,g.textInput&&g.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",g),s.addMouseWheelListener(g.container,this.onMouseWheel.bind(this,"mousewheel"),g),u(g.container,g);var x=g.renderer.$gutter;s.addListener(x,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),g),s.addListener(x,"click",this.onMouseEvent.bind(this,"gutterclick"),g),s.addListener(x,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),g),s.addListener(x,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),g),s.addListener(y,"mousedown",v,g),s.addListener(x,"mousedown",v,g),o.isIE&&g.renderer.scrollBarV&&(s.addListener(g.renderer.scrollBarV.element,"mousedown",v,g),s.addListener(g.renderer.scrollBarH.element,"mousedown",v,g)),g.on("mousemove",function(C){if(!(m.state||m.$dragDelay||!m.$dragEnabled)){var b=g.renderer.screenToTextCoordinates(C.x,C.y),S=g.session.selection.getRange(),I=g.renderer;!S.isEmpty()&&S.insideStart(b.row,b.column)?I.setCursorStyle("default"):I.setCursorStyle("")}},g)}return f.prototype.onMouseEvent=function(g,m){this.editor.session&&this.editor._emit(g,new d(m,this.editor))},f.prototype.onMouseMove=function(g,m){var v=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!v||!v.length||this.editor._emit(g,new d(m,this.editor))},f.prototype.onMouseWheel=function(g,m){var v=new d(m,this.editor);v.speed=this.$scrollSpeed*2,v.wheelX=m.wheelX,v.wheelY=m.wheelY,this.editor._emit(g,v)},f.prototype.setState=function(g){this.state=g},f.prototype.captureMouse=function(g,m){this.x=g.x,this.y=g.y,this.isMousePressed=!0;var v=this.editor,y=this.editor.renderer;y.$isMousePressed=!0;var x=this,C=!0,b=function($){if($){if(o.isWebKit&&!$.which&&x.releaseMouse)return x.releaseMouse();x.x=$.clientX,x.y=$.clientY,m&&m($),x.mouseEvent=new d($,x.editor),x.$mouseMoved=!0}},S=function($){v.off("beforeEndOperation",T),C=!1,v.session&&I(),x[x.state+"End"]&&x[x.state+"End"]($),x.state="",x.isMousePressed=y.$isMousePressed=!1,y.$keepTextAreaAtCursor&&y.$moveTextAreaToCursor(),x.$onCaptureMouseMove=x.releaseMouse=null,$&&x.onMouseEvent("mouseup",$),v.endOperation()},I=function(){x[x.state]&&x[x.state](),x.$mouseMoved=!1},L=function(){C&&(I(),s.nextFrame(L))};if(o.isOldIE&&g.domEvent.type=="dblclick")return setTimeout(function(){S(g)});var T=function($){x.releaseMouse&&v.curOp.command.name&&v.curOp.selectionChanged&&(x[x.state+"End"]&&x[x.state+"End"](),x.state="",x.releaseMouse())};v.on("beforeEndOperation",T),v.startOperation({command:{name:"mouse"}}),x.$onCaptureMouseMove=b,x.releaseMouse=s.capture(this.editor.container,b,S),L()},f.prototype.cancelContextMenu=function(){var g=(function(m){m&&m.domEvent&&m.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",g),m&&m.domEvent&&s.stopEvent(m.domEvent))}).bind(this);setTimeout(g,10),this.editor.on("nativecontextmenu",g)},f.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},f}();p.prototype.releaseMouse=null,h.defineOptions(p.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:o.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),r.MouseHandler=p}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(n,r,i){var s=n("../lib/dom"),o=function(){function c(a){a.on("click",function(d){var l=d.getDocumentPosition(),u=a.session,h=u.getFoldAt(l.row,l.column,1);h&&(d.getAccelKey()?u.removeFold(h):u.expandFold(h),d.stop());var p=d.domEvent&&d.domEvent.target;p&&s.hasCssClass(p,"ace_inline_button")&&s.hasCssClass(p,"ace_toggle_wrap")&&(u.setOption("wrap",!u.getUseWrapMode()),a.renderer.scrollCursorIntoView())}),a.on("gutterclick",function(d){var l=a.renderer.$gutterLayer.getRegion(d);if(l=="foldWidgets"){var u=d.getDocumentPosition().row,h=a.session;h.foldWidgets&&h.foldWidgets[u]&&a.session.onFoldWidgetClick(u,d),a.isFocused()||a.focus(),d.stop()}}),a.on("gutterdblclick",function(d){var l=a.renderer.$gutterLayer.getRegion(d);if(l=="foldWidgets"){var u=d.getDocumentPosition().row,h=a.session,p=h.getParentFoldRangeData(u,!0),f=p.range||p.firstRange;if(f){u=f.start.row;var g=h.getFoldAt(u,h.getLine(u).length,1);g?h.removeFold(g):(h.addFold("...",f),a.renderer.scrollCursorIntoView({row:f.start.row,column:0}))}d.stop()}})}return c}();r.FoldHandler=o}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(n,r,i){var s=n("../lib/keys"),o=n("../lib/event"),c=function(){function a(d){this.$editor=d,this.$data={editor:d},this.$handlers=[],this.setDefaultHandler(d.commands)}return a.prototype.setDefaultHandler=function(d){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=d,this.addKeyboardHandler(d,0)},a.prototype.setKeyboardHandler=function(d){var l=this.$handlers;if(l[l.length-1]!=d){for(;l[l.length-1]&&l[l.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(l[l.length-1]);this.addKeyboardHandler(d,1)}},a.prototype.addKeyboardHandler=function(d,l){if(d){typeof d=="function"&&!d.handleKeyboard&&(d.handleKeyboard=d);var u=this.$handlers.indexOf(d);u!=-1&&this.$handlers.splice(u,1),l==null?this.$handlers.push(d):this.$handlers.splice(l,0,d),u==-1&&d.attach&&d.attach(this.$editor)}},a.prototype.removeKeyboardHandler=function(d){var l=this.$handlers.indexOf(d);return l==-1?!1:(this.$handlers.splice(l,1),d.detach&&d.detach(this.$editor),!0)},a.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},a.prototype.getStatusText=function(){var d=this.$data,l=d.editor;return this.$handlers.map(function(u){return u.getStatusText&&u.getStatusText(l,d)||""}).filter(Boolean).join(" ")},a.prototype.$callKeyboardHandlers=function(d,l,u,h){for(var p,f=!1,g=this.$editor.commands,m=this.$handlers.length;m--&&(p=this.$handlers[m].handleKeyboard(this.$data,d,l,u,h),!(!(!p||!p.command)&&(p.command=="null"?f=!0:f=g.exec(p.command,this.$editor,p.args,h),f&&h&&d!=-1&&p.passEvent!=!0&&p.command.passEvent!=!0&&o.stopEvent(h),f))););return!f&&d==-1&&(p={command:"insertstring"},f=g.exec("insertstring",this.$editor,l)),f&&this.$editor._signal&&this.$editor._signal("keyboardActivity",p),f},a.prototype.onCommandKey=function(d,l,u){var h=s.keyCodeToString(u);return this.$callKeyboardHandlers(l,h,u,d)},a.prototype.onTextInput=function(d){return this.$callKeyboardHandlers(-1,d)},a}();r.KeyBinding=c}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(n,r,i){var s=0,o=0,c=!1,a=!1,d=!1,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h=0,p=1,f=0,g=1,m=2,v=3,y=4,x=5,C=6,b=7,S=8,I=9,L=10,T=11,$=12,P=13,k=14,A=15,w=16,E=17,_=18,R=[_,_,_,_,_,_,_,_,_,C,x,C,S,x,_,_,_,_,_,_,_,_,_,_,_,_,_,_,x,x,x,C,S,y,y,T,T,T,y,y,y,y,y,L,I,L,I,I,m,m,m,m,m,m,m,m,m,m,I,y,y,y,y,y,y,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,y,y,y,y,y,y,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,y,y,y,y,_,_,_,_,_,_,x,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,I,y,T,T,T,T,y,y,y,y,f,y,y,_,y,y,T,T,m,m,y,f,y,y,y,m,f,y,y,y,y,y],M=[S,S,S,S,S,S,S,S,S,S,S,_,_,_,f,g,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,S,x,P,k,A,w,E,I,T,T,T,T,T,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,I,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,S];function O(z,j,V,Z){var X=s?u:l,Y=null,Q=null,te=null,re=0,pe=null,le=null,ge=-1,ne=null,ve=null,xe=[];if(!Z)for(ne=0,Z=[];ne<V;ne++)Z[ne]=G(z[ne]);for(o=s,c=!1,a=!1,d=!1,ve=0;ve<V;ve++){if(Y=re,xe[ve]=Q=F(z,Z,xe,ve),re=X[Y][Q],pe=re&240,re&=15,j[ve]=te=X[re][5],pe>0)if(pe==16){for(ne=ge;ne<ve;ne++)j[ne]=1;ge=-1}else ge=-1;if(le=X[re][6],le)ge==-1&&(ge=ve);else if(ge>-1){for(ne=ge;ne<ve;ne++)j[ne]=te;ge=-1}Z[ve]==x&&(j[ve]=0),o|=te}if(d){for(ne=0;ne<V;ne++)if(Z[ne]==C){j[ne]=s;for(var Me=ne-1;Me>=0&&Z[Me]==S;Me--)j[Me]=s}}}function N(z,j,V){if(!(o<z)){if(z==1&&s==p&&!a){V.reverse();return}for(var Z=V.length,X=0,Y,Q,te,re;X<Z;){if(j[X]>=z){for(Y=X+1;Y<Z&&j[Y]>=z;)Y++;for(Q=X,te=Y-1;Q<te;Q++,te--)re=V[Q],V[Q]=V[te],V[te]=re;X=Y}X++}}}function F(z,j,V,Z){var X=j[Z],Y,Q,te,re;switch(X){case f:case g:c=!1;case y:case v:return X;case m:return c?v:m;case b:return c=!0,g;case S:return y;case I:return Z<1||Z+1>=j.length||(Y=V[Z-1])!=m&&Y!=v||(Q=j[Z+1])!=m&&Q!=v?y:(c&&(Q=v),Q==Y?Q:y);case L:return Y=Z>0?V[Z-1]:x,Y==m&&Z+1<j.length&&j[Z+1]==m?m:y;case T:if(Z>0&&V[Z-1]==m)return m;if(c)return y;for(re=Z+1,te=j.length;re<te&&j[re]==T;)re++;return re<te&&j[re]==m?m:y;case $:for(te=j.length,re=Z+1;re<te&&j[re]==$;)re++;if(re<te){var pe=z[Z],le=pe>=1425&&pe<=2303||pe==64286;if(Y=j[re],le&&(Y==g||Y==b))return g}return Z<1||(Y=j[Z-1])==x?y:V[Z-1];case x:return c=!1,a=!0,s;case C:return d=!0,y;case P:case k:case w:case E:case A:c=!1;case _:return y}}function G(z){var j=z.charCodeAt(0),V=j>>8;return V==0?j>191?f:R[j]:V==5?/[\u0591-\u05f4]/.test(z)?g:f:V==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(z)?$:/[\u0660-\u0669\u066b-\u066c]/.test(z)?v:j==1642?T:/[\u06f0-\u06f9]/.test(z)?m:b:V==32&&j<=8287?M[j&255]:V==254&&j>=65136?b:y}r.L=f,r.R=g,r.EN=m,r.ON_R=3,r.AN=4,r.R_H=5,r.B=6,r.RLE=7,r.DOT="·",r.doBidiReorder=function(z,j,V){if(z.length<2)return{};var Z=z.split(""),X=new Array(Z.length),Y=new Array(Z.length),Q=[];s=V?p:h,O(Z,Q,Z.length,j);for(var te=0;te<X.length;X[te]=te,te++);N(2,Q,X),N(1,Q,X);for(var te=0;te<X.length-1;te++)j[te]===v?Q[te]=r.AN:Q[te]===g&&(j[te]>b&&j[te]<P||j[te]===y||j[te]===_)?Q[te]=r.ON_R:te>0&&Z[te-1]==="ل"&&/\u0622|\u0623|\u0625|\u0627/.test(Z[te])&&(Q[te-1]=Q[te]=r.R_H,te++);Z[Z.length-1]===r.DOT&&(Q[Z.length-1]=r.B),Z[0]==="‫"&&(Q[0]=r.RLE);for(var te=0;te<X.length;te++)Y[te]=Q[X[te]];return{logicalFromVisual:X,bidiLevels:Y}},r.hasBidiCharacters=function(z,j){for(var V=!1,Z=0;Z<z.length;Z++)j[Z]=G(z.charAt(Z)),!V&&(j[Z]==g||j[Z]==b||j[Z]==v)&&(V=!0);return V},r.getVisualFromLogicalIdx=function(z,j){for(var V=0;V<j.logicalFromVisual.length;V++)if(j.logicalFromVisual[V]==z)return V;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(n,r,i){var s=n("./lib/bidiutil"),o=n("./lib/lang"),c=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,a=function(){function d(l){this.session=l,this.bidiMap={},this.currentRow=null,this.bidiUtil=s,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=c.test(l.getValue())}return d.prototype.isBidiRow=function(l,u,h){return this.seenBidi?(l!==this.currentRow&&(this.currentRow=l,this.updateRowLine(u,h),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},d.prototype.onChange=function(l){this.seenBidi?this.currentRow=null:l.action=="insert"&&c.test(l.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},d.prototype.getDocumentRow=function(){var l=0,u=this.session.$screenRowCache;if(u.length){var h=this.session.$getRowCacheIndex(u,this.currentRow);h>=0&&(l=this.session.$docRowCache[h])}return l},d.prototype.getSplitIndex=function(){var l=0,u=this.session.$screenRowCache;if(u.length)for(var h,p=this.session.$getRowCacheIndex(u,this.currentRow);this.currentRow-l>0&&(h=this.session.$getRowCacheIndex(u,this.currentRow-l-1),h===p);)p=h,l++;else l=this.currentRow;return l},d.prototype.updateRowLine=function(l,u){l===void 0&&(l=this.getDocumentRow());var h=l===this.session.getLength()-1,p=h?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(l),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var f=this.session.$wrapData[l];f&&(u===void 0&&(u=this.getSplitIndex()),u>0&&f.length?(this.wrapIndent=f.indent,this.wrapOffset=this.wrapIndent*this.charWidths[s.L],this.line=u<f.length?this.line.substring(f[u-1],f[u]):this.line.substring(f[f.length-1])):this.line=this.line.substring(0,f[u]),u==f.length&&(this.line+=this.showInvisibles?p:s.DOT))}else this.line+=this.showInvisibles?p:s.DOT;var g=this.session,m=0,v;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(y,x){return y==="	"||g.isFullWidth(y.charCodeAt(0))?(v=y==="	"?g.getScreenTabSize(x+m):2,m+=v-1,o.stringRepeat(s.DOT,v)):y}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==s.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},d.prototype.updateBidiMap=function(){var l=[];s.hasBidiCharacters(this.line,l)||this.isRtlDir?this.bidiMap=s.doBidiReorder(this.line,l,this.isRtlDir):this.bidiMap={}},d.prototype.markAsDirty=function(){this.currentRow=null},d.prototype.updateCharacterWidths=function(l){if(this.characterWidth!==l.$characterSize.width){this.fontMetrics=l;var u=this.characterWidth=l.$characterSize.width,h=l.$measureCharWidth("ה");this.charWidths[s.L]=this.charWidths[s.EN]=this.charWidths[s.ON_R]=u,this.charWidths[s.R]=this.charWidths[s.AN]=h,this.charWidths[s.R_H]=h*.45,this.charWidths[s.B]=this.charWidths[s.RLE]=0,this.currentRow=null}},d.prototype.setShowInvisibles=function(l){this.showInvisibles=l,this.currentRow=null},d.prototype.setEolChar=function(l){this.EOL=l},d.prototype.setContentWidth=function(l){this.contentWidth=l},d.prototype.isRtlLine=function(l){return this.$isRtl?!0:l!=null?this.session.getLine(l).charAt(0)==this.RLE:this.isRtlDir},d.prototype.setRtlDirection=function(l,u){for(var h=l.getCursorPosition(),p=l.selection.getSelectionAnchor().row;p<=h.row;p++)!u&&l.session.getLine(p).charAt(0)===l.session.$bidiHandler.RLE?l.session.doc.removeInLine(p,0,1):u&&l.session.getLine(p).charAt(0)!==l.session.$bidiHandler.RLE&&l.session.doc.insert({column:0,row:p},l.session.$bidiHandler.RLE)},d.prototype.getPosLeft=function(l){l-=this.wrapIndent;var u=this.line.charAt(0)===this.RLE?1:0,h=l>u?this.session.getOverwrite()?l:l-1:u,p=s.getVisualFromLogicalIdx(h,this.bidiMap),f=this.bidiMap.bidiLevels,g=0;!this.session.getOverwrite()&&l<=u&&f[p]%2!==0&&p++;for(var m=0;m<p;m++)g+=this.charWidths[f[m]];return!this.session.getOverwrite()&&l>u&&f[p]%2===0&&(g+=this.charWidths[f[p]]),this.wrapIndent&&(g+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(g+=this.rtlLineOffset),g},d.prototype.getSelections=function(l,u){var h=this.bidiMap,p=h.bidiLevels,f,g=[],m=0,v=Math.min(l,u)-this.wrapIndent,y=Math.max(l,u)-this.wrapIndent,x=!1,C=!1,b=0;this.wrapIndent&&(m+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var S,I=0;I<p.length;I++)S=h.logicalFromVisual[I],f=p[I],x=S>=v&&S<y,x&&!C?b=m:!x&&C&&g.push({left:b,width:m-b}),m+=this.charWidths[f],C=x;if(x&&I===p.length&&g.push({left:b,width:m-b}),this.isRtlDir)for(var L=0;L<g.length;L++)g[L].left+=this.rtlLineOffset;return g},d.prototype.offsetToCol=function(h){this.isRtlDir&&(h-=this.rtlLineOffset);var u=0,h=Math.max(h,0),p=0,f=0,g=this.bidiMap.bidiLevels,m=this.charWidths[g[f]];for(this.wrapIndent&&(h-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);h>p+m/2;){if(p+=m,f===g.length-1){m=0;break}m=this.charWidths[g[++f]]}return f>0&&g[f-1]%2!==0&&g[f]%2===0?(h<p&&f--,u=this.bidiMap.logicalFromVisual[f]):f>0&&g[f-1]%2===0&&g[f]%2!==0?u=1+(h>p?this.bidiMap.logicalFromVisual[f]:this.bidiMap.logicalFromVisual[f-1]):this.isRtlDir&&f===g.length-1&&m===0&&g[f-1]%2===0||!this.isRtlDir&&f===0&&g[f]%2!==0?u=1+this.bidiMap.logicalFromVisual[f]:(f>0&&g[f-1]%2!==0&&m!==0&&f--,u=this.bidiMap.logicalFromVisual[f]),u===0&&this.isRtlDir&&u++,u+this.wrapIndent},d}();r.BidiHandler=a}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(n,r,i){var s=n("./lib/oop"),o=n("./lib/lang"),c=n("./lib/event_emitter").EventEmitter,a=n("./range").Range,d=function(){function l(u){this.session=u,this.doc=u.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var h=this;this.cursor.on("change",function(p){h.$cursorChanged=!0,h.$silent||h._emit("changeCursor"),!h.$isEmpty&&!h.$silent&&h._emit("changeSelection"),!h.$keepDesiredColumnOnChange&&p.old.column!=p.value.column&&(h.$desiredColumn=null)}),this.anchor.on("change",function(){h.$anchorChanged=!0,!h.$isEmpty&&!h.$silent&&h._emit("changeSelection")})}return l.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},l.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},l.prototype.getCursor=function(){return this.lead.getPosition()},l.prototype.setAnchor=function(u,h){this.$isEmpty=!1,this.anchor.setPosition(u,h)},l.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},l.prototype.getSelectionLead=function(){return this.lead.getPosition()},l.prototype.isBackwards=function(){var u=this.anchor,h=this.lead;return u.row>h.row||u.row==h.row&&u.column>h.column},l.prototype.getRange=function(){var u=this.anchor,h=this.lead;return this.$isEmpty?a.fromPoints(h,h):this.isBackwards()?a.fromPoints(h,u):a.fromPoints(u,h)},l.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},l.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},l.prototype.setRange=function(u,h){var p=h?u.end:u.start,f=h?u.start:u.end;this.$setSelection(p.row,p.column,f.row,f.column)},l.prototype.$setSelection=function(u,h,p,f){if(!this.$silent){var g=this.$isEmpty,m=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(u,h),this.cursor.setPosition(p,f),this.$isEmpty=!a.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||g!=this.$isEmpty||m)&&this._emit("changeSelection")}},l.prototype.$moveSelection=function(u){var h=this.lead;this.$isEmpty&&this.setSelectionAnchor(h.row,h.column),u.call(this)},l.prototype.selectTo=function(u,h){this.$moveSelection(function(){this.moveCursorTo(u,h)})},l.prototype.selectToPosition=function(u){this.$moveSelection(function(){this.moveCursorToPosition(u)})},l.prototype.moveTo=function(u,h){this.clearSelection(),this.moveCursorTo(u,h)},l.prototype.moveToPosition=function(u){this.clearSelection(),this.moveCursorToPosition(u)},l.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},l.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},l.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},l.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},l.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},l.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},l.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},l.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},l.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},l.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},l.prototype.getWordRange=function(u,h){if(typeof h>"u"){var p=u||this.lead;u=p.row,h=p.column}return this.session.getWordRange(u,h)},l.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},l.prototype.selectAWord=function(){var u=this.getCursor(),h=this.session.getAWordRange(u.row,u.column);this.setSelectionRange(h)},l.prototype.getLineRange=function(u,h){var p=typeof u=="number"?u:this.lead.row,f,g=this.session.getFoldLine(p);return g?(p=g.start.row,f=g.end.row):f=p,h===!0?new a(p,0,f,this.session.getLine(f).length):new a(p,0,f+1,0)},l.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},l.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},l.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},l.prototype.wouldMoveIntoSoftTab=function(u,h,p){var f=u.column,g=u.column+h;return p<0&&(f=u.column-h,g=u.column),this.session.isTabStop(u)&&this.doc.getLine(u.row).slice(f,g).split(" ").length-1==h},l.prototype.moveCursorLeft=function(){var u=this.lead.getPosition(),h;if(h=this.session.getFoldAt(u.row,u.column,-1))this.moveCursorTo(h.start.row,h.start.column);else if(u.column===0)u.row>0&&this.moveCursorTo(u.row-1,this.doc.getLine(u.row-1).length);else{var p=this.session.getTabSize();this.wouldMoveIntoSoftTab(u,p,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-p):this.moveCursorBy(0,-1)}},l.prototype.moveCursorRight=function(){var u=this.lead.getPosition(),h;if(h=this.session.getFoldAt(u.row,u.column,1))this.moveCursorTo(h.end.row,h.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var p=this.session.getTabSize(),u=this.lead;this.wouldMoveIntoSoftTab(u,p,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,p):this.moveCursorBy(0,1)}},l.prototype.moveCursorLineStart=function(){var u=this.lead.row,h=this.lead.column,p=this.session.documentToScreenRow(u,h),f=this.session.screenToDocumentPosition(p,0),g=this.session.getDisplayLine(u,null,f.row,f.column),m=g.match(/^\s*/);m[0].length!=h&&!this.session.$useEmacsStyleLineStart&&(f.column+=m[0].length),this.moveCursorToPosition(f)},l.prototype.moveCursorLineEnd=function(){var u=this.lead,h=this.session.getDocumentLastRowColumnPosition(u.row,u.column);if(this.lead.column==h.column){var p=this.session.getLine(h.row);if(h.column==p.length){var f=p.search(/\s+$/);f>0&&(h.column=f)}}this.moveCursorTo(h.row,h.column)},l.prototype.moveCursorFileEnd=function(){var u=this.doc.getLength()-1,h=this.doc.getLine(u).length;this.moveCursorTo(u,h)},l.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},l.prototype.moveCursorLongWordRight=function(){var u=this.lead.row,h=this.lead.column,p=this.doc.getLine(u),f=p.substring(h);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var g=this.session.getFoldAt(u,h,1);if(g){this.moveCursorTo(g.end.row,g.end.column);return}if(this.session.nonTokenRe.exec(f)&&(h+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,f=p.substring(h)),h>=p.length){this.moveCursorTo(u,p.length),this.moveCursorRight(),u<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(f)&&(h+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(u,h)},l.prototype.moveCursorLongWordLeft=function(){var u=this.lead.row,h=this.lead.column,p;if(p=this.session.getFoldAt(u,h,-1)){this.moveCursorTo(p.start.row,p.start.column);return}var f=this.session.getFoldStringAt(u,h,-1);f==null&&(f=this.doc.getLine(u).substring(0,h));var g=o.stringReverse(f);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(g)&&(h-=this.session.nonTokenRe.lastIndex,g=g.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),h<=0){this.moveCursorTo(u,0),this.moveCursorLeft(),u>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(g)&&(h-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(u,h)},l.prototype.$shortWordEndIndex=function(u){var h=0,p,f=/\s/,g=this.session.tokenRe;if(g.lastIndex=0,this.session.tokenRe.exec(u))h=this.session.tokenRe.lastIndex;else{for(;(p=u[h])&&f.test(p);)h++;if(h<1){for(g.lastIndex=0;(p=u[h])&&!g.test(p);)if(g.lastIndex=0,h++,f.test(p))if(h>2){h--;break}else{for(;(p=u[h])&&f.test(p);)h++;if(h>2)break}}}return g.lastIndex=0,h},l.prototype.moveCursorShortWordRight=function(){var u=this.lead.row,h=this.lead.column,p=this.doc.getLine(u),f=p.substring(h),g=this.session.getFoldAt(u,h,1);if(g)return this.moveCursorTo(g.end.row,g.end.column);if(h==p.length){var m=this.doc.getLength();do u++,f=this.doc.getLine(u);while(u<m&&/^\s*$/.test(f));/^\s+/.test(f)||(f=""),h=0}var v=this.$shortWordEndIndex(f);this.moveCursorTo(u,h+v)},l.prototype.moveCursorShortWordLeft=function(){var u=this.lead.row,h=this.lead.column,p;if(p=this.session.getFoldAt(u,h,-1))return this.moveCursorTo(p.start.row,p.start.column);var f=this.session.getLine(u).substring(0,h);if(h===0){do u--,f=this.doc.getLine(u);while(u>0&&/^\s*$/.test(f));h=f.length,/\s+$/.test(f)||(f="")}var g=o.stringReverse(f),m=this.$shortWordEndIndex(g);return this.moveCursorTo(u,h-m)},l.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},l.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},l.prototype.moveCursorBy=function(u,h){var p=this.session.documentToScreenPosition(this.lead.row,this.lead.column),f;if(h===0&&(u!==0&&(this.session.$bidiHandler.isBidiRow(p.row,this.lead.row)?(f=this.session.$bidiHandler.getPosLeft(p.column),p.column=Math.round(f/this.session.$bidiHandler.charWidths[0])):f=p.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?p.column=this.$desiredColumn:this.$desiredColumn=p.column),u!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var g=this.session.lineWidgets[this.lead.row];u<0?u-=g.rowsAbove||0:u>0&&(u+=g.rowCount-(g.rowsAbove||0))}var m=this.session.screenToDocumentPosition(p.row+u,p.column,f);u!==0&&h===0&&m.row===this.lead.row&&(m.column,this.lead.column),this.moveCursorTo(m.row,m.column+h,h===0)},l.prototype.moveCursorToPosition=function(u){this.moveCursorTo(u.row,u.column)},l.prototype.moveCursorTo=function(u,h,p){var f=this.session.getFoldAt(u,h,1);f&&(u=f.start.row,h=f.start.column),this.$keepDesiredColumnOnChange=!0;var g=this.session.getLine(u);/[\uDC00-\uDFFF]/.test(g.charAt(h))&&g.charAt(h-1)&&(this.lead.row==u&&this.lead.column==h+1?h=h-1:h=h+1),this.lead.setPosition(u,h),this.$keepDesiredColumnOnChange=!1,p||(this.$desiredColumn=null)},l.prototype.moveCursorToScreen=function(u,h,p){var f=this.session.screenToDocumentPosition(u,h);this.moveCursorTo(f.row,f.column,p)},l.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},l.prototype.fromOrientedRange=function(u){this.setSelectionRange(u,u.cursor==u.start),this.$desiredColumn=u.desiredColumn||this.$desiredColumn},l.prototype.toOrientedRange=function(u){var h=this.getRange();return u?(u.start.column=h.start.column,u.start.row=h.start.row,u.end.column=h.end.column,u.end.row=h.end.row):u=h,u.cursor=this.isBackwards()?u.start:u.end,u.desiredColumn=this.$desiredColumn,u},l.prototype.getRangeOfMovements=function(u){var h=this.getCursor();try{u(this);var p=this.getCursor();return a.fromPoints(h,p)}catch{return a.fromPoints(h,h)}finally{this.moveCursorToPosition(h)}},l.prototype.toJSON=function(){if(this.rangeCount)var u=this.ranges.map(function(h){var p=h.clone();return p.isBackwards=h.cursor==h.start,p});else{var u=this.getRange();u.isBackwards=this.isBackwards()}return u},l.prototype.fromJSON=function(u){if(u.start==null)if(this.rangeList&&u.length>1){this.toSingleRange(u[0]);for(var h=u.length;h--;){var p=a.fromPoints(u[h].start,u[h].end);u[h].isBackwards&&(p.cursor=p.start),this.addRange(p,!0)}return}else u=u[0];this.rangeList&&this.toSingleRange(u),this.setSelectionRange(u,u.isBackwards)},l.prototype.isEqual=function(u){if((u.length||this.rangeCount)&&u.length!=this.rangeCount)return!1;if(!u.length||!this.ranges)return this.getRange().isEqual(u);for(var h=this.ranges.length;h--;)if(!this.ranges[h].isEqual(u[h]))return!1;return!0},l}();d.prototype.setSelectionAnchor=d.prototype.setAnchor,d.prototype.getSelectionAnchor=d.prototype.getAnchor,d.prototype.setSelectionRange=d.prototype.setRange,s.implement(d.prototype,c),r.Selection=d}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(n,r,i){var s=n("./lib/report_error").reportError,o=2e3,c=function(){function a(d){this.splitRegex,this.states=d,this.regExps={},this.matchMappings={};for(var l in this.states){for(var u=this.states[l],h=[],p=0,f=this.matchMappings[l]={defaultToken:"text"},g="g",m=[],v=0;v<u.length;v++){var y=u[v];if(y.defaultToken&&(f.defaultToken=y.defaultToken),y.caseInsensitive&&g.indexOf("i")===-1&&(g+="i"),y.unicode&&g.indexOf("u")===-1&&(g+="u"),y.regex!=null){y.regex instanceof RegExp&&(y.regex=y.regex.toString().slice(1,-1));var x=y.regex,C=new RegExp("(?:("+x+")|(.))").exec("a").length-2;Array.isArray(y.token)?y.token.length==1||C==1?y.token=y.token[0]:C-1!=y.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:y,groupCount:C-1}),y.token=y.token[0]):(y.tokenArray=y.token,y.token=null,y.onMatch=this.$arrayTokens):typeof y.token=="function"&&!y.onMatch&&(C>1?y.onMatch=this.$applyToken:y.onMatch=y.token),C>1&&(/\\\d/.test(y.regex)?x=y.regex.replace(/\\([0-9]+)/g,function(b,S){return"\\"+(parseInt(S,10)+p+1)}):(C=1,x=this.removeCapturingGroups(y.regex)),!y.splitRegex&&typeof y.token!="string"&&m.push(y)),f[p]=v,p+=C,h.push(x),y.onMatch||(y.onMatch=null)}}h.length||(f[0]=0,h.push("$")),m.forEach(function(b){b.splitRegex=this.createSplitterRegexp(b.regex,g)},this),this.regExps[l]=new RegExp("("+h.join(")|(")+")|($)",g)}}return a.prototype.$setMaxTokenCount=function(d){o=d|0},a.prototype.$applyToken=function(d){var l=this.splitRegex.exec(d).slice(1),u=this.token.apply(this,l);if(typeof u=="string")return[{type:u,value:d}];for(var h=[],p=0,f=u.length;p<f;p++)l[p]&&(h[h.length]={type:u[p],value:l[p]});return h},a.prototype.$arrayTokens=function(d){if(!d)return[];var l=this.splitRegex.exec(d);if(!l)return"text";for(var u=[],h=this.tokenArray,p=0,f=h.length;p<f;p++)l[p+1]&&(u[u.length]={type:h[p],value:l[p+1]});return u},a.prototype.removeCapturingGroups=function(d){var l=d.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(u,h){return h?"(?:":u});return l},a.prototype.createSplitterRegexp=function(d,l){if(d.indexOf("(?=")!=-1){var u=0,h=!1,p={};d.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(f,g,m,v,y,x){return h?h=y!="]":y?h=!0:v?(u==p.stack&&(p.end=x+1,p.stack=-1),u--):m&&(u++,m.length!=1&&(p.stack=u,p.start=x)),f}),p.end!=null&&/^\)*$/.test(d.substr(p.end))&&(d=d.substring(0,p.start)+d.substr(p.end))}return d.charAt(0)!="^"&&(d="^"+d),d.charAt(d.length-1)!="$"&&(d+="$"),new RegExp(d,(l||"").replace("g",""))},a.prototype.getLineTokens=function(d,l){if(l&&typeof l!="string"){var u=l.slice(0);l=u[0],l==="#tmp"&&(u.shift(),l=u.shift())}else var u=[];var h=l||"start",p=this.states[h];p||(h="start",p=this.states[h]);var f=this.matchMappings[h],g=this.regExps[h];g.lastIndex=0;for(var m,v=[],y=0,x=0,C={type:null,value:""};m=g.exec(d);){var b=f.defaultToken,S=null,I=m[0],L=g.lastIndex;if(L-I.length>y){var T=d.substring(y,L-I.length);C.type==b?C.value+=T:(C.type&&v.push(C),C={type:b,value:T})}for(var $=0;$<m.length-2;$++)if(m[$+1]!==void 0){S=p[f[$]],S.onMatch?b=S.onMatch(I,h,u,d):b=S.token,S.next&&(typeof S.next=="string"?h=S.next:h=S.next(h,u),p=this.states[h],p||(this.reportError("state doesn't exist",h),h="start",p=this.states[h]),f=this.matchMappings[h],y=L,g=this.regExps[h],g.lastIndex=L),S.consumeLineEnd&&(y=L);break}if(I){if(typeof b=="string")(!S||S.merge!==!1)&&C.type===b?C.value+=I:(C.type&&v.push(C),C={type:b,value:I});else if(b){C.type&&v.push(C),C={type:null,value:""};for(var $=0;$<b.length;$++)v.push(b[$])}}if(y==d.length)break;if(y=L,x++>o){for(x>2*d.length&&this.reportError("infinite loop with in ace tokenizer",{startState:l,line:d});y<d.length;)C.type&&v.push(C),C={value:d.substring(y,y+=500),type:"overflow"};h="start",u=[];break}}return C.type&&v.push(C),u.length>1&&u[0]!==h&&u.unshift("#tmp",h),{tokens:v,state:u.length?u:h}},a}();c.prototype.reportError=s,r.Tokenizer=c}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(n,r,i){var s=n("../lib/deep_copy").deepCopy,o;o=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(d,l){if(!l){for(var u in d)this.$rules[u]=d[u];return}for(var u in d){for(var h=d[u],p=0;p<h.length;p++){var f=h[p];(f.next||f.onMatch)&&(typeof f.next=="string"&&f.next.indexOf(l)!==0&&(f.next=l+f.next),f.nextState&&f.nextState.indexOf(l)!==0&&(f.nextState=l+f.nextState))}this.$rules[l+u]=h}},this.getRules=function(){return this.$rules},this.embedRules=function(d,l,u,h,p){var f=typeof d=="function"?new d().getRules():d;if(h)for(var g=0;g<h.length;g++)h[g]=l+h[g];else{h=[];for(var m in f)h.push(l+m)}if(this.addRules(f,l),u)for(var v=Array.prototype[p?"push":"unshift"],g=0;g<h.length;g++)v.apply(this.$rules[h[g]],s(u));this.$embeds||(this.$embeds=[]),this.$embeds.push(l)},this.getEmbeds=function(){return this.$embeds};var c=function(d,l){return(d!="start"||l.length)&&l.unshift(this.nextState,d),this.nextState},a=function(d,l){return l.shift(),l.shift()||"start"};this.normalizeRules=function(){var d=0,l=this.$rules;function u(h){var p=l[h];p.processed=!0;for(var f=0;f<p.length;f++){var g=p[f],m=null;Array.isArray(g)&&(m=g,g={}),!g.regex&&g.start&&(g.regex=g.start,g.next||(g.next=[]),g.next.push({defaultToken:g.token},{token:g.token+".end",regex:g.end||g.start,next:"pop"}),g.token=g.token+".start",g.push=!0);var v=g.next||g.push;if(v&&Array.isArray(v)){var y=g.stateName;y||(y=g.token,typeof y!="string"&&(y=y[0]||""),l[y]&&(y+=d++)),l[y]=v,g.next=y,u(y)}else v=="pop"&&(g.next=a);if(g.push&&(g.nextState=g.next||g.push,g.next=c,delete g.push),g.rules)for(var x in g.rules)l[x]?l[x].push&&l[x].push.apply(l[x],g.rules[x]):l[x]=g.rules[x];var C=typeof g=="string"?g:g.include;if(C&&(C==="$self"&&(C="start"),Array.isArray(C)?m=C.map(function(S){return l[S]}):m=l[C]),m){var b=[f,1].concat(m);g.noEscape&&(b=b.filter(function(S){return!S.next})),p.splice.apply(p,b),f--}g.keywordMap&&(g.token=this.createKeywordMapper(g.keywordMap,g.defaultToken||"text",g.caseInsensitive),delete g.defaultToken)}}Object.keys(l).forEach(u,this)},this.createKeywordMapper=function(d,l,u,h){var p=Object.create(null);return this.$keywordList=[],Object.keys(d).forEach(function(f){for(var g=d[f],m=g.split(h||"|"),v=m.length;v--;){var y=m[v];this.$keywordList.push(y),u&&(y=y.toLowerCase()),p[y]=f}},this),d=null,u?function(f){return p[f.toLowerCase()]||l}:function(f){return p[f]||l}},this.getKeywords=function(){return this.$keywords}}).call(o.prototype),r.TextHighlightRules=o}),ace.define("ace/mode/behaviour",["require","exports","module"],function(n,r,i){var s;s=function(){this.$behaviours={}},(function(){this.add=function(o,c,a){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[o]:this.$behaviours[o]={}}this.$behaviours[o][c]=a},this.addBehaviours=function(o){for(var c in o)for(var a in o[c])this.add(c,a,o[c][a])},this.remove=function(o){this.$behaviours&&this.$behaviours[o]&&delete this.$behaviours[o]},this.inherit=function(o,c){if(typeof o=="function")var a=new o().getBehaviours(c);else var a=o.getBehaviours(c);this.addBehaviours(a)},this.getBehaviours=function(o){if(o){for(var c={},a=0;a<o.length;a++)this.$behaviours[o[a]]&&(c[o[a]]=this.$behaviours[o[a]]);return c}else return this.$behaviours}}).call(s.prototype),r.Behaviour=s}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(n,r,i){var s=n("./range").Range,o=function(){function c(a,d,l){this.$session=a,this.$row=d,this.$rowTokens=a.getTokens(d);var u=a.getTokenAt(d,l);this.$tokenIndex=u?u.index:-1}return c.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},c.prototype.stepForward=function(){this.$tokenIndex+=1;for(var a;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,a||(a=this.$session.getLength()),this.$row>=a)return this.$row=a-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},c.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},c.prototype.getCurrentTokenRow=function(){return this.$row},c.prototype.getCurrentTokenColumn=function(){var a=this.$rowTokens,d=this.$tokenIndex,l=a[d].start;if(l!==void 0)return l;for(l=0;d>0;)d-=1,l+=a[d].value.length;return l},c.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},c.prototype.getCurrentTokenRange=function(){var a=this.$rowTokens[this.$tokenIndex],d=this.getCurrentTokenColumn();return new s(this.$row,d,this.$row,d+a.value.length)},c}();r.TokenIterator=o}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(n,r,i){var s=n("../../lib/oop"),o=n("../behaviour").Behaviour,c=n("../../token_iterator").TokenIterator,a=n("../../lib/lang"),d=["text","paren.rparen","rparen","paren","punctuation.operator"],l=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],u,h={},p={'"':'"',"'":"'"},f=function(v){var y=-1;if(v.multiSelect&&(y=v.selection.index,h.rangeCount!=v.multiSelect.rangeCount&&(h={rangeCount:v.multiSelect.rangeCount})),h[y])return u=h[y];u=h[y]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},g=function(v,y,x,C){var b=v.end.row-v.start.row;return{text:x+y+C,selection:[0,v.start.column+1,b,v.end.column+(b?0:1)]}},m;m=function(v){v=v||{},this.add("braces","insertion",function(y,x,C,b,S){var I=C.getCursorPosition(),L=b.doc.getLine(I.row);if(S=="{"){f(C);var T=C.getSelectionRange(),$=b.doc.getTextRange(T),P=b.getTokenAt(I.row,I.column);if($!==""&&$!=="{"&&C.getWrapBehavioursEnabled())return g(T,$,"{","}");if(P&&/(?:string)\.quasi|\.xml/.test(P.type)){var k=[/tag\-(?:open|name)/,/attribute\-name/];return k.some(function(O){return O.test(P.type)})||/(string)\.quasi/.test(P.type)&&P.value[I.column-P.start-1]!=="$"?void 0:(m.recordAutoInsert(C,b,"}"),{text:"{}",selection:[1,1]})}else if(m.isSaneInsertion(C,b))return/[\]\}\)]/.test(L[I.column])||C.inMultiSelectMode||v.braces?(m.recordAutoInsert(C,b,"}"),{text:"{}",selection:[1,1]}):(m.recordMaybeInsert(C,b,"{"),{text:"{",selection:[1,1]})}else if(S=="}"){f(C);var A=L.substring(I.column,I.column+1);if(A=="}"){var w=b.$findOpeningBracket("}",{column:I.column+1,row:I.row});if(w!==null&&m.isAutoInsertedClosing(I,L,S))return m.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(S==`
`||S==`\r
`){f(C);var E="";m.isMaybeInsertedClosing(I,L)&&(E=a.stringRepeat("}",u.maybeInsertedBrackets),m.clearMaybeInsertedClosing());var A=L.substring(I.column,I.column+1);if(A==="}"){var _=b.findMatchingBracket({row:I.row,column:I.column+1},"}");if(!_)return null;var R=this.$getIndent(b.getLine(_.row))}else if(E)var R=this.$getIndent(L);else{m.clearMaybeInsertedClosing();return}var M=R+b.getTabString();return{text:`
`+M+`
`+R+E,selection:[1,M.length,1,M.length]}}else m.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(y,x,C,b,S){var I=b.doc.getTextRange(S);if(!S.isMultiLine()&&I=="{"){f(C);var L=b.doc.getLine(S.start.row),T=L.substring(S.end.column,S.end.column+1);if(T=="}")return S.end.column++,S;u.maybeInsertedBrackets--}}),this.add("parens","insertion",function(y,x,C,b,S){if(S=="("){f(C);var I=C.getSelectionRange(),L=b.doc.getTextRange(I);if(L!==""&&C.getWrapBehavioursEnabled())return g(I,L,"(",")");if(m.isSaneInsertion(C,b))return m.recordAutoInsert(C,b,")"),{text:"()",selection:[1,1]}}else if(S==")"){f(C);var T=C.getCursorPosition(),$=b.doc.getLine(T.row),P=$.substring(T.column,T.column+1);if(P==")"){var k=b.$findOpeningBracket(")",{column:T.column+1,row:T.row});if(k!==null&&m.isAutoInsertedClosing(T,$,S))return m.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(y,x,C,b,S){var I=b.doc.getTextRange(S);if(!S.isMultiLine()&&I=="("){f(C);var L=b.doc.getLine(S.start.row),T=L.substring(S.start.column+1,S.start.column+2);if(T==")")return S.end.column++,S}}),this.add("brackets","insertion",function(y,x,C,b,S){if(S=="["){f(C);var I=C.getSelectionRange(),L=b.doc.getTextRange(I);if(L!==""&&C.getWrapBehavioursEnabled())return g(I,L,"[","]");if(m.isSaneInsertion(C,b))return m.recordAutoInsert(C,b,"]"),{text:"[]",selection:[1,1]}}else if(S=="]"){f(C);var T=C.getCursorPosition(),$=b.doc.getLine(T.row),P=$.substring(T.column,T.column+1);if(P=="]"){var k=b.$findOpeningBracket("]",{column:T.column+1,row:T.row});if(k!==null&&m.isAutoInsertedClosing(T,$,S))return m.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(y,x,C,b,S){var I=b.doc.getTextRange(S);if(!S.isMultiLine()&&I=="["){f(C);var L=b.doc.getLine(S.start.row),T=L.substring(S.start.column+1,S.start.column+2);if(T=="]")return S.end.column++,S}}),this.add("string_dquotes","insertion",function(y,x,C,b,S){var I=b.$mode.$quotes||p;if(S.length==1&&I[S]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(S)!=-1)return;f(C);var L=S,T=C.getSelectionRange(),$=b.doc.getTextRange(T);if($!==""&&($.length!=1||!I[$])&&C.getWrapBehavioursEnabled())return g(T,$,L,L);if(!$){var P=C.getCursorPosition(),k=b.doc.getLine(P.row),A=k.substring(P.column-1,P.column),w=k.substring(P.column,P.column+1),E=b.getTokenAt(P.row,P.column),_=b.getTokenAt(P.row,P.column+1);if(A=="\\"&&E&&/escape/.test(E.type))return null;var R=E&&/string|escape/.test(E.type),M=!_||/string|escape/.test(_.type),O;if(w==L)O=R!==M,O&&/string\.end/.test(_.type)&&(O=!1);else{if(R&&!M||R&&M)return null;var N=b.$mode.tokenRe;N.lastIndex=0;var F=N.test(A);N.lastIndex=0;var G=N.test(w),z=b.$mode.$pairQuotesAfter,j=z&&z[L]&&z[L].test(A);if(!j&&F||G||w&&!/[\s;,.})\]\\]/.test(w))return null;var V=k[P.column-2];if(A==L&&(V==L||N.test(V)))return null;O=!0}return{text:O?L+L:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(y,x,C,b,S){var I=b.$mode.$quotes||p,L=b.doc.getTextRange(S);if(!S.isMultiLine()&&I.hasOwnProperty(L)){f(C);var T=b.doc.getLine(S.start.row),$=T.substring(S.start.column+1,S.start.column+2);if($==L)return S.end.column++,S}}),v.closeDocComment!==!1&&this.add("doc comment end","insertion",function(y,x,C,b,S){if(y==="doc-start"&&(S===`
`||S===`\r
`)&&C.selection.isEmpty()){var I=C.getCursorPosition();if(I.column===0)return;for(var L=b.doc.getLine(I.row),T=b.doc.getLine(I.row+1),$=b.getTokens(I.row),P=0,k=0;k<$.length;k++){P+=$[k].value.length;var A=$[k];if(P>=I.column){if(P===I.column){if(!/\.doc/.test(A.type))return;if(/\*\//.test(A.value)){var w=$[k+1];if(!w||!/\.doc/.test(w.type))return}}var E=I.column-(P-A.value.length),_=A.value.indexOf("*/"),R=A.value.indexOf("/**",_>-1?_+2:0);if(R!==-1&&E>R&&E<R+3||_!==-1&&R!==-1&&E>=_&&E<=R||!/\.doc/.test(A.type))return;break}}var M=this.$getIndent(L);if(/\s*\*/.test(T))return/^\s*\*/.test(L)?{text:S+M+"* ",selection:[1,2+M.length,1,2+M.length]}:{text:S+M+" * ",selection:[1,3+M.length,1,3+M.length]};if(/\/\*\*/.test(L.substring(0,I.column)))return{text:S+M+" * "+S+" "+M+"*/",selection:[1,4+M.length,1,4+M.length]}}})},m.isSaneInsertion=function(v,y){var x=v.getCursorPosition(),C=new c(y,x.row,x.column);if(!this.$matchTokenType(C.getCurrentToken()||"text",d)){if(/[)}\]]/.test(v.session.getLine(x.row)[x.column]))return!0;var b=new c(y,x.row,x.column+1);if(!this.$matchTokenType(b.getCurrentToken()||"text",d))return!1}return C.stepForward(),C.getCurrentTokenRow()!==x.row||this.$matchTokenType(C.getCurrentToken()||"text",l)},m.$matchTokenType=function(v,y){return y.indexOf(v.type||v)>-1},m.recordAutoInsert=function(v,y,x){var C=v.getCursorPosition(),b=y.doc.getLine(C.row);this.isAutoInsertedClosing(C,b,u.autoInsertedLineEnd[0])||(u.autoInsertedBrackets=0),u.autoInsertedRow=C.row,u.autoInsertedLineEnd=x+b.substr(C.column),u.autoInsertedBrackets++},m.recordMaybeInsert=function(v,y,x){var C=v.getCursorPosition(),b=y.doc.getLine(C.row);this.isMaybeInsertedClosing(C,b)||(u.maybeInsertedBrackets=0),u.maybeInsertedRow=C.row,u.maybeInsertedLineStart=b.substr(0,C.column)+x,u.maybeInsertedLineEnd=b.substr(C.column),u.maybeInsertedBrackets++},m.isAutoInsertedClosing=function(v,y,x){return u.autoInsertedBrackets>0&&v.row===u.autoInsertedRow&&x===u.autoInsertedLineEnd[0]&&y.substr(v.column)===u.autoInsertedLineEnd},m.isMaybeInsertedClosing=function(v,y){return u.maybeInsertedBrackets>0&&v.row===u.maybeInsertedRow&&y.substr(v.column)===u.maybeInsertedLineEnd&&y.substr(0,v.column)==u.maybeInsertedLineStart},m.popAutoInsertedClosing=function(){u.autoInsertedLineEnd=u.autoInsertedLineEnd.substr(1),u.autoInsertedBrackets--},m.clearMaybeInsertedClosing=function(){u&&(u.maybeInsertedBrackets=0,u.maybeInsertedRow=-1)},s.inherits(m,o),r.CstyleBehaviour=m}),ace.define("ace/unicode",["require","exports","module"],function(n,r,i){for(var s=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],o=0,c=[],a=0;a<s.length;a+=2)c.push(o+=s[a]),s[a+1]&&c.push(45,o+=s[a+1]);r.wordChars=String.fromCharCode.apply(null,c)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(n,r,i){var s=n("../config"),o=n("../tokenizer").Tokenizer,c=n("./text_highlight_rules").TextHighlightRules,a=n("./behaviour/cstyle").CstyleBehaviour,d=n("../unicode"),l=n("../lib/lang"),u=n("../token_iterator").TokenIterator,h=n("../range").Range,p;p=function(){this.HighlightRules=c},(function(){this.$defaultBehaviour=new a,this.tokenRe=new RegExp("^["+d.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+d.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new o(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(f,g,m,v){var y=g.doc,x=!0,C=!0,b=1/0,S=g.getTabSize(),I=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var $=this.lineCommentStart.map(l.escapeRegExp).join("|"),L=this.lineCommentStart[0];else var $=l.escapeRegExp(this.lineCommentStart),L=this.lineCommentStart;$=new RegExp("^(\\s*)(?:"+$+") ?"),I=g.getUseSoftTabs();var A=function(G,z){var j=G.match($);if(j){var V=j[1].length,Z=j[0].length;!_(G,V,Z)&&j[0][Z-1]==" "&&Z--,y.removeInLine(z,V,Z)}},E=L+" ",k=function(G,z){(!x||/\S/.test(G))&&(_(G,b,b)?y.insertInLine({row:z,column:b},E):y.insertInLine({row:z,column:b},L))},w=function(G,z){return $.test(G)},_=function(G,z,j){for(var V=0;z--&&G.charAt(z)==" ";)V++;if(V%S!=0)return!1;for(var V=0;G.charAt(j++)==" ";)V++;return S>2?V%S!=S-1:V%S==0}}else{if(!this.blockComment)return!1;var L=this.blockComment.start,T=this.blockComment.end,$=new RegExp("^(\\s*)(?:"+l.escapeRegExp(L)+")"),P=new RegExp("(?:"+l.escapeRegExp(T)+")\\s*$"),k=function(O,N){w(O,N)||(!x||/\S/.test(O))&&(y.insertInLine({row:N,column:O.length},T),y.insertInLine({row:N,column:b},L))},A=function(O,N){var F;(F=O.match(P))&&y.removeInLine(N,O.length-F[0].length,O.length),(F=O.match($))&&y.removeInLine(N,F[1].length,F[0].length)},w=function(O,N){if($.test(O))return!0;for(var F=g.getTokens(N),G=0;G<F.length;G++)if(F[G].type==="comment")return!0}}function R(O){for(var N=m;N<=v;N++)O(y.getLine(N),N)}var M=1/0;R(function(O,N){var F=O.search(/\S/);F!==-1?(F<b&&(b=F),C&&!w(O,N)&&(C=!1)):M>O.length&&(M=O.length)}),b==1/0&&(b=M,x=!1,C=!1),I&&b%S!=0&&(b=Math.floor(b/S)*S),R(C?A:k)},this.toggleBlockComment=function(f,g,m,v){var y=this.blockComment;if(y){!y.start&&y[0]&&(y=y[0]);var x=new u(g,v.row,v.column),C=x.getCurrentToken();g.selection;var b=g.selection.toOrientedRange(),S,I;if(C&&/comment/.test(C.type)){for(var L,T;C&&/comment/.test(C.type);){var $=C.value.indexOf(y.start);if($!=-1){var P=x.getCurrentTokenRow(),k=x.getCurrentTokenColumn()+$;L=new h(P,k,P,k+y.start.length);break}C=x.stepBackward()}for(var x=new u(g,v.row,v.column),C=x.getCurrentToken();C&&/comment/.test(C.type);){var $=C.value.indexOf(y.end);if($!=-1){var P=x.getCurrentTokenRow(),k=x.getCurrentTokenColumn()+$;T=new h(P,k,P,k+y.end.length);break}C=x.stepForward()}T&&g.remove(T),L&&(g.remove(L),S=L.start.row,I=-y.start.length)}else I=y.start.length,S=m.start.row,g.insert(m.end,y.end),g.insert(m.start,y.start);b.start.row==S&&(b.start.column+=I),b.end.row==S&&(b.end.column+=I),g.selection.fromOrientedRange(b)}},this.getNextLineIndent=function(f,g,m){return this.$getIndent(g)},this.checkOutdent=function(f,g,m){return!1},this.autoOutdent=function(f,g,m){},this.$getIndent=function(f){return f.match(/^\s*/)[0]},this.createWorker=function(f){return null},this.createModeDelegates=function(f){this.$embeds=[],this.$modes={};for(var g in f)if(f[g]){var m=f[g],v=m.prototype.$id,y=s.$modes[v];y||(s.$modes[v]=y=new m),s.$modes[g]||(s.$modes[g]=y),this.$embeds.push(g),this.$modes[g]=y}for(var x=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],C=function(S){(function(I){var L=x[S],T=I[L];I[x[S]]=function(){return this.$delegator(L,arguments,T)}})(b)},b=this,g=0;g<x.length;g++)C(g)},this.$delegator=function(f,g,m){var v=g[0]||"start";if(typeof v!="string"){if(Array.isArray(v[2])){var y=v[2][v[2].length-1],x=this.$modes[y];if(x)return x[f].apply(x,[v[1]].concat([].slice.call(g,1)))}v=v[0]||"start"}for(var C=0;C<this.$embeds.length;C++)if(this.$modes[this.$embeds[C]]){var b=v.split(this.$embeds[C]);if(!b[0]&&b[1]){g[0]=b[1];var x=this.$modes[this.$embeds[C]];return x[f].apply(x,g)}}var S=m.apply(this,g);return m?S:void 0},this.transformAction=function(f,g,m,v,y){if(this.$behaviour){var x=this.$behaviour.getBehaviours();for(var C in x)if(x[C][g]){var b=x[C][g].apply(this,arguments);if(b)return b}}},this.getKeywords=function(f){if(!this.completionKeywords){var g=this.$tokenizer.rules,m=[];for(var v in g)for(var y=g[v],x=0,C=y.length;x<C;x++)if(typeof y[x].token=="string")/keyword|support|storage/.test(y[x].token)&&m.push(y[x].regex);else if(typeof y[x].token=="object"){for(var b=0,S=y[x].token.length;b<S;b++)if(/keyword|support|storage/.test(y[x].token[b])){var v=y[x].regex.match(/\(.+?\)/g)[b];m.push(v.substr(1,v.length-2))}}this.completionKeywords=m}return f?m.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(f,g,m,v){var y=this.$keywordList||this.$createKeywordList();return y.map(function(x){return{name:x,value:x,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(p.prototype),r.Mode=p}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(n,r,i){var s=n("./lib/dom"),o=function(){function c(a){this.session=a,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return c.prototype.getRowLength=function(a){var d;return this.lineWidgets?d=this.lineWidgets[a]&&this.lineWidgets[a].rowCount||0:d=0,!this.$useWrapMode||!this.$wrapData[a]?1+d:this.$wrapData[a].length+1+d},c.prototype.$getWidgetScreenLength=function(){var a=0;return this.lineWidgets.forEach(function(d){d&&d.rowCount&&!d.hidden&&(a+=d.rowCount)}),a},c.prototype.$onChangeEditor=function(a){this.attach(a.editor)},c.prototype.attach=function(a){a&&a.widgetManager&&a.widgetManager!=this&&a.widgetManager.detach(),this.editor!=a&&(this.detach(),this.editor=a,a&&(a.widgetManager=this,a.renderer.on("beforeRender",this.measureWidgets),a.renderer.on("afterRender",this.renderWidgets)))},c.prototype.detach=function(a){var d=this.editor;if(d){this.editor=null,d.widgetManager=null,d.renderer.off("beforeRender",this.measureWidgets),d.renderer.off("afterRender",this.renderWidgets);var l=this.session.lineWidgets;l&&l.forEach(function(u){u&&u.el&&u.el.parentNode&&(u._inDocument=!1,u.el.parentNode.removeChild(u.el))})}},c.prototype.updateOnFold=function(a,d){var l=d.lineWidgets;if(!(!l||!a.action)){for(var u=a.data,h=u.start.row,p=u.end.row,f=a.action=="add",g=h+1;g<p;g++)l[g]&&(l[g].hidden=f);l[p]&&(f?l[h]?l[p].hidden=f:l[h]=l[p]:(l[h]==l[p]&&(l[h]=void 0),l[p].hidden=f))}},c.prototype.updateOnChange=function(a){var d=this.session.lineWidgets;if(d){var l=a.start.row,u=a.end.row-l;if(u!==0)if(a.action=="remove"){var h=d.splice(l+1,u);!d[l]&&h[h.length-1]&&(d[l]=h.pop()),h.forEach(function(f){f&&this.removeLineWidget(f)},this),this.$updateRows()}else{var p=new Array(u);d[l]&&d[l].column!=null&&a.start.column>d[l].column&&l++,p.unshift(l,0),d.splice.apply(d,p),this.$updateRows()}}},c.prototype.$updateRows=function(){var a=this.session.lineWidgets;if(a){var d=!0;a.forEach(function(l,u){if(l)for(d=!1,l.row=u;l.$oldWidget;)l.$oldWidget.row=u,l=l.$oldWidget}),d&&(this.session.lineWidgets=null)}},c.prototype.$registerLineWidget=function(a){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var d=this.session.lineWidgets[a.row];return d&&(a.$oldWidget=d,d.el&&d.el.parentNode&&(d.el.parentNode.removeChild(d.el),d._inDocument=!1)),this.session.lineWidgets[a.row]=a,a},c.prototype.addLineWidget=function(a){if(this.$registerLineWidget(a),a.session=this.session,!this.editor)return a;var d=this.editor.renderer;a.html&&!a.el&&(a.el=s.createElement("div"),a.el.innerHTML=a.html),a.text&&!a.el&&(a.el=s.createElement("div"),a.el.textContent=a.text),a.el&&(s.addCssClass(a.el,"ace_lineWidgetContainer"),a.className&&s.addCssClass(a.el,a.className),a.el.style.position="absolute",a.el.style.zIndex="5",d.container.appendChild(a.el),a._inDocument=!0,a.coverGutter||(a.el.style.zIndex="3"),a.pixelHeight==null&&(a.pixelHeight=a.el.offsetHeight)),a.rowCount==null&&(a.rowCount=a.pixelHeight/d.layerConfig.lineHeight);var l=this.session.getFoldAt(a.row,0);if(a.$fold=l,l){var u=this.session.lineWidgets;a.row==l.end.row&&!u[l.start.row]?u[l.start.row]=a:a.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:a.row}}}),this.$updateRows(),this.renderWidgets(null,d),this.onWidgetChanged(a),a},c.prototype.removeLineWidget=function(a){if(a._inDocument=!1,a.session=null,a.el&&a.el.parentNode&&a.el.parentNode.removeChild(a.el),a.editor&&a.editor.destroy)try{a.editor.destroy()}catch{}if(this.session.lineWidgets){var d=this.session.lineWidgets[a.row];if(d==a)this.session.lineWidgets[a.row]=a.$oldWidget,a.$oldWidget&&this.onWidgetChanged(a.$oldWidget);else for(;d;){if(d.$oldWidget==a){d.$oldWidget=a.$oldWidget;break}d=d.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:a.row}}}),this.$updateRows()},c.prototype.getWidgetsAtRow=function(a){for(var d=this.session.lineWidgets,l=d&&d[a],u=[];l;)u.push(l),l=l.$oldWidget;return u},c.prototype.onWidgetChanged=function(a){this.session._changedWidgets.push(a),this.editor&&this.editor.renderer.updateFull()},c.prototype.measureWidgets=function(a,d){var l=this.session._changedWidgets,u=d.layerConfig;if(!(!l||!l.length)){for(var h=1/0,p=0;p<l.length;p++){var f=l[p];if(!(!f||!f.el)&&f.session==this.session){if(!f._inDocument){if(this.session.lineWidgets[f.row]!=f)continue;f._inDocument=!0,d.container.appendChild(f.el)}f.h=f.el.offsetHeight,f.fixedWidth||(f.w=f.el.offsetWidth,f.screenWidth=Math.ceil(f.w/u.characterWidth));var g=f.h/u.lineHeight;f.coverLine&&(g-=this.session.getRowLineCount(f.row),g<0&&(g=0)),f.rowCount!=g&&(f.rowCount=g,f.row<h&&(h=f.row))}}h!=1/0&&(this.session._emit("changeFold",{data:{start:{row:h}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},c.prototype.renderWidgets=function(a,d){var l=d.layerConfig,u=this.session.lineWidgets;if(u){for(var h=Math.min(this.firstRow,l.firstRow),p=Math.max(this.lastRow,l.lastRow,u.length);h>0&&!u[h];)h--;this.firstRow=l.firstRow,this.lastRow=l.lastRow,d.$cursorLayer.config=l;for(var f=h;f<=p;f++){var g=u[f];if(!(!g||!g.el)){if(g.hidden){g.el.style.top=-100-(g.pixelHeight||0)+"px";continue}g._inDocument||(g._inDocument=!0,d.container.appendChild(g.el));var m=d.$cursorLayer.getPixelPosition({row:f,column:0},!0).top;g.coverLine||(m+=l.lineHeight*this.session.getRowLineCount(g.row)),g.el.style.top=m-l.offset+"px";var v=g.coverGutter?0:d.gutterWidth;g.fixedWidth||(v-=d.scrollLeft),g.el.style.left=v+"px",g.fullWidth&&g.screenWidth&&(g.el.style.minWidth=l.width+2*l.padding+"px"),g.fixedWidth?g.el.style.right=d.scrollBar.getWidth()+"px":g.el.style.right=""}}}},c}();r.LineWidgets=o}),ace.define("ace/apply_delta",["require","exports","module"],function(n,r,i){r.applyDelta=function(s,o,c){var a=o.start.row,d=o.start.column,l=s[a]||"";switch(o.action){case"insert":var u=o.lines;if(u.length===1)s[a]=l.substring(0,d)+o.lines[0]+l.substring(d);else{var h=[a,1].concat(o.lines);s.splice.apply(s,h),s[a]=l.substring(0,d)+s[a],s[a+o.lines.length-1]+=l.substring(d)}break;case"remove":var p=o.end.column,f=o.end.row;a===f?s[a]=l.substring(0,d)+l.substring(p):s.splice(a,f-a+1,l.substring(0,d)+s[f].substring(p));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,r,i){var s=n("./lib/oop"),o=n("./lib/event_emitter").EventEmitter,c=function(){function l(u,h,p){this.$onChange=this.onChange.bind(this),this.attach(u),typeof h!="number"?this.setPosition(h.row,h.column):this.setPosition(h,p)}return l.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},l.prototype.getDocument=function(){return this.document},l.prototype.onChange=function(u){if(!(u.start.row==u.end.row&&u.start.row!=this.row)&&!(u.start.row>this.row)){var h=d(u,{row:this.row,column:this.column},this.$insertRight);this.setPosition(h.row,h.column,!0)}},l.prototype.setPosition=function(u,h,p){var f;if(p?f={row:u,column:h}:f=this.$clipPositionToDocument(u,h),!(this.row==f.row&&this.column==f.column)){var g={row:this.row,column:this.column};this.row=f.row,this.column=f.column,this._signal("change",{old:g,value:f})}},l.prototype.detach=function(){this.document.off("change",this.$onChange)},l.prototype.attach=function(u){this.document=u||this.document,this.document.on("change",this.$onChange)},l.prototype.$clipPositionToDocument=function(u,h){var p={};return u>=this.document.getLength()?(p.row=Math.max(0,this.document.getLength()-1),p.column=this.document.getLine(p.row).length):u<0?(p.row=0,p.column=0):(p.row=u,p.column=Math.min(this.document.getLine(p.row).length,Math.max(0,h))),h<0&&(p.column=0),p},l}();c.prototype.$insertRight=!1,s.implement(c.prototype,o);function a(l,u,h){var p=h?l.column<=u.column:l.column<u.column;return l.row<u.row||l.row==u.row&&p}function d(l,u,h){var p=l.action=="insert",f=(p?1:-1)*(l.end.row-l.start.row),g=(p?1:-1)*(l.end.column-l.start.column),m=l.start,v=p?m:l.end;return a(u,m,h)?{row:u.row,column:u.column}:a(v,u,!h)?{row:u.row+f,column:u.column+(u.row==v.row?g:0)}:{row:m.row,column:m.column}}r.Anchor=c}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(n,r,i){var s=n("./lib/oop"),o=n("./apply_delta").applyDelta,c=n("./lib/event_emitter").EventEmitter,a=n("./range").Range,d=n("./anchor").Anchor,l=function(){function u(h){this.$lines=[""],h.length===0?this.$lines=[""]:Array.isArray(h)?this.insertMergedLines({row:0,column:0},h):this.insert({row:0,column:0},h)}return u.prototype.setValue=function(h){var p=this.getLength()-1;this.remove(new a(0,0,p,this.getLine(p).length)),this.insert({row:0,column:0},h||"")},u.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},u.prototype.createAnchor=function(h,p){return new d(this,h,p)},u.prototype.$detectNewLine=function(h){var p=h.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=p?p[1]:`
`,this._signal("changeNewLineMode")},u.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},u.prototype.setNewLineMode=function(h){this.$newLineMode!==h&&(this.$newLineMode=h,this._signal("changeNewLineMode"))},u.prototype.getNewLineMode=function(){return this.$newLineMode},u.prototype.isNewLine=function(h){return h==`\r
`||h=="\r"||h==`
`},u.prototype.getLine=function(h){return this.$lines[h]||""},u.prototype.getLines=function(h,p){return this.$lines.slice(h,p+1)},u.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},u.prototype.getLength=function(){return this.$lines.length},u.prototype.getTextRange=function(h){return this.getLinesForRange(h).join(this.getNewLineCharacter())},u.prototype.getLinesForRange=function(h){var p;if(h.start.row===h.end.row)p=[this.getLine(h.start.row).substring(h.start.column,h.end.column)];else{p=this.getLines(h.start.row,h.end.row),p[0]=(p[0]||"").substring(h.start.column);var f=p.length-1;h.end.row-h.start.row==f&&(p[f]=p[f].substring(0,h.end.column))}return p},u.prototype.insertLines=function(h,p){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(h,p)},u.prototype.removeLines=function(h,p){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(h,p)},u.prototype.insertNewLine=function(h){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(h,["",""])},u.prototype.insert=function(h,p){return this.getLength()<=1&&this.$detectNewLine(p),this.insertMergedLines(h,this.$split(p))},u.prototype.insertInLine=function(h,p){var f=this.clippedPos(h.row,h.column),g=this.pos(h.row,h.column+p.length);return this.applyDelta({start:f,end:g,action:"insert",lines:[p]},!0),this.clonePos(g)},u.prototype.clippedPos=function(h,p){var f=this.getLength();h===void 0?h=f:h<0?h=0:h>=f&&(h=f-1,p=void 0);var g=this.getLine(h);return p==null&&(p=g.length),p=Math.min(Math.max(p,0),g.length),{row:h,column:p}},u.prototype.clonePos=function(h){return{row:h.row,column:h.column}},u.prototype.pos=function(h,p){return{row:h,column:p}},u.prototype.$clipPosition=function(h){var p=this.getLength();return h.row>=p?(h.row=Math.max(0,p-1),h.column=this.getLine(p-1).length):(h.row=Math.max(0,h.row),h.column=Math.min(Math.max(h.column,0),this.getLine(h.row).length)),h},u.prototype.insertFullLines=function(h,p){h=Math.min(Math.max(h,0),this.getLength());var f=0;h<this.getLength()?(p=p.concat([""]),f=0):(p=[""].concat(p),h--,f=this.$lines[h].length),this.insertMergedLines({row:h,column:f},p)},u.prototype.insertMergedLines=function(h,p){var f=this.clippedPos(h.row,h.column),g={row:f.row+p.length-1,column:(p.length==1?f.column:0)+p[p.length-1].length};return this.applyDelta({start:f,end:g,action:"insert",lines:p}),this.clonePos(g)},u.prototype.remove=function(h){var p=this.clippedPos(h.start.row,h.start.column),f=this.clippedPos(h.end.row,h.end.column);return this.applyDelta({start:p,end:f,action:"remove",lines:this.getLinesForRange({start:p,end:f})}),this.clonePos(p)},u.prototype.removeInLine=function(h,p,f){var g=this.clippedPos(h,p),m=this.clippedPos(h,f);return this.applyDelta({start:g,end:m,action:"remove",lines:this.getLinesForRange({start:g,end:m})},!0),this.clonePos(g)},u.prototype.removeFullLines=function(h,p){h=Math.min(Math.max(0,h),this.getLength()-1),p=Math.min(Math.max(0,p),this.getLength()-1);var f=p==this.getLength()-1&&h>0,g=p<this.getLength()-1,m=f?h-1:h,v=f?this.getLine(m).length:0,y=g?p+1:p,x=g?0:this.getLine(y).length,C=new a(m,v,y,x),b=this.$lines.slice(h,p+1);return this.applyDelta({start:C.start,end:C.end,action:"remove",lines:this.getLinesForRange(C)}),b},u.prototype.removeNewLine=function(h){h<this.getLength()-1&&h>=0&&this.applyDelta({start:this.pos(h,this.getLine(h).length),end:this.pos(h+1,0),action:"remove",lines:["",""]})},u.prototype.replace=function(h,p){if(h instanceof a||(h=a.fromPoints(h.start,h.end)),p.length===0&&h.isEmpty())return h.start;if(p==this.getTextRange(h))return h.end;this.remove(h);var f;return p?f=this.insert(h.start,p):f=h.start,f},u.prototype.applyDeltas=function(h){for(var p=0;p<h.length;p++)this.applyDelta(h[p])},u.prototype.revertDeltas=function(h){for(var p=h.length-1;p>=0;p--)this.revertDelta(h[p])},u.prototype.applyDelta=function(h,p){var f=h.action=="insert";(f?h.lines.length<=1&&!h.lines[0]:!a.comparePoints(h.start,h.end))||(f&&h.lines.length>2e4?this.$splitAndapplyLargeDelta(h,2e4):(o(this.$lines,h,p),this._signal("change",h)))},u.prototype.$safeApplyDelta=function(h){var p=this.$lines.length;(h.action=="remove"&&h.start.row<p&&h.end.row<p||h.action=="insert"&&h.start.row<=p)&&this.applyDelta(h)},u.prototype.$splitAndapplyLargeDelta=function(h,p){for(var f=h.lines,g=f.length-p+1,m=h.start.row,v=h.start.column,y=0,x=0;y<g;y=x){x+=p-1;var C=f.slice(y,x);C.push(""),this.applyDelta({start:this.pos(m+y,v),end:this.pos(m+x,v=0),action:h.action,lines:C},!0)}h.lines=f.slice(y),h.start.row=m+y,h.start.column=v,this.applyDelta(h,!0)},u.prototype.revertDelta=function(h){this.$safeApplyDelta({start:this.clonePos(h.start),end:this.clonePos(h.end),action:h.action=="insert"?"remove":"insert",lines:h.lines.slice()})},u.prototype.indexToPosition=function(h,p){for(var f=this.$lines||this.getAllLines(),g=this.getNewLineCharacter().length,m=p||0,v=f.length;m<v;m++)if(h-=f[m].length+g,h<0)return{row:m,column:h+f[m].length+g};return{row:v-1,column:h+f[v-1].length+g}},u.prototype.positionToIndex=function(h,p){for(var f=this.$lines||this.getAllLines(),g=this.getNewLineCharacter().length,m=0,v=Math.min(h.row,f.length),y=p||0;y<v;++y)m+=f[y].length+g;return m+h.column},u.prototype.$split=function(h){return h.split(/\r\n|\r|\n/)},u}();l.prototype.$autoNewLine="",l.prototype.$newLineMode="auto",s.implement(l.prototype,c),r.Document=l}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,r,i){var s=n("./lib/oop"),o=n("./lib/event_emitter").EventEmitter,c=function(){function a(d,l){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=d;var u=this;this.$worker=function(){if(u.running){for(var h=new Date,p=u.currentLine,f=-1,g=u.doc,m=p;u.lines[p];)p++;var v=g.getLength(),y=0;for(u.running=!1;p<v;){u.$tokenizeRow(p),f=p;do p++;while(u.lines[p]);if(y++,y%5===0&&new Date-h>20){u.running=setTimeout(u.$worker,20);break}}u.currentLine=p,f==-1&&(f=p),m<=f&&u.fireUpdateEvent(m,f)}}}return a.prototype.setTokenizer=function(d){this.tokenizer=d,this.lines=[],this.states=[],this.start(0)},a.prototype.setDocument=function(d){this.doc=d,this.lines=[],this.states=[],this.stop()},a.prototype.fireUpdateEvent=function(d,l){var u={first:d,last:l};this._signal("update",{data:u})},a.prototype.start=function(d){this.currentLine=Math.min(d||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},a.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},a.prototype.$updateOnChange=function(d){var l=d.start.row,u=d.end.row-l;if(u===0)this.lines[l]=null;else if(d.action=="remove")this.lines.splice(l,u+1,null),this.states.splice(l,u+1,null);else{var h=Array(u+1);h.unshift(l,1),this.lines.splice.apply(this.lines,h),this.states.splice.apply(this.states,h)}this.currentLine=Math.min(l,this.currentLine,this.doc.getLength()),this.stop()},a.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},a.prototype.getTokens=function(d){return this.lines[d]||this.$tokenizeRow(d)},a.prototype.getState=function(d){return this.currentLine==d&&this.$tokenizeRow(d),this.states[d]||"start"},a.prototype.$tokenizeRow=function(d){var l=this.doc.getLine(d),u=this.states[d-1],h=this.tokenizer.getLineTokens(l,u,d);return this.states[d]+""!=h.state+""?(this.states[d]=h.state,this.lines[d+1]=null,this.currentLine>d+1&&(this.currentLine=d+1)):this.currentLine==d&&(this.currentLine=d+1),this.lines[d]=h.tokens},a.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},a}();s.implement(c.prototype,o),r.BackgroundTokenizer=c}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(n,r,i){var s=n("./lib/lang"),o=n("./range").Range,c=function(){function a(d,l,u){u===void 0&&(u="text"),this.setRegexp(d),this.clazz=l,this.type=u,this.docLen=0}return a.prototype.setRegexp=function(d){this.regExp+""!=d+""&&(this.regExp=d,this.cache=[])},a.prototype.update=function(d,l,u,h){if(this.regExp){for(var p=h.firstRow,f=h.lastRow,g={},m=u.$editor&&u.$editor.$search,v=m&&m.$isMultilineSearch(u.$editor.getLastSearchOptions()),y=p;y<=f;y++){var x=this.cache[y];if(x==null||u.getValue().length!=this.docLen){if(v){x=[];var C=m.$multiLineForward(u,this.regExp,y,f);if(C){var b=C.endRow<=f?C.endRow-1:f;b>y&&(y=b),x.push(new o(C.startRow,C.startCol,C.endRow,C.endCol))}x.length>this.MAX_RANGES&&(x=x.slice(0,this.MAX_RANGES))}else x=s.getMatchOffsets(u.getLine(y),this.regExp),x.length>this.MAX_RANGES&&(x=x.slice(0,this.MAX_RANGES)),x=x.map(function(T){return new o(y,T.offset,y,T.offset+T.length)});this.cache[y]=x.length?x:""}if(x.length!==0)for(var S=x.length;S--;){var I=x[S].toScreenRange(u),L=I.toString();g[L]||(g[L]=!0,l.drawSingleLineMarker(d,I,this.clazz,h))}}this.docLen=u.getValue().length}},a}();c.prototype.MAX_RANGES=500,r.SearchHighlight=c}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(n,r,i){var s=function(){function b(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return b.prototype.addSession=function(S){this.$session=S},b.prototype.add=function(S,I,L){if(!this.$fromUndo&&S!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),I===!1||!this.lastDeltas){this.lastDeltas=[];var T=this.$undoStack.length;T>this.$undoDepth-1&&this.$undoStack.splice(0,T-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),S.id=this.$rev=++this.$maxRev}(S.action=="remove"||S.action=="insert")&&(this.$lastDelta=S),this.lastDeltas.push(S)}},b.prototype.addSelection=function(S,I){this.selections.push({value:S,rev:I||this.$rev})},b.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},b.prototype.markIgnored=function(S,I){I==null&&(I=this.$rev+1);for(var L=this.$undoStack,T=L.length;T--;){var $=L[T][0];if($.id<=S)break;$.id<I&&($.ignore=!0)}this.lastDeltas=null},b.prototype.getSelection=function(S,I){for(var L=this.selections,T=L.length;T--;){var $=L[T];if($.rev<S)return I&&($=L[T+1]),$}},b.prototype.getRevision=function(){return this.$rev},b.prototype.getDeltas=function(S,I){I==null&&(I=this.$rev+1);for(var L=this.$undoStack,T=null,$=0,P=L.length;P--;){var k=L[P][0];if(k.id<I&&!T&&(T=P+1),k.id<=S){$=P+1;break}}return L.slice($,T)},b.prototype.getChangedRanges=function(S,I){I==null&&(I=this.$rev+1)},b.prototype.getChangedLines=function(S,I){I==null&&(I=this.$rev+1)},b.prototype.undo=function(S,I){this.lastDeltas=null;var L=this.$undoStack;if(o(L,L.length)){S||(S=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var T=L.pop(),$=null;return T&&($=S.undoChanges(T,I),this.$redoStack.push(T),this.$syncRev()),this.$fromUndo=!1,$}},b.prototype.redo=function(S,I){if(this.lastDeltas=null,S||(S=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var L=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);C(this.$redoStack,L),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(P){P[0].id=++this.$maxRev},this)}var T=this.$redoStack.pop(),$=null;return T&&($=S.redoChanges(T,I),this.$undoStack.push(T),this.$syncRev()),this.$fromUndo=!1,$},b.prototype.$syncRev=function(){var S=this.$undoStack,I=S[S.length-1],L=I&&I[0].id||0;this.$redoStackBaseRev=L,this.$rev=L},b.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},b.prototype.canUndo=function(){return this.$undoStack.length>0},b.prototype.canRedo=function(){return this.$redoStack.length>0},b.prototype.bookmark=function(S){S==null&&(S=this.$rev),this.mark=S},b.prototype.isAtBookmark=function(){return this.$rev===this.mark},b.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},b.prototype.fromJSON=function(S){this.reset(),this.$undoStack=S.$undoStack,this.$redoStack=S.$redoStack},b.prototype.$prettyPrint=function(S){return S?u(S):u(this.$undoStack)+`
---
`+u(this.$redoStack)},b}();s.prototype.hasUndo=s.prototype.canUndo,s.prototype.hasRedo=s.prototype.canRedo,s.prototype.isClean=s.prototype.isAtBookmark,s.prototype.markClean=s.prototype.bookmark;function o(b,S){for(var I=S;I--;){var L=b[I];if(L&&!L[0].ignore){for(;I<S-1;){var T=f(b[I],b[I+1]);b[I]=T[0],b[I+1]=T[1],I++}return!0}}}var c=n("./range").Range,a=c.comparePoints;c.comparePoints;function d(b){return{row:b.row,column:b.column}}function l(b){return{start:d(b.start),end:d(b.end),action:b.action,lines:b.lines.slice()}}function u(b){if(b=b||this,Array.isArray(b))return b.map(u).join(`
`);var S="";return b.action?(S=b.action=="insert"?"+":"-",S+="["+b.lines+"]"):b.value&&(Array.isArray(b.value)?S=b.value.map(h).join(`
`):S=h(b.value)),b.start&&(S+=h(b)),(b.id||b.rev)&&(S+="	("+(b.id||b.rev)+")"),S}function h(b){return b.start.row+":"+b.start.column+"=>"+b.end.row+":"+b.end.column}function p(b,S){var I=b.action=="insert",L=S.action=="insert";if(I&&L)if(a(S.start,b.end)>=0)m(S,b,-1);else if(a(S.start,b.start)<=0)m(b,S,1);else return null;else if(I&&!L)if(a(S.start,b.end)>=0)m(S,b,-1);else if(a(S.end,b.start)<=0)m(b,S,-1);else return null;else if(!I&&L)if(a(S.start,b.start)>=0)m(S,b,1);else if(a(S.start,b.start)<=0)m(b,S,1);else return null;else if(!I&&!L)if(a(S.start,b.start)>=0)m(S,b,1);else if(a(S.end,b.start)<=0)m(b,S,-1);else return null;return[S,b]}function f(b,S){for(var I=b.length;I--;)for(var L=0;L<S.length;L++)if(!p(b[I],S[L])){for(;I<b.length;){for(;L--;)p(S[L],b[I]);L=S.length,I++}return[b,S]}return b.selectionBefore=S.selectionBefore=b.selectionAfter=S.selectionAfter=null,[S,b]}function g(b,S){var I=b.action=="insert",L=S.action=="insert";if(I&&L)a(b.start,S.start)<0?m(S,b,1):m(b,S,1);else if(I&&!L)a(b.start,S.end)>=0?m(b,S,-1):(a(b.start,S.start)<=0||m(b,c.fromPoints(S.start,b.start),-1),m(S,b,1));else if(!I&&L)a(S.start,b.end)>=0?m(S,b,-1):(a(S.start,b.start)<=0||m(S,c.fromPoints(b.start,S.start),-1),m(b,S,1));else if(!I&&!L)if(a(S.start,b.end)>=0)m(S,b,-1);else if(a(S.end,b.start)<=0)m(b,S,-1);else{var T,$;return a(b.start,S.start)<0&&(T=b,b=y(b,S.start)),a(b.end,S.end)>0&&($=y(b,S.end)),v(S.end,b.start,b.end,-1),$&&!T&&(b.lines=$.lines,b.start=$.start,b.end=$.end,$=b),[S,T,$].filter(Boolean)}return[S,b]}function m(b,S,I){v(b.start,S.start,S.end,I),v(b.end,S.start,S.end,I)}function v(b,S,I,L){b.row==(L==1?S:I).row&&(b.column+=L*(I.column-S.column)),b.row+=L*(I.row-S.row)}function y(b,S){var I=b.lines,L=b.end;b.end=d(S);var T=b.end.row-b.start.row,$=I.splice(T,I.length),P=T?S.column:S.column-b.start.column;I.push($[0].substring(0,P)),$[0]=$[0].substr(P);var k={start:d(S),end:L,lines:$,action:b.action};return k}function x(b,S){S=l(S);for(var I=b.length;I--;){for(var L=b[I],T=0;T<L.length;T++){var $=L[T],P=g($,S);S=P[0],P.length!=2&&(P[2]?(L.splice(T+1,1,P[1],P[2]),T++):P[1]||(L.splice(T,1),T--))}L.length||b.splice(I,1)}return b}function C(b,S){for(var I=0;I<S.length;I++)for(var L=S[I],T=0;T<L.length;T++)x(b,L[T])}r.UndoManager=s}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(n,r,i){var s=n("../range").Range,o=function(){function c(a,d){this.foldData=a,Array.isArray(d)?this.folds=d:d=this.folds=[d];var l=d[d.length-1];this.range=new s(d[0].start.row,d[0].start.column,l.end.row,l.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(u){u.setFoldLine(this)},this)}return c.prototype.shiftRow=function(a){this.start.row+=a,this.end.row+=a,this.folds.forEach(function(d){d.start.row+=a,d.end.row+=a})},c.prototype.addFold=function(a){if(a.sameRow){if(a.start.row<this.startRow||a.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(a),this.folds.sort(function(d,l){return-d.range.compareEnd(l.start.row,l.start.column)}),this.range.compareEnd(a.start.row,a.start.column)>0?(this.end.row=a.end.row,this.end.column=a.end.column):this.range.compareStart(a.end.row,a.end.column)<0&&(this.start.row=a.start.row,this.start.column=a.start.column)}else if(a.start.row==this.end.row)this.folds.push(a),this.end.row=a.end.row,this.end.column=a.end.column;else if(a.end.row==this.start.row)this.folds.unshift(a),this.start.row=a.start.row,this.start.column=a.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");a.foldLine=this},c.prototype.containsRow=function(a){return a>=this.start.row&&a<=this.end.row},c.prototype.walk=function(a,d,l){var u=0,h=this.folds,p,f,g,m=!0;d==null&&(d=this.end.row,l=this.end.column);for(var v=0;v<h.length;v++){if(p=h[v],f=p.range.compareStart(d,l),f==-1){a(null,d,l,u,m);return}if(g=a(null,p.start.row,p.start.column,u,m),g=!g&&a(p.placeholder,p.start.row,p.start.column,u),g||f===0)return;m=!p.sameRow,u=p.end.column}a(null,d,l,u,m)},c.prototype.getNextFoldTo=function(a,d){for(var l,u,h=0;h<this.folds.length;h++){if(l=this.folds[h],u=l.range.compareEnd(a,d),u==-1)return{fold:l,kind:"after"};if(u===0)return{fold:l,kind:"inside"}}return null},c.prototype.addRemoveChars=function(a,d,l){var u=this.getNextFoldTo(a,d),h,p;if(u){if(h=u.fold,u.kind=="inside"&&h.start.column!=d&&h.start.row!=a)window.console&&window.console.log(a,d,h);else if(h.start.row==a){p=this.folds;var f=p.indexOf(h);for(f===0&&(this.start.column+=l),f;f<p.length;f++){if(h=p[f],h.start.column+=l,!h.sameRow)return;h.end.column+=l}this.end.column+=l}}},c.prototype.split=function(a,d){var l=this.getNextFoldTo(a,d);if(!l||l.kind=="inside")return null;var u=l.fold,h=this.folds,p=this.foldData,f=h.indexOf(u),g=h[f-1];this.end.row=g.end.row,this.end.column=g.end.column,h=h.splice(f,h.length-f);var m=new c(p,h);return p.splice(p.indexOf(this)+1,0,m),m},c.prototype.merge=function(a){for(var d=a.folds,l=0;l<d.length;l++)this.addFold(d[l]);var u=this.foldData;u.splice(u.indexOf(a),1)},c.prototype.toString=function(){var a=[this.range.toString()+": ["];return this.folds.forEach(function(d){a.push("  "+d.toString())}),a.push("]"),a.join(`
`)},c.prototype.idxToPosition=function(a){for(var d=0,l=0;l<this.folds.length;l++){var u=this.folds[l];if(a-=u.start.column-d,a<0)return{row:u.start.row,column:u.start.column+a};if(a-=u.placeholder.length,a<0)return u.start;d=u.end.column}return{row:this.end.row,column:this.end.column+a}},c}();r.FoldLine=o}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(n,r,i){var s=n("./range").Range,o=s.comparePoints,c=function(){function a(){this.ranges=[],this.$bias=1}return a.prototype.pointIndex=function(d,l,u){for(var h=this.ranges,p=u||0;p<h.length;p++){var f=h[p],g=o(d,f.end);if(!(g>0)){var m=o(d,f.start);return g===0?l&&m!==0?-p-2:p:m>0||m===0&&!l?p:-p-1}}return-p-1},a.prototype.add=function(d){var l=!d.isEmpty(),u=this.pointIndex(d.start,l);u<0&&(u=-u-1);var h=this.pointIndex(d.end,l,u);return h<0?h=-h-1:h++,this.ranges.splice(u,h-u,d)},a.prototype.addList=function(d){for(var l=[],u=d.length;u--;)l.push.apply(l,this.add(d[u]));return l},a.prototype.substractPoint=function(d){var l=this.pointIndex(d);if(l>=0)return this.ranges.splice(l,1)},a.prototype.merge=function(){var d=[],l=this.ranges;l=l.sort(function(g,m){return o(g.start,m.start)});for(var u=l[0],h,p=1;p<l.length;p++){h=u,u=l[p];var f=o(h.end,u.start);f<0||f==0&&!h.isEmpty()&&!u.isEmpty()||(o(h.end,u.end)<0&&(h.end.row=u.end.row,h.end.column=u.end.column),l.splice(p,1),d.push(u),u=h,p--)}return this.ranges=l,d},a.prototype.contains=function(d,l){return this.pointIndex({row:d,column:l})>=0},a.prototype.containsPoint=function(d){return this.pointIndex(d)>=0},a.prototype.rangeAtPoint=function(d){var l=this.pointIndex(d);if(l>=0)return this.ranges[l]},a.prototype.clipRows=function(d,l){var u=this.ranges;if(u[0].start.row>l||u[u.length-1].start.row<d)return[];var h=this.pointIndex({row:d,column:0});h<0&&(h=-h-1);var p=this.pointIndex({row:l,column:0},h);p<0&&(p=-p-1);for(var f=[],g=h;g<p;g++)f.push(u[g]);return f},a.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},a.prototype.attach=function(d){this.session&&this.detach(),this.session=d,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},a.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},a.prototype.$onChange=function(d){for(var l=d.start,u=d.end,h=l.row,p=u.row,f=this.ranges,g=0,m=f.length;g<m;g++){var v=f[g];if(v.end.row>=h)break}if(d.action=="insert")for(var y=p-h,x=-l.column+u.column;g<m;g++){var v=f[g];if(v.start.row>h)break;if(v.start.row==h&&v.start.column>=l.column&&(v.start.column==l.column&&this.$bias<=0||(v.start.column+=x,v.start.row+=y)),v.end.row==h&&v.end.column>=l.column){if(v.end.column==l.column&&this.$bias<0)continue;v.end.column==l.column&&x>0&&g<m-1&&v.end.column>v.start.column&&v.end.column==f[g+1].start.column&&(v.end.column-=x),v.end.column+=x,v.end.row+=y}}else for(var y=h-p,x=l.column-u.column;g<m;g++){var v=f[g];if(v.start.row>p)break;v.end.row<p&&(h<v.end.row||h==v.end.row&&l.column<v.end.column)?(v.end.row=h,v.end.column=l.column):v.end.row==p?v.end.column<=u.column?(y||v.end.column>l.column)&&(v.end.column=l.column,v.end.row=l.row):(v.end.column+=x,v.end.row+=y):v.end.row>p&&(v.end.row+=y),v.start.row<p&&(h<v.start.row||h==v.start.row&&l.column<v.start.column)?(v.start.row=h,v.start.column=l.column):v.start.row==p?v.start.column<=u.column?(y||v.start.column>l.column)&&(v.start.column=l.column,v.start.row=l.row):(v.start.column+=x,v.start.row+=y):v.start.row>p&&(v.start.row+=y)}if(y!=0&&g<m)for(;g<m;g++){var v=f[g];v.start.row+=y,v.end.row+=y}},a}();c.prototype.comparePoints=o,r.RangeList=c}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(n,r,i){var s=this&&this.__extends||function(){var h=function(p,f){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(g[v]=m[v])},h(p,f)};return function(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");h(p,f);function g(){this.constructor=p}p.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}}(),o=n("../range_list").RangeList,c=function(h){s(p,h);function p(f,g){var m=h.call(this)||this;return m.foldLine=null,m.placeholder=g,m.range=f,m.start=f.start,m.end=f.end,m.sameRow=f.start.row==f.end.row,m.subFolds=m.ranges=[],m}return p.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},p.prototype.setFoldLine=function(f){this.foldLine=f,this.subFolds.forEach(function(g){g.setFoldLine(f)})},p.prototype.clone=function(){var f=this.range.clone(),g=new p(f,this.placeholder);return this.subFolds.forEach(function(m){g.subFolds.push(m.clone())}),g.collapseChildren=this.collapseChildren,g},p.prototype.addSubFold=function(f){if(!this.range.isEqual(f)){d(f,this.start);for(var x=f.start.row,C=f.start.column,g=0,m=-1;g<this.subFolds.length&&(m=this.subFolds[g].range.compare(x,C),m==1);g++);var v=this.subFolds[g],y=0;if(m==0){if(v.range.containsRange(f))return v.addSubFold(f);y=1}for(var x=f.range.end.row,C=f.range.end.column,b=g,m=-1;b<this.subFolds.length&&(m=this.subFolds[b].range.compare(x,C),m==1);b++);m==0&&b++;for(var S=this.subFolds.splice(g,b-g,f),I=m==0?S.length-1:S.length,L=y;L<I;L++)f.addSubFold(S[L]);return f.setFoldLine(this.foldLine),f}},p.prototype.restoreRange=function(f){return u(f,this.start)},p}(o);function a(h,p){h.row-=p.row,h.row==0&&(h.column-=p.column)}function d(h,p){a(h.start,p),a(h.end,p)}function l(h,p){h.row==0&&(h.column+=p.column),h.row+=p.row}function u(h,p){l(h.start,p),l(h.end,p)}r.Fold=c}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(n,r,i){var s=n("../range").Range,o=n("./fold_line").FoldLine,c=n("./fold").Fold,a=n("../token_iterator").TokenIterator,d=n("../mouse/mouse_event").MouseEvent;function l(){this.getFoldAt=function(u,h,p){var f=this.getFoldLine(u);if(!f)return null;for(var g=f.folds,m=0;m<g.length;m++){var v=g[m].range;if(v.contains(u,h)){if(p==1&&v.isEnd(u,h)&&!v.isEmpty())continue;if(p==-1&&v.isStart(u,h)&&!v.isEmpty())continue;return g[m]}}},this.getFoldsInRange=function(u){var h=u.start,p=u.end,f=this.$foldData,g=[];h.column+=1,p.column-=1;for(var m=0;m<f.length;m++){var v=f[m].range.compareRange(u);if(v!=2){if(v==-2)break;for(var y=f[m].folds,x=0;x<y.length;x++){var C=y[x];if(v=C.range.compareRange(u),v==-2)break;if(v==2)continue;if(v==42)break;g.push(C)}}}return h.column-=1,p.column+=1,g},this.getFoldsInRangeList=function(u){if(Array.isArray(u)){var h=[];u.forEach(function(p){h=h.concat(this.getFoldsInRange(p))},this)}else var h=this.getFoldsInRange(u);return h},this.getAllFolds=function(){for(var u=[],h=this.$foldData,p=0;p<h.length;p++)for(var f=0;f<h[p].folds.length;f++)u.push(h[p].folds[f]);return u},this.getFoldStringAt=function(u,h,p,f){if(f=f||this.getFoldLine(u),!f)return null;for(var g={end:{column:0}},m,v,y=0;y<f.folds.length;y++){v=f.folds[y];var x=v.range.compareEnd(u,h);if(x==-1){m=this.getLine(v.start.row).substring(g.end.column,v.start.column);break}else if(x===0)return null;g=v}return m||(m=this.getLine(v.start.row).substring(g.end.column)),p==-1?m.substring(0,h-g.end.column):p==1?m.substring(h-g.end.column):m},this.getFoldLine=function(u,h){var p=this.$foldData,f=0;for(h&&(f=p.indexOf(h)),f==-1&&(f=0),f;f<p.length;f++){var g=p[f];if(g.start.row<=u&&g.end.row>=u)return g;if(g.end.row>u)return null}return null},this.getNextFoldLine=function(u,h){var p=this.$foldData,f=0;for(h&&(f=p.indexOf(h)),f==-1&&(f=0),f;f<p.length;f++){var g=p[f];if(g.end.row>=u)return g}return null},this.getFoldedRowCount=function(u,h){for(var p=this.$foldData,f=h-u+1,g=0;g<p.length;g++){var m=p[g],v=m.end.row,y=m.start.row;if(v>=h){y<h&&(y>=u?f-=h-y:f=0);break}else v>=u&&(y>=u?f-=v-y:f-=v-u+1)}return f},this.$addFoldLine=function(u){return this.$foldData.push(u),this.$foldData.sort(function(h,p){return h.start.row-p.start.row}),u},this.addFold=function(u,h){var p=this.$foldData,f=!1,g;u instanceof c?g=u:(g=new c(h,u),g.collapseChildren=h.collapseChildren),this.$clipRangeToDocument(g.range);var m=g.start.row,v=g.start.column,y=g.end.row,x=g.end.column,C=this.getFoldAt(m,v,1),b=this.getFoldAt(y,x,-1);if(C&&b==C)return C.addSubFold(g);C&&!C.range.isStart(m,v)&&this.removeFold(C),b&&!b.range.isEnd(y,x)&&this.removeFold(b);var S=this.getFoldsInRange(g.range);S.length>0&&(this.removeFolds(S),g.collapseChildren||S.forEach(function($){g.addSubFold($)}));for(var I=0;I<p.length;I++){var L=p[I];if(y==L.start.row){L.addFold(g),f=!0;break}else if(m==L.end.row){if(L.addFold(g),f=!0,!g.sameRow){var T=p[I+1];if(T&&T.start.row==y){L.merge(T);break}}break}else if(y<=L.start.row)break}return f||(L=this.$addFoldLine(new o(this.$foldData,g))),this.$useWrapMode?this.$updateWrapData(L.start.row,L.start.row):this.$updateRowLengthCache(L.start.row,L.start.row),this.$modified=!0,this._signal("changeFold",{data:g,action:"add"}),g},this.addFolds=function(u){u.forEach(function(h){this.addFold(h)},this)},this.removeFold=function(u){var h=u.foldLine,p=h.start.row,f=h.end.row,g=this.$foldData,m=h.folds;if(m.length==1)g.splice(g.indexOf(h),1);else if(h.range.isEnd(u.end.row,u.end.column))m.pop(),h.end.row=m[m.length-1].end.row,h.end.column=m[m.length-1].end.column;else if(h.range.isStart(u.start.row,u.start.column))m.shift(),h.start.row=m[0].start.row,h.start.column=m[0].start.column;else if(u.sameRow)m.splice(m.indexOf(u),1);else{var v=h.split(u.start.row,u.start.column);m=v.folds,m.shift(),v.start.row=m[0].start.row,v.start.column=m[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(p,f):this.$updateRowLengthCache(p,f)),this.$modified=!0,this._signal("changeFold",{data:u,action:"remove"})},this.removeFolds=function(u){for(var h=[],p=0;p<u.length;p++)h.push(u[p]);h.forEach(function(f){this.removeFold(f)},this),this.$modified=!0},this.expandFold=function(u){this.removeFold(u),u.subFolds.forEach(function(h){u.restoreRange(h),this.addFold(h)},this),u.collapseChildren>0&&this.foldAll(u.start.row+1,u.end.row,u.collapseChildren-1),u.subFolds=[]},this.expandFolds=function(u){u.forEach(function(h){this.expandFold(h)},this)},this.unfold=function(u,h){var p,f;if(u==null)p=new s(0,0,this.getLength(),0),h==null&&(h=!0);else if(typeof u=="number")p=new s(u,0,u,this.getLine(u).length);else if("row"in u)p=s.fromPoints(u,u);else{if(Array.isArray(u))return f=[],u.forEach(function(m){f=f.concat(this.unfold(m))},this),f;p=u}f=this.getFoldsInRangeList(p);for(var g=f;f.length==1&&s.comparePoints(f[0].start,p.start)<0&&s.comparePoints(f[0].end,p.end)>0;)this.expandFolds(f),f=this.getFoldsInRangeList(p);if(h!=!1?this.removeFolds(f):this.expandFolds(f),g.length)return g},this.isRowFolded=function(u,h){return!!this.getFoldLine(u,h)},this.getRowFoldEnd=function(u,h){var p=this.getFoldLine(u,h);return p?p.end.row:u},this.getRowFoldStart=function(u,h){var p=this.getFoldLine(u,h);return p?p.start.row:u},this.getFoldDisplayLine=function(u,h,p,f,g){f==null&&(f=u.start.row),g==null&&(g=0),h==null&&(h=u.end.row),p==null&&(p=this.getLine(h).length);var m=this.doc,v="";return u.walk(function(y,x,C,b){if(!(x<f)){if(x==f){if(C<g)return;b=Math.max(g,b)}y!=null?v+=y:v+=m.getLine(x).substring(b,C)}},h,p),v},this.getDisplayLine=function(u,h,p,f){var g=this.getFoldLine(u);if(g)return this.getFoldDisplayLine(g,u,h,p,f);var m;return m=this.doc.getLine(u),m.substring(f||0,h||m.length)},this.$cloneFoldData=function(){var u=[];return u=this.$foldData.map(function(h){var p=h.folds.map(function(f){return f.clone()});return new o(u,p)}),u},this.toggleFold=function(u){var h=this.selection,p=h.getRange(),f,g;if(p.isEmpty()){var m=p.start;if(f=this.getFoldAt(m.row,m.column),f){this.expandFold(f);return}else if(u){var v=this.getFoldLine(m.row);v&&this.expandFolds(v.folds);return}else(g=this.findMatchingBracket(m))?p.comparePoint(g)==1?p.end=g:(p.start=g,p.start.column++,p.end.column--):(g=this.findMatchingBracket({row:m.row,column:m.column+1}))?(p.comparePoint(g)==1?p.end=g:p.start=g,p.start.column++):p=this.getCommentFoldRange(m.row,m.column)||p}else{var y=this.getFoldsInRange(p);if(u&&y.length){this.expandFolds(y);return}else y.length==1&&(f=y[0])}if(f||(f=this.getFoldAt(p.start.row,p.start.column)),f&&f.range.toString()==p.toString()){this.expandFold(f);return}var x="...";if(!p.isMultiLine()){if(x=this.getTextRange(p),x.length<4)return;x=x.trim().substring(0,2)+".."}this.addFold(x,p)},this.getCommentFoldRange=function(u,h,p){var f=new a(this,u,h),g=f.getCurrentToken(),m=g&&g.type;if(g&&/^comment|string/.test(m)){m=m.match(/comment|string/)[0],m=="comment"&&(m+="|doc-start|\\.doc");var v=new RegExp(m),y=new s;if(p!=1){do g=f.stepBackward();while(g&&v.test(g.type));g=f.stepForward()}y.start.row=f.getCurrentTokenRow(),y.start.column=f.getCurrentTokenColumn()+g.value.length,f=new a(this,u,h);var x=this.getState(f.$row);if(p!=-1){var C=-1;do if(g=f.stepForward(),C==-1){var b=this.getState(f.$row);x.toString()!==b.toString()&&(C=f.$row)}else if(f.$row>C)break;while(g&&v.test(g.type));g=f.stepBackward()}else g=f.getCurrentToken();return y.end.row=f.getCurrentTokenRow(),y.end.column=f.getCurrentTokenColumn(),y.start.row==y.end.row&&y.start.column>y.end.column?void 0:y}},this.foldAll=function(u,h,p,f){p==null&&(p=1e5);var g=this.foldWidgets;if(g){h=h||this.getLength(),u=u||0;for(var m=u;m<h;m++)if(g[m]==null&&(g[m]=this.getFoldWidget(m)),g[m]=="start"&&!(f&&!f(m))){var v=this.getFoldWidgetRange(m);v&&v.isMultiLine()&&v.end.row<=h&&v.start.row>=u&&(m=v.end.row,v.collapseChildren=p,this.addFold("...",v))}}},this.foldToLevel=function(u){for(this.foldAll();u-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var u=this;this.foldAll(null,null,null,function(h){for(var p=u.getTokens(h),f=0;f<p.length;f++){var g=p[f];if(!(g.type=="text"&&/^\s+$/.test(g.value)))return!!/comment/.test(g.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(u){if(!this.$foldStyles[u])throw new Error("invalid fold style: "+u+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=u){this.$foldStyle=u,u=="manual"&&this.unfold();var h=this.$foldMode;this.$setFolding(null),this.$setFolding(h)}},this.$setFolding=function(u){if(this.$foldMode!=u){if(this.$foldMode=u,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!u||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=u.getFoldWidget.bind(u,this,this.$foldStyle),this.getFoldWidgetRange=u.getFoldWidgetRange.bind(u,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(u,h){var p=this.foldWidgets;if(!p||h&&p[u])return{};for(var f=u-1,g;f>=0;){var m=p[f];if(m==null&&(m=p[f]=this.getFoldWidget(f)),m=="start"){var v=this.getFoldWidgetRange(f);if(g||(g=v),v&&v.end.row>=u)break}f--}return{range:f!==-1&&v,firstRange:g}},this.onFoldWidgetClick=function(u,h){h instanceof d&&(h=h.domEvent);var p={children:h.shiftKey,all:h.ctrlKey||h.metaKey,siblings:h.altKey},f=this.$toggleFoldWidget(u,p);if(!f){var g=h.target||h.srcElement;g&&/ace_fold-widget/.test(g.className)&&(g.className+=" ace_invalid")}},this.$toggleFoldWidget=function(u,h){if(this.getFoldWidget){var p=this.getFoldWidget(u),f=this.getLine(u),g=p==="end"?-1:1,m=this.getFoldAt(u,g===-1?0:f.length,g);if(m)return h.children||h.all?this.removeFold(m):this.expandFold(m),m;var v=this.getFoldWidgetRange(u,!0);if(v&&!v.isMultiLine()&&(m=this.getFoldAt(v.start.row,v.start.column,1),m&&v.isEqual(m.range)))return this.removeFold(m),m;if(h.siblings){var y=this.getParentFoldRangeData(u);if(y.range)var x=y.range.start.row+1,C=y.range.end.row;this.foldAll(x,C,h.all?1e4:0)}else h.children?(C=v?v.end.row:this.getLength(),this.foldAll(u+1,C,h.all?1e4:0)):v&&(h.all&&(v.collapseChildren=1e4),this.addFold("...",v));return v}},this.toggleFoldWidget=function(u){var h=this.selection.getCursor().row;h=this.getRowFoldStart(h);var p=this.$toggleFoldWidget(h,{});if(!p){var f=this.getParentFoldRangeData(h,!0);if(p=f.range||f.firstRange,p){h=p.start.row;var g=this.getFoldAt(h,this.getLine(h).length,1);g?this.removeFold(g):this.addFold("...",p)}}},this.updateFoldWidgets=function(u){var h=u.start.row,p=u.end.row-h;if(p===0)this.foldWidgets[h]=null;else if(u.action=="remove")this.foldWidgets.splice(h,p+1,null);else{var f=Array(p+1);f.unshift(h,1),this.foldWidgets.splice.apply(this.foldWidgets,f)}},this.tokenizerUpdateFoldWidgets=function(u){var h=u.data;h.first!=h.last&&this.foldWidgets.length>h.first&&this.foldWidgets.splice(h.first,this.foldWidgets.length)}}r.Folding=l}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(n,r,i){var s=n("../token_iterator").TokenIterator,o=n("../range").Range;function c(){this.findMatchingBracket=function(a,d){if(a.column==0)return null;var l=d||this.getLine(a.row).charAt(a.column-1);if(l=="")return null;var u=l.match(/([\(\[\{])|([\)\]\}])/);return u?u[1]?this.$findClosingBracket(u[1],a):this.$findOpeningBracket(u[2],a):null},this.getBracketRange=function(a){var d=this.getLine(a.row),l=!0,u,h=d.charAt(a.column-1),p=h&&h.match(/([\(\[\{])|([\)\]\}])/);if(p||(h=d.charAt(a.column),a={row:a.row,column:a.column+1},p=h&&h.match(/([\(\[\{])|([\)\]\}])/),l=!1),!p)return null;if(p[1]){var f=this.$findClosingBracket(p[1],a);if(!f)return null;u=o.fromPoints(a,f),l||(u.end.column++,u.start.column--),u.cursor=u.end}else{var f=this.$findOpeningBracket(p[2],a);if(!f)return null;u=o.fromPoints(f,a),l||(u.start.column++,u.end.column--),u.cursor=u.start}return u},this.getMatchingBracketRanges=function(a,d){var l=this.getLine(a.row),u=/([\(\[\{])|([\)\]\}])/,h=!d&&l.charAt(a.column-1),p=h&&h.match(u);if(p||(h=(d===void 0||d)&&l.charAt(a.column),a={row:a.row,column:a.column+1},p=h&&h.match(u)),!p)return null;var f=new o(a.row,a.column-1,a.row,a.column),g=p[1]?this.$findClosingBracket(p[1],a):this.$findOpeningBracket(p[2],a);if(!g)return[f];var m=new o(g.row,g.column,g.row,g.column+1);return[f,m]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(a,d,l){var u=this.$brackets[a],h=1,p=new s(this,d.row,d.column),f=p.getCurrentToken();if(f||(f=p.stepForward()),!!f){l||(l=new RegExp("(\\.?"+f.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var g=d.column-p.getCurrentTokenColumn()-2,m=f.value;;){for(;g>=0;){var v=m.charAt(g);if(v==u){if(h-=1,h==0)return{row:p.getCurrentTokenRow(),column:g+p.getCurrentTokenColumn()}}else v==a&&(h+=1);g-=1}do f=p.stepBackward();while(f&&!l.test(f.type));if(f==null)break;m=f.value,g=m.length-1}return null}},this.$findClosingBracket=function(a,d,l){var u=this.$brackets[a],h=1,p=new s(this,d.row,d.column),f=p.getCurrentToken();if(f||(f=p.stepForward()),!!f){l||(l=new RegExp("(\\.?"+f.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var g=d.column-p.getCurrentTokenColumn();;){for(var m=f.value,v=m.length;g<v;){var y=m.charAt(g);if(y==u){if(h-=1,h==0)return{row:p.getCurrentTokenRow(),column:g+p.getCurrentTokenColumn()}}else y==a&&(h+=1);g+=1}do f=p.stepForward();while(f&&!l.test(f.type));if(f==null)break;g=0}return null}},this.getMatchingTags=function(a){var d=new s(this,a.row,a.column),l=this.$findTagName(d);if(l){var u=d.stepBackward();return u.value==="<"?this.$findClosingTag(d,l):this.$findOpeningTag(d,l)}},this.$findTagName=function(a){var d=a.getCurrentToken(),l=!1,u=!1;if(d&&d.type.indexOf("tag-name")===-1)do u?d=a.stepBackward():d=a.stepForward(),d&&(d.value==="/>"?u=!0:d.type.indexOf("tag-name")!==-1&&(l=!0));while(d&&!l);return d},this.$findClosingTag=function(a,d){var l,u=d.value,h=d.value,p=0,f=new o(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);d=a.stepForward();var g=new o(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+d.value.length),m=!1;do{if(l=d,l.type.indexOf("tag-close")!==-1&&!m){var v=new o(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);m=!0}if(d=a.stepForward(),d){if(d.value===">"&&!m){var v=new o(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);m=!0}if(d.type.indexOf("tag-name")!==-1){if(u=d.value,h===u){if(l.value==="<")p++;else if(l.value==="</"&&(p--,p<0)){a.stepBackward();var y=new o(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+2);d=a.stepForward();var x=new o(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+d.value.length);if(d.type.indexOf("tag-close")===-1&&(d=a.stepForward()),d&&d.value===">")var C=new o(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);else return}}}else if(h===u&&d.value==="/>"&&(p--,p<0))var y=new o(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+2),x=y,C=x,v=new o(g.end.row,g.end.column,g.end.row,g.end.column+1)}}while(d&&p>=0);if(f&&v&&y&&C&&g&&x)return{openTag:new o(f.start.row,f.start.column,v.end.row,v.end.column),closeTag:new o(y.start.row,y.start.column,C.end.row,C.end.column),openTagName:g,closeTagName:x}},this.$findOpeningTag=function(a,d){var l=a.getCurrentToken(),u=d.value,h=0,p=a.getCurrentTokenRow(),f=a.getCurrentTokenColumn(),g=f+2,m=new o(p,f,p,g);a.stepForward();var v=new o(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+d.value.length);if(d.type.indexOf("tag-close")===-1&&(d=a.stepForward()),!(!d||d.value!==">")){var y=new o(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);a.stepBackward(),a.stepBackward();do if(d=l,p=a.getCurrentTokenRow(),f=a.getCurrentTokenColumn(),g=f+d.value.length,l=a.stepBackward(),d){if(d.type.indexOf("tag-name")!==-1){if(u===d.value)if(l.value==="<"){if(h++,h>0){var x=new o(p,f,p,g),C=new o(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);do d=a.stepForward();while(d&&d.value!==">");var b=new o(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1)}}else l.value==="</"&&h--}else if(d.value==="/>"){for(var S=0,I=l;I;){if(I.type.indexOf("tag-name")!==-1&&I.value===u){h--;break}else if(I.value==="<")break;I=a.stepBackward(),S++}for(var L=0;L<S;L++)a.stepForward()}}while(l&&h<=0);if(C&&b&&m&&y&&x&&v)return{openTag:new o(C.start.row,C.start.column,b.end.row,b.end.column),closeTag:new o(m.start.row,m.start.column,y.end.row,y.end.column),openTagName:x,closeTagName:v}}}}r.BracketMatch=c}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/line_widgets","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(n,r,i){var s=n("./lib/oop"),o=n("./lib/lang"),c=n("./bidihandler").BidiHandler,a=n("./config"),d=n("./lib/event_emitter").EventEmitter,l=n("./selection").Selection,u=n("./mode/text").Mode,h=n("./range").Range,p=n("./line_widgets").LineWidgets,f=n("./document").Document,g=n("./background_tokenizer").BackgroundTokenizer,m=n("./search_highlight").SearchHighlight,v=n("./undomanager").UndoManager,y=function(){function k(A,w){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$editor=null,this.prevOp={},this.$foldData=[],this.id="session"+ ++k.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.$gutterCustomWidgets={},this.bgTokenizer=new g(new u().getTokenizer(),this);var E=this;this.bgTokenizer.on("update",function(_){E._signal("tokenizerUpdate",_)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof A!="object"||!A.getLine)&&(A=new f(A)),this.setDocument(A),this.selection=new l(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.selection.on("changeCursor",this.$onSelectionChange),this.$bidiHandler=new c(this),a.resetOptions(this),this.setMode(w),a._signal("session",this),this.destroyed=!1,this.$initOperationListeners()}return k.prototype.$initOperationListeners=function(){var A=this;this.curOp=null,this.on("change",function(){A.curOp||(A.startOperation(),A.curOp.selectionBefore=A.$lastSel),A.curOp.docChanged=!0},!0),this.on("changeSelection",function(){A.curOp||(A.startOperation(),A.curOp.selectionBefore=A.$lastSel),A.curOp.selectionChanged=!0},!0),this.$operationResetTimer=o.delayedCall(this.endOperation.bind(this,!0))},k.prototype.startOperation=function(A){if(this.curOp){if(!A||this.curOp.command)return;this.prevOp=this.curOp}A||(A={}),this.$operationResetTimer.schedule(),this.curOp={command:A.command||{},args:A.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal("startOperation",A)},k.prototype.endOperation=function(A){if(this.curOp){if(A&&A.returnValue===!1){this.curOp=null,this._signal("endOperation",A);return}if(A==!0&&this.curOp.command&&this.curOp.command.name=="mouse")return;var w=this.selection.toJSON();this.curOp.selectionAfter=w,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection(w),this._signal("beforeEndOperation"),this.prevOp=this.curOp,this.curOp=null,this._signal("endOperation",A)}},k.prototype.setDocument=function(A){this.doc&&this.doc.off("change",this.$onChange),this.doc=A,A.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},k.prototype.getDocument=function(){return this.doc},Object.defineProperty(k.prototype,"widgetManager",{get:function(){var A=new p(this);return this.widgetManager=A,this.$editor&&A.attach(this.$editor),A},set:function(A){Object.defineProperty(this,"widgetManager",{writable:!0,enumerable:!0,configurable:!0,value:A})},enumerable:!1,configurable:!0}),k.prototype.$resetRowCache=function(A){if(!A){this.$docRowCache=[],this.$screenRowCache=[];return}var w=this.$docRowCache.length,E=this.$getRowCacheIndex(this.$docRowCache,A)+1;w>E&&(this.$docRowCache.splice(E,w),this.$screenRowCache.splice(E,w))},k.prototype.$getRowCacheIndex=function(A,w){for(var E=0,_=A.length-1;E<=_;){var R=E+_>>1,M=A[R];if(w>M)E=R+1;else if(w<M)_=R-1;else return R}return E-1},k.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},k.prototype.onChangeFold=function(A){var w=A.data;this.$resetRowCache(w.start.row)},k.prototype.onChange=function(A){this.$modified=!0,this.$bidiHandler.onChange(A),this.$resetRowCache(A.start.row);var w=this.$updateInternalDataOnChange(A);!this.$fromUndo&&this.$undoManager&&(w&&w.length&&(this.$undoManager.add({action:"removeFolds",folds:w},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(A,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(A),this._signal("change",A)},k.prototype.onSelectionChange=function(){this._signal("changeSelection")},k.prototype.setValue=function(A){this.doc.setValue(A),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},k.fromJSON=function(A){typeof A=="string"&&(A=JSON.parse(A));var w=new v;w.$undoStack=A.history.undo,w.$redoStack=A.history.redo,w.mark=A.history.mark,w.$rev=A.history.rev;var E=new k(A.value);return A.folds.forEach(function(_){E.addFold("...",h.fromPoints(_.start,_.end))}),E.setAnnotations(A.annotations),E.setBreakpoints(A.breakpoints),E.setMode(A.mode),E.setScrollLeft(A.scrollLeft),E.setScrollTop(A.scrollTop),E.setUndoManager(w),E.selection.fromJSON(A.selection),E},k.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(A){return A.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},k.prototype.toString=function(){return this.doc.getValue()},k.prototype.getSelection=function(){return this.selection},k.prototype.getState=function(A){return this.bgTokenizer.getState(A)},k.prototype.getTokens=function(A){return this.bgTokenizer.getTokens(A)},k.prototype.getTokenAt=function(A,w){var E=this.bgTokenizer.getTokens(A),_,R=0;if(w==null){var M=E.length-1;R=this.getLine(A).length}else for(var M=0;M<E.length&&(R+=E[M].value.length,!(R>=w));M++);return _=E[M],_?(_.index=M,_.start=R-_.value.length,_):null},k.prototype.setUndoManager=function(A){if(this.$undoManager=A,this.$informUndoManager&&this.$informUndoManager.cancel(),A){var w=this;A.addSession(this),this.$syncInformUndoManager=function(){w.$informUndoManager.cancel(),w.mergeUndoDeltas=!1},this.$informUndoManager=o.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},k.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},k.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},k.prototype.getTabString=function(){return this.getUseSoftTabs()?o.stringRepeat(" ",this.getTabSize()):"	"},k.prototype.setUseSoftTabs=function(A){this.setOption("useSoftTabs",A)},k.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},k.prototype.setTabSize=function(A){this.setOption("tabSize",A)},k.prototype.getTabSize=function(){return this.$tabSize},k.prototype.isTabStop=function(A){return this.$useSoftTabs&&A.column%this.$tabSize===0},k.prototype.setNavigateWithinSoftTabs=function(A){this.setOption("navigateWithinSoftTabs",A)},k.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},k.prototype.setOverwrite=function(A){this.setOption("overwrite",A)},k.prototype.getOverwrite=function(){return this.$overwrite},k.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},k.prototype.addGutterDecoration=function(A,w){this.$decorations[A]||(this.$decorations[A]=""),this.$decorations[A]+=" "+w,this._signal("changeBreakpoint",{})},k.prototype.removeGutterCustomWidget=function(A){this.$editor&&this.$editor.renderer.$gutterLayer.$removeCustomWidget(A)},k.prototype.addGutterCustomWidget=function(A,w){this.$editor&&this.$editor.renderer.$gutterLayer.$addCustomWidget(A,w)},k.prototype.removeGutterDecoration=function(A,w){this.$decorations[A]=(this.$decorations[A]||"").replace(" "+w,""),this._signal("changeBreakpoint",{})},k.prototype.getBreakpoints=function(){return this.$breakpoints},k.prototype.setBreakpoints=function(A){this.$breakpoints=[];for(var w=0;w<A.length;w++)this.$breakpoints[A[w]]="ace_breakpoint";this._signal("changeBreakpoint",{})},k.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},k.prototype.setBreakpoint=function(A,w){w===void 0&&(w="ace_breakpoint"),w?this.$breakpoints[A]=w:delete this.$breakpoints[A],this._signal("changeBreakpoint",{})},k.prototype.clearBreakpoint=function(A){delete this.$breakpoints[A],this._signal("changeBreakpoint",{})},k.prototype.addMarker=function(A,w,E,_){var R=this.$markerId++,M={range:A,type:E||"line",renderer:typeof E=="function"?E:null,clazz:w,inFront:!!_,id:R};return _?(this.$frontMarkers[R]=M,this._signal("changeFrontMarker")):(this.$backMarkers[R]=M,this._signal("changeBackMarker")),R},k.prototype.addDynamicMarker=function(A,w){if(A.update){var E=this.$markerId++;return A.id=E,A.inFront=!!w,w?(this.$frontMarkers[E]=A,this._signal("changeFrontMarker")):(this.$backMarkers[E]=A,this._signal("changeBackMarker")),A}},k.prototype.removeMarker=function(A){var w=this.$frontMarkers[A]||this.$backMarkers[A];if(w){var E=w.inFront?this.$frontMarkers:this.$backMarkers;delete E[A],this._signal(w.inFront?"changeFrontMarker":"changeBackMarker")}},k.prototype.getMarkers=function(A){return A?this.$frontMarkers:this.$backMarkers},k.prototype.highlight=function(A){if(!this.$searchHighlight){var w=new m(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(w)}this.$searchHighlight.setRegexp(A)},k.prototype.highlightLines=function(A,w,E,_){typeof w!="number"&&(E=w,w=A),E||(E="ace_step");var R=new h(A,0,w,1/0);return R.id=this.addMarker(R,E,"fullLine",_),R},k.prototype.setAnnotations=function(A){this.$annotations=A,this._signal("changeAnnotation",{})},k.prototype.getAnnotations=function(){return this.$annotations||[]},k.prototype.clearAnnotations=function(){this.setAnnotations([])},k.prototype.$detectNewLine=function(A){var w=A.match(/^.*?(\r?\n)/m);w?this.$autoNewLine=w[1]:this.$autoNewLine=`
`},k.prototype.getWordRange=function(A,w){var E=this.getLine(A),_=!1;if(w>0&&(_=!!E.charAt(w-1).match(this.tokenRe)),_||(_=!!E.charAt(w).match(this.tokenRe)),_)var R=this.tokenRe;else if(/^\s+$/.test(E.slice(w-1,w+1)))var R=/\s/;else var R=this.nonTokenRe;var M=w;if(M>0){do M--;while(M>=0&&E.charAt(M).match(R));M++}for(var O=w;O<E.length&&E.charAt(O).match(R);)O++;return new h(A,M,A,O)},k.prototype.getAWordRange=function(A,w){for(var E=this.getWordRange(A,w),_=this.getLine(E.end.row);_.charAt(E.end.column).match(/[ \t]/);)E.end.column+=1;return E},k.prototype.setNewLineMode=function(A){this.doc.setNewLineMode(A)},k.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},k.prototype.setUseWorker=function(A){this.setOption("useWorker",A)},k.prototype.getUseWorker=function(){return this.$useWorker},k.prototype.onReloadTokenizer=function(A){var w=A.data;this.bgTokenizer.start(w.first),this._signal("tokenizerUpdate",A)},k.prototype.setMode=function(A,w){if(A&&typeof A=="object"){if(A.getTokenizer)return this.$onChangeMode(A);var E=A,_=E.path}else _=A||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new u),this.$modes[_]&&!E){this.$onChangeMode(this.$modes[_]),w&&w();return}this.$modeId=_,a.loadModule(["mode",_],(function(R){if(!this.destroyed){if(this.$modeId!==_)return w&&w();this.$modes[_]&&!E?this.$onChangeMode(this.$modes[_]):R&&R.Mode&&(R=new R.Mode(E),E||(this.$modes[_]=R,R.$id=_),this.$onChangeMode(R)),w&&w()}}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},k.prototype.$onChangeMode=function(A,w){if(w||(this.$modeId=A.$id),this.$mode!==A){var E=this.$mode;this.$mode=A,this.$stopWorker(),this.$useWorker&&this.$startWorker();var _=A.getTokenizer();if(_.on!==void 0){var R=this.onReloadTokenizer.bind(this);_.on("update",R)}this.bgTokenizer.setTokenizer(_),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=A.tokenRe,this.nonTokenRe=A.nonTokenRe,w||(A.attachToSession&&A.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(A.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:E,mode:A}))}},k.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},k.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(A){a.warn("Could not load worker",A),this.$worker=null}},k.prototype.getMode=function(){return this.$mode},k.prototype.setScrollTop=function(A){this.$scrollTop===A||isNaN(A)||(this.$scrollTop=A,this._signal("changeScrollTop",A))},k.prototype.getScrollTop=function(){return this.$scrollTop},k.prototype.setScrollLeft=function(A){this.$scrollLeft===A||isNaN(A)||(this.$scrollLeft=A,this._signal("changeScrollLeft",A))},k.prototype.getScrollLeft=function(){return this.$scrollLeft},k.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},k.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var A=0;return this.lineWidgets.forEach(function(w){w&&w.screenWidth>A&&(A=w.screenWidth)}),this.lineWidgetWidth=A},k.prototype.$computeWidth=function(A){if(this.$modified||A){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var w=this.doc.getAllLines(),E=this.$rowLengthCache,_=0,R=0,M=this.$foldData[R],O=M?M.start.row:1/0,N=w.length,F=0;F<N;F++){if(F>O){if(F=M.end.row+1,F>=N)break;M=this.$foldData[R++],O=M?M.start.row:1/0}E[F]==null&&(E[F]=this.$getStringScreenWidth(w[F])[0]),E[F]>_&&(_=E[F])}this.screenWidth=_}},k.prototype.getLine=function(A){return this.doc.getLine(A)},k.prototype.getLines=function(A,w){return this.doc.getLines(A,w)},k.prototype.getLength=function(){return this.doc.getLength()},k.prototype.getTextRange=function(A){return this.doc.getTextRange(A||this.selection.getRange())},k.prototype.insert=function(A,w){return this.doc.insert(A,w)},k.prototype.remove=function(A){return this.doc.remove(A)},k.prototype.removeFullLines=function(A,w){return this.doc.removeFullLines(A,w)},k.prototype.undoChanges=function(A,w){if(A.length){this.$fromUndo=!0;for(var E=A.length-1;E!=-1;E--){var _=A[E];_.action=="insert"||_.action=="remove"?this.doc.revertDelta(_):_.folds&&this.addFolds(_.folds)}!w&&this.$undoSelect&&(A.selectionBefore?this.selection.fromJSON(A.selectionBefore):this.selection.setRange(this.$getUndoSelection(A,!0))),this.$fromUndo=!1}},k.prototype.redoChanges=function(A,w){if(A.length){this.$fromUndo=!0;for(var E=0;E<A.length;E++){var _=A[E];(_.action=="insert"||_.action=="remove")&&this.doc.$safeApplyDelta(_)}!w&&this.$undoSelect&&(A.selectionAfter?this.selection.fromJSON(A.selectionAfter):this.selection.setRange(this.$getUndoSelection(A,!1))),this.$fromUndo=!1}},k.prototype.setUndoSelect=function(A){this.$undoSelect=A},k.prototype.$getUndoSelection=function(A,w){function E(N){return w?N.action!=="insert":N.action==="insert"}for(var _,R,M=0;M<A.length;M++){var O=A[M];if(O.start){if(!_){E(O)?_=h.fromPoints(O.start,O.end):_=h.fromPoints(O.start,O.start);continue}E(O)?(R=O.start,_.compare(R.row,R.column)==-1&&_.setStart(R),R=O.end,_.compare(R.row,R.column)==1&&_.setEnd(R)):(R=O.start,_.compare(R.row,R.column)==-1&&(_=h.fromPoints(O.start,O.start)))}}return _},k.prototype.replace=function(A,w){return this.doc.replace(A,w)},k.prototype.moveText=function(A,w,E){var _=this.getTextRange(A),R=this.getFoldsInRange(A),M=h.fromPoints(w,w);if(!E){this.remove(A);var O=A.start.row-A.end.row,N=O?-A.end.column:A.start.column-A.end.column;N&&(M.start.row==A.end.row&&M.start.column>A.end.column&&(M.start.column+=N),M.end.row==A.end.row&&M.end.column>A.end.column&&(M.end.column+=N)),O&&M.start.row>=A.end.row&&(M.start.row+=O,M.end.row+=O)}if(M.end=this.insert(M.start,_),R.length){var F=A.start,G=M.start,O=G.row-F.row,N=G.column-F.column;this.addFolds(R.map(function(V){return V=V.clone(),V.start.row==F.row&&(V.start.column+=N),V.end.row==F.row&&(V.end.column+=N),V.start.row+=O,V.end.row+=O,V}))}return M},k.prototype.indentRows=function(A,w,E){E=E.replace(/\t/g,this.getTabString());for(var _=A;_<=w;_++)this.doc.insertInLine({row:_,column:0},E)},k.prototype.outdentRows=function(A){for(var w=A.collapseRows(),E=new h(0,0,0,0),_=this.getTabSize(),R=w.start.row;R<=w.end.row;++R){var M=this.getLine(R);E.start.row=R,E.end.row=R;for(var O=0;O<_&&M.charAt(O)==" ";++O);O<_&&M.charAt(O)=="	"?(E.start.column=O,E.end.column=O+1):(E.start.column=0,E.end.column=O),this.remove(E)}},k.prototype.$moveLines=function(A,w,E){if(A=this.getRowFoldStart(A),w=this.getRowFoldEnd(w),E<0){var _=this.getRowFoldStart(A+E);if(_<0)return 0;var R=_-A}else if(E>0){var _=this.getRowFoldEnd(w+E);if(_>this.doc.getLength()-1)return 0;var R=_-w}else{A=this.$clipRowToDocument(A),w=this.$clipRowToDocument(w);var R=w-A+1}var M=new h(A,0,w,Number.MAX_VALUE),O=this.getFoldsInRange(M).map(function(F){return F=F.clone(),F.start.row+=R,F.end.row+=R,F}),N=E==0?this.doc.getLines(A,w):this.doc.removeFullLines(A,w);return this.doc.insertFullLines(A+R,N),O.length&&this.addFolds(O),R},k.prototype.moveLinesUp=function(A,w){return this.$moveLines(A,w,-1)},k.prototype.moveLinesDown=function(A,w){return this.$moveLines(A,w,1)},k.prototype.duplicateLines=function(A,w){return this.$moveLines(A,w,0)},k.prototype.$clipRowToDocument=function(A){return Math.max(0,Math.min(A,this.doc.getLength()-1))},k.prototype.$clipColumnToRow=function(A,w){return w<0?0:Math.min(this.doc.getLine(A).length,w)},k.prototype.$clipPositionToDocument=function(A,w){if(w=Math.max(0,w),A<0)A=0,w=0;else{var E=this.doc.getLength();A>=E?(A=E-1,w=this.doc.getLine(E-1).length):w=Math.min(this.doc.getLine(A).length,w)}return{row:A,column:w}},k.prototype.$clipRangeToDocument=function(A){A.start.row<0?(A.start.row=0,A.start.column=0):A.start.column=this.$clipColumnToRow(A.start.row,A.start.column);var w=this.doc.getLength()-1;return A.end.row>w?(A.end.row=w,A.end.column=this.doc.getLine(w).length):A.end.column=this.$clipColumnToRow(A.end.row,A.end.column),A},k.prototype.setUseWrapMode=function(A){if(A!=this.$useWrapMode){if(this.$useWrapMode=A,this.$modified=!0,this.$resetRowCache(0),A){var w=this.getLength();this.$wrapData=Array(w),this.$updateWrapData(0,w-1)}this._signal("changeWrapMode")}},k.prototype.getUseWrapMode=function(){return this.$useWrapMode},k.prototype.setWrapLimitRange=function(A,w){(this.$wrapLimitRange.min!==A||this.$wrapLimitRange.max!==w)&&(this.$wrapLimitRange={min:A,max:w},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},k.prototype.adjustWrapLimit=function(A,w){var E=this.$wrapLimitRange;E.max<0&&(E={min:w,max:w});var _=this.$constrainWrapLimit(A,E.min,E.max);return _!=this.$wrapLimit&&_>1?(this.$wrapLimit=_,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},k.prototype.$constrainWrapLimit=function(A,w,E){return w&&(A=Math.max(w,A)),E&&(A=Math.min(E,A)),A},k.prototype.getWrapLimit=function(){return this.$wrapLimit},k.prototype.setWrapLimit=function(A){this.setWrapLimitRange(A,A)},k.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},k.prototype.$updateInternalDataOnChange=function(A){var w=this.$useWrapMode,E=A.action,_=A.start,R=A.end,M=_.row,O=R.row,N=O-M,F=null;if(this.$updating=!0,N!=0)if(E==="remove"){this[w?"$wrapData":"$rowLengthCache"].splice(M,N);var G=this.$foldData;F=this.getFoldsInRange(A),this.removeFolds(F);var z=this.getFoldLine(R.row),j=0;if(z){z.addRemoveChars(R.row,R.column,_.column-R.column),z.shiftRow(-N);var V=this.getFoldLine(M);V&&V!==z&&(V.merge(z),z=V),j=G.indexOf(z)+1}for(j;j<G.length;j++){var z=G[j];z.start.row>=R.row&&z.shiftRow(-N)}O=M}else{var Z=Array(N);Z.unshift(M,0);var X=w?this.$wrapData:this.$rowLengthCache;X.splice.apply(X,Z);var G=this.$foldData,z=this.getFoldLine(M),j=0;if(z){var Y=z.range.compareInside(_.row,_.column);Y==0?(z=z.split(_.row,_.column),z&&(z.shiftRow(N),z.addRemoveChars(O,0,R.column-_.column))):Y==-1&&(z.addRemoveChars(M,0,R.column-_.column),z.shiftRow(N)),j=G.indexOf(z)+1}for(j;j<G.length;j++){var z=G[j];z.start.row>=M&&z.shiftRow(N)}}else{N=Math.abs(A.start.column-A.end.column),E==="remove"&&(F=this.getFoldsInRange(A),this.removeFolds(F),N=-N);var z=this.getFoldLine(M);z&&z.addRemoveChars(M,_.column,N)}return w&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,w?this.$updateWrapData(M,O):this.$updateRowLengthCache(M,O),F},k.prototype.$updateRowLengthCache=function(A,w){this.$rowLengthCache[A]=null,this.$rowLengthCache[w]=null},k.prototype.$updateWrapData=function(A,w){var E=this.doc.getAllLines(),_=this.getTabSize(),R=this.$wrapData,M=this.$wrapLimit,O,N,F=A;for(w=Math.min(w,E.length-1);F<=w;)N=this.getFoldLine(F,N),N?(O=[],N.walk((function(G,z,j,V){var Z;if(G!=null){Z=this.$getDisplayTokens(G,O.length),Z[0]=b;for(var X=1;X<Z.length;X++)Z[X]=S}else Z=this.$getDisplayTokens(E[z].substring(V,j),O.length);O=O.concat(Z)}).bind(this),N.end.row,E[N.end.row].length+1),R[N.start.row]=this.$computeWrapSplits(O,M,_),F=N.end.row+1):(O=this.$getDisplayTokens(E[F]),R[F]=this.$computeWrapSplits(O,M,_),F++)},k.prototype.$computeWrapSplits=function(A,w,E){if(A.length==0)return[];var _=[],R=A.length,M=0,O=0,N=this.$wrapAsCode,F=this.$indentedSoftWrap,G=w<=Math.max(2*E,8)||F===!1?0:Math.floor(w/2);function z(){var Y=0;if(G===0)return Y;if(F)for(var Q=0;Q<A.length;Q++){var te=A[Q];if(te==L)Y+=1;else if(te==T)Y+=E;else{if(te==$)continue;break}}return N&&F!==!1&&(Y+=E),Math.min(Y,G)}function j(Y){for(var Q=Y-M,te=M;te<Y;te++){var re=A[te];(re===12||re===2)&&(Q-=1)}_.length||(V=z(),_.indent=V),O+=Q,_.push(O),M=Y}for(var V=0;R-M>w-V;){var Z=M+w-V;if(A[Z-1]>=L&&A[Z]>=L){j(Z);continue}if(A[Z]==b||A[Z]==S){for(Z;Z!=M-1&&A[Z]!=b;Z--);if(Z>M){j(Z);continue}for(Z=M+w,Z;Z<A.length&&A[Z]==S;Z++);if(Z==A.length)break;j(Z);continue}for(var X=Math.max(Z-(w-(w>>2)),M-1);Z>X&&A[Z]<b;)Z--;if(N){for(;Z>X&&A[Z]<b;)Z--;for(;Z>X&&A[Z]==I;)Z--}else for(;Z>X&&A[Z]<L;)Z--;if(Z>X){j(++Z);continue}Z=M+w,A[Z]==C&&Z--,j(Z-V)}return _},k.prototype.$getDisplayTokens=function(A,w){var E=[],_;w=w||0;for(var R=0;R<A.length;R++){var M=A.charCodeAt(R);if(M==9){_=this.getScreenTabSize(E.length+w),E.push(T);for(var O=1;O<_;O++)E.push($)}else M==32?E.push(L):M>39&&M<48||M>57&&M<64?E.push(I):M>=4352&&P(M)?E.push(x,C):E.push(x)}return E},k.prototype.$getStringScreenWidth=function(A,w,E){if(w==0)return[0,0];w==null&&(w=1/0),E=E||0;var _,R;for(R=0;R<A.length&&(_=A.charCodeAt(R),_==9?E+=this.getScreenTabSize(E):_>=4352&&P(_)?E+=2:E+=1,!(E>w));R++);return[E,R]},k.prototype.getRowLength=function(A){var w=1;return this.lineWidgets&&(w+=this.lineWidgets[A]&&this.lineWidgets[A].rowCount||0),!this.$useWrapMode||!this.$wrapData[A]?w:this.$wrapData[A].length+w},k.prototype.getRowLineCount=function(A){return!this.$useWrapMode||!this.$wrapData[A]?1:this.$wrapData[A].length+1},k.prototype.getRowWrapIndent=function(A){if(this.$useWrapMode){var w=this.screenToDocumentPosition(A,Number.MAX_VALUE),E=this.$wrapData[w.row];return E.length&&E[0]<w.column?E.indent:0}else return 0},k.prototype.getScreenLastRowColumn=function(A){var w=this.screenToDocumentPosition(A,Number.MAX_VALUE);return this.documentToScreenColumn(w.row,w.column)},k.prototype.getDocumentLastRowColumn=function(A,w){var E=this.documentToScreenRow(A,w);return this.getScreenLastRowColumn(E)},k.prototype.getDocumentLastRowColumnPosition=function(A,w){var E=this.documentToScreenRow(A,w);return this.screenToDocumentPosition(E,Number.MAX_VALUE/10)},k.prototype.getRowSplitData=function(A){if(this.$useWrapMode)return this.$wrapData[A]},k.prototype.getScreenTabSize=function(A){return this.$tabSize-(A%this.$tabSize|0)},k.prototype.screenToDocumentRow=function(A,w){return this.screenToDocumentPosition(A,w).row},k.prototype.screenToDocumentColumn=function(A,w){return this.screenToDocumentPosition(A,w).column},k.prototype.screenToDocumentPosition=function(A,w,E){if(A<0)return{row:0,column:0};var _,R=0,M=0,O,N=0,F=0,G=this.$screenRowCache,z=this.$getRowCacheIndex(G,A),j=G.length;if(j&&z>=0)var N=G[z],R=this.$docRowCache[z],V=A>G[j-1];else var V=!j;for(var Z=this.getLength()-1,X=this.getNextFoldLine(R),Y=X?X.start.row:1/0;N<=A&&(F=this.getRowLength(R),!(N+F>A||R>=Z));)N+=F,R++,R>Y&&(R=X.end.row+1,X=this.getNextFoldLine(R,X),Y=X?X.start.row:1/0),V&&(this.$docRowCache.push(R),this.$screenRowCache.push(N));if(X&&X.start.row<=R)_=this.getFoldDisplayLine(X),R=X.start.row;else{if(N+F<=A||R>Z)return{row:Z,column:this.getLine(Z).length};_=this.getLine(R),X=null}var Q=0,te=Math.floor(A-N);if(this.$useWrapMode){var re=this.$wrapData[R];re&&(O=re[te],te>0&&re.length&&(Q=re.indent,M=re[te-1]||re[re.length-1],_=_.substring(M)))}return E!==void 0&&this.$bidiHandler.isBidiRow(N+te,R,te)&&(w=this.$bidiHandler.offsetToCol(E)),M+=this.$getStringScreenWidth(_,w-Q)[1],this.$useWrapMode&&M>=O&&(M=O-1),X?X.idxToPosition(M):{row:R,column:M}},k.prototype.documentToScreenPosition=function(A,w){if(typeof w>"u")var E=this.$clipPositionToDocument(A.row,A.column);else E=this.$clipPositionToDocument(A,w);A=E.row,w=E.column;var _=0,R=null,M=null;M=this.getFoldAt(A,w,1),M&&(A=M.start.row,w=M.start.column);var O,N=0,F=this.$docRowCache,G=this.$getRowCacheIndex(F,A),z=F.length;if(z&&G>=0)var N=F[G],_=this.$screenRowCache[G],j=A>F[z-1];else var j=!z;for(var V=this.getNextFoldLine(N),Z=V?V.start.row:1/0;N<A;){if(N>=Z){if(O=V.end.row+1,O>A)break;V=this.getNextFoldLine(O,V),Z=V?V.start.row:1/0}else O=N+1;_+=this.getRowLength(N),N=O,j&&(this.$docRowCache.push(N),this.$screenRowCache.push(_))}var X="";V&&N>=Z?(X=this.getFoldDisplayLine(V,A,w),R=V.start.row):(X=this.getLine(A).substring(0,w),R=A);var Y=0;if(this.$useWrapMode){var Q=this.$wrapData[R];if(Q){for(var te=0;X.length>=Q[te];)_++,te++;X=X.substring(Q[te-1]||0,X.length),Y=te>0?Q.indent:0}}return this.lineWidgets&&this.lineWidgets[N]&&this.lineWidgets[N].rowsAbove&&(_+=this.lineWidgets[N].rowsAbove),{row:_,column:Y+this.$getStringScreenWidth(X)[0]}},k.prototype.documentToScreenColumn=function(A,w){return this.documentToScreenPosition(A,w).column},k.prototype.documentToScreenRow=function(A,w){return this.documentToScreenPosition(A,w).row},k.prototype.getScreenLength=function(){var A=0,w=null;if(this.$useWrapMode)for(var R=this.$wrapData.length,M=0,_=0,w=this.$foldData[_++],O=w?w.start.row:1/0;M<R;){var N=this.$wrapData[M];A+=N?N.length+1:1,M++,M>O&&(M=w.end.row+1,w=this.$foldData[_++],O=w?w.start.row:1/0)}else{A=this.getLength();for(var E=this.$foldData,_=0;_<E.length;_++)w=E[_],A-=w.end.row-w.start.row}return this.lineWidgets&&(A+=this.$getWidgetScreenLength()),A},k.prototype.$setFontMetrics=function(A){this.$enableVarChar&&(this.$getStringScreenWidth=function(w,E,_){if(E===0)return[0,0];E||(E=1/0),_=_||0;var R,M;for(M=0;M<w.length&&(R=w.charAt(M),R==="	"?_+=this.getScreenTabSize(_):_+=A.getCharacterWidth(R),!(_>E));M++);return[_,M]})},k.prototype.getPrecedingCharacter=function(){var A=this.selection.getCursor();if(A.column===0)return A.row===0?"":this.doc.getNewLineCharacter();var w=this.getLine(A.row);return w[A.column-1]},k.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection&&(this.selection.off("changeCursor",this.$onSelectionChange),this.selection.off("changeSelection",this.$onSelectionChange)),this.selection.detach()},k}();y.$uid=0,y.prototype.$modes=a.$modes,y.prototype.getValue=y.prototype.toString,y.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},y.prototype.$overwrite=!1,y.prototype.$mode=null,y.prototype.$modeId=null,y.prototype.$scrollTop=0,y.prototype.$scrollLeft=0,y.prototype.$wrapLimit=80,y.prototype.$useWrapMode=!1,y.prototype.$wrapLimitRange={min:null,max:null},y.prototype.lineWidgets=null,y.prototype.isFullWidth=P,s.implement(y.prototype,d);var x=1,C=2,b=3,S=4,I=9,L=10,T=11,$=12;function P(k){return k<4352?!1:k>=4352&&k<=4447||k>=4515&&k<=4519||k>=4602&&k<=4607||k>=9001&&k<=9002||k>=11904&&k<=11929||k>=11931&&k<=12019||k>=12032&&k<=12245||k>=12272&&k<=12283||k>=12288&&k<=12350||k>=12353&&k<=12438||k>=12441&&k<=12543||k>=12549&&k<=12589||k>=12593&&k<=12686||k>=12688&&k<=12730||k>=12736&&k<=12771||k>=12784&&k<=12830||k>=12832&&k<=12871||k>=12880&&k<=13054||k>=13056&&k<=19903||k>=19968&&k<=42124||k>=42128&&k<=42182||k>=43360&&k<=43388||k>=44032&&k<=55203||k>=55216&&k<=55238||k>=55243&&k<=55291||k>=63744&&k<=64255||k>=65040&&k<=65049||k>=65072&&k<=65106||k>=65108&&k<=65126||k>=65128&&k<=65131||k>=65281&&k<=65376||k>=65504&&k<=65510}n("./edit_session/folding").Folding.call(y.prototype),n("./edit_session/bracket_match").BracketMatch.call(y.prototype),a.defineOptions(y.prototype,"session",{wrap:{set:function(k){if(!k||k=="off"?k=!1:k=="free"?k=!0:k=="printMargin"?k=-1:typeof k=="string"&&(k=parseInt(k,10)||!1),this.$wrap!=k)if(this.$wrap=k,!k)this.setUseWrapMode(!1);else{var A=typeof k=="number"?k:null;this.setWrapLimitRange(A,A),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(k){k=k=="auto"?this.$mode.type!="text":k!="text",k!=this.$wrapAsCode&&(this.$wrapAsCode=k,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(k){this.$useWorker=k,this.$stopWorker(),k&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(k){k=parseInt(k),k>0&&this.$tabSize!==k&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=k,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(k){this.setFoldStyle(k)},handlesSet:!0},overwrite:{set:function(k){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(k){this.doc.setNewLineMode(k)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(k){this.setMode(k)},get:function(){return this.$modeId},handlesSet:!0}}),r.EditSession=y}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(n,r,i){var s=n("./lib/lang"),o=n("./lib/oop"),c=n("./range").Range,a=function(){function h(){this.$options={}}return h.prototype.set=function(p){return o.mixin(this.$options,p),this},h.prototype.getOptions=function(){return s.copyObject(this.$options)},h.prototype.setOptions=function(p){this.$options=p},h.prototype.find=function(p){var f=this.$options,g=this.$matchIterator(p,f);if(!g)return!1;var m=null;return g.forEach(function(v,y,x,C){return m=new c(v,y,x,C),y==C&&f.start&&f.start.start&&f.skipCurrent!=!1&&m.isEqual(f.start)?(m=null,!1):!0}),m},h.prototype.findAll=function(p){var f=this.$options;if(!f.needle)return[];this.$assembleRegExp(f);var g=f.range,m=g?p.getLines(g.start.row,g.end.row):p.doc.getAllLines(),v=[],y=f.re;if(f.$isMultiLine){var x=y.length,C=m.length-x,b;e:for(var S=y.offset||0;S<=C;S++){for(var I=0;I<x;I++)if(m[S+I].search(y[I])==-1)continue e;var L=m[S],T=m[S+x-1],$=L.length-L.match(y[0])[0].length,P=T.match(y[x-1])[0].length;b&&b.end.row===S&&b.end.column>$||(v.push(b=new c(S,$,S+x-1,P)),x>2&&(S=S+x-2))}}else for(var k,A=0;A<m.length;A++)if(this.$isMultilineSearch(f)){var w=m.length-1;if(k=this.$multiLineForward(p,y,A,w),k){var E=k.endRow<=w?k.endRow-1:w;E>A&&(A=E),v.push(new c(k.startRow,k.startCol,k.endRow,k.endCol))}}else{k=s.getMatchOffsets(m[A],y);for(var I=0;I<k.length;I++){var _=k[I];v.push(new c(A,_.offset,A,_.offset+_.length))}}if(g){for(var R=g.start.column,M=g.end.column,A=0,I=v.length-1;A<I&&v[A].start.column<R&&v[A].start.row==0;)A++;for(var O=g.end.row-g.start.row;A<I&&v[I].end.column>M&&v[I].end.row==O;)I--;for(v=v.slice(A,I+1),A=0,I=v.length;A<I;A++)v[A].start.row+=g.start.row,v[A].end.row+=g.start.row}return v},h.prototype.parseReplaceString=function(p){for(var f={DollarSign:36,Ampersand:38,Digit0:48,Digit1:49,Digit9:57,Backslash:92,n:110,t:116},g="",m=0,v=p.length;m<v;m++){var y=p.charCodeAt(m);if(y===f.Backslash){if(m++,m>=v){g+="\\";break}var x=p.charCodeAt(m);switch(x){case f.Backslash:g+="\\";break;case f.n:g+=`
`;break;case f.t:g+="	";break}continue}if(y===f.DollarSign){if(m++,m>=v){g+="$";break}var C=p.charCodeAt(m);if(C===f.DollarSign){g+="$$";continue}if(C===f.Digit0||C===f.Ampersand){g+="$&";continue}if(f.Digit1<=C&&C<=f.Digit9){g+="$"+p[m];continue}}g+=p[m]}return g||p},h.prototype.replace=function(p,f){var g=this.$options,m=this.$assembleRegExp(g);if(g.$isMultiLine)return f;if(m){var v=this.$isMultilineSearch(g);v&&(p=p.replace(/\r\n|\r|\n/g,`
`));var y=m.exec(p);if(!y||!v&&y[0].length!=p.length)return null;if(f=g.regExp?this.parseReplaceString(f):f.replace(/\$/g,"$$$$"),f=p.replace(m,f),g.preserveCase){f=f.split("");for(var x=Math.min(p.length,p.length);x--;){var C=p[x];C&&C.toLowerCase()!=C?f[x]=f[x].toUpperCase():f[x]=f[x].toLowerCase()}f=f.join("")}return f}},h.prototype.$assembleRegExp=function(p,f){if(p.needle instanceof RegExp)return p.re=p.needle;var g=p.needle;if(!p.needle)return p.re=!1;p.regExp||(g=s.escapeRegExp(g));var m=p.caseSensitive?"gm":"gmi";try{new RegExp(g,"u"),p.$supportsUnicodeFlag=!0,m+="u"}catch{p.$supportsUnicodeFlag=!1}if(p.wholeWord&&(g=d(g,p)),p.$isMultiLine=!f&&/[\n\r]/.test(g),p.$isMultiLine)return p.re=this.$assembleMultilineRegExp(g,m);try{var v=new RegExp(g,m)}catch{v=!1}return p.re=v},h.prototype.$assembleMultilineRegExp=function(p,f){for(var g=p.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),m=[],v=0;v<g.length;v++)try{m.push(new RegExp(g[v],f))}catch{return!1}return m},h.prototype.$isMultilineSearch=function(p){return p.re&&/\\r\\n|\\r|\\n/.test(p.re.source)&&p.regExp&&!p.$isMultiLine},h.prototype.$multiLineForward=function(p,f,g,m){for(var v,y=u(p,g),x=g;x<=m;){for(var C=0;C<y&&!(x>m);C++){var b=p.getLine(x++);v=v==null?b:v+`
`+b}var S=f.exec(v);if(f.lastIndex=0,S){var I=v.slice(0,S.index).split(`
`),L=S[0].split(`
`),T=g+I.length-1,$=I[I.length-1].length,P=T+L.length-1,k=L.length==1?$+L[0].length:L[L.length-1].length;return{startRow:T,startCol:$,endRow:P,endCol:k}}}return null},h.prototype.$multiLineBackward=function(p,f,g,m,v){for(var y,x=u(p,m),C=p.getLine(m).length-g,b=m;b>=v;){for(var S=0;S<x&&b>=v;S++){var I=p.getLine(b--);y=y==null?I:I+`
`+y}var L=l(y,f,C);if(L){var T=y.slice(0,L.index).split(`
`),$=L[0].split(`
`),P=b+T.length,k=T[T.length-1].length,A=P+$.length-1,w=$.length==1?k+$[0].length:$[$.length-1].length;return{startRow:P,startCol:k,endRow:A,endCol:w}}}return null},h.prototype.$matchIterator=function(p,f){var g=this.$assembleRegExp(f);if(!g)return!1;var m=this.$isMultilineSearch(f),v=this.$multiLineForward,y=this.$multiLineBackward,x=f.backwards==!0,C=f.skipCurrent!=!1,b=g.unicode,S=f.range,I=f.start;I||(I=S?S[x?"end":"start"]:p.selection.getRange()),I.start&&(I=I[C!=x?"end":"start"]);var L=S?S.start.row:0,T=S?S.end.row:p.getLength()-1;if(x)var $=function(A){var w=I.row;if(!k(w,I.column,A)){for(w--;w>=L;w--)if(k(w,Number.MAX_VALUE,A))return;if(f.wrap!=!1){for(w=T,L=I.row;w>=L;w--)if(k(w,Number.MAX_VALUE,A))return}}};else var $=function(w){var E=I.row;if(!k(E,I.column,w)){for(E=E+1;E<=T;E++)if(k(E,0,w))return;if(f.wrap!=!1){for(E=L,T=I.row;E<=T;E++)if(k(E,0,w))return}}};if(f.$isMultiLine)var P=g.length,k=function(A,w,E){var _=x?A-P+1:A;if(!(_<0||_+P>p.getLength())){var R=p.getLine(_),M=R.search(g[0]);if(!(!x&&M<w||M===-1)){for(var O=1;O<P;O++)if(R=p.getLine(_+O),R.search(g[O])==-1)return;var N=R.match(g[P-1])[0].length;if(!(x&&N>w)&&E(_,M,_+P-1,N))return!0}}};else if(x)var k=function(w,E,_){if(m){var R=y(p,g,E,w,L);if(!R)return!1;if(_(R.startRow,R.startCol,R.endRow,R.endCol))return!0}else{var M=p.getLine(w),O=[],N,F=0;for(g.lastIndex=0;N=g.exec(M);){var G=N[0].length;if(F=N.index,!G){if(F>=M.length)break;g.lastIndex=F+=s.skipEmptyMatch(M,F,b)}if(N.index+G>E)break;O.push(N.index,G)}for(var z=O.length-1;z>=0;z-=2){var j=O[z-1],G=O[z];if(_(w,j,w,j+G))return!0}}};else var k=function(w,E,_){if(g.lastIndex=E,m){var R=v(p,g,w,T);if(R){var M=R.endRow<=T?R.endRow-1:T;M>w&&(w=M)}if(!R)return!1;if(_(R.startRow,R.startCol,R.endRow,R.endCol))return!0}else for(var O=p.getLine(w),N,F;F=g.exec(O);){var G=F[0].length;if(N=F.index,_(w,N,w,N+G))return!0;if(!G&&(g.lastIndex=N+=s.skipEmptyMatch(O,N,b),N>=O.length))return!1}};return{forEach:$}},h}();function d(h,p){var f=s.supportsLookbehind();function g(x,C){C===void 0&&(C=!0);var b=f&&p.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return b.test(x)||p.regExp?f&&p.$supportsUnicodeFlag?C?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var m=Array.from(h),v=m[0],y=m[m.length-1];return g(v)+h+g(y,!1)}function l(h,p,f){for(var g=null,m=0;m<=h.length;){p.lastIndex=m;var v=p.exec(h);if(!v)break;var y=v.index+v[0].length;if(y>h.length-f)break;(!g||y>g.index+g[0].length)&&(g=v),m=v.index+1}return g}function u(h,p){var f=5e3,g={row:p,column:0},m=h.doc.positionToIndex(g),v=m+f,y=h.doc.indexToPosition(v),x=y.row;return x+1}r.Search=a}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,r,i){var s=this&&this.__extends||function(){var h=function(p,f){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(g[v]=m[v])},h(p,f)};return function(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");h(p,f);function g(){this.constructor=p}p.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}}(),o=n("../lib/keys"),c=n("../lib/useragent"),a=o.KEY_MODS,d=function(){function h(p,f){this.$init(p,f,!1)}return h.prototype.$init=function(p,f,g){this.platform=f||(c.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(p),this.$singleCommand=g},h.prototype.addCommand=function(p){this.commands[p.name]&&this.removeCommand(p),this.commands[p.name]=p,p.bindKey&&this._buildKeyHash(p)},h.prototype.removeCommand=function(p,f){var g=p&&(typeof p=="string"?p:p.name);p=this.commands[g],f||delete this.commands[g];var m=this.commandKeyBinding;for(var v in m){var y=m[v];if(y==p)delete m[v];else if(Array.isArray(y)){var x=y.indexOf(p);x!=-1&&(y.splice(x,1),y.length==1&&(m[v]=y[0]))}}},h.prototype.bindKey=function(p,f,g){if(typeof p=="object"&&p&&(g==null&&(g=p.position),p=p[this.platform]),!!p){if(typeof f=="function")return this.addCommand({exec:f,bindKey:p,name:f.name||p});p.split("|").forEach(function(m){var v="";if(m.indexOf(" ")!=-1){var y=m.split(/\s+/);m=y.pop(),y.forEach(function(b){var S=this.parseKeys(b),I=a[S.hashId]+S.key;v+=(v?" ":"")+I,this._addCommandToBinding(v,"chainKeys")},this),v+=" "}var x=this.parseKeys(m),C=a[x.hashId]+x.key;this._addCommandToBinding(v+C,f,g)},this)}},h.prototype._addCommandToBinding=function(p,f,g){var m=this.commandKeyBinding,v;if(!f)delete m[p];else if(!m[p]||this.$singleCommand)m[p]=f;else{Array.isArray(m[p])?(v=m[p].indexOf(f))!=-1&&m[p].splice(v,1):m[p]=[m[p]],typeof g!="number"&&(g=l(f));var y=m[p];for(v=0;v<y.length;v++){var x=y[v],C=l(x);if(C>g)break}y.splice(v,0,f)}},h.prototype.addCommands=function(p){p&&Object.keys(p).forEach(function(f){var g=p[f];if(g){if(typeof g=="string")return this.bindKey(g,f);typeof g=="function"&&(g={exec:g}),typeof g=="object"&&(g.name||(g.name=f),this.addCommand(g))}},this)},h.prototype.removeCommands=function(p){Object.keys(p).forEach(function(f){this.removeCommand(p[f])},this)},h.prototype.bindKeys=function(p){Object.keys(p).forEach(function(f){this.bindKey(f,p[f])},this)},h.prototype._buildKeyHash=function(p){this.bindKey(p.bindKey,p)},h.prototype.parseKeys=function(p){var f=p.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(C){return C}),g=f.pop(),m=o[g];if(o.FUNCTION_KEYS[m])g=o.FUNCTION_KEYS[m].toLowerCase();else if(f.length){if(f.length==1&&f[0]=="shift")return{key:g.toUpperCase(),hashId:-1}}else return{key:g,hashId:-1};for(var v=0,y=f.length;y--;){var x=o.KEY_MODS[f[y]];if(x==null)return typeof console<"u"&&console.error("invalid modifier "+f[y]+" in "+p),!1;v|=x}return{key:g,hashId:v}},h.prototype.findKeyCommand=function(p,f){var g=a[p]+f;return this.commandKeyBinding[g]},h.prototype.handleKeyboard=function(p,f,g,m){if(!(m<0)){var v=a[f]+g,y=this.commandKeyBinding[v];return p.$keyChain&&(p.$keyChain+=" "+v,y=this.commandKeyBinding[p.$keyChain]||y),y&&(y=="chainKeys"||y[y.length-1]=="chainKeys")?(p.$keyChain=p.$keyChain||v,{command:"null"}):(p.$keyChain&&((!f||f==4)&&g.length==1?p.$keyChain=p.$keyChain.slice(0,-v.length-1):(f==-1||m>0)&&(p.$keyChain="")),{command:y})}},h.prototype.getStatusText=function(p,f){return f.$keyChain||""},h}();function l(h){return typeof h=="object"&&h.bindKey&&h.bindKey.position||(h.isDefault?-100:0)}var u=function(h){s(p,h);function p(f,g){var m=h.call(this,f,g)||this;return m.$singleCommand=!0,m}return p}(d);u.call=function(h,p,f){d.prototype.$init.call(h,p,f,!0)},d.call=function(h,p,f){d.prototype.$init.call(h,p,f,!1)},r.HashHandler=u,r.MultiHashHandler=d}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(n,r,i){var s=this&&this.__extends||function(){var l=function(u,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(p[g]=f[g])},l(u,h)};return function(u,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");l(u,h);function p(){this.constructor=u}u.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}(),o=n("../lib/oop"),c=n("../keyboard/hash_handler").MultiHashHandler,a=n("../lib/event_emitter").EventEmitter,d=function(l){s(u,l);function u(h,p){var f=l.call(this,p,h)||this;return f.byName=f.commands,f.setDefaultHandler("exec",function(g){return g.args?g.command.exec(g.editor,g.args,g.event,!1):g.command.exec(g.editor,{},g.event,!0)}),f}return u.prototype.exec=function(h,p,f){if(Array.isArray(h)){for(var g=h.length;g--;)if(this.exec(h[g],p,f))return!0;return!1}typeof h=="string"&&(h=this.commands[h]);var m={editor:p,command:h,args:f};return this.canExecute(h,p)?(m.returnValue=this._emit("exec",m),this._signal("afterExec",m),m.returnValue!==!1):(this._signal("commandUnavailable",m),!1)},u.prototype.canExecute=function(h,p){return typeof h=="string"&&(h=this.commands[h]),!(!h||p&&p.$readOnly&&!h.readOnly||this.$checkCommandState!=!1&&h.isAvailable&&!h.isAvailable(p))},u.prototype.toggleRecording=function(h){if(!this.$inReplay)return h&&h._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(p){this.macro.push([p.command,p.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},u.prototype.replay=function(h){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(h);try{this.$inReplay=!0,this.macro.forEach(function(p){typeof p=="string"?this.exec(p,h):this.exec(p[0],h,p[1])},this)}finally{this.$inReplay=!1}}},u.prototype.trimMacro=function(h){return h.map(function(p){return typeof p[0]!="string"&&(p[0]=p[0].name),p[1]||(p=p[0]),p})},u}(c);o.implement(d.prototype,a),r.CommandManager=d}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(n,r,i){var s=n("../lib/lang"),o=n("../config"),c=n("../range").Range;function a(l,u){return{win:l,mac:u}}r.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:a("Ctrl-,","Command-,"),exec:function(l){o.loadModule("ace/ext/settings_menu",function(u){u.init(l),l.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:a("Alt-E","F4"),exec:function(l){o.loadModule("ace/ext/error_marker",function(u){u.showErrorMarker(l,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:a("Alt-Shift-E","Shift-F4"),exec:function(l){o.loadModule("ace/ext/error_marker",function(u){u.showErrorMarker(l,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:a("Ctrl-A","Command-A"),exec:function(l){l.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:a(null,"Ctrl-L"),exec:function(l){l.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:a("Ctrl-L","Command-L"),exec:function(l,u){typeof u=="number"&&!isNaN(u)&&l.gotoLine(u),l.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:a("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(l){l.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:a("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(l){l.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:a("F2","F2"),exec:function(l){l.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:a("Alt-F2","Alt-F2"),exec:function(l){l.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(l){l.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(l){l.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:a("Alt-0","Command-Option-0"),exec:function(l){l.session.foldAll(),l.session.unfold(l.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:a("Alt-Shift-0","Command-Option-Shift-0"),exec:function(l){l.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:a("Ctrl-K","Command-G"),exec:function(l){l.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:a("Ctrl-Shift-K","Command-Shift-G"),exec:function(l){l.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:a("Alt-K","Ctrl-G"),exec:function(l){l.selection.isEmpty()?l.selection.selectWord():l.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:a("Alt-Shift-K","Ctrl-Shift-G"),exec:function(l){l.selection.isEmpty()?l.selection.selectWord():l.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:a("Ctrl-F","Command-F"),exec:function(l){o.loadModule("ace/ext/searchbox",function(u){u.Search(l)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(l){l.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:a("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(l){l.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:a("Ctrl-Home","Command-Home|Command-Up"),exec:function(l){l.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:a("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(l){l.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:a("Up","Up|Ctrl-P"),exec:function(l,u){l.navigateUp(u.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:a("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(l){l.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:a("Ctrl-End","Command-End|Command-Down"),exec:function(l){l.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:a("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(l){l.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:a("Down","Down|Ctrl-N"),exec:function(l,u){l.navigateDown(u.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:a("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(l){l.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:a("Ctrl-Left","Option-Left"),exec:function(l){l.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:a("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(l){l.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:a("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(l){l.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:a("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(l){l.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:a("Left","Left|Ctrl-B"),exec:function(l,u){l.navigateLeft(u.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:a("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(l){l.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:a("Ctrl-Right","Option-Right"),exec:function(l){l.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:a("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(l){l.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:a("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(l){l.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:a("Shift-Right","Shift-Right"),exec:function(l){l.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:a("Right","Right|Ctrl-F"),exec:function(l,u){l.navigateRight(u.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(l){l.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:a(null,"Option-PageDown"),exec:function(l){l.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:a("PageDown","PageDown|Ctrl-V"),exec:function(l){l.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(l){l.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:a(null,"Option-PageUp"),exec:function(l){l.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(l){l.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:a("Ctrl-Up",null),exec:function(l){l.renderer.scrollBy(0,-2*l.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:a("Ctrl-Down",null),exec:function(l){l.renderer.scrollBy(0,2*l.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(l){l.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(l){l.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:a("Ctrl-Alt-E","Command-Option-E"),exec:function(l){l.commands.toggleRecording(l)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:a("Ctrl-Shift-E","Command-Shift-E"),exec:function(l){l.commands.replay(l)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:a("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(l){l.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:a("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(l){l.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:a("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(l){l.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:a(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(l){},readOnly:!0},{name:"cut",description:"Cut",exec:function(l){var u=l.$copyWithEmptySelection&&l.selection.isEmpty(),h=u?l.selection.getLineRange():l.selection.getRange();l._emit("cut",h),h.isEmpty()||l.session.remove(h),l.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(l,u){l.$handlePaste(u)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:a("Ctrl-D","Command-D"),exec:function(l){l.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:a("Ctrl-Shift-D","Command-Shift-D"),exec:function(l){l.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:a("Ctrl-Alt-S","Command-Alt-S"),exec:function(l){l.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:a("Ctrl-/","Command-/"),exec:function(l){l.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:a("Ctrl-Shift-/","Command-Shift-/"),exec:function(l){l.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:a("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(l){l.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:a("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(l){l.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:a("Ctrl-H","Command-Option-F"),exec:function(l){o.loadModule("ace/ext/searchbox",function(u){u.Search(l,!0)})}},{name:"undo",description:"Undo",bindKey:a("Ctrl-Z","Command-Z"),exec:function(l){l.undo()}},{name:"redo",description:"Redo",bindKey:a("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(l){l.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:a("Alt-Shift-Up","Command-Option-Up"),exec:function(l){l.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:a("Alt-Up","Option-Up"),exec:function(l){l.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:a("Alt-Shift-Down","Command-Option-Down"),exec:function(l){l.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:a("Alt-Down","Option-Down"),exec:function(l){l.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:a("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(l){l.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:a("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(l){l.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:a("Shift-Delete",null),exec:function(l){if(l.selection.isEmpty())l.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:a("Alt-Backspace","Command-Backspace"),exec:function(l){l.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:a("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(l){l.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:a("Ctrl-Shift-Backspace",null),exec:function(l){var u=l.selection.getRange();u.start.column=0,l.session.remove(u)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:a("Ctrl-Shift-Delete",null),exec:function(l){var u=l.selection.getRange();u.end.column=Number.MAX_VALUE,l.session.remove(u)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:a("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(l){l.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:a("Ctrl-Delete","Alt-Delete"),exec:function(l){l.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:a("Shift-Tab","Shift-Tab"),exec:function(l){l.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:a("Tab","Tab"),exec:function(l){l.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:a("Ctrl-[","Ctrl-["),exec:function(l){l.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:a("Ctrl-]","Ctrl-]"),exec:function(l){l.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(l,u){l.insert(u)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(l,u){l.insert(s.stringRepeat(u.text||"",u.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:a(null,"Ctrl-O"),exec:function(l){l.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:a("Alt-Shift-X","Ctrl-T"),exec:function(l){l.transposeLetters()},multiSelectAction:function(l){l.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:a("Ctrl-U","Ctrl-U"),exec:function(l){l.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:a("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(l){l.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:a(null,null),exec:function(l){l.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:a("Ctrl-Shift-L","Command-Shift-L"),exec:function(l){var u=l.selection.getRange();u.start.column=u.end.column=0,u.end.row++,l.selection.setRange(u,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:a("Ctrl+F3","F3"),exec:function(l){l.openLink()}},{name:"joinlines",description:"Join lines",bindKey:a(null,null),exec:function(l){for(var u=l.selection.isBackwards(),h=u?l.selection.getSelectionLead():l.selection.getSelectionAnchor(),p=u?l.selection.getSelectionAnchor():l.selection.getSelectionLead(),f=l.session.doc.getLine(h.row).length,g=l.session.doc.getTextRange(l.selection.getRange()),m=g.replace(/\n\s*/," ").length,v=l.session.doc.getLine(h.row),y=h.row+1;y<=p.row+1;y++){var x=s.stringTrimLeft(s.stringTrimRight(l.session.doc.getLine(y)));x.length!==0&&(x=" "+x),v+=x}p.row+1<l.session.doc.getLength()-1&&(v+=l.session.doc.getNewLineCharacter()),l.clearSelection(),l.session.doc.replace(new c(h.row,0,p.row+2,0),v),m>0?(l.selection.moveCursorTo(h.row,h.column),l.selection.selectTo(h.row,h.column+m)):(f=l.session.doc.getLine(h.row).length>f?f+1:f,l.selection.moveCursorTo(h.row,f))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:a(null,null),exec:function(l){var u=l.session.doc.getLength()-1,h=l.session.doc.getLine(u).length,p=l.selection.rangeList.ranges,f=[];p.length<1&&(p=[l.selection.getRange()]);for(var g=0;g<p.length;g++)g==p.length-1&&(p[g].end.row===u&&p[g].end.column===h||f.push(new c(p[g].end.row,p[g].end.column,u,h))),g===0?p[g].start.row===0&&p[g].start.column===0||f.push(new c(0,0,p[g].start.row,p[g].start.column)):f.push(new c(p[g-1].end.row,p[g-1].end.column,p[g].start.row,p[g].start.column));l.exitMultiSelectMode(),l.clearSelection();for(var g=0;g<f.length;g++)l.selection.addRange(f[g],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(l){l.selection.clearSelection(),l.navigateLineEnd(),l.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(l){l.selection.clearSelection();var u=l.getCursorPosition();l.selection.moveTo(u.row-1,Number.MAX_VALUE),l.insert(`
`),u.row===0&&l.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(l){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),l.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:a("F1","F1"),exec:function(l){l.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:a(null,null),exec:function(l){l.prompt({$type:"modes"})},readOnly:!0}];for(var d=1;d<9;d++)r.commands.push({name:"foldToLevel"+d,description:"Fold To Level "+d,level:d,exec:function(l){l.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(n,r,i){var s=n("../lib/keys"),o=n("../mouse/default_gutter_handler").GutterTooltip,c=function(){function d(l){this.editor=l,this.gutterLayer=l.renderer.$gutterLayer,this.element=l.renderer.$gutter,this.lines=l.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new o(this.editor)}return d.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},d.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},d.prototype.$onGutterKeyDown=function(l){if(this.annotationTooltip.isOpen){l.preventDefault(),l.keyCode===s.escape&&this.annotationTooltip.hideTooltip();return}if(l.target===this.element){if(l.keyCode!=s.enter)return;l.preventDefault();var u=this.editor.getCursorPosition().row;this.editor.isRowVisible(u)||this.editor.scrollToLine(u,!0,!0),setTimeout((function(){var h=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),p=this.$findNearestFoldLaneWidget(h),f=this.$findNearestAnnotation(h);if(!(p===null&&f===null)){var g=this.$findClosestNumber(p,f,h);if(g===p)if(this.activeLane="fold",this.activeRowIndex=p,this.$isCustomWidgetVisible(p)){this.$focusCustomWidget(this.activeRowIndex);return}else{this.$focusFoldWidget(this.activeRowIndex);return}else{this.activeRowIndex=f,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(l),setTimeout((function(){this.editor._signal("gutterkeydown",new a(l,this))}).bind(this),10)},d.prototype.$handleGutterKeyboardInteraction=function(l){if(l.keyCode===s.tab){l.preventDefault();return}if(l.keyCode===s.escape){l.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(l.keyCode===s.up){switch(l.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(l.keyCode===s.down){switch(l.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(l.keyCode===s.left){l.preventDefault(),this.$switchLane("annotation");return}if(l.keyCode===s.right){l.preventDefault(),this.$switchLane("fold");return}if(l.keyCode===s.enter||l.keyCode===s.space){switch(l.preventDefault(),this.activeLane){case"fold":var u=this.$rowIndexToRow(this.activeRowIndex),h=this.editor.session.$gutterCustomWidgets[u];if(h)h.callbacks&&h.callbacks.onClick&&h.callbacks.onClick(l,u);else if(this.gutterLayer.session.foldWidgets[u]==="start"){this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),l),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==u&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(u),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var p=this.lines.cells[this.activeRowIndex].element.childNodes[2],f=p.getBoundingClientRect(),g=this.annotationTooltip.getElement().style;g.left=f.right+"px",g.top=f.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},d.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},d.prototype.$isFoldWidgetVisible=function(l){var u=this.editor.isRowFullyVisible(this.$rowIndexToRow(l)),h=this.$getFoldWidget(l).style.display!=="none";return u&&h},d.prototype.$isCustomWidgetVisible=function(l){var u=this.editor.isRowFullyVisible(this.$rowIndexToRow(l)),h=!!this.$getCustomWidget(l);return u&&h},d.prototype.$isAnnotationVisible=function(l){var u=this.editor.isRowFullyVisible(this.$rowIndexToRow(l)),h=this.$getAnnotation(l).style.display!=="none";return u&&h},d.prototype.$getFoldWidget=function(l){var u=this.lines.get(l),h=u.element;return h.childNodes[1]},d.prototype.$getCustomWidget=function(l){var u=this.lines.get(l),h=u.element;return h.childNodes[3]},d.prototype.$getAnnotation=function(l){var u=this.lines.get(l),h=u.element;return h.childNodes[2]},d.prototype.$findNearestFoldLaneWidget=function(l){if(this.$isCustomWidgetVisible(l)||this.$isFoldWidgetVisible(l))return l;for(var u=0;l-u>0||l+u<this.lines.getLength()-1;){if(u++,l-u>=0&&this.$isCustomWidgetVisible(l-u))return l-u;if(l+u<=this.lines.getLength()-1&&this.$isCustomWidgetVisible(l+u))return l+u;if(l-u>=0&&this.$isFoldWidgetVisible(l-u))return l-u;if(l+u<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(l+u))return l+u}return null},d.prototype.$findNearestAnnotation=function(l){if(this.$isAnnotationVisible(l))return l;for(var u=0;l-u>0||l+u<this.lines.getLength()-1;){if(u++,l-u>=0&&this.$isAnnotationVisible(l-u))return l-u;if(l+u<=this.lines.getLength()-1&&this.$isAnnotationVisible(l+u))return l+u}return null},d.prototype.$focusFoldWidget=function(l){if(l!=null){var u=this.$getFoldWidget(l);u.classList.add(this.editor.renderer.keyboardFocusClassName),u.focus()}},d.prototype.$focusCustomWidget=function(l){if(l!=null){var u=this.$getCustomWidget(l);u&&(u.classList.add(this.editor.renderer.keyboardFocusClassName),u.focus())}},d.prototype.$focusAnnotation=function(l){if(l!=null){var u=this.$getAnnotation(l);u.classList.add(this.editor.renderer.keyboardFocusClassName),u.focus()}},d.prototype.$blurFoldWidget=function(l){var u=this.$getFoldWidget(l);u.classList.remove(this.editor.renderer.keyboardFocusClassName),u.blur()},d.prototype.$blurCustomWidget=function(l){var u=this.$getCustomWidget(l);u&&(u.classList.remove(this.editor.renderer.keyboardFocusClassName),u.blur())},d.prototype.$blurAnnotation=function(l){var u=this.$getAnnotation(l);u.classList.remove(this.editor.renderer.keyboardFocusClassName),u.blur()},d.prototype.$moveFoldWidgetUp=function(){for(var l=this.activeRowIndex;l>0;)if(l--,this.$isFoldWidgetVisible(l)||this.$isCustomWidgetVisible(l)){this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=l,this.$isFoldWidgetVisible(l)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex);return}},d.prototype.$moveFoldWidgetDown=function(){for(var l=this.activeRowIndex;l<this.lines.getLength()-1;)if(l++,this.$isFoldWidgetVisible(l)||this.$isCustomWidgetVisible(l)){this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=l,this.$isFoldWidgetVisible(l)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex);return}},d.prototype.$moveAnnotationUp=function(){for(var l=this.activeRowIndex;l>0;)if(l--,this.$isAnnotationVisible(l)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=l,this.$focusAnnotation(this.activeRowIndex);return}},d.prototype.$moveAnnotationDown=function(){for(var l=this.activeRowIndex;l<this.lines.getLength()-1;)if(l++,this.$isAnnotationVisible(l)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=l,this.$focusAnnotation(this.activeRowIndex);return}},d.prototype.$findClosestNumber=function(l,u,h){return l===null?u:u===null||Math.abs(h-l)<=Math.abs(h-u)?l:u},d.prototype.$switchLane=function(l){switch(l){case"annotation":if(this.activeLane==="annotation")break;var u=this.$findNearestAnnotation(this.activeRowIndex);if(u==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=u,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var h=this.$findNearestFoldLaneWidget(this.activeRowIndex);if(h===null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=h,this.$isCustomWidgetVisible(h)?this.$focusCustomWidget(this.activeRowIndex):this.$focusFoldWidget(this.activeRowIndex);break}},d.prototype.$rowIndexToRow=function(l){var u=this.lines.get(l);return u?u.row:null},d.prototype.$rowToRowIndex=function(l){for(var u=0;u<this.lines.getLength();u++){var h=this.lines.get(u);if(h.row==l)return u}return null},d}();r.GutterKeyboardHandler=c;var a=function(){function d(l,u){this.gutterKeyboardHandler=u,this.domEvent=l}return d.prototype.getKey=function(){return s.keyCodeToString(this.domEvent.keyCode)},d.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},d.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},d.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},d}();r.GutterKeyboardEvent=a}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys","ace/lib/event","ace/tooltip"],function(n,r,i){var s=this&&this.__values||function(w){var E=typeof Symbol=="function"&&Symbol.iterator,_=E&&w[E],R=0;if(_)return _.call(w);if(w&&typeof w.length=="number")return{next:function(){return w&&R>=w.length&&(w=void 0),{value:w&&w[R++],done:!w}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")},o=n("./lib/oop"),c=n("./lib/dom"),a=n("./lib/lang"),d=n("./lib/useragent"),l=n("./keyboard/textinput").TextInput,u=n("./mouse/mouse_handler").MouseHandler,h=n("./mouse/fold_handler").FoldHandler,p=n("./keyboard/keybinding").KeyBinding,f=n("./edit_session").EditSession,g=n("./search").Search,m=n("./range").Range,v=n("./lib/event_emitter").EventEmitter,y=n("./commands/command_manager").CommandManager,x=n("./commands/default_commands").commands,C=n("./config"),b=n("./token_iterator").TokenIterator,S=n("./keyboard/gutter_handler").GutterKeyboardHandler,I=n("./config").nls,L=n("./clipboard"),T=n("./lib/keys"),$=n("./lib/event"),P=n("./tooltip").HoverTooltip,k=function(){function w(E,_,R){this.id="editor"+ ++w.$uid,this.session,this.$toDestroy=[];var M=E.getContainerElement();this.container=M,this.renderer=E,this.commands=new y(d.isMac?"mac":"win",x),typeof document=="object"&&(this.textInput=new l(E.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new u(this),new h(this)),this.keyBinding=new p(this),this.$search=new g().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=a.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(O,N){N._$emitInputEvent.schedule(31)}),this.setSession(_||R&&R.session||new f("")),C.resetOptions(this),R&&this.setOptions(R),C._signal("editor",this)}return w.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0)},w.prototype.startOperation=function(E){this.session.startOperation(E)},w.prototype.endOperation=function(E){this.session.endOperation(E)},w.prototype.onStartOperation=function(E){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,E||(this.previousCommand=null)},w.prototype.onEndOperation=function(E){if(this.curOp&&this.session){if(E&&E.returnValue===!1){this.curOp=null;return}if(this._signal("beforeEndOperation"),!this.curOp)return;var _=this.curOp.command,R=_&&_.scrollIntoView;if(R){switch(R){case"center-animate":R="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var M=this.selection.getRange(),O=this.renderer.layerConfig;(M.start.row>=O.lastRow||M.end.row<=O.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}R=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},w.prototype.$historyTracker=function(E){if(this.$mergeUndoDeltas){var _=this.prevOp,R=this.$mergeableCommands,M=_.command&&E.command.name==_.command.name;if(E.command.name=="insertstring"){var O=E.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),M=M&&this.mergeNextCommand&&(!/\s/.test(O)||/\s/.test(_.args)),this.mergeNextCommand=!0}else M=M&&R.indexOf(E.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(M=!1),M?this.session.mergeUndoDeltas=!0:R.indexOf(E.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},w.prototype.setKeyboardHandler=function(E,_){if(E&&typeof E=="string"&&E!="ace"){this.$keybindingId=E;var R=this;C.loadModule(["keybinding",E],function(M){R.$keybindingId==E&&R.keyBinding.setKeyboardHandler(M&&M.handler),_&&_()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(E),_&&_()},w.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},w.prototype.setSession=function(E){if(this.session!=E){this.curOp&&this.endOperation(),this.curOp={};var _=this.session;if(_){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),this.session.off("startOperation",this.$onStartOperation),this.session.off("endOperation",this.$onEndOperation);var R=this.session.getSelection();R.off("changeCursor",this.$onCursorChange),R.off("changeSelection",this.$onSelectionChange)}this.session=E,E?(this.$onDocumentChange=this.onDocumentChange.bind(this),E.on("change",this.$onDocumentChange),this.renderer.setSession(E),this.$onChangeMode=this.onChangeMode.bind(this),E.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),E.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),E.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),E.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),E.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),E.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=E.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on("startOperation",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on("endOperation",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(E)),this._signal("changeSession",{session:E,oldSession:_}),this.curOp=null,_&&_._signal("changeEditor",{oldEditor:this}),_&&(_.$editor=null),E&&E._signal("changeEditor",{editor:this}),E&&(E.$editor=this),E&&!E.destroyed&&E.bgTokenizer.scheduleStart()}},w.prototype.getSession=function(){return this.session},w.prototype.setValue=function(E,_){return this.session.doc.setValue(E),_?_==1?this.navigateFileEnd():_==-1&&this.navigateFileStart():this.selectAll(),E},w.prototype.getValue=function(){return this.session.getValue()},w.prototype.getSelection=function(){return this.selection},w.prototype.resize=function(E){this.renderer.onResize(E)},w.prototype.setTheme=function(E,_){this.renderer.setTheme(E,_)},w.prototype.getTheme=function(){return this.renderer.getTheme()},w.prototype.setStyle=function(E,_){this.renderer.setStyle(E,_)},w.prototype.unsetStyle=function(E){this.renderer.unsetStyle(E)},w.prototype.getFontSize=function(){return this.getOption("fontSize")||c.computedStyle(this.container).fontSize},w.prototype.setFontSize=function(E){this.setOption("fontSize",E)},w.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var E=this;this.$highlightPending=!0,setTimeout(function(){E.$highlightPending=!1;var _=E.session;if(!(!_||_.destroyed)){_.$bracketHighlight&&(_.$bracketHighlight.markerIds.forEach(function(V){_.removeMarker(V)}),_.$bracketHighlight=null);var R=E.getCursorPosition(),M=E.getKeyboardHandler(),O=M&&M.$getDirectionForHighlight&&M.$getDirectionForHighlight(E),N=_.getMatchingBracketRanges(R,O);if(!N){var F=new b(_,R.row,R.column),G=F.getCurrentToken();if(G&&/\b(?:tag-open|tag-name)/.test(G.type)){var z=_.getMatchingTags(R);z&&(N=[z.openTagName.isEmpty()?z.openTag:z.openTagName,z.closeTagName.isEmpty()?z.closeTag:z.closeTagName])}}if(!N&&_.$mode.getMatching&&(N=_.$mode.getMatching(E.session)),!N){E.getHighlightIndentGuides()&&E.renderer.$textLayer.$highlightIndentGuide();return}var j="ace_bracket";Array.isArray(N)?N.length==1&&(j="ace_error_bracket"):N=[N],N.length==2&&(m.comparePoints(N[0].end,N[1].start)==0?N=[m.fromPoints(N[0].start,N[1].end)]:m.comparePoints(N[0].start,N[1].end)==0&&(N=[m.fromPoints(N[1].start,N[0].end)])),_.$bracketHighlight={ranges:N,markerIds:N.map(function(V){return _.addMarker(V,j,"text")})},E.getHighlightIndentGuides()&&E.renderer.$textLayer.$highlightIndentGuide()}},50)}},w.prototype.focus=function(){this.textInput.focus()},w.prototype.isFocused=function(){return this.textInput.isFocused()},w.prototype.blur=function(){this.textInput.blur()},w.prototype.onFocus=function(E){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",E))},w.prototype.onBlur=function(E){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",E))},w.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},w.prototype.onDocumentChange=function(E){var _=this.session.$useWrapMode,R=E.start.row==E.end.row?E.end.row:1/0;this.renderer.updateLines(E.start.row,R,_),this._signal("change",E),this.$cursorChange()},w.prototype.onTokenizerUpdate=function(E){var _=E.data;this.renderer.updateLines(_.first,_.last)},w.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},w.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},w.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},w.prototype.$updateHighlightActiveLine=function(){var E=this.getSession(),_;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(_=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(_=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(_=!1)),E.$highlightLineMarker&&!_)E.removeMarker(E.$highlightLineMarker.id),E.$highlightLineMarker=null;else if(!E.$highlightLineMarker&&_){var R=new m(_.row,_.column,_.row,1/0);R.id=E.addMarker(R,"ace_active-line","screenLine"),E.$highlightLineMarker=R}else _&&(E.$highlightLineMarker.start.row=_.row,E.$highlightLineMarker.end.row=_.row,E.$highlightLineMarker.start.column=_.column,E._signal("changeBackMarker"))},w.prototype.onSelectionChange=function(E){var _=this.session;if(_.$selectionMarker&&_.removeMarker(_.$selectionMarker),_.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var R=this.selection.getRange(),M=this.getSelectionStyle();_.$selectionMarker=_.addMarker(R,"ace_selection",M)}var O=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(O),this._signal("changeSelection")},w.prototype.$getSelectionHighLightRegexp=function(){var E=this.session,_=this.getSelectionRange();if(!(_.isEmpty()||_.isMultiLine())){var R=_.start.column,M=_.end.column,O=E.getLine(_.start.row),N=O.substring(R,M);if(!(N.length>5e3||!/[\w\d]/.test(N))){var F=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:N}),G=O.substring(R-1,M+1);if(F.test(G))return F}}},w.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},w.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},w.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},w.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},w.prototype.onChangeMode=function(E){this.renderer.updateText(),this._emit("changeMode",E)},w.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},w.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},w.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},w.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},w.prototype.getCopyText=function(){var E=this.getSelectedText(),_=this.session.doc.getNewLineCharacter(),R=!1;if(!E&&this.$copyWithEmptySelection){R=!0;for(var M=this.selection.getAllRanges(),O=0;O<M.length;O++){var N=M[O];O&&M[O-1].start.row==N.start.row||(E+=this.session.getLine(N.start.row)+_)}}var F={text:E};return this._signal("copy",F),L.lineMode=R?F.text:!1,F.text},w.prototype.onCopy=function(){this.commands.exec("copy",this)},w.prototype.onCut=function(){this.commands.exec("cut",this)},w.prototype.onPaste=function(E,_){var R={text:E,event:_};this.commands.exec("paste",this,R)},w.prototype.$handlePaste=function(E){typeof E=="string"&&(E={text:E}),this._signal("paste",E);var _=E.text,R=_===L.lineMode,M=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)R?M.insert({row:this.selection.lead.row,column:0},_):this.insert(_);else if(R)this.selection.rangeList.ranges.forEach(function(j){M.insert({row:j.start.row,column:0},_)});else{var O=_.split(/\r\n|\r|\n/),N=this.selection.rangeList.ranges,F=O.length==2&&(!O[0]||!O[1]);if(O.length!=N.length||F)return this.commands.exec("insertstring",this,_);for(var G=N.length;G--;){var z=N[G];z.isEmpty()||M.remove(z),M.insert(z.start,O[G])}}},w.prototype.execCommand=function(E,_){return this.commands.exec(E,this,_)},w.prototype.insert=function(E,_){var R=this.session,M=R.getMode(),O=this.getCursorPosition();if(this.getBehavioursEnabled()&&!_){var N=M.transformAction(R.getState(O.row),"insertion",this,R,E);N&&(E!==N.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),E=N.text)}if(E=="	"&&(E=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&E.indexOf(`
`)==-1){var F=m.fromPoints(O,O);F.end.column+=E.length,this.session.remove(F)}}else{var F=this.getSelectionRange();O=this.session.remove(F),this.clearSelection()}if(E==`
`||E==`\r
`){var V=R.getLine(O.row);if(O.column>V.search(/\S|$/)){var G=V.substr(O.column).search(/\S|$/);R.doc.removeInLine(O.row,O.column,O.column+G)}}this.clearSelection();var z=O.column,j=R.getState(O.row),V=R.getLine(O.row),Z=M.checkOutdent(j,V,E);if(R.insert(O,E),N&&N.selection&&(N.selection.length==2?this.selection.setSelectionRange(new m(O.row,z+N.selection[0],O.row,z+N.selection[1])):this.selection.setSelectionRange(new m(O.row+N.selection[0],N.selection[1],O.row+N.selection[2],N.selection[3]))),this.$enableAutoIndent){if(R.getDocument().isNewLine(E)){var X=M.getNextLineIndent(j,V.slice(0,O.column),R.getTabString());R.insert({row:O.row+1,column:0},X)}Z&&M.autoOutdent(j,R,O.row)}},w.prototype.autoIndent=function(){for(var E=this.session,_=E.getMode(),R=this.selection.isEmpty()?[new m(0,0,E.doc.getLength()-1,0)]:this.selection.getAllRanges(),M="",O="",N="",F=E.getTabString(),G=0;G<R.length;G++)for(var z=R[G].start.row,j=R[G].end.row,V=z;V<=j;V++){V>0&&(M=E.getState(V-1),O=E.getLine(V-1),N=_.getNextLineIndent(M,O,F));var Z=E.getLine(V),X=_.$getIndent(Z);if(N!==X){if(X.length>0){var Y=new m(V,0,V,X.length);E.remove(Y)}N.length>0&&E.insert({row:V,column:0},N)}_.autoOutdent(M,E,V)}},w.prototype.onTextInput=function(E,_){if(!_)return this.keyBinding.onTextInput(E);this.startOperation({command:{name:"insertstring"}});var R=this.applyComposition.bind(this,E,_);this.selection.rangeCount?this.forEachSelection(R):R(),this.endOperation()},w.prototype.applyComposition=function(E,_){if(_.extendLeft||_.extendRight){var R=this.selection.getRange();R.start.column-=_.extendLeft,R.end.column+=_.extendRight,R.start.column<0&&(R.start.row--,R.start.column+=this.session.getLine(R.start.row).length+1),this.selection.setRange(R),!E&&!R.isEmpty()&&this.remove()}if((E||!this.selection.isEmpty())&&this.insert(E,!0),_.restoreStart||_.restoreEnd){var R=this.selection.getRange();R.start.column-=_.restoreStart,R.end.column-=_.restoreEnd,this.selection.setRange(R)}},w.prototype.onCommandKey=function(E,_,R){return this.keyBinding.onCommandKey(E,_,R)},w.prototype.setOverwrite=function(E){this.session.setOverwrite(E)},w.prototype.getOverwrite=function(){return this.session.getOverwrite()},w.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},w.prototype.setScrollSpeed=function(E){this.setOption("scrollSpeed",E)},w.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},w.prototype.setDragDelay=function(E){this.setOption("dragDelay",E)},w.prototype.getDragDelay=function(){return this.getOption("dragDelay")},w.prototype.setSelectionStyle=function(E){this.setOption("selectionStyle",E)},w.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},w.prototype.setHighlightActiveLine=function(E){this.setOption("highlightActiveLine",E)},w.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},w.prototype.setHighlightGutterLine=function(E){this.setOption("highlightGutterLine",E)},w.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},w.prototype.setHighlightSelectedWord=function(E){this.setOption("highlightSelectedWord",E)},w.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},w.prototype.setAnimatedScroll=function(E){this.renderer.setAnimatedScroll(E)},w.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},w.prototype.setShowInvisibles=function(E){this.renderer.setShowInvisibles(E)},w.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},w.prototype.setDisplayIndentGuides=function(E){this.renderer.setDisplayIndentGuides(E)},w.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},w.prototype.setHighlightIndentGuides=function(E){this.renderer.setHighlightIndentGuides(E)},w.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},w.prototype.setShowPrintMargin=function(E){this.renderer.setShowPrintMargin(E)},w.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},w.prototype.setPrintMarginColumn=function(E){this.renderer.setPrintMarginColumn(E)},w.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},w.prototype.setReadOnly=function(E){this.setOption("readOnly",E)},w.prototype.getReadOnly=function(){return this.getOption("readOnly")},w.prototype.setBehavioursEnabled=function(E){this.setOption("behavioursEnabled",E)},w.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},w.prototype.setWrapBehavioursEnabled=function(E){this.setOption("wrapBehavioursEnabled",E)},w.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},w.prototype.setShowFoldWidgets=function(E){this.setOption("showFoldWidgets",E)},w.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},w.prototype.setFadeFoldWidgets=function(E){this.setOption("fadeFoldWidgets",E)},w.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},w.prototype.remove=function(E){this.selection.isEmpty()&&(E=="left"?this.selection.selectLeft():this.selection.selectRight());var _=this.getSelectionRange();if(this.getBehavioursEnabled()){var R=this.session,M=R.getState(_.start.row),O=R.getMode().transformAction(M,"deletion",this,R,_);if(_.end.column===0){var N=R.getTextRange(_);if(N[N.length-1]==`
`){var F=R.getLine(_.end.row);/^\s+$/.test(F)&&(_.end.column=F.length)}}O&&(_=O)}this.session.remove(_),this.clearSelection()},w.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},w.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},w.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},w.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var E=this.getSelectionRange();E.start.column==E.end.column&&E.start.row==E.end.row&&(E.end.column=0,E.end.row++),this.session.remove(E),this.clearSelection()},w.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var E=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(E)},w.prototype.setGhostText=function(E,_){this.renderer.setGhostText(E,_)},w.prototype.removeGhostText=function(){this.renderer.removeGhostText()},w.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var E=this.getCursorPosition(),_=E.column;if(_!==0){var R=this.session.getLine(E.row),M,O;_<R.length?(M=R.charAt(_)+R.charAt(_-1),O=new m(E.row,_-1,E.row,_+1)):(M=R.charAt(_-1)+R.charAt(_-2),O=new m(E.row,_-2,E.row,_)),this.session.replace(O,M),this.session.selection.moveToPosition(O.end)}}},w.prototype.toLowerCase=function(){var E=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var _=this.getSelectionRange(),R=this.session.getTextRange(_);this.session.replace(_,R.toLowerCase()),this.selection.setSelectionRange(E)},w.prototype.toUpperCase=function(){var E=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var _=this.getSelectionRange(),R=this.session.getTextRange(_);this.session.replace(_,R.toUpperCase()),this.selection.setSelectionRange(E)},w.prototype.indent=function(){var E=this.session,_=this.getSelectionRange();if(_.start.row<_.end.row){var R=this.$getSelectedRows();E.indentRows(R.first,R.last,"	");return}else if(_.start.column<_.end.column){var M=E.getTextRange(_);if(!/^\s+$/.test(M)){var R=this.$getSelectedRows();E.indentRows(R.first,R.last,"	");return}}var O=E.getLine(_.start.row),N=_.start,F=E.getTabSize(),G=E.documentToScreenColumn(N.row,N.column);if(this.session.getUseSoftTabs())var z=F-G%F,j=a.stringRepeat(" ",z);else{for(var z=G%F;O[_.start.column-1]==" "&&z;)_.start.column--,z--;this.selection.setSelectionRange(_),j="	"}return this.insert(j)},w.prototype.blockIndent=function(){var E=this.$getSelectedRows();this.session.indentRows(E.first,E.last,"	")},w.prototype.blockOutdent=function(){var E=this.session.getSelection();this.session.outdentRows(E.getRange())},w.prototype.sortLines=function(){for(var E=this.$getSelectedRows(),_=this.session,R=[],M=E.first;M<=E.last;M++)R.push(_.getLine(M));R.sort(function(F,G){return F.toLowerCase()<G.toLowerCase()?-1:F.toLowerCase()>G.toLowerCase()?1:0});for(var O=new m(0,0,0,0),M=E.first;M<=E.last;M++){var N=_.getLine(M);O.start.row=M,O.end.row=M,O.end.column=N.length,_.replace(O,R[M-E.first])}},w.prototype.toggleCommentLines=function(){var E=this.session.getState(this.getCursorPosition().row),_=this.$getSelectedRows();this.session.getMode().toggleCommentLines(E,this.session,_.first,_.last)},w.prototype.toggleBlockComment=function(){var E=this.getCursorPosition(),_=this.session.getState(E.row),R=this.getSelectionRange();this.session.getMode().toggleBlockComment(_,this.session,R,E)},w.prototype.getNumberAt=function(E,_){var R=/[\-]?[0-9]+(?:\.[0-9]+)?/g;R.lastIndex=0;for(var M=this.session.getLine(E);R.lastIndex<_;){var O=R.exec(M);if(O.index<=_&&O.index+O[0].length>=_){var N={value:O[0],start:O.index,end:O.index+O[0].length};return N}}return null},w.prototype.modifyNumber=function(E){var _=this.selection.getCursor().row,R=this.selection.getCursor().column,M=new m(_,R-1,_,R),O=this.session.getTextRange(M);if(!isNaN(parseFloat(O))&&isFinite(O)){var N=this.getNumberAt(_,R);if(N){var F=N.value.indexOf(".")>=0?N.start+N.value.indexOf(".")+1:N.end,G=N.start+N.value.length-F,z=parseFloat(N.value);z*=Math.pow(10,G),F!==N.end&&R<F?E*=Math.pow(10,N.end-R-1):E*=Math.pow(10,N.end-R),z+=E,z/=Math.pow(10,G);var j=z.toFixed(G),V=new m(_,N.start,_,N.end);this.session.replace(V,j),this.moveCursorTo(_,Math.max(N.start+1,R+j.length-N.value.length))}}else this.toggleWord()},w.prototype.toggleWord=function(){var E=this.selection.getCursor().row,_=this.selection.getCursor().column;this.selection.selectWord();var R=this.getSelectedText(),M=this.selection.getWordRange().start.column,O=R.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),N=_-M-1;N<0&&(N=0);var F=0,G=0,z=this;R.match(/[A-Za-z0-9_]+/)&&O.forEach(function(pe,le){G=F+pe.length,N>=F&&N<=G&&(R=pe,z.selection.clearSelection(),z.moveCursorTo(E,F+M),z.selection.selectTo(E,G+M)),F=G});for(var j=this.$toggleWordPairs,V,Z=0;Z<j.length;Z++)for(var X=j[Z],Y=0;Y<=1;Y++){var Q=+!Y,te=R.match(new RegExp("^\\s?_?("+a.escapeRegExp(X[Y])+")\\s?$","i"));if(te){var re=R.match(new RegExp("([_]|^|\\s)("+a.escapeRegExp(te[1])+")($|\\s)","g"));re&&(V=R.replace(new RegExp(a.escapeRegExp(X[Y]),"i"),function(pe){var le=X[Q];return pe.toUpperCase()==pe?le=le.toUpperCase():pe.charAt(0).toUpperCase()==pe.charAt(0)&&(le=le.substr(0,0)+X[Q].charAt(0).toUpperCase()+le.substr(1)),le}),this.insert(V),V="")}}},w.prototype.findLinkAt=function(E,_){var R,M,O=this.session.getLine(E),N=O.split(/((?:https?|ftp):\/\/[\S]+)/),F=_;F<0&&(F=0);var G=0,z=0,j;try{for(var V=s(N),Z=V.next();!Z.done;Z=V.next()){var X=Z.value;if(z=G+X.length,F>=G&&F<=z&&X.match(/((?:https?|ftp):\/\/[\S]+)/)){j=X.replace(/[\s:.,'";}\]]+$/,"");break}G=z}}catch(Y){R={error:Y}}finally{try{Z&&!Z.done&&(M=V.return)&&M.call(V)}finally{if(R)throw R.error}}return j},w.prototype.openLink=function(){var E=this.selection.getCursor(),_=this.findLinkAt(E.row,E.column);return _&&window.open(_,"_blank"),_!=null},w.prototype.removeLines=function(){var E=this.$getSelectedRows();this.session.removeFullLines(E.first,E.last),this.clearSelection()},w.prototype.duplicateSelection=function(){var E=this.selection,_=this.session,R=E.getRange(),M=E.isBackwards();if(R.isEmpty()){var O=R.start.row;_.duplicateLines(O,O)}else{var N=M?R.start:R.end,F=_.insert(N,_.getTextRange(R));R.start=N,R.end=F,E.setSelectionRange(R,M)}},w.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},w.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},w.prototype.moveText=function(E,_,R){return this.session.moveText(E,_,R)},w.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},w.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},w.prototype.$moveLines=function(E,_){var R,M,O=this.selection;if(!O.inMultiSelectMode||this.inVirtualSelectionMode){var N=O.toOrientedRange();R=this.$getSelectedRows(N),M=this.session.$moveLines(R.first,R.last,_?0:E),_&&E==-1&&(M=0),N.moveBy(M,0),O.fromOrientedRange(N)}else{var F=O.rangeList.ranges;O.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var G=0,z=0,j=F.length,V=0;V<j;V++){var Z=V;F[V].moveBy(G,0),R=this.$getSelectedRows(F[V]);for(var X=R.first,Y=R.last;++V<j;){z&&F[V].moveBy(z,0);var Q=this.$getSelectedRows(F[V]);if(_&&Q.first!=Y)break;if(!_&&Q.first>Y+1)break;Y=Q.last}for(V--,G=this.session.$moveLines(X,Y,_?0:E),_&&E==-1&&(Z=V+1);Z<=V;)F[Z].moveBy(G,0),Z++;_||(G=0),z+=G}O.fromOrientedRange(O.ranges[0]),O.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},w.prototype.$getSelectedRows=function(E){return E=(E||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(E.start.row),last:this.session.getRowFoldEnd(E.end.row)}},w.prototype.onCompositionStart=function(E){this.renderer.showComposition(E)},w.prototype.onCompositionUpdate=function(E){this.renderer.setCompositionText(E)},w.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},w.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},w.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},w.prototype.isRowVisible=function(E){return E>=this.getFirstVisibleRow()&&E<=this.getLastVisibleRow()},w.prototype.isRowFullyVisible=function(E){return E>=this.renderer.getFirstFullyVisibleRow()&&E<=this.renderer.getLastFullyVisibleRow()},w.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},w.prototype.$moveByPage=function(E,_){var R=this.renderer,M=this.renderer.layerConfig,O=E*Math.floor(M.height/M.lineHeight);_===!0?this.selection.$moveSelection(function(){this.moveCursorBy(O,0)}):_===!1&&(this.selection.moveCursorBy(O,0),this.selection.clearSelection());var N=R.scrollTop;R.scrollBy(0,O*M.lineHeight),_!=null&&R.scrollCursorIntoView(null,.5),R.animateScrolling(N)},w.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},w.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},w.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},w.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},w.prototype.scrollPageDown=function(){this.$moveByPage(1)},w.prototype.scrollPageUp=function(){this.$moveByPage(-1)},w.prototype.scrollToRow=function(E){this.renderer.scrollToRow(E)},w.prototype.scrollToLine=function(E,_,R,M){this.renderer.scrollToLine(E,_,R,M)},w.prototype.centerSelection=function(){var E=this.getSelectionRange(),_={row:Math.floor(E.start.row+(E.end.row-E.start.row)/2),column:Math.floor(E.start.column+(E.end.column-E.start.column)/2)};this.renderer.alignCursor(_,.5)},w.prototype.getCursorPosition=function(){return this.selection.getCursor()},w.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},w.prototype.getSelectionRange=function(){return this.selection.getRange()},w.prototype.selectAll=function(){this.selection.selectAll()},w.prototype.clearSelection=function(){this.selection.clearSelection()},w.prototype.moveCursorTo=function(E,_){this.selection.moveCursorTo(E,_)},w.prototype.moveCursorToPosition=function(E){this.selection.moveCursorToPosition(E)},w.prototype.jumpToMatching=function(E,_){var R=this.getCursorPosition(),M=new b(this.session,R.row,R.column),O=M.getCurrentToken(),N=0;O&&O.type.indexOf("tag-name")!==-1&&(O=M.stepBackward());var F=O||M.stepForward();if(F){var G,z=!1,j={},V=R.column-F.start,Z,X={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(F.value.match(/[{}()\[\]]/g)){for(;V<F.value.length&&!z;V++)if(X[F.value[V]])switch(Z=X[F.value[V]]+"."+F.type.replace("rparen","lparen"),isNaN(j[Z])&&(j[Z]=0),F.value[V]){case"(":case"[":case"{":j[Z]++;break;case")":case"]":case"}":j[Z]--,j[Z]===-1&&(G="bracket",z=!0);break}}else F.type.indexOf("tag-name")!==-1&&(isNaN(j[F.value])&&(j[F.value]=0),O.value==="<"&&N>1?j[F.value]++:O.value==="</"&&j[F.value]--,j[F.value]===-1&&(G="tag",z=!0));z||(O=F,N++,F=M.stepForward(),V=0)}while(F&&!z);if(G){var Y,Q;if(G==="bracket")Y=this.session.getBracketRange(R),Y||(Y=new m(M.getCurrentTokenRow(),M.getCurrentTokenColumn()+V-1,M.getCurrentTokenRow(),M.getCurrentTokenColumn()+V-1),Q=Y.start,(_||Q.row===R.row&&Math.abs(Q.column-R.column)<2)&&(Y=this.session.getBracketRange(Q)));else if(G==="tag"){if(!F||F.type.indexOf("tag-name")===-1)return;if(Y=new m(M.getCurrentTokenRow(),M.getCurrentTokenColumn()-2,M.getCurrentTokenRow(),M.getCurrentTokenColumn()-2),Y.compare(R.row,R.column)===0){var te=this.session.getMatchingTags(R);te&&(te.openTag.contains(R.row,R.column)?(Y=te.closeTag,Q=Y.start):(Y=te.openTag,te.closeTag.start.row===R.row&&te.closeTag.start.column===R.column?Q=Y.end:Q=Y.start))}Q=Q||Y.start}Q=Y&&Y.cursor||Q,Q&&(E?Y&&_?this.selection.setRange(Y):Y&&Y.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(Q.row,Q.column):this.selection.moveTo(Q.row,Q.column))}}},w.prototype.gotoLine=function(E,_,R){this.selection.clearSelection(),this.session.unfold({row:E-1,column:_||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(E-1,_||0),this.isRowFullyVisible(E-1)||this.scrollToLine(E-1,!0,R)},w.prototype.navigateTo=function(E,_){this.selection.moveTo(E,_)},w.prototype.navigateUp=function(E){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var _=this.selection.anchor.getPosition();return this.moveCursorToPosition(_)}this.selection.clearSelection(),this.selection.moveCursorBy(-E||-1,0)},w.prototype.navigateDown=function(E){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var _=this.selection.anchor.getPosition();return this.moveCursorToPosition(_)}this.selection.clearSelection(),this.selection.moveCursorBy(E||1,0)},w.prototype.navigateLeft=function(E){if(this.selection.isEmpty())for(E=E||1;E--;)this.selection.moveCursorLeft();else{var _=this.getSelectionRange().start;this.moveCursorToPosition(_)}this.clearSelection()},w.prototype.navigateRight=function(E){if(this.selection.isEmpty())for(E=E||1;E--;)this.selection.moveCursorRight();else{var _=this.getSelectionRange().end;this.moveCursorToPosition(_)}this.clearSelection()},w.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},w.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},w.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},w.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},w.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},w.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},w.prototype.replace=function(E,_){_&&this.$search.set(_);var R=this.$search.find(this.session),M=0;return R&&(this.$tryReplace(R,E)&&(M=1),this.selection.setSelectionRange(R),this.renderer.scrollSelectionIntoView(R.start,R.end)),M},w.prototype.replaceAll=function(E,_){_&&this.$search.set(_);var R=this.$search.findAll(this.session),M=0;if(!R.length)return M;var O=this.getSelectionRange();this.selection.moveTo(0,0);for(var N=R.length-1;N>=0;--N)this.$tryReplace(R[N],E)&&M++;return this.selection.setSelectionRange(O),M},w.prototype.$tryReplace=function(E,_){var R=this.session.getTextRange(E);return _=this.$search.replace(R,_),_!==null?(E.end=this.session.replace(E,_),E):null},w.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},w.prototype.find=function(E,_,R){_||(_={}),typeof E=="string"||E instanceof RegExp?_.needle=E:typeof E=="object"&&o.mixin(_,E);var M=this.selection.getRange();_.needle==null&&(E=this.session.getTextRange(M)||this.$search.$options.needle,E||(M=this.session.getWordRange(M.start.row,M.start.column),E=this.session.getTextRange(M)),this.$search.set({needle:E})),this.$search.set(_),_.start||this.$search.set({start:M});var O=this.$search.find(this.session);if(_.preventScroll)return O;if(O)return this.revealRange(O,R),O;_.backwards?M.start=M.end:M.end=M.start,this.selection.setRange(M)},w.prototype.findNext=function(E,_){this.find({skipCurrent:!0,backwards:!1},E,_)},w.prototype.findPrevious=function(E,_){this.find(E,{skipCurrent:!0,backwards:!0},_)},w.prototype.revealRange=function(E,_){this.session.unfold(E),this.selection.setSelectionRange(E);var R=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(E.start,E.end,.5),_!==!1&&this.renderer.animateScrolling(R)},w.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},w.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},w.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(E){E.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},w.prototype.setAutoScrollEditorIntoView=function(E){if(E){var _,R=this,M=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var O=this.$scrollAnchor;O.style.cssText="position:absolute",this.container.insertBefore(O,this.container.firstChild);var N=this.on("changeSelection",function(){M=!0}),F=this.renderer.on("beforeRender",function(){M&&(_=R.renderer.container.getBoundingClientRect())}),G=this.renderer.on("afterRender",function(){if(M&&_&&(R.isFocused()||R.searchBox&&R.searchBox.isFocused())){var z=R.renderer,j=z.$cursorLayer.$pixelPos,V=z.layerConfig,Z=j.top-V.offset;j.top>=0&&Z+_.top<0?M=!0:j.top<V.height&&j.top+_.top+V.lineHeight>window.innerHeight?M=!1:M=null,M!=null&&(O.style.top=Z+"px",O.style.left=j.left+"px",O.style.height=V.lineHeight+"px",O.scrollIntoView(M)),M=_=null}});this.setAutoScrollEditorIntoView=function(z){z||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",N),this.renderer.off("afterRender",G),this.renderer.off("beforeRender",F))}}},w.prototype.$resetCursorStyle=function(){var E=this.$cursorStyle||"ace",_=this.renderer.$cursorLayer;_&&(_.setSmoothBlinking(/smooth/.test(E)),_.isBlinking=!this.$readOnly&&E!="wide",c.setCssClass(_.element,"ace_slim-cursors",/slim/.test(E)))},w.prototype.prompt=function(E,_,R){var M=this;C.loadModule("ace/ext/prompt",function(O){O.prompt(M,E,_,R)})},w}();k.$uid=0,k.prototype.curOp=null,k.prototype.prevOp={},k.prototype.$mergeableCommands=["backspace","del","insertstring"],k.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],o.implement(k.prototype,v),C.defineOptions(k.prototype,"editor",{selectionStyle:{set:function(w){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:w})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(w){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(w){var E=this;this.textInput.setReadOnly(w),this.$resetCursorStyle(),this.$readOnlyCallback||(this.$readOnlyCallback=function(R){var M=!1;if(R&&R.type=="keydown"){if(M=R&&R.key&&R.key.length==1&&!R.ctrlKey&&!R.metaKey,!M)return}else R&&R.type!=="exec"&&(M=!0);if(M){E.hoverTooltip||(E.hoverTooltip=new P);var O=c.createElement("div");O.textContent=I("editor.tooltip.disable-editing","Editing is disabled"),E.hoverTooltip.isOpen||E.hoverTooltip.showForRange(E,E.getSelectionRange(),O)}else E.hoverTooltip&&E.hoverTooltip.isOpen&&E.hoverTooltip.hide()});var _=this.textInput.getElement();w?($.addListener(_,"keydown",this.$readOnlyCallback,this),this.commands.on("exec",this.$readOnlyCallback),this.commands.on("commandUnavailable",this.$readOnlyCallback)):($.removeListener(_,"keydown",this.$readOnlyCallback),this.commands.off("exec",this.$readOnlyCallback),this.commands.off("commandUnavailable",this.$readOnlyCallback),this.hoverTooltip&&(this.hoverTooltip.destroy(),this.hoverTooltip=null))},initialValue:!1},copyWithEmptySelection:{set:function(w){this.textInput.setCopyWithEmptySelection(w)},initialValue:!1},cursorStyle:{set:function(w){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(w){this.setAutoScrollEditorIntoView(w)}},keyboardHandler:{set:function(w){this.setKeyboardHandler(w)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(w){this.session.setValue(w)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(w){this.setSession(w)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(w){this.renderer.$gutterLayer.setShowLineNumbers(w),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),w&&this.$relativeLineNumbers?A.attach(this):A.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(w){this.$showLineNumbers&&w?A.attach(this):A.detach(this)}},placeholder:{set:function(w){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var E=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(E&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),c.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!E&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),c.addCssClass(this.container,"ace_hasPlaceholder");var _=c.createElement("div");_.className="ace_placeholder",_.textContent=this.$placeholder||"",this.renderer.placeholderNode=_,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!E&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(w){var E={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(M){M.blur(),M.renderer.scroller.focus()},readOnly:!0},_=function(M){if(M.target==this.renderer.scroller&&M.keyCode===T.enter){M.preventDefault();var O=this.getCursorPosition().row;this.isRowVisible(O)||this.scrollToLine(O,!0,!0),this.focus()}},R;w?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(d.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",I("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",I("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",_.bind(this)),this.commands.addCommand(E),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",I("editor.gutter.aria-roledescription","editor gutter")),this.renderer.$gutter.setAttribute("aria-label",I("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),R||(R=new S(this)),R.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",_.bind(this)),this.commands.removeCommand(E),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),R&&R.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(w){this.$textInputAriaLabel=w},initialValue:""},enableMobileMenu:{set:function(w){this.$enableMobileMenu=w},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var A={getText:function(w,E){return(Math.abs(w.selection.lead.row-E)||E+1+(E<9?"·":""))+""},getWidth:function(w,E,_){return Math.max(E.toString().length,(_.lastRow+1).toString().length,2)*_.characterWidth},update:function(w,E){E.renderer.$loop.schedule(E.renderer.CHANGE_GUTTER)},attach:function(w){w.renderer.$gutterLayer.$renderer=this,w.on("changeSelection",this.update),this.update(null,w)},detach:function(w){w.renderer.$gutterLayer.$renderer==this&&(w.renderer.$gutterLayer.$renderer=null),w.off("changeSelection",this.update),this.update(null,w)}};r.Editor=k}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(n,r,i){var s=n("../lib/dom"),o=function(){function c(a,d){this.element=a,this.canvasHeight=d||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return c.prototype.moveContainer=function(a){s.translate(this.element,0,-(a.firstRowScreen*a.lineHeight%this.canvasHeight)-a.offset*this.$offsetCoefficient)},c.prototype.pageChanged=function(a,d){return Math.floor(a.firstRowScreen*a.lineHeight/this.canvasHeight)!==Math.floor(d.firstRowScreen*d.lineHeight/this.canvasHeight)},c.prototype.computeLineTop=function(a,d,l){var u=d.firstRowScreen*d.lineHeight,h=Math.floor(u/this.canvasHeight),p=l.documentToScreenRow(a,0)*d.lineHeight;return p-h*this.canvasHeight},c.prototype.computeLineHeight=function(a,d,l){return d.lineHeight*l.getRowLineCount(a)},c.prototype.getLength=function(){return this.cells.length},c.prototype.get=function(a){return this.cells[a]},c.prototype.shift=function(){this.$cacheCell(this.cells.shift())},c.prototype.pop=function(){this.$cacheCell(this.cells.pop())},c.prototype.push=function(a){if(Array.isArray(a)){this.cells.push.apply(this.cells,a);for(var d=s.createFragment(this.element),l=0;l<a.length;l++)d.appendChild(a[l].element);this.element.appendChild(d)}else this.cells.push(a),this.element.appendChild(a.element)},c.prototype.unshift=function(a){if(Array.isArray(a)){this.cells.unshift.apply(this.cells,a);for(var d=s.createFragment(this.element),l=0;l<a.length;l++)d.appendChild(a[l].element);this.element.firstChild?this.element.insertBefore(d,this.element.firstChild):this.element.appendChild(d)}else this.cells.unshift(a),this.element.insertAdjacentElement("afterbegin",a.element)},c.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},c.prototype.$cacheCell=function(a){a&&(a.element.remove(),this.cellCache.push(a))},c.prototype.createCell=function(a,d,l,u){var h=this.cellCache.pop();if(!h){var p=s.createElement("div");u&&u(p),this.element.appendChild(p),h={element:p,text:"",row:a}}return h.row=a,h},c}();r.Lines=o}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(n,r,i){var s=n("../lib/dom"),o=n("../lib/oop"),c=n("../lib/lang"),a=n("../lib/event_emitter").EventEmitter,d=n("./lines").Lines,l=n("../config").nls,u=function(){function p(f){this.element=s.createElement("div"),this.element.className="ace_layer ace_gutter-layer",f.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new d(this.element),this.$lines.$offsetCoefficient=1}return p.prototype.setSession=function(f){this.session&&this.session.off("change",this.$updateAnnotations),this.session=f,f&&f.on("change",this.$updateAnnotations)},p.prototype.addGutterDecoration=function(f,g){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(f,g)},p.prototype.removeGutterDecoration=function(f,g){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(f,g)},p.prototype.setAnnotations=function(f){this.$annotations=[];for(var g=0;g<f.length;g++){var m=f[g],v=m.row,y=this.$annotations[v];y||(y=this.$annotations[v]={text:[],type:[],displayText:[]});var x=m.text,C=m.text,b=m.type;x=x?c.escapeHTML(x):m.html||"",C=C||m.html||"",y.text.indexOf(x)===-1&&(y.text.push(x),y.type.push(b),y.displayText.push(C));var S=m.className;S?y.className=S:b==="error"?y.className=" ace_error":b==="security"&&!/\bace_error\b/.test(y.className)?y.className=" ace_security":b==="warning"&&!/\bace_(error|security)\b/.test(y.className)?y.className=" ace_warning":b==="info"&&!y.className?y.className=" ace_info":b==="hint"&&!y.className&&(y.className=" ace_hint")}},p.prototype.$updateAnnotations=function(f){if(this.$annotations.length){var g=f.start.row,m=f.end.row-g;if(m!==0)if(f.action=="remove")this.$annotations.splice(g,m+1,null);else{var v=new Array(m+1);v.unshift(g,1),this.$annotations.splice.apply(this.$annotations,v)}}},p.prototype.update=function(f){this.config=f;var g=this.session,m=f.firstRow,v=Math.min(f.lastRow+f.gutterOffset,g.getLength()-1);this.oldLastRow=v,this.config=f,this.$lines.moveContainer(f),this.$updateCursorRow();for(var y=g.getNextFoldLine(m),x=y?y.start.row:1/0,C=null,b=-1,S=m;;){if(S>x&&(S=y.end.row+1,y=g.getNextFoldLine(S,y),x=y?y.start.row:1/0),S>v){for(;this.$lines.getLength()>b+1;)this.$lines.pop();break}C=this.$lines.get(++b),C?C.row=S:(C=this.$lines.createCell(S,f,this.session,h),this.$lines.push(C)),this.$renderCell(C,f,y,S),S++}this._signal("afterRender"),this.$updateGutterWidth(f)},p.prototype.$updateGutterWidth=function(f){var g=this.session,m=g.gutterRenderer||this.$renderer,v=g.$firstLineNumber,y=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||g.$useWrapMode)&&(y=g.getLength()+v-1);var x=m?m.getWidth(g,y,f):y.toString().length*f.characterWidth,C=this.$padding||this.$computePadding();x+=C.left+C.right,x!==this.gutterWidth&&!isNaN(x)&&(this.gutterWidth=x,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",x))},p.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var f=this.session.selection.getCursor();this.$cursorRow!==f.row&&(this.$cursorRow=f.row)}},p.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var f=this.session.selection.cursor.row;if(this.$cursorRow=f,!(this.$cursorCell&&this.$cursorCell.row==f)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var g=this.$lines.cells;this.$cursorCell=null;for(var m=0;m<g.length;m++){var v=g[m];if(v.row>=this.$cursorRow){if(v.row>this.$cursorRow){var y=this.session.getFoldLine(this.$cursorRow);if(m>0&&y&&y.start.row==g[m-1].row)v=g[m-1];else break}v.element.className="ace_gutter-active-line "+v.element.className,this.$cursorCell=v;break}}}}},p.prototype.scrollLines=function(f){var g=this.config;if(this.config=f,this.$updateCursorRow(),this.$lines.pageChanged(g,f))return this.update(f);this.$lines.moveContainer(f);var m=Math.min(f.lastRow+f.gutterOffset,this.session.getLength()-1),v=this.oldLastRow;if(this.oldLastRow=m,!g||v<f.firstRow)return this.update(f);if(m<g.firstRow)return this.update(f);if(g.firstRow<f.firstRow)for(var y=this.session.getFoldedRowCount(g.firstRow,f.firstRow-1);y>0;y--)this.$lines.shift();if(v>m)for(var y=this.session.getFoldedRowCount(m+1,v);y>0;y--)this.$lines.pop();f.firstRow<g.firstRow&&this.$lines.unshift(this.$renderLines(f,f.firstRow,g.firstRow-1)),m>v&&this.$lines.push(this.$renderLines(f,v+1,m)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(f)},p.prototype.$renderLines=function(f,g,m){for(var v=[],y=g,x=this.session.getNextFoldLine(y),C=x?x.start.row:1/0;y>C&&(y=x.end.row+1,x=this.session.getNextFoldLine(y,x),C=x?x.start.row:1/0),!(y>m);){var b=this.$lines.createCell(y,f,this.session,h);this.$renderCell(b,f,x,y),v.push(b),y++}return v},p.prototype.$renderCell=function(f,g,m,v){var y=f.element,x=this.session,C=y.childNodes[0],b=y.childNodes[1],S=y.childNodes[2],I=y.childNodes[3],L=S.firstChild,T=x.$firstLineNumber,$=x.$breakpoints,P=x.$decorations,k=x.gutterRenderer||this.$renderer,A=this.$showFoldWidgets&&x.foldWidgets,w=m?m.start.row:Number.MAX_VALUE,E=g.lineHeight+"px",_=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",R=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",M=(k?k.getText(x,v):v+T).toString();if(this.$highlightGutterLine&&(v==this.$cursorRow||m&&v<this.$cursorRow&&v>=w&&this.$cursorRow<=m.end.row)&&(_+="ace_gutter-active-line ",this.$cursorCell!=f&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=f)),$[v]&&(_+=$[v]),P[v]&&(_+=P[v]),this.$annotations[v]&&v!==w&&(_+=this.$annotations[v].className),A){var O=A[v];O==null&&(O=A[v]=x.getFoldWidget(v))}if(O){var N="ace_fold-widget ace_"+O,F=O=="start"&&v==w&&v<m.end.row;if(F){N+=" ace_closed";for(var G="",z=!1,j=v+1;j<=m.end.row;j++)if(this.$annotations[j]){if(this.$annotations[j].className===" ace_error"){z=!0,G=" ace_error_fold";break}this.$annotations[j].className===" ace_security"?(z=!0,G=" ace_security_fold"):this.$annotations[j].className===" ace_warning"&&G!==" ace_security_fold"&&(z=!0,G=" ace_warning_fold")}_+=G}else N+=" ace_open";b.className!=N&&(b.className=N),s.setStyle(b.style,"height",E),s.setStyle(b.style,"display","inline-block"),b.setAttribute("role","button"),b.setAttribute("tabindex","-1");var V=x.getFoldWidgetRange(v);V?b.setAttribute("aria-label",l("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[V.start.row+1,V.end.row+1])):m?b.setAttribute("aria-label",l("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[m.start.row+1,m.end.row+1])):b.setAttribute("aria-label",l("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[v+1])),F?(b.setAttribute("aria-expanded","false"),b.setAttribute("title",l("gutter.code-folding.closed.title","Unfold code"))):(b.setAttribute("aria-expanded","true"),b.setAttribute("title",l("gutter.code-folding.open.title","Fold code")))}else b&&(s.setStyle(b.style,"display","none"),b.setAttribute("tabindex","0"),b.removeAttribute("role"),b.removeAttribute("aria-label"));var Z=this.session.$gutterCustomWidgets[v];if(Z?this.$addCustomWidget(v,Z,f):I&&this.$removeCustomWidget(v,f),z&&this.$showFoldedAnnotations){S.className="ace_gutter_annotation",L.className=R,L.className+=G,s.setStyle(L.style,"height",E),s.setStyle(S.style,"display","block"),s.setStyle(S.style,"height",E);var X;switch(G){case" ace_error_fold":X=l("gutter.annotation.aria-label.error","Error, read annotations row $0",[M]);break;case" ace_security_fold":X=l("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[M]);break;case" ace_warning_fold":X=l("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[M]);break}S.setAttribute("aria-label",X),S.setAttribute("tabindex","-1"),S.setAttribute("role","button")}else if(this.$annotations[v]){S.className="ace_gutter_annotation",L.className=R,this.$useSvgGutterIcons?L.className+=this.$annotations[v].className:y.classList.add(this.$annotations[v].className.replace(" ","")),s.setStyle(L.style,"height",E),s.setStyle(S.style,"display","block"),s.setStyle(S.style,"height",E);var X;switch(this.$annotations[v].className){case" ace_error":X=l("gutter.annotation.aria-label.error","Error, read annotations row $0",[M]);break;case" ace_security":X=l("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[M]);break;case" ace_warning":X=l("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[M]);break;case" ace_info":X=l("gutter.annotation.aria-label.info","Info, read annotations row $0",[M]);break;case" ace_hint":X=l("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[M]);break}S.setAttribute("aria-label",X),S.setAttribute("tabindex","-1"),S.setAttribute("role","button")}else s.setStyle(S.style,"display","none"),S.removeAttribute("aria-label"),S.removeAttribute("role"),S.setAttribute("tabindex","0");return M!==C.data&&(C.data=M),y.className!=_&&(y.className=_),s.setStyle(f.element.style,"height",this.$lines.computeLineHeight(v,g,x)+"px"),s.setStyle(f.element.style,"top",this.$lines.computeLineTop(v,g,x)+"px"),f.text=M,S.style.display==="none"&&b.style.display==="none"&&!Z?f.element.setAttribute("aria-hidden",!0):f.element.setAttribute("aria-hidden",!1),f},p.prototype.setHighlightGutterLine=function(f){this.$highlightGutterLine=f},p.prototype.setShowLineNumbers=function(f){this.$renderer=!f&&{getWidth:function(){return 0},getText:function(){return""}}},p.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},p.prototype.setShowFoldWidgets=function(f){f?s.addCssClass(this.element,"ace_folding-enabled"):s.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=f,this.$padding=null},p.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},p.prototype.$hideFoldWidget=function(f,g){var m=g||this.$getGutterCell(f);if(m&&m.element){var v=m.element.childNodes[1];v&&s.setStyle(v.style,"display","none")}},p.prototype.$showFoldWidget=function(f,g){var m=g||this.$getGutterCell(f);if(m&&m.element){var v=m.element.childNodes[1];v&&this.session.foldWidgets&&this.session.foldWidgets[m.row]&&s.setStyle(v.style,"display","inline-block")}},p.prototype.$getGutterCell=function(f){var g=this.$lines.cells,m=this.session.documentToScreenRow(f,0);return g[f-this.config.firstRowScreen-(f-m)]},p.prototype.$addCustomWidget=function(f,g,m){var v=g.className,y=g.label,x=g.title,C=g.callbacks;this.session.$gutterCustomWidgets[f]={className:v,label:y,title:x,callbacks:C},this.$hideFoldWidget(f,m);var b=m||this.$getGutterCell(f);if(b&&b.element){var S=b.element.querySelector(".ace_custom-widget");S&&S.remove(),S=s.createElement("span"),S.className="ace_custom-widget ".concat(v),S.setAttribute("tabindex","-1"),S.setAttribute("role","button"),S.setAttribute("aria-label",y),S.setAttribute("title",x),s.setStyle(S.style,"display","inline-block"),s.setStyle(S.style,"height","inherit"),C&&C.onClick&&S.addEventListener("click",function(I){C.onClick(I,f),I.stopPropagation()}),b.element.appendChild(S)}},p.prototype.$removeCustomWidget=function(f,g){delete this.session.$gutterCustomWidgets[f],this.$showFoldWidget(f,g);var m=g||this.$getGutterCell(f);if(m&&m.element){var v=m.element.querySelector(".ace_custom-widget");v&&m.element.removeChild(v)}},p.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var f=s.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(f.borderLeftWidth)||0)+(parseInt(f.paddingLeft)||0)+1,this.$padding.right=(parseInt(f.borderRightWidth)||0)+(parseInt(f.paddingRight)||0),this.$padding},p.prototype.getRegion=function(f){var g=this.$padding||this.$computePadding(),m=this.element.getBoundingClientRect();if(f.x<g.left+m.left)return"markers";if(this.$showFoldWidgets&&f.x>m.right-g.right)return"foldWidgets"},p}();u.prototype.$fixedWidth=!1,u.prototype.$highlightGutterLine=!0,u.prototype.$renderer="",u.prototype.$showLineNumbers=!0,u.prototype.$showFoldWidgets=!0,o.implement(u.prototype,a);function h(p){var f=document.createTextNode("");p.appendChild(f);var g=s.createElement("span");p.appendChild(g);var m=s.createElement("span");p.appendChild(m);var v=s.createElement("span");return m.appendChild(v),p}r.Gutter=u}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(n,r,i){var s=n("../range").Range,o=n("../lib/dom"),c=function(){function d(l){this.element=o.createElement("div"),this.element.className="ace_layer ace_marker-layer",l.appendChild(this.element)}return d.prototype.setPadding=function(l){this.$padding=l},d.prototype.setSession=function(l){this.session=l},d.prototype.setMarkers=function(l){this.markers=l},d.prototype.elt=function(l,u){var h=this.i!=-1&&this.element.childNodes[this.i];h?this.i++:(h=document.createElement("div"),this.element.appendChild(h),this.i=-1),h.style.cssText=u,h.className=l},d.prototype.update=function(l){if(l){this.config=l,this.i=0;var u;for(var h in this.markers){var p=this.markers[h];if(!p.range){p.update(u,this,this.session,l);continue}var f=p.range.clipRows(l.firstRow,l.lastRow);if(!f.isEmpty())if(f=f.toScreenRange(this.session),p.renderer){var g=this.$getTop(f.start.row,l),m=this.$padding+f.start.column*l.characterWidth;p.renderer(u,f,m,g,l)}else p.type=="fullLine"?this.drawFullLineMarker(u,f,p.clazz,l):p.type=="screenLine"?this.drawScreenLineMarker(u,f,p.clazz,l):f.isMultiLine()?p.type=="text"?this.drawTextMarker(u,f,p.clazz,l):this.drawMultiLineMarker(u,f,p.clazz,l):this.drawSingleLineMarker(u,f,p.clazz+" ace_start ace_br15",l)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},d.prototype.$getTop=function(l,u){return(l-u.firstRowScreen)*u.lineHeight},d.prototype.drawTextMarker=function(l,u,h,p,f){for(var g=this.session,m=u.start.row,v=u.end.row,y=m,x=0,C=0,b=g.getScreenLastRowColumn(y),S=new s(y,u.start.column,y,C);y<=v;y++)S.start.row=S.end.row=y,S.start.column=y==m?u.start.column:g.getRowWrapIndent(y),S.end.column=b,x=C,C=b,b=y+1<v?g.getScreenLastRowColumn(y+1):y==v?0:u.end.column,this.drawSingleLineMarker(l,S,h+(y==m?" ace_start":"")+" ace_br"+a(y==m||y==m+1&&u.start.column,x<C,C>b,y==v),p,y==v?0:1,f)},d.prototype.drawMultiLineMarker=function(l,u,h,p,f){var g=this.$padding,m=p.lineHeight,v=this.$getTop(u.start.row,p),y=g+u.start.column*p.characterWidth;if(f=f||"",this.session.$bidiHandler.isBidiRow(u.start.row)){var x=u.clone();x.end.row=x.start.row,x.end.column=this.session.getLine(x.start.row).length,this.drawBidiSingleLineMarker(l,x,h+" ace_br1 ace_start",p,null,f)}else this.elt(h+" ace_br1 ace_start","height:"+m+"px;right:"+g+"px;top:"+v+"px;left:"+y+"px;"+(f||""));if(this.session.$bidiHandler.isBidiRow(u.end.row)){var x=u.clone();x.start.row=x.end.row,x.start.column=0,this.drawBidiSingleLineMarker(l,x,h+" ace_br12",p,null,f)}else{v=this.$getTop(u.end.row,p);var C=u.end.column*p.characterWidth;this.elt(h+" ace_br12","height:"+m+"px;width:"+C+"px;top:"+v+"px;left:"+g+"px;"+(f||""))}if(m=(u.end.row-u.start.row-1)*p.lineHeight,!(m<=0)){v=this.$getTop(u.start.row+1,p);var b=(u.start.column?1:0)|(u.end.column?0:8);this.elt(h+(b?" ace_br"+b:""),"height:"+m+"px;right:"+g+"px;top:"+v+"px;left:"+g+"px;"+(f||""))}},d.prototype.drawSingleLineMarker=function(l,u,h,p,f,g){if(this.session.$bidiHandler.isBidiRow(u.start.row))return this.drawBidiSingleLineMarker(l,u,h,p,f,g);var m=p.lineHeight,v=(u.end.column+(f||0)-u.start.column)*p.characterWidth,y=this.$getTop(u.start.row,p),x=this.$padding+u.start.column*p.characterWidth;this.elt(h,"height:"+m+"px;width:"+v+"px;top:"+y+"px;left:"+x+"px;"+(g||""))},d.prototype.drawBidiSingleLineMarker=function(l,u,h,p,f,g){var m=p.lineHeight,v=this.$getTop(u.start.row,p),y=this.$padding,x=this.session.$bidiHandler.getSelections(u.start.column,u.end.column);x.forEach(function(C){this.elt(h,"height:"+m+"px;width:"+(C.width+(f||0))+"px;top:"+v+"px;left:"+(y+C.left)+"px;"+(g||""))},this)},d.prototype.drawFullLineMarker=function(l,u,h,p,f){var g=this.$getTop(u.start.row,p),m=p.lineHeight;u.start.row!=u.end.row&&(m+=this.$getTop(u.end.row,p)-g),this.elt(h,"height:"+m+"px;top:"+g+"px;left:0;right:0;"+(f||""))},d.prototype.drawScreenLineMarker=function(l,u,h,p,f){var g=this.$getTop(u.start.row,p),m=p.lineHeight;this.elt(h,"height:"+m+"px;top:"+g+"px;left:0;right:0;"+(f||""))},d}();c.prototype.$padding=0;function a(d,l,u,h){return(d?1:0)|(l?2:0)|(u?4:0)|(h?8:0)}r.Marker=c}),ace.define("ace/layer/text_util",["require","exports","module"],function(n,r,i){var s=new Set(["text","rparen","lparen"]);r.isTextToken=function(o){return s.has(o)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(n,r,i){var s=n("../lib/oop"),o=n("../lib/dom"),c=n("../lib/lang"),a=n("./lines").Lines,d=n("../lib/event_emitter").EventEmitter,l=n("../config").nls,u=n("./text_util").isTextToken,h=function(){function p(f){this.dom=o,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",f.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new a(this.element)}return p.prototype.$updateEolChar=function(){var f=this.session.doc,g=f.getNewLineCharacter()==`
`&&f.getNewLineMode()!="windows",m=g?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=m)return this.EOL_CHAR=m,!0},p.prototype.setPadding=function(f){this.$padding=f,this.element.style.margin="0 "+f+"px"},p.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},p.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},p.prototype.$setFontMetrics=function(f){this.$fontMetrics=f,this.$fontMetrics.on("changeCharacterSize",(function(g){this._signal("changeCharacterSize",g)}).bind(this)),this.$pollSizeChanges()},p.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},p.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},p.prototype.setSession=function(f){this.session=f,f&&this.$computeTabString()},p.prototype.setShowInvisibles=function(f){return this.showInvisibles==f?!1:(this.showInvisibles=f,typeof f=="string"?(this.showSpaces=/tab/i.test(f),this.showTabs=/space/i.test(f),this.showEOL=/eol/i.test(f)):this.showSpaces=this.showTabs=this.showEOL=f,this.$computeTabString(),!0)},p.prototype.setDisplayIndentGuides=function(f){return this.displayIndentGuides==f?!1:(this.displayIndentGuides=f,this.$computeTabString(),!0)},p.prototype.setHighlightIndentGuides=function(f){return this.$highlightIndentGuides===f?!1:(this.$highlightIndentGuides=f,f)},p.prototype.$computeTabString=function(){var f=this.session.getTabSize();this.tabSize=f;for(var g=this.$tabStrings=[0],m=1;m<f+1;m++)if(this.showTabs){var v=this.dom.createElement("span");v.className="ace_invisible ace_invisible_tab",v.textContent=c.stringRepeat(this.TAB_CHAR,m),g.push(v)}else g.push(this.dom.createTextNode(c.stringRepeat(" ",m),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var y="ace_indent-guide",x=this.showSpaces?" ace_invisible ace_invisible_space":"",C=this.showSpaces?c.stringRepeat(this.SPACE_CHAR,this.tabSize):c.stringRepeat(" ",this.tabSize),b=this.showTabs?" ace_invisible ace_invisible_tab":"",S=this.showTabs?c.stringRepeat(this.TAB_CHAR,this.tabSize):C,v=this.dom.createElement("span");v.className=y+x,v.textContent=C,this.$tabStrings[" "]=v;var v=this.dom.createElement("span");v.className=y+b,v.textContent=S,this.$tabStrings["	"]=v}},p.prototype.updateLines=function(f,g,m){if(this.config.lastRow!=f.lastRow||this.config.firstRow!=f.firstRow)return this.update(f);this.config=f;for(var v=Math.max(g,f.firstRow),y=Math.min(m,f.lastRow),x=this.element.childNodes,C=0,S=f.firstRow;S<v;S++){var I=this.session.getFoldLine(S);if(I)if(I.containsRow(v)){v=I.start.row;break}else S=I.end.row;C++}for(var b=!1,S=v,I=this.session.getNextFoldLine(S),L=I?I.start.row:1/0;S>L&&(S=I.end.row+1,I=this.session.getNextFoldLine(S,I),L=I?I.start.row:1/0),!(S>y);){var T=x[C++];if(T){this.dom.removeChildren(T),this.$renderLine(T,S,S==L?I:!1),b&&(T.style.top=this.$lines.computeLineTop(S,f,this.session)+"px");var $=f.lineHeight*this.session.getRowLength(S)+"px";T.style.height!=$&&(b=!0,T.style.height=$)}S++}if(b)for(;C<this.$lines.cells.length;){var P=this.$lines.cells[C++];P.element.style.top=this.$lines.computeLineTop(P.row,f,this.session)+"px"}},p.prototype.scrollLines=function(f){var g=this.config;if(this.config=f,this.$lines.pageChanged(g,f))return this.update(f);this.$lines.moveContainer(f);var m=f.lastRow,v=g?g.lastRow:-1;if(!g||v<f.firstRow)return this.update(f);if(m<g.firstRow)return this.update(f);if(!g||g.lastRow<f.firstRow)return this.update(f);if(f.lastRow<g.firstRow)return this.update(f);if(g.firstRow<f.firstRow)for(var y=this.session.getFoldedRowCount(g.firstRow,f.firstRow-1);y>0;y--)this.$lines.shift();if(g.lastRow>f.lastRow)for(var y=this.session.getFoldedRowCount(f.lastRow+1,g.lastRow);y>0;y--)this.$lines.pop();f.firstRow<g.firstRow&&this.$lines.unshift(this.$renderLinesFragment(f,f.firstRow,g.firstRow-1)),f.lastRow>g.lastRow&&this.$lines.push(this.$renderLinesFragment(f,g.lastRow+1,f.lastRow)),this.$highlightIndentGuide()},p.prototype.$renderLinesFragment=function(f,g,m){for(var v=[],y=g,x=this.session.getNextFoldLine(y),C=x?x.start.row:1/0;y>C&&(y=x.end.row+1,x=this.session.getNextFoldLine(y,x),C=x?x.start.row:1/0),!(y>m);){var b=this.$lines.createCell(y,f,this.session),S=b.element;this.dom.removeChildren(S),o.setStyle(S.style,"height",this.$lines.computeLineHeight(y,f,this.session)+"px"),o.setStyle(S.style,"top",this.$lines.computeLineTop(y,f,this.session)+"px"),this.$renderLine(S,y,y==C?x:!1),this.$useLineGroups()?S.className="ace_line_group":S.className="ace_line",v.push(b),y++}return v},p.prototype.update=function(f){this.$lines.moveContainer(f),this.config=f;for(var g=f.firstRow,m=f.lastRow,v=this.$lines;v.getLength();)v.pop();v.push(this.$renderLinesFragment(f,g,m))},p.prototype.$renderToken=function(f,g,m,v){for(var y=this,x=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,C=this.dom.createFragment(this.element),b,S=0;b=x.exec(v);){var I=b[1],L=b[2],T=b[3],$=b[4],P=b[5];if(!(!y.showSpaces&&L)){var k=S!=b.index?v.slice(S,b.index):"";if(S=b.index+b[0].length,k&&C.appendChild(this.dom.createTextNode(k,this.element)),I){var A=y.session.getScreenTabSize(g+b.index);C.appendChild(y.$tabStrings[A].cloneNode(!0)),g+=A-1}else if(L)if(y.showSpaces){var w=this.dom.createElement("span");w.className="ace_invisible ace_invisible_space",w.textContent=c.stringRepeat(y.SPACE_CHAR,L.length),C.appendChild(w)}else C.appendChild(this.dom.createTextNode(L,this.element));else if(T){var w=this.dom.createElement("span");w.className="ace_invisible ace_invisible_space ace_invalid",w.textContent=c.stringRepeat(y.SPACE_CHAR,T.length),C.appendChild(w)}else if($){g+=1;var w=this.dom.createElement("span");w.style.width=y.config.characterWidth*2+"px",w.className=y.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",w.textContent=y.showSpaces?y.SPACE_CHAR:$,C.appendChild(w)}else if(P){g+=1;var w=this.dom.createElement("span");w.style.width=y.config.characterWidth*2+"px",w.className="ace_cjk",w.textContent=P,C.appendChild(w)}}}if(C.appendChild(this.dom.createTextNode(S?v.slice(S):v,this.element)),u(m.type))f.appendChild(C);else{var E="ace_"+m.type.replace(/\./g," ace_"),w=this.dom.createElement("span");m.type=="fold"&&(w.style.width=m.value.length*this.config.characterWidth+"px",w.setAttribute("title",l("inline-fold.closed.title","Unfold code"))),w.className=E,w.appendChild(C),f.appendChild(w)}return g+v.length},p.prototype.renderIndentGuide=function(f,g,m){var v=g.search(this.$indentGuideRe);if(v<=0||v>=m)return g;if(g[0]==" "){v-=v%this.tabSize;for(var y=v/this.tabSize,x=0;x<y;x++)f.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),g.substr(v)}else if(g[0]=="	"){for(var x=0;x<v;x++)f.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),g.substr(v)}return this.$highlightIndentGuide(),g},p.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var f=this.session.doc.$lines;if(f){var g=this.session.selection.getCursor(),m=/^\s*/.exec(this.session.doc.getLine(g.row))[0].length,v=Math.floor(m/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:v,start:g.row};var y=this.session.$bracketHighlight;if(y){for(var x=this.session.$bracketHighlight.ranges,C=0;C<x.length;C++)if(g.row!==x[C].start.row){this.$highlightIndentGuideMarker.end=x[C].start.row+1,g.row>x[C].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&f[g.row]!==""&&g.column===f[g.row].length){this.$highlightIndentGuideMarker.dir=1;for(var C=g.row+1;C<f.length;C++){var b=f[C],S=/^\s*/.exec(b)[0].length;if(b!==""&&(this.$highlightIndentGuideMarker.end=C,S<=m))break}}this.$renderHighlightIndentGuide()}}},p.prototype.$clearActiveIndentGuide=function(){for(var f=this.element.querySelectorAll(".ace_indent-guide-active"),g=0;g<f.length;g++)f[g].classList.remove("ace_indent-guide-active")},p.prototype.$setIndentGuideActive=function(f,g){var m=this.session.doc.getLine(f.row);if(m!==""){var v=f.element;if(f.element.classList&&f.element.classList.contains("ace_line_group"))if(f.element.childNodes.length>0)v=f.element.childNodes[0];else return;var y=v.childNodes;if(y){var x=y[g-1];x&&x.classList&&x.classList.contains("ace_indent-guide")&&x.classList.add("ace_indent-guide-active")}}},p.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var f=this.$lines.cells;this.$clearActiveIndentGuide();var g=this.$highlightIndentGuideMarker.indentLevel;if(g!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var m=0;m<f.length;m++){var v=f[m];if(this.$highlightIndentGuideMarker.end&&v.row>=this.$highlightIndentGuideMarker.start+1){if(v.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(v,g)}}else for(var m=f.length-1;m>=0;m--){var v=f[m];if(this.$highlightIndentGuideMarker.end&&v.row<this.$highlightIndentGuideMarker.start){if(v.row<this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(v,g)}}}},p.prototype.$createLineElement=function(f){var g=this.dom.createElement("div");return g.className="ace_line",g.style.height=this.config.lineHeight+"px",g},p.prototype.$renderWrappedLine=function(f,g,m){var v=0,y=0,x=m[0],C=0,b=this.$createLineElement();f.appendChild(b);for(var S=0;S<g.length;S++){var I=g[S],L=I.value;if(S==0&&this.displayIndentGuides){if(v=L.length,L=this.renderIndentGuide(b,L,x),!L)continue;v-=L.length}if(v+L.length<x)C=this.$renderToken(b,C,I,L),v+=L.length;else{for(;v+L.length>=x;)C=this.$renderToken(b,C,I,L.substring(0,x-v)),L=L.substring(x-v),v=x,b=this.$createLineElement(),f.appendChild(b),b.appendChild(this.dom.createTextNode(c.stringRepeat(" ",m.indent),this.element)),y++,C=0,x=m[y]||Number.MAX_VALUE;L.length!=0&&(v+=L.length,C=this.$renderToken(b,C,I,L))}}m[m.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(b,C,null,"",!0)},p.prototype.$renderSimpleLine=function(f,g){for(var m=0,v=0;v<g.length;v++){var y=g[v],x=y.value;if(!(v==0&&this.displayIndentGuides&&(x=this.renderIndentGuide(f,x),!x))){if(m+x.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(f,m,y,x);m=this.$renderToken(f,m,y,x)}}},p.prototype.$renderOverflowMessage=function(f,g,m,v,y){m&&this.$renderToken(f,g,m,v.slice(0,this.MAX_LINE_LENGTH-g));var x=this.dom.createElement("span");x.className="ace_inline_button ace_keyword ace_toggle_wrap",x.textContent=y?"<hide>":"<click to see more...>",f.appendChild(x)},p.prototype.$renderLine=function(f,g,m){if(!m&&m!=!1&&(m=this.session.getFoldLine(g)),m)var v=this.$getFoldLineTokens(g,m);else var v=this.session.getTokens(g);var y=f;if(v.length){var x=this.session.getRowSplitData(g);if(x&&x.length){this.$renderWrappedLine(f,v,x);var y=f.lastChild}else{var y=f;this.$useLineGroups()&&(y=this.$createLineElement(),f.appendChild(y)),this.$renderSimpleLine(y,v)}}else this.$useLineGroups()&&(y=this.$createLineElement(),f.appendChild(y));if(this.showEOL&&y){m&&(g=m.end.row);var C=this.dom.createElement("span");C.className="ace_invisible ace_invisible_eol",C.textContent=g==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,y.appendChild(C)}},p.prototype.$getFoldLineTokens=function(f,g){var m=this.session,v=[];function y(C,b,S){for(var I=0,L=0;L+C[I].value.length<b;)if(L+=C[I].value.length,I++,I==C.length)return;if(L!=b){var T=C[I].value.substring(b-L);T.length>S-b&&(T=T.substring(0,S-b)),v.push({type:C[I].type,value:T}),L=b+T.length,I+=1}for(;L<S&&I<C.length;){var T=C[I].value;T.length+L>S?v.push({type:C[I].type,value:T.substring(0,S-L)}):v.push(C[I]),L+=T.length,I+=1}}var x=m.getTokens(f);return g.walk(function(C,b,S,I,L){C!=null?v.push({type:"fold",value:C}):(L&&(x=m.getTokens(b)),x.length&&y(x,I,S))},g.end.row,this.session.getLine(g.end.row).length),v},p.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},p}();h.prototype.EOF_CHAR="¶",h.prototype.EOL_CHAR_LF="¬",h.prototype.EOL_CHAR_CRLF="¤",h.prototype.EOL_CHAR=h.prototype.EOL_CHAR_LF,h.prototype.TAB_CHAR="—",h.prototype.SPACE_CHAR="·",h.prototype.$padding=0,h.prototype.MAX_LINE_LENGTH=1e4,h.prototype.showInvisibles=!1,h.prototype.showSpaces=!1,h.prototype.showTabs=!1,h.prototype.showEOL=!1,h.prototype.displayIndentGuides=!0,h.prototype.$highlightIndentGuides=!0,h.prototype.$tabStrings=[],h.prototype.destroy={},h.prototype.onChangeTabSize=h.prototype.$computeTabString,s.implement(h.prototype,d),r.Text=h}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(n,r,i){var s=n("../lib/dom"),o=function(){function c(a){this.element=s.createElement("div"),this.element.className="ace_layer ace_cursor-layer",a.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),s.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return c.prototype.$updateOpacity=function(a){for(var d=this.cursors,l=d.length;l--;)s.setStyle(d[l].style,"opacity",a?"":"0")},c.prototype.$startCssAnimation=function(){for(var a=this.cursors,d=a.length;d--;)a[d].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&s.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},c.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,s.removeCssClass(this.element,"ace_animate-blinking")},c.prototype.setPadding=function(a){this.$padding=a},c.prototype.setSession=function(a){this.session=a},c.prototype.setBlinking=function(a){a!=this.isBlinking&&(this.isBlinking=a,this.restartTimer())},c.prototype.setBlinkInterval=function(a){a!=this.blinkInterval&&(this.blinkInterval=a,this.restartTimer())},c.prototype.setSmoothBlinking=function(a){a!=this.smoothBlinking&&(this.smoothBlinking=a,s.setCssClass(this.element,"ace_smooth-blinking",a),this.$updateCursors(!0),this.restartTimer())},c.prototype.addCursor=function(){var a=s.createElement("div");return a.className="ace_cursor",this.element.appendChild(a),this.cursors.push(a),a},c.prototype.removeCursor=function(){if(this.cursors.length>1){var a=this.cursors.pop();return a.parentNode.removeChild(a),a}},c.prototype.hideCursor=function(){this.isVisible=!1,s.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},c.prototype.showCursor=function(){this.isVisible=!0,s.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},c.prototype.restartTimer=function(){var a=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,s.removeCssClass(this.element,"ace_smooth-blinking")),a(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&s.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),s.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var d=(function(){this.timeoutId=setTimeout(function(){a(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){a(!0),d()},this.blinkInterval),d()}},c.prototype.getPixelPosition=function(a,d){if(!this.config||!this.session)return{left:0,top:0};a||(a=this.session.selection.getCursor());var l=this.session.documentToScreenPosition(a),u=this.$padding+(this.session.$bidiHandler.isBidiRow(l.row,a.row)?this.session.$bidiHandler.getPosLeft(l.column):l.column*this.config.characterWidth),h=(l.row-(d?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:u,top:h}},c.prototype.isCursorInView=function(a,d){return a.top>=0&&a.top<d.maxHeight},c.prototype.update=function(a){this.config=a;var d=this.session.$selectionMarkers,l=0,u=0;(d===void 0||d.length===0)&&(d=[{cursor:null}]);for(var l=0,h=d.length;l<h;l++){var p=this.getPixelPosition(d[l].cursor,!0);if(!((p.top>a.height+a.offset||p.top<0)&&l>1)){var f=this.cursors[u++]||this.addCursor(),g=f.style;this.drawCursor?this.drawCursor(f,p,a,d[l],this.session):this.isCursorInView(p,a)?(s.setStyle(g,"display","block"),s.translate(f,p.left,p.top),s.setStyle(g,"width",Math.round(a.characterWidth)+"px"),s.setStyle(g,"height",a.lineHeight+"px")):s.setStyle(g,"display","none")}}for(;this.cursors.length>u;)this.removeCursor();var m=this.session.getOverwrite();this.$setOverwrite(m),this.$pixelPos=p,this.restartTimer()},c.prototype.$setOverwrite=function(a){a!=this.overwrite&&(this.overwrite=a,a?s.addCssClass(this.element,"ace_overwrite-cursors"):s.removeCssClass(this.element,"ace_overwrite-cursors"))},c.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},c}();o.prototype.$padding=0,o.prototype.drawCursor=null,r.Cursor=o}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,r,i){var s=this&&this.__extends||function(){var f=function(g,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var x in y)Object.prototype.hasOwnProperty.call(y,x)&&(v[x]=y[x])},f(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(g,m);function v(){this.constructor=g}g.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),o=n("./lib/oop"),c=n("./lib/dom"),a=n("./lib/event"),d=n("./lib/event_emitter").EventEmitter,l=32768,u=function(){function f(g,m){this.element=c.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+m,this.inner=c.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent=" ",this.element.appendChild(this.inner),g.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,a.addListener(this.element,"scroll",this.onScroll.bind(this)),a.addListener(this.element,"mousedown",a.preventDefault)}return f.prototype.setVisible=function(g){this.element.style.display=g?"":"none",this.isVisible=g,this.coeff=1},f}();o.implement(u.prototype,d);var h=function(f){s(g,f);function g(m,v){var y=f.call(this,m,"-v")||this;return y.scrollTop=0,y.scrollHeight=0,v.$scrollbarWidth=y.width=c.scrollbarWidth(m.ownerDocument),y.inner.style.width=y.element.style.width=(y.width||15)+5+"px",y.$minWidth=0,y}return g.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var m=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-m)/(this.coeff-m)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},g.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},g.prototype.setHeight=function(m){this.element.style.height=m+"px"},g.prototype.setScrollHeight=function(m){this.scrollHeight=m,m>l?(this.coeff=l/m,m=l):this.coeff!=1&&(this.coeff=1),this.inner.style.height=m+"px"},g.prototype.setScrollTop=function(m){this.scrollTop!=m&&(this.skipEvent=!0,this.scrollTop=m,this.element.scrollTop=m*this.coeff)},g}(u);h.prototype.setInnerHeight=h.prototype.setScrollHeight;var p=function(f){s(g,f);function g(m,v){var y=f.call(this,m,"-h")||this;return y.scrollLeft=0,y.height=v.$scrollbarWidth,y.inner.style.height=y.element.style.height=(y.height||15)+5+"px",y}return g.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},g.prototype.getHeight=function(){return this.isVisible?this.height:0},g.prototype.setWidth=function(m){this.element.style.width=m+"px"},g.prototype.setInnerWidth=function(m){this.inner.style.width=m+"px"},g.prototype.setScrollWidth=function(m){this.inner.style.width=m+"px"},g.prototype.setScrollLeft=function(m){this.scrollLeft!=m&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=m)},g}(u);r.ScrollBar=h,r.ScrollBarV=h,r.ScrollBarH=p,r.VScrollBar=h,r.HScrollBar=p}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,r,i){var s=this&&this.__extends||function(){var p=function(f,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(m[y]=v[y])},p(f,g)};return function(f,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(f,g);function m(){this.constructor=f}f.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),o=n("./lib/oop"),c=n("./lib/dom"),a=n("./lib/event"),d=n("./lib/event_emitter").EventEmitter;c.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var l=function(){function p(f,g){this.element=c.createElement("div"),this.element.className="ace_sb"+g,this.inner=c.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,f.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,a.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return p.prototype.setVisible=function(f){this.element.style.display=f?"":"none",this.isVisible=f,this.coeff=1},p}();o.implement(l.prototype,d);var u=function(p){s(f,p);function f(g,m){var v=p.call(this,g,"-v")||this;return v.scrollTop=0,v.scrollHeight=0,v.parent=g,v.width=v.VScrollWidth,v.renderer=m,v.inner.style.width=v.element.style.width=(v.width||15)+"px",v.$minWidth=0,v}return f.prototype.onMouseDown=function(g,m){if(g==="mousedown"&&!(a.getButton(m)!==0||m.detail===2)){if(m.target===this.inner){var v=this,y=m.clientY,x=function($){y=$.clientY},C=function(){clearInterval(L)},b=m.clientY,S=this.thumbTop,I=function(){if(y!==void 0){var $=v.scrollTopFromThumbTop(S+y-b);$!==v.scrollTop&&v._emit("scroll",{data:$})}};a.capture(this.inner,x,C);var L=setInterval(I,20);return a.preventDefault(m)}var T=m.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(T)}),a.preventDefault(m)}},f.prototype.getHeight=function(){return this.height},f.prototype.scrollTopFromThumbTop=function(g){var m=g*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return m=m>>0,m<0?m=0:m>this.pageHeight-this.viewHeight&&(m=this.pageHeight-this.viewHeight),m},f.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},f.prototype.setHeight=function(g){this.height=Math.max(0,g),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},f.prototype.setScrollHeight=function(g,m){this.pageHeight===g&&!m||(this.pageHeight=g,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},f.prototype.setScrollTop=function(g){this.scrollTop=g,g<0&&(g=0),this.thumbTop=g*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},f}(l);u.prototype.setInnerHeight=u.prototype.setScrollHeight;var h=function(p){s(f,p);function f(g,m){var v=p.call(this,g,"-h")||this;return v.scrollLeft=0,v.scrollWidth=0,v.height=v.HScrollHeight,v.inner.style.height=v.element.style.height=(v.height||12)+"px",v.renderer=m,v}return f.prototype.onMouseDown=function(g,m){if(g==="mousedown"&&!(a.getButton(m)!==0||m.detail===2)){if(m.target===this.inner){var v=this,y=m.clientX,x=function($){y=$.clientX},C=function(){clearInterval(L)},b=m.clientX,S=this.thumbLeft,I=function(){if(y!==void 0){var $=v.scrollLeftFromThumbLeft(S+y-b);$!==v.scrollLeft&&v._emit("scroll",{data:$})}};a.capture(this.inner,x,C);var L=setInterval(I,20);return a.preventDefault(m)}var T=m.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(T)}),a.preventDefault(m)}},f.prototype.getHeight=function(){return this.isVisible?this.height:0},f.prototype.scrollLeftFromThumbLeft=function(g){var m=g*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return m=m>>0,m<0?m=0:m>this.pageWidth-this.viewWidth&&(m=this.pageWidth-this.viewWidth),m},f.prototype.setWidth=function(g){this.width=Math.max(0,g),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},f.prototype.setScrollWidth=function(g,m){this.pageWidth===g&&!m||(this.pageWidth=g,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},f.prototype.setScrollLeft=function(g){this.scrollLeft=g,g<0&&(g=0),this.thumbLeft=g*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},f}(l);h.prototype.setInnerWidth=h.prototype.setScrollWidth,r.ScrollBar=u,r.ScrollBarV=u,r.ScrollBarH=h,r.VScrollBar=u,r.HScrollBar=h}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(n,r,i){var s=n("./lib/event"),o=function(){function c(a,d){this.onRender=a,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=d||window;var l=this;this._flush=function(u){l.pending=!1;var h=l.changes;if(h&&(s.blockIdle(100),l.changes=0,l.onRender(h)),l.changes){if(l.$recursionLimit--<0)return;l.schedule()}else l.$recursionLimit=2}}return c.prototype.schedule=function(a){this.changes=this.changes|a,this.changes&&!this.pending&&(s.nextFrame(this._flush),this.pending=!0)},c.prototype.clear=function(a){var d=this.changes;return this.changes=0,d},c}();r.RenderLoop=o}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(n,r,i){var s=n("../lib/oop"),o=n("../lib/dom"),c=n("../lib/lang"),a=n("../lib/event"),d=n("../lib/useragent"),l=n("../lib/event_emitter").EventEmitter,u=512,h=typeof ResizeObserver=="function",p=200,f=function(){function g(m){this.el=o.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=o.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=o.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),m.appendChild(this.el),this.$measureNode.textContent=c.stringRepeat("X",u),this.$characterSize={width:0,height:0},h?this.$addObserver():this.checkForSizeChanges()}return g.prototype.$setMeasureNodeStyles=function(m,v){m.width=m.height="auto",m.left=m.top="0px",m.visibility="hidden",m.position="absolute",m.whiteSpace="pre",d.isIE<8?m["font-family"]="inherit":m.font="inherit",m.overflow=v?"hidden":"visible"},g.prototype.checkForSizeChanges=function(m){if(m===void 0&&(m=this.$measureSizes()),m&&(this.$characterSize.width!==m.width||this.$characterSize.height!==m.height)){this.$measureNode.style.fontWeight="bold";var v=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=m,this.charSizes=Object.create(null),this.allowBoldFonts=v&&v.width===m.width&&v.height===m.height,this._emit("changeCharacterSize",{data:m})}},g.prototype.$addObserver=function(){var m=this;this.$observer=new window.ResizeObserver(function(v){m.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},g.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var m=this;return this.$pollSizeChangesTimer=a.onIdle(function v(){m.checkForSizeChanges(),a.onIdle(v,500)},500)},g.prototype.setPolling=function(m){m?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},g.prototype.$measureSizes=function(m){var v={height:(m||this.$measureNode).clientHeight,width:(m||this.$measureNode).clientWidth/u};return v.width===0||v.height===0?null:v},g.prototype.$measureCharWidth=function(m){this.$main.textContent=c.stringRepeat(m,u);var v=this.$main.getBoundingClientRect();return v.width/u},g.prototype.getCharacterWidth=function(m){var v=this.charSizes[m];return v===void 0&&(v=this.charSizes[m]=this.$measureCharWidth(m)/this.$characterSize.width),v},g.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},g.prototype.$getZoom=function(m){return!m||!m.parentElement?1:(Number(window.getComputedStyle(m).zoom)||1)*this.$getZoom(m.parentElement)},g.prototype.$initTransformMeasureNodes=function(){var m=function(v,y){return["div",{style:"position: absolute;top:"+v+"px;left:"+y+"px;"}]};this.els=o.buildDom([m(0,0),m(p,0),m(0,p),m(p,p)],this.el)},g.prototype.transformCoordinates=function(m,v){if(m){var y=this.$getZoom(this.el);m=S(1/y,m)}function x(N,F,G){var z=N[1]*F[0]-N[0]*F[1];return[(-F[1]*G[0]+F[0]*G[1])/z,(+N[1]*G[0]-N[0]*G[1])/z]}function C(N,F){return[N[0]-F[0],N[1]-F[1]]}function b(N,F){return[N[0]+F[0],N[1]+F[1]]}function S(N,F){return[N*F[0],N*F[1]]}this.els||this.$initTransformMeasureNodes();function I(N){var F=N.getBoundingClientRect();return[F.left,F.top]}var L=I(this.els[0]),T=I(this.els[1]),$=I(this.els[2]),P=I(this.els[3]),k=x(C(P,T),C(P,$),C(b(T,$),b(P,L))),A=S(1+k[0],C(T,L)),w=S(1+k[1],C($,L));if(v){var E=v,_=k[0]*E[0]/p+k[1]*E[1]/p+1,R=b(S(E[0],A),S(E[1],w));return b(S(1/_/p,R),L)}var M=C(m,L),O=x(C(A,S(k[0],M)),C(w,S(k[1],M)),M);return S(p,O)},g}();f.prototype.$characterSize={width:0,height:0},s.implement(f.prototype,l),r.FontMetrics=f}),ace.define("ace/css/editor-css",["require","exports","module"],function(n,r,i){i.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}
.ace_invisible {
    font-variant-ligatures: none;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(33em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget, .ace_custom-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
    pointer-events: auto;
}

.ace_custom-widget {
    background: none;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "↩";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(n,r,i){var s=n("../lib/dom"),o=n("../lib/oop"),c=n("../lib/event_emitter").EventEmitter,a=function(){function d(l,u){this.renderer=u,this.pixelRatio=1,this.maxHeight=u.layerConfig.maxHeight,this.lineHeight=u.layerConfig.lineHeight,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},this.setScrollBarV(l)}return d.prototype.$createCanvas=function(){this.canvas=s.createElement("canvas"),this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7",this.canvas.style.position="absolute"},d.prototype.setScrollBarV=function(l){this.$createCanvas(),this.scrollbarV=l,l.element.appendChild(this.canvas),this.setDimensions()},d.prototype.$updateDecorators=function(l){if(typeof this.canvas.getContext!="function")return;var u=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;this.setDimensions(l);var h=this.canvas.getContext("2d");function p(A,w){return A.priority<w.priority?-1:A.priority>w.priority?1:0}var f=this.renderer.session.$annotations;if(h.clearRect(0,0,this.canvas.width,this.canvas.height),f){var g={info:1,warning:2,error:3};f.forEach(function(A){A.priority=g[A.type]||null}),f=f.sort(p);for(var m=0;m<f.length;m++){var v=f[m].row,y=this.getVerticalOffsetForRow(v),x=y+this.lineHeight,C=Math.round(this.heightRatio*y),b=Math.round(this.heightRatio*x),S=Math.round((C+b)/2),I=b-S;I<this.halfMinDecorationHeight&&(I=this.halfMinDecorationHeight),S-I<0&&(S=I),S+I>this.canvasHeight&&(S=this.canvasHeight-I);var L=S-I,T=S+I,$=T-L;h.fillStyle=u[f[m].type]||null,h.fillRect(0,L,Math.round(this.oneZoneWidth-1),$)}}var P=this.renderer.session.selection.getCursor();if(P){var k=Math.round(this.getVerticalOffsetForRow(P.row)*this.heightRatio);h.fillStyle="rgba(0, 0, 0, 0.5)",h.fillRect(0,k,this.canvasWidth,2)}},d.prototype.getVerticalOffsetForRow=function(l){l=l|0;var u=this.renderer.session.documentToScreenRow(l,0)*this.lineHeight;return u},d.prototype.setDimensions=function(l){l=l||this.renderer.layerConfig,this.maxHeight=l.maxHeight,this.lineHeight=l.lineHeight,this.canvasHeight=l.height,this.canvasWidth=this.scrollbarV.width||this.canvasWidth,this.setZoneWidth(),this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.maxHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight},d.prototype.setZoneWidth=function(){this.oneZoneWidth=this.canvasWidth},d.prototype.destroy=function(){this.canvas.parentNode.removeChild(this.canvas)},d}();o.implement(a.prototype,c),r.Decorator=a}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(n,r,i){var s=n("./lib/oop"),o=n("./lib/dom"),c=n("./lib/lang"),a=n("./config"),d=n("./layer/gutter").Gutter,l=n("./layer/marker").Marker,u=n("./layer/text").Text,h=n("./layer/cursor").Cursor,p=n("./scrollbar").HScrollBar,f=n("./scrollbar").VScrollBar,g=n("./scrollbar_custom").HScrollBar,m=n("./scrollbar_custom").VScrollBar,v=n("./renderloop").RenderLoop,y=n("./layer/font_metrics").FontMetrics,x=n("./lib/event_emitter").EventEmitter,C=n("./css/editor-css"),b=n("./layer/decorators").Decorator,S=n("./lib/useragent"),I=n("./layer/text_util").isTextToken;o.importCssString(C,"ace_editor.css",!1);var L=function(){function T($,P){var k=this;this.container=$||o.createElement("div"),o.addCssClass(this.container,"ace_editor"),o.HI_DPI&&o.addCssClass(this.container,"ace_hidpi"),this.setTheme(P),a.get("useStrictCSP")==null&&a.set("useStrictCSP",!1),this.$gutter=o.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=o.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=o.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new d(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var A=this.$textLayer=new u(this.content);this.canvas=A.element,this.$markerFront=new l(this.content),this.$cursorLayer=new h(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new f(this.container,this),this.scrollBarH=new p(this.container,this),this.scrollBarV.on("scroll",function(w){k.$scrollAnimation||k.session.setScrollTop(w.data-k.scrollMargin.top)}),this.scrollBarH.on("scroll",function(w){k.$scrollAnimation||k.session.setScrollLeft(w.data-k.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new y(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(w){k.updateCharacterSize(),k.onResize(!0,k.gutterWidth,k.$size.width,k.$size.height),k._signal("changeCharacterSize",w)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!S.isIOS,this.$loop=new v(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),a.resetOptions(this),a._signal("renderer",this)}return T.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),o.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},T.prototype.setSession=function($){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=$,$&&this.scrollMargin.top&&$.getScrollTop()<=0&&$.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession($),this.$markerBack.setSession($),this.$markerFront.setSession($),this.$gutterLayer.setSession($),this.$textLayer.setSession($),$&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},T.prototype.updateLines=function($,P,k){if(P===void 0&&(P=1/0),this.$changedLines?(this.$changedLines.firstRow>$&&(this.$changedLines.firstRow=$),this.$changedLines.lastRow<P&&(this.$changedLines.lastRow=P)):this.$changedLines={firstRow:$,lastRow:P},this.$changedLines.lastRow<this.layerConfig.firstRow)if(k)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},T.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},T.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},T.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},T.prototype.updateFull=function($){$?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},T.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},T.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},T.prototype.onResize=function($,P,k,A){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=$?1:0;var w=this.container;A||(A=w.clientHeight||w.scrollHeight),!A&&this.$maxLines&&this.lineHeight>1&&(!w.style.height||w.style.height=="0px")&&(w.style.height="1px",A=w.clientHeight||w.scrollHeight),k||(k=w.clientWidth||w.scrollWidth);var E=this.$updateCachedSize($,P,k,A);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!k&&!A)return this.resizing=0;$&&(this.$gutterLayer.$padding=null),$?this.$renderChanges(E|this.$changes,!0):this.$loop.schedule(E|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},T.prototype.$updateCachedSize=function($,P,k,A){A-=this.$extraHeight||0;var w=0,E=this.$size,_={width:E.width,height:E.height,scrollerHeight:E.scrollerHeight,scrollerWidth:E.scrollerWidth};if(A&&($||E.height!=A)&&(E.height=A,w|=this.CHANGE_SIZE,E.scrollerHeight=E.height,this.$horizScroll&&(E.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(E.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",w=w|this.CHANGE_SCROLL),k&&($||E.width!=k)){w|=this.CHANGE_SIZE,E.width=k,P==null&&(P=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=P,o.setStyle(this.scrollBarH.element.style,"left",P+"px"),o.setStyle(this.scroller.style,"left",P+this.margin.left+"px"),E.scrollerWidth=Math.max(0,k-P-this.scrollBarV.getWidth()-this.margin.h),o.setStyle(this.$gutter.style,"left",this.margin.left+"px");var R=this.scrollBarV.getWidth()+"px";o.setStyle(this.scrollBarH.element.style,"right",R),o.setStyle(this.scroller.style,"right",R),o.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(E.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||$)&&(w|=this.CHANGE_FULL)}return E.$dirty=!k||!A,w&&this._signal("resize",_),w},T.prototype.onGutterResize=function($){var P=this.$showGutter?$:0;P!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,P,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},T.prototype.adjustWrapLimit=function(){var $=this.$size.scrollerWidth-this.$padding*2,P=Math.floor($/this.characterWidth);return this.session.adjustWrapLimit(P,this.$showPrintMargin&&this.$printMarginColumn)},T.prototype.setAnimatedScroll=function($){this.setOption("animatedScroll",$)},T.prototype.getAnimatedScroll=function(){return this.$animatedScroll},T.prototype.setShowInvisibles=function($){this.setOption("showInvisibles",$),this.session.$bidiHandler.setShowInvisibles($)},T.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},T.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},T.prototype.setDisplayIndentGuides=function($){this.setOption("displayIndentGuides",$)},T.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},T.prototype.setHighlightIndentGuides=function($){this.setOption("highlightIndentGuides",$)},T.prototype.setShowPrintMargin=function($){this.setOption("showPrintMargin",$)},T.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},T.prototype.setPrintMarginColumn=function($){this.setOption("printMarginColumn",$)},T.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},T.prototype.getShowGutter=function(){return this.getOption("showGutter")},T.prototype.setShowGutter=function($){return this.setOption("showGutter",$)},T.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},T.prototype.setFadeFoldWidgets=function($){this.setOption("fadeFoldWidgets",$)},T.prototype.setHighlightGutterLine=function($){this.setOption("highlightGutterLine",$)},T.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},T.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var $=o.createElement("div");$.className="ace_layer ace_print-margin-layer",this.$printMarginEl=o.createElement("div"),this.$printMarginEl.className="ace_print-margin",$.appendChild(this.$printMarginEl),this.content.insertBefore($,this.content.firstChild)}var P=this.$printMarginEl.style;P.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",P.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},T.prototype.getContainerElement=function(){return this.container},T.prototype.getMouseEventTarget=function(){return this.scroller},T.prototype.getTextAreaContainer=function(){return this.container},T.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var $=this.textarea.style,P=this.$composition;if(!this.$keepTextAreaAtCursor&&!P){o.translate(this.textarea,-100,0);return}var k=this.$cursorLayer.$pixelPos;if(k){P&&P.markerRange&&(k=this.$cursorLayer.getPixelPosition(P.markerRange.start,!0));var A=this.layerConfig,w=k.top,E=k.left;w-=A.offset;var _=P&&P.useTextareaForIME||S.isMobile?this.lineHeight:1;if(w<0||w>A.height-_){o.translate(this.textarea,0,0);return}var R=1,M=this.$size.height-_;if(!P)w+=this.lineHeight;else if(P.useTextareaForIME){var O=this.textarea.value;R=this.characterWidth*this.session.$getStringScreenWidth(O)[0]}else w+=this.lineHeight+2;E-=this.scrollLeft,E>this.$size.scrollerWidth-R&&(E=this.$size.scrollerWidth-R),E+=this.gutterWidth+this.margin.left,o.setStyle($,"height",_+"px"),o.setStyle($,"width",R+"px"),o.translate(this.textarea,Math.min(E,this.$size.scrollerWidth-R),Math.min(w,M))}}},T.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},T.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},T.prototype.getLastFullyVisibleRow=function(){var $=this.layerConfig,P=$.lastRow,k=this.session.documentToScreenRow(P,0)*$.lineHeight;return k-this.session.getScrollTop()>$.height-$.lineHeight?P-1:P},T.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},T.prototype.setPadding=function($){this.$padding=$,this.$textLayer.setPadding($),this.$cursorLayer.setPadding($),this.$markerFront.setPadding($),this.$markerBack.setPadding($),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},T.prototype.setScrollMargin=function($,P,k,A){var w=this.scrollMargin;w.top=$|0,w.bottom=P|0,w.right=A|0,w.left=k|0,w.v=w.top+w.bottom,w.h=w.left+w.right,w.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-w.top),this.updateFull()},T.prototype.setMargin=function($,P,k,A){var w=this.margin;w.top=$|0,w.bottom=P|0,w.right=A|0,w.left=k|0,w.v=w.top+w.bottom,w.h=w.left+w.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},T.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},T.prototype.setHScrollBarAlwaysVisible=function($){this.setOption("hScrollBarAlwaysVisible",$)},T.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},T.prototype.setVScrollBarAlwaysVisible=function($){this.setOption("vScrollBarAlwaysVisible",$)},T.prototype.$updateScrollBarV=function(){var $=this.layerConfig.maxHeight,P=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&($-=(P-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>$-P&&($=this.scrollTop+P,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight($+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},T.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},T.prototype.freeze=function(){this.$frozen=!0},T.prototype.unfreeze=function(){this.$frozen=!1},T.prototype.$renderChanges=function($,P){if(this.$changes&&($|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!$&&!P){this.$changes|=$;return}if(this.$size.$dirty)return this.$changes|=$,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",$),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var k=this.layerConfig;if($&this.CHANGE_FULL||$&this.CHANGE_SIZE||$&this.CHANGE_TEXT||$&this.CHANGE_LINES||$&this.CHANGE_SCROLL||$&this.CHANGE_H_SCROLL){if($|=this.$computeLayerConfig()|this.$loop.clear(),k.firstRow!=this.layerConfig.firstRow&&k.firstRowScreen==this.layerConfig.firstRowScreen){var A=this.scrollTop+(k.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;A>0&&(this.scrollTop=A,$=$|this.CHANGE_SCROLL,$|=this.$computeLayerConfig()|this.$loop.clear())}k=this.layerConfig,this.$updateScrollBarV(),$&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),o.translate(this.content,-this.scrollLeft,-k.offset);var w=k.width+2*this.$padding+"px",E=k.minHeight+"px";o.setStyle(this.content.style,"width",w),o.setStyle(this.content.style,"height",E)}if($&this.CHANGE_H_SCROLL&&(o.translate(this.content,-this.scrollLeft,-k.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),$&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(k),this.$showGutter&&this.$gutterLayer.update(k),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(k),this.$markerBack.update(k),this.$markerFront.update(k),this.$cursorLayer.update(k),this.$moveTextAreaToCursor(),this._signal("afterRender",$);return}if($&this.CHANGE_SCROLL){this.$changedLines=null,$&this.CHANGE_TEXT||$&this.CHANGE_LINES?this.$textLayer.update(k):this.$textLayer.scrollLines(k),this.$showGutter&&($&this.CHANGE_GUTTER||$&this.CHANGE_LINES?this.$gutterLayer.update(k):this.$gutterLayer.scrollLines(k)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(k),this.$markerBack.update(k),this.$markerFront.update(k),this.$cursorLayer.update(k),this.$moveTextAreaToCursor(),this._signal("afterRender",$);return}$&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(k),this.$showGutter&&this.$gutterLayer.update(k),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(k)):$&this.CHANGE_LINES?((this.$updateLines()||$&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(k),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(k)):$&this.CHANGE_TEXT||$&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(k),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(k)):$&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(k),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(k)),$&this.CHANGE_CURSOR&&(this.$cursorLayer.update(k),this.$moveTextAreaToCursor()),$&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(k),$&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(k),this._signal("afterRender",$)},T.prototype.$autosize=function(){var $=this.session.getScreenLength()*this.lineHeight,P=this.$maxLines*this.lineHeight,k=Math.min(P,Math.max((this.$minLines||1)*this.lineHeight,$))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(k+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&k>this.$maxPixelHeight&&(k=this.$maxPixelHeight);var A=k<=2*this.lineHeight,w=!A&&$>P;if(k!=this.desiredHeight||this.$size.height!=this.desiredHeight||w!=this.$vScroll){w!=this.$vScroll&&(this.$vScroll=w,this.scrollBarV.setVisible(w));var E=this.container.clientWidth;this.container.style.height=k+"px",this.$updateCachedSize(!0,this.$gutterWidth,E,k),this.desiredHeight=k,this._signal("autosize")}},T.prototype.$computeLayerConfig=function(){var $=this.session,P=this.$size,k=P.height<=2*this.lineHeight,A=this.session.getScreenLength(),w=A*this.lineHeight,E=this.$getLongestLine(),_=!k&&(this.$hScrollBarAlwaysVisible||P.scrollerWidth-E-2*this.$padding<0),R=this.$horizScroll!==_;R&&(this.$horizScroll=_,this.scrollBarH.setVisible(_));var M=this.$vScroll;this.$maxLines&&this.lineHeight>1&&(this.$autosize(),k=P.height<=2*this.lineHeight);var O=P.scrollerHeight+this.lineHeight,N=!this.$maxLines&&this.$scrollPastEnd?(P.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;w+=N;var F=this.scrollMargin;this.session.setScrollTop(Math.max(-F.top,Math.min(this.scrollTop,w-P.scrollerHeight+F.bottom))),this.session.setScrollLeft(Math.max(-F.left,Math.min(this.scrollLeft,E+2*this.$padding-P.scrollerWidth+F.right)));var G=!k&&(this.$vScrollBarAlwaysVisible||P.scrollerHeight-w+N<0||this.scrollTop>F.top),z=M!==G;z&&(this.$vScroll=G,this.scrollBarV.setVisible(G));var j=this.scrollTop%this.lineHeight,V=Math.ceil(O/this.lineHeight)-1,Z=Math.max(0,Math.round((this.scrollTop-j)/this.lineHeight)),X=Z+V,Y,Q,te=this.lineHeight;Z=$.screenToDocumentRow(Z,0);var re=$.getFoldLine(Z);re&&(Z=re.start.row),Y=$.documentToScreenRow(Z,0),Q=$.getRowLength(Z)*te,X=Math.min($.screenToDocumentRow(X,0),$.getLength()-1),O=P.scrollerHeight+$.getRowLength(X)*te+Q,j=this.scrollTop-Y*te,j<0&&Y>0&&(Y=Math.max(0,Y+Math.floor(j/te)),j=this.scrollTop-Y*te);var pe=0;return(this.layerConfig.width!=E||R)&&(pe=this.CHANGE_H_SCROLL),(R||z)&&(pe|=this.$updateCachedSize(!0,this.gutterWidth,P.width,P.height),this._signal("scrollbarVisibilityChanged"),z&&(E=this.$getLongestLine())),this.layerConfig={width:E,padding:this.$padding,firstRow:Z,firstRowScreen:Y,lastRow:X,lineHeight:te,characterWidth:this.characterWidth,minHeight:O,maxHeight:w,offset:j,gutterOffset:te?Math.max(0,Math.ceil((j+P.height-P.scrollerHeight)/te)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(E-this.$padding),pe},T.prototype.$updateLines=function(){if(this.$changedLines){var $=this.$changedLines.firstRow,P=this.$changedLines.lastRow;this.$changedLines=null;var k=this.layerConfig;if(!($>k.lastRow+1)&&!(P<k.firstRow)){if(P===1/0){this.$showGutter&&this.$gutterLayer.update(k),this.$textLayer.update(k);return}return this.$textLayer.updateLines(k,$,P),!0}}},T.prototype.$getLongestLine=function(){var $=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&($+=1),this.$textLayer&&$>this.$textLayer.MAX_LINE_LENGTH&&($=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round($*this.characterWidth))},T.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},T.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},T.prototype.addGutterDecoration=function($,P){this.$gutterLayer.addGutterDecoration($,P)},T.prototype.removeGutterDecoration=function($,P){this.$gutterLayer.removeGutterDecoration($,P)},T.prototype.updateBreakpoints=function($){this._rows=$,this.$loop.schedule(this.CHANGE_GUTTER)},T.prototype.setAnnotations=function($){this.$gutterLayer.setAnnotations($),this.$loop.schedule(this.CHANGE_GUTTER)},T.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},T.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},T.prototype.showCursor=function(){this.$cursorLayer.showCursor()},T.prototype.scrollSelectionIntoView=function($,P,k){this.scrollCursorIntoView($,k),this.scrollCursorIntoView(P,k)},T.prototype.scrollCursorIntoView=function($,P,k){if(this.$size.scrollerHeight!==0){var A=this.$cursorLayer.getPixelPosition($),w=A.left,E=A.top,_=k&&k.top||0,R=k&&k.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var M=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;M+_>E?(P&&M+_>E+this.lineHeight&&(E-=P*this.$size.scrollerHeight),E===0&&(E=-this.scrollMargin.top),this.session.setScrollTop(E)):M+this.$size.scrollerHeight-R<E+this.lineHeight&&(P&&M+this.$size.scrollerHeight-R<E-this.lineHeight&&(E+=P*this.$size.scrollerHeight),this.session.setScrollTop(E+this.lineHeight+R-this.$size.scrollerHeight));var O=this.scrollLeft,N=2*this.layerConfig.characterWidth;w-N<O?(w-=N,w<this.$padding+N&&(w=-this.scrollMargin.left),this.session.setScrollLeft(w)):(w+=N,O+this.$size.scrollerWidth<w+this.characterWidth?this.session.setScrollLeft(Math.round(w+this.characterWidth-this.$size.scrollerWidth)):O<=this.$padding&&w-O<this.characterWidth&&this.session.setScrollLeft(0))}},T.prototype.getScrollTop=function(){return this.session.getScrollTop()},T.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},T.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},T.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},T.prototype.scrollToRow=function($){this.session.setScrollTop($*this.lineHeight)},T.prototype.alignCursor=function($,P){typeof $=="number"&&($={row:$,column:0});var k=this.$cursorLayer.getPixelPosition($),A=this.$size.scrollerHeight-this.lineHeight,w=k.top-A*(P||0);return this.session.setScrollTop(w),w},T.prototype.$calcSteps=function($,P){var k=0,A=this.STEPS,w=[],E=function(_,R,M){return M*(Math.pow(_-1,3)+1)+R};for(k=0;k<A;++k)w.push(E(k/this.STEPS,$,P-$));return w},T.prototype.scrollToLine=function($,P,k,A){var w=this.$cursorLayer.getPixelPosition({row:$,column:0}),E=w.top;P&&(E-=this.$size.scrollerHeight/2);var _=this.scrollTop;this.session.setScrollTop(E),k!==!1&&this.animateScrolling(_,A)},T.prototype.animateScrolling=function($,P){var k=this.scrollTop;if(!this.$animatedScroll)return;var A=this;if($==k)return;if(this.$scrollAnimation){var w=this.$scrollAnimation.steps;if(w.length&&($=w[0],$==k))return}var E=A.$calcSteps($,k);this.$scrollAnimation={from:$,to:k,steps:E},clearInterval(this.$timer),A.session.setScrollTop(E.shift()),A.session.$scrollTop=k;function _(){A.$timer=clearInterval(A.$timer),A.$scrollAnimation=null,A.$stopAnimation=!1,P&&P()}this.$timer=setInterval(function(){if(A.$stopAnimation){_();return}if(!A.session)return clearInterval(A.$timer);E.length?(A.session.setScrollTop(E.shift()),A.session.$scrollTop=k):k!=null?(A.session.$scrollTop=-1,A.session.setScrollTop(k),k=null):_()},10)},T.prototype.scrollToY=function($){this.scrollTop!==$&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=$)},T.prototype.scrollToX=function($){this.scrollLeft!==$&&(this.scrollLeft=$),this.$loop.schedule(this.CHANGE_H_SCROLL)},T.prototype.scrollTo=function($,P){this.session.setScrollTop(P),this.session.setScrollLeft($)},T.prototype.scrollBy=function($,P){P&&this.session.setScrollTop(this.session.getScrollTop()+P),$&&this.session.setScrollLeft(this.session.getScrollLeft()+$)},T.prototype.isScrollableBy=function($,P){if(P<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||P>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||$<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||$>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},T.prototype.pixelToScreenCoordinates=function($,P){var k;if(this.$hasCssTransforms){k={top:0,left:0};var A=this.$fontMetrics.transformCoordinates([$,P]);$=A[1]-this.gutterWidth-this.margin.left,P=A[0]}else k=this.scroller.getBoundingClientRect();var w=$+this.scrollLeft-k.left-this.$padding,E=w/this.characterWidth,_=Math.floor((P+this.scrollTop-k.top)/this.lineHeight),R=this.$blockCursor?Math.floor(E):Math.round(E);return{row:_,column:R,side:E-R>0?1:-1,offsetX:w}},T.prototype.screenToTextCoordinates=function($,P){var k;if(this.$hasCssTransforms){k={top:0,left:0};var A=this.$fontMetrics.transformCoordinates([$,P]);$=A[1]-this.gutterWidth-this.margin.left,P=A[0]}else k=this.scroller.getBoundingClientRect();var w=$+this.scrollLeft-k.left-this.$padding,E=w/this.characterWidth,_=this.$blockCursor?Math.floor(E):Math.round(E),R=Math.floor((P+this.scrollTop-k.top)/this.lineHeight);return this.session.screenToDocumentPosition(R,Math.max(_,0),w)},T.prototype.textToScreenCoordinates=function($,P){var k=this.scroller.getBoundingClientRect(),A=this.session.documentToScreenPosition($,P),w=this.$padding+(this.session.$bidiHandler.isBidiRow(A.row,$)?this.session.$bidiHandler.getPosLeft(A.column):Math.round(A.column*this.characterWidth)),E=A.row*this.lineHeight;return{pageX:k.left+w-this.scrollLeft,pageY:k.top+E-this.scrollTop}},T.prototype.visualizeFocus=function(){o.addCssClass(this.container,"ace_focus")},T.prototype.visualizeBlur=function(){o.removeCssClass(this.container,"ace_focus")},T.prototype.showComposition=function($){this.$composition=$,$.cssText||($.cssText=this.textarea.style.cssText),$.useTextareaForIME==null&&($.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(o.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):$.markerId=this.session.addMarker($.markerRange,"ace_composition_marker","text")},T.prototype.setCompositionText=function($){var P=this.session.selection.cursor;this.addToken($,"composition_placeholder",P.row,P.column),this.$moveTextAreaToCursor()},T.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),o.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var $=this.session.selection.cursor;this.removeExtraToken($.row,$.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},T.prototype.setGhostText=function($,P){var k=this.session.selection.cursor,A=P||{row:k.row,column:k.column};this.removeGhostText();var w=this.$calculateWrappedTextChunks($,A);this.addToken(w[0].text,"ghost_text",A.row,A.column),this.$ghostText={text:$,position:{row:A.row,column:A.column}};var E=o.createElement("div");if(w.length>1){var _=this.hideTokensAfterPosition(A.row,A.column),R;w.slice(1).forEach(function(z){var j=o.createElement("div"),V=o.createElement("span");V.className="ace_ghost_text",z.wrapped&&(j.className="ghost_text_line_wrapped"),z.text.length===0&&(z.text=" "),V.appendChild(o.createTextNode(z.text)),j.appendChild(V),E.appendChild(j),R=j}),_.forEach(function(z){var j=o.createElement("span");I(z.type)||(j.className="ace_"+z.type.replace(/\./g," ace_")),j.appendChild(o.createTextNode(z.value)),R.appendChild(j)}),this.$ghostTextWidget={el:E,row:A.row,column:A.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var M=this.$cursorLayer.getPixelPosition(A,!0),O=this.container,N=O.getBoundingClientRect().height,F=w.length*this.lineHeight,G=F<N-M.top;if(G)return;F<N?this.scrollBy(0,(w.length-1)*this.lineHeight):this.scrollToRow(A.row)}},T.prototype.$calculateWrappedTextChunks=function($,P){var k=this.$size.scrollerWidth-this.$padding*2,A=Math.floor(k/this.characterWidth)-2;A=A<=0?60:A;for(var w=$.split(/\r?\n/),E=[],_=0;_<w.length;_++){var R=this.session.$getDisplayTokens(w[_],P.column),M=this.session.$computeWrapSplits(R,A,this.session.$tabSize);if(M.length>0){var O=0;M.push(w[_].length);for(var N=0;N<M.length;N++){var F=w[_].slice(O,M[N]);E.push({text:F,wrapped:!0}),O=M[N]}}else E.push({text:w[_],wrapped:!1})}return E},T.prototype.removeGhostText=function(){if(this.$ghostText){var $=this.$ghostText.position;this.removeExtraToken($.row,$.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},T.prototype.addToken=function($,P,k,A){var w=this.session;w.bgTokenizer.lines[k]=null;var E={type:P,value:$},_=w.getTokens(k);if(A==null||!_.length)_.push(E);else for(var R=0,M=0;M<_.length;M++){var O=_[M];if(R+=O.value.length,A<=R){var N=O.value.length-(R-A),F=O.value.slice(0,N),G=O.value.slice(N);_.splice(M,1,{type:O.type,value:F},E,{type:O.type,value:G});break}}this.updateLines(k,k)},T.prototype.hideTokensAfterPosition=function($,P){for(var k=this.session.getTokens($),A=0,w=!1,E=[],_=0;_<k.length;_++){var R=k[_];if(A+=R.value.length,R.type!=="ghost_text"){if(w){E.push({type:R.type,value:R.value}),R.type="hidden_token";continue}A===P&&(w=!0)}}return this.updateLines($,$),E},T.prototype.removeExtraToken=function($,P){this.session.bgTokenizer.lines[$]=null,this.updateLines($,$)},T.prototype.setTheme=function($,P){var k=this;if(this.$themeId=$,k._dispatchEvent("themeChange",{theme:$}),!$||typeof $=="string"){var A=$||this.$options.theme.initialValue;a.loadModule(["theme",A],w)}else w($);function w(E){if(k.$themeId!=$)return P&&P();if(!E||!E.cssClass)throw new Error("couldn't load module "+$+" or it didn't call define");E.$id&&(k.$themeId=E.$id),o.importCssString(E.cssText,E.cssClass,k.container),k.theme&&o.removeCssClass(k.container,k.theme.cssClass);var _="padding"in E?E.padding:"padding"in(k.theme||{})?4:k.$padding;k.$padding&&_!=k.$padding&&k.setPadding(_),k.$theme=E.cssClass,k.theme=E,o.addCssClass(k.container,E.cssClass),o.setCssClass(k.container,"ace_dark",E.isDark),k.$size&&(k.$size.width=0,k.$updateSizeAsync()),k._dispatchEvent("themeLoaded",{theme:E}),P&&P(),S.isSafari&&k.scroller&&(k.scroller.style.background="red",k.scroller.style.background="")}},T.prototype.getTheme=function(){return this.$themeId},T.prototype.setStyle=function($,P){o.setCssClass(this.container,$,P!==!1)},T.prototype.unsetStyle=function($){o.removeCssClass(this.container,$)},T.prototype.setCursorStyle=function($){o.setStyle(this.scroller.style,"cursor",$)},T.prototype.setMouseCursor=function($){o.setStyle(this.scroller.style,"cursor",$)},T.prototype.attachToShadowRoot=function(){o.importCssString(C,"ace_editor.css",this.container)},T.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},T.prototype.$updateCustomScrollbar=function($){var P=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),$===!0?(this.scrollBarV=new m(this.container,this),this.scrollBarH=new g(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(k){P.$scrollAnimation||P.session.setScrollTop(k.data-P.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(k){P.$scrollAnimation||P.session.setScrollLeft(k.data-P.scrollMargin.left)}),this.$scrollDecorator?(this.$scrollDecorator.setScrollBarV(this.scrollBarV),this.$scrollDecorator.$updateDecorators()):(this.$scrollDecorator=new b(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators())):(this.scrollBarV=new f(this.container,this),this.scrollBarH=new p(this.container,this),this.scrollBarV.addEventListener("scroll",function(k){P.$scrollAnimation||P.session.setScrollTop(k.data-P.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(k){P.$scrollAnimation||P.session.setScrollLeft(k.data-P.scrollMargin.left)}))},T.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var $=this;this.$resizeTimer=c.delayedCall(function(){$.destroyed||$.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(P){var k=P[0].contentRect.width,A=P[0].contentRect.height;Math.abs($.$size.width-k)>1||Math.abs($.$size.height-A)>1?$.$resizeTimer.delay():$.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},T}();L.prototype.CHANGE_CURSOR=1,L.prototype.CHANGE_MARKER=2,L.prototype.CHANGE_GUTTER=4,L.prototype.CHANGE_SCROLL=8,L.prototype.CHANGE_LINES=16,L.prototype.CHANGE_TEXT=32,L.prototype.CHANGE_SIZE=64,L.prototype.CHANGE_MARKER_BACK=128,L.prototype.CHANGE_MARKER_FRONT=256,L.prototype.CHANGE_FULL=512,L.prototype.CHANGE_H_SCROLL=1024,L.prototype.$changes=0,L.prototype.$padding=null,L.prototype.$frozen=!1,L.prototype.STEPS=8,s.implement(L.prototype,x),a.defineOptions(L.prototype,"renderer",{useResizeObserver:{set:function(T){!T&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):T&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(T){this.$textLayer.setShowInvisibles(T)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(T){typeof T=="number"&&(this.$printMarginColumn=T),this.$showPrintMargin=!!T,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(T){this.$gutter.style.display=T?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(T){this.$gutterLayer.$useSvgGutterIcons=T},initialValue:!1},showFoldedAnnotations:{set:function(T){this.$gutterLayer.$showFoldedAnnotations=T},initialValue:!1},fadeFoldWidgets:{set:function(T){o.setCssClass(this.$gutter,"ace_fade-fold-widgets",T)},initialValue:!1},showFoldWidgets:{set:function(T){this.$gutterLayer.setShowFoldWidgets(T),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(T){this.$textLayer.setDisplayIndentGuides(T)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(T){this.$textLayer.setHighlightIndentGuides(T)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(T){this.$gutterLayer.setHighlightGutterLine(T),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(T){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(T){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(T){typeof T=="number"&&(T=T+"px"),this.container.style.fontSize=T,this.updateFontSize()},initialValue:12},fontFamily:{set:function(T){this.container.style.fontFamily=T,this.updateFontSize()}},maxLines:{set:function(T){this.updateFull()}},minLines:{set:function(T){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(T){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(T){T=+T||0,this.$scrollPastEnd!=T&&(this.$scrollPastEnd=T,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(T){this.$gutterLayer.$fixedWidth=!!T,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(T){this.$updateCustomScrollbar(T)},initialValue:!1},theme:{set:function(T){this.setTheme(T)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!S.isMobile&&!S.isIE}}),r.VirtualRenderer=L}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(n,r,i){var s=n("../lib/oop"),o=n("../lib/net"),c=n("../lib/event_emitter").EventEmitter,a=n("../config");function d(p){var f="importScripts('"+o.qualifyURL(p)+"');";try{return new Blob([f],{type:"application/javascript"})}catch{var g=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,m=new g;return m.append(f),m.getBlob("application/javascript")}}function l(p){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(a.get("loadWorkerFromBlob")){var f=d(p),g=window.URL||window.webkitURL,m=g.createObjectURL(f);return new Worker(m)}return new Worker(p)}var u=function(p){p.postMessage||(p=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=p,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){s.implement(this,c),this.$createWorkerFromOldConfig=function(p,f,g,m,v){if(n.nameToUrl&&!n.toUrl&&(n.toUrl=n.nameToUrl),a.get("packaged")||!n.toUrl)m=m||a.moduleUrl(f,"worker");else{var y=this.$normalizePath;m=m||y(n.toUrl("ace/worker/worker.js",null,"_"));var x={};p.forEach(function(C){x[C]=y(n.toUrl(C,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=l(m),v&&this.send("importScripts",v),this.$worker.postMessage({init:!0,tlns:x,module:f,classname:g}),this.$worker},this.onMessage=function(p){var f=p.data;switch(f.type){case"event":this._signal(f.name,{data:f.data});break;case"call":var g=this.callbacks[f.id];g&&(g(f.data),delete this.callbacks[f.id]);break;case"error":this.reportError(f.data);break;case"log":window.console&&console.log&&console.log.apply(console,f.data);break}},this.reportError=function(p){window.console&&console.error&&console.error(p)},this.$normalizePath=function(p){return o.qualifyURL(p)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(p){p.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(p,f){this.$worker.postMessage({command:p,args:f})},this.call=function(p,f,g){if(g){var m=this.callbackId++;this.callbacks[m]=g,f.push(m)}this.send(p,f)},this.emit=function(p,f){try{f.data&&f.data.err&&(f.data.err={message:f.data.err.message,stack:f.data.err.stack,code:f.data.err.code}),this.$worker&&this.$worker.postMessage({event:p,data:{data:f.data}})}catch(g){console.error(g.stack)}},this.attachToDocument=function(p){this.$doc&&this.terminate(),this.$doc=p,this.call("setValue",[p.getValue()]),p.on("change",this.changeListener,!0)},this.changeListener=function(p){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),p.action=="insert"?this.deltaQueue.push(p.start,p.lines):this.deltaQueue.push(p.start,p.end)},this.$sendDeltaQueue=function(){var p=this.deltaQueue;p&&(this.deltaQueue=null,p.length>50&&p.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:p}))}}).call(u.prototype);var h=function(p,f,g){var m=null,v=!1,y=Object.create(c),x=[],C=new u({messageBuffer:x,terminate:function(){},postMessage:function(S){x.push(S),m&&(v?setTimeout(b):b())}});C.setEmitSync=function(S){v=S};var b=function(){var S=x.shift();S.command?m[S.command].apply(m,S.args):S.event&&y._signal(S.event,S.data)};return y.postMessage=function(S){C.onMessage({data:S})},y.callback=function(S,I){this.postMessage({type:"call",id:I,data:S})},y.emit=function(S,I){this.postMessage({type:"event",name:S,data:I})},a.loadModule(["worker",f],function(S){for(m=new S[g](y);x.length;)b()}),C};r.UIWorkerClient=h,r.WorkerClient=u,r.createWorker=l}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(n,r,i){var s=n("./range").Range,o=n("./lib/event_emitter").EventEmitter,c=n("./lib/oop"),a=function(){function d(l,u,h,p,f,g){var m=this;this.length=u,this.session=l,this.doc=l.getDocument(),this.mainClass=f,this.othersClass=g,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=p,this.$onCursorChange=function(){setTimeout(function(){m.onCursorChange()})},this.$pos=h;var v=l.getUndoManager().$undoStack||l.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=v.length,this.setup(),l.selection.on("changeCursor",this.$onCursorChange)}return d.prototype.setup=function(){var l=this,u=this.doc,h=this.session;this.selectionBefore=h.selection.toJSON(),h.selection.inMultiSelectMode&&h.selection.toSingleRange(),this.pos=u.createAnchor(this.$pos.row,this.$pos.column);var p=this.pos;p.$insertRight=!0,p.detach(),p.markerId=h.addMarker(new s(p.row,p.column,p.row,p.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(f){var g=u.createAnchor(f.row,f.column);g.$insertRight=!0,g.detach(),l.others.push(g)}),h.setUndoSelect(!1)},d.prototype.showOtherMarkers=function(){if(!this.othersActive){var l=this.session,u=this;this.othersActive=!0,this.others.forEach(function(h){h.markerId=l.addMarker(new s(h.row,h.column,h.row,h.column+u.length),u.othersClass,null,!1)})}},d.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var l=0;l<this.others.length;l++)this.session.removeMarker(this.others[l].markerId)}},d.prototype.onUpdate=function(l){if(this.$updating)return this.updateAnchors(l);var u=l;if(u.start.row===u.end.row&&u.start.row===this.pos.row){this.$updating=!0;var h=l.action==="insert"?u.end.column-u.start.column:u.start.column-u.end.column,p=u.start.column>=this.pos.column&&u.start.column<=this.pos.column+this.length+1,f=u.start.column-this.pos.column;if(this.updateAnchors(l),p&&(this.length+=h),p&&!this.session.$fromUndo){if(l.action==="insert")for(var g=this.others.length-1;g>=0;g--){var m=this.others[g],v={row:m.row,column:m.column+f};this.doc.insertMergedLines(v,l.lines)}else if(l.action==="remove")for(var g=this.others.length-1;g>=0;g--){var m=this.others[g],v={row:m.row,column:m.column+f};this.doc.remove(new s(v.row,v.column,v.row,v.column-h))}}this.$updating=!1,this.updateMarkers()}},d.prototype.updateAnchors=function(l){this.pos.onChange(l);for(var u=this.others.length;u--;)this.others[u].onChange(l);this.updateMarkers()},d.prototype.updateMarkers=function(){if(!this.$updating){var l=this,u=this.session,h=function(f,g){u.removeMarker(f.markerId),f.markerId=u.addMarker(new s(f.row,f.column,f.row,f.column+l.length),g,null,!1)};h(this.pos,this.mainClass);for(var p=this.others.length;p--;)h(this.others[p],this.othersClass)}},d.prototype.onCursorChange=function(l){if(!(this.$updating||!this.session)){var u=this.session.selection.getCursor();u.row===this.pos.row&&u.column>=this.pos.column&&u.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",l)):(this.hideOtherMarkers(),this._emit("cursorLeave",l))}},d.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},d.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var l=this.session.getUndoManager(),u=(l.$undoStack||l.$undostack).length-this.$undoStackDepth,h=0;h<u;h++)l.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},d}();c.implement(a.prototype,o),r.PlaceHolder=a}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,r,i){var s=n("../lib/event"),o=n("../lib/useragent");function c(d,l){return d.row==l.row&&d.column==l.column}function a(d){var l=d.domEvent,u=l.altKey,h=l.shiftKey,p=l.ctrlKey,f=d.getAccelKey(),g=d.getButton();if(p&&o.isMac&&(g=l.button),d.editor.inMultiSelectMode&&g==2){d.editor.textInput.onContextMenu(d.domEvent);return}if(!p&&!u&&!f){g===0&&d.editor.inMultiSelectMode&&d.editor.exitMultiSelectMode();return}if(g===0){var m=d.editor,v=m.selection,y=m.inMultiSelectMode,x=d.getDocumentPosition(),C=v.getCursor(),b=d.inSelection()||v.isEmpty()&&c(x,C),S=d.x,I=d.y,L=function(F){S=F.clientX,I=F.clientY},T=m.session,$=m.renderer.pixelToScreenCoordinates(S,I),P=$,k;if(m.$mouseHandler.$enableJumpToDef)p&&u||f&&u?k=h?"block":"add":u&&m.$blockSelectEnabled&&(k="block");else if(f&&!u){if(k="add",!y&&h)return}else u&&m.$blockSelectEnabled&&(k="block");if(k&&o.isMac&&l.ctrlKey&&m.$mouseHandler.cancelContextMenu(),k=="add"){if(!y&&b)return;if(!y){var A=v.toOrientedRange();m.addSelectionMarker(A)}var w=v.rangeList.rangeAtPoint(x);m.inVirtualSelectionMode=!0,h&&(w=null,A=v.ranges[0]||A,m.removeSelectionMarker(A)),m.once("mouseup",function(){var F=v.toOrientedRange();w&&F.isEmpty()&&c(w.cursor,F.cursor)?v.substractPoint(F.cursor):(h?v.substractPoint(A.cursor):A&&(m.removeSelectionMarker(A),v.addRange(A)),v.addRange(F)),m.inVirtualSelectionMode=!1})}else if(k=="block"){d.stop(),m.inVirtualSelectionMode=!0;var E,_=[],R=function(){var F=m.renderer.pixelToScreenCoordinates(S,I),G=T.screenToDocumentPosition(F.row,F.column,F.offsetX);c(P,F)&&c(G,v.lead)||(P=F,m.selection.moveToPosition(G),m.renderer.scrollCursorIntoView(),m.removeSelectionMarkers(_),_=v.rectangularRangeBlock(P,$),m.$mouseHandler.$clickSelection&&_.length==1&&_[0].isEmpty()&&(_[0]=m.$mouseHandler.$clickSelection.clone()),_.forEach(m.addSelectionMarker,m),m.updateSelectionMarkers())};y&&!f?v.toSingleRange():!y&&f&&(E=v.toOrientedRange(),m.addSelectionMarker(E)),h?$=T.documentToScreenPosition(v.lead):v.moveToPosition(x),P={row:-1,column:-1};var M=function(F){R(),clearInterval(N),m.removeSelectionMarkers(_),_.length||(_=[v.toOrientedRange()]),E&&(m.removeSelectionMarker(E),v.toSingleRange(E));for(var G=0;G<_.length;G++)v.addRange(_[G]);m.inVirtualSelectionMode=!1,m.$mouseHandler.$clickSelection=null},O=R;s.capture(m.container,L,M);var N=setInterval(function(){O()},20);return d.preventDefault()}}}r.onMouseDown=a}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(n,r,i){r.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(o){o.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(o){o.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(o){o.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(o){o.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(o){o.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(o){o.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(o){o.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(o){o.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(o){o.multiSelect.rangeCount>1?o.multiSelect.joinSelections():o.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(o){o.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(o){o.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(o){o.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],r.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(o){o.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(o){return o&&o.inMultiSelectMode}}];var s=n("../keyboard/hash_handler").HashHandler;r.keyboardHandler=new s(r.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(n,r,i){var s=n("./range_list").RangeList,o=n("./range").Range,c=n("./selection").Selection,a=n("./mouse/multi_select_handler").onMouseDown,d=n("./lib/event"),l=n("./lib/lang"),u=n("./commands/multi_select_commands");r.commands=u.defaultCommands.concat(u.multiSelectCommands);var h=n("./search").Search,p=new h;function f(C,b,S){return p.$options.wrap=!0,p.$options.needle=b,p.$options.backwards=S==-1,p.find(C)}var g=n("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(g.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(C,b){if(C){if(!this.inMultiSelectMode&&this.rangeCount===0){var S=this.toOrientedRange();if(this.rangeList.add(S),this.rangeList.add(C),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),b||this.fromOrientedRange(C);this.rangeList.removeAll(),this.rangeList.add(S),this.$onAddRange(S)}C.cursor||(C.cursor=C.end);var I=this.rangeList.add(C);return this.$onAddRange(C),I.length&&this.$onRemoveRange(I),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),b||this.fromOrientedRange(C)}},this.toSingleRange=function(C){C=C||this.ranges[0];var b=this.rangeList.removeAll();b.length&&this.$onRemoveRange(b),C&&this.fromOrientedRange(C)},this.substractPoint=function(C){var b=this.rangeList.substractPoint(C);if(b)return this.$onRemoveRange(b),b[0]},this.mergeOverlappingRanges=function(){var C=this.rangeList.merge();C.length&&this.$onRemoveRange(C)},this.$onAddRange=function(C){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(C),this._signal("addRange",{range:C})},this.$onRemoveRange=function(C){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var b=this.rangeList.ranges.pop();C.push(b),this.rangeCount=0}for(var S=C.length;S--;){var I=this.ranges.indexOf(C[S]);this.ranges.splice(I,1)}this._signal("removeRange",{ranges:C}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),b=b||this.ranges[0],b&&!b.isEqual(this.getRange())&&this.fromOrientedRange(b)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new s,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var C=this.ranges.length?this.ranges:[this.getRange()],b=[],S=0;S<C.length;S++){var I=C[S],L=I.start.row,T=I.end.row;if(L===T)b.push(I.clone());else{for(b.push(new o(L,I.start.column,L,this.session.getLine(L).length));++L<T;)b.push(this.getLineRange(L,!0));b.push(new o(T,0,T,I.end.column))}S==0&&!this.isBackwards()&&(b=b.reverse())}this.toSingleRange();for(var S=b.length;S--;)this.addRange(b[S])},this.joinSelections=function(){var C=this.rangeList.ranges,b=C[C.length-1],S=o.fromPoints(C[0].start,b.end);this.toSingleRange(),this.setSelectionRange(S,b.cursor==b.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var C=this.rangeList.ranges,b=C[C.length-1],S=o.fromPoints(C[0].start,b.end);this.toSingleRange(),this.setSelectionRange(S,b.cursor==b.start)}else{var I=this.session.documentToScreenPosition(this.cursor),L=this.session.documentToScreenPosition(this.anchor),T=this.rectangularRangeBlock(I,L);T.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(C,b,S){var I=[],L=C.column<b.column;if(L)var T=C.column,$=b.column,P=C.offsetX,k=b.offsetX;else var T=b.column,$=C.column,P=b.offsetX,k=C.offsetX;var A=C.row<b.row;if(A)var w=C.row,E=b.row;else var w=b.row,E=C.row;T<0&&(T=0),w<0&&(w=0),w==E&&(S=!0);for(var _,R=w;R<=E;R++){var M=o.fromPoints(this.session.screenToDocumentPosition(R,T,P),this.session.screenToDocumentPosition(R,$,k));if(M.isEmpty()){if(_&&v(M.end,_))break;_=M.end}M.cursor=L?M.start:M.end,I.push(M)}if(A&&I.reverse(),!S){for(var O=I.length-1;I[O].isEmpty()&&O>0;)O--;if(O>0)for(var N=0;I[N].isEmpty();)N++;for(var F=O;F>=N;F--)I[F].isEmpty()&&I.splice(F,1)}return I}}).call(c.prototype);var m=n("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(C){C.cursor||(C.cursor=C.end);var b=this.getSelectionStyle();return C.marker=this.session.addMarker(C,"ace_selection",b),this.session.$selectionMarkers.push(C),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,C},this.removeSelectionMarker=function(C){if(C.marker){this.session.removeMarker(C.marker);var b=this.session.$selectionMarkers.indexOf(C);b!=-1&&this.session.$selectionMarkers.splice(b,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(C){for(var b=this.session.$selectionMarkers,S=C.length;S--;){var I=C[S];if(I.marker){this.session.removeMarker(I.marker);var L=b.indexOf(I);L!=-1&&b.splice(L,1)}}this.session.selectionMarkerCount=b.length},this.$onAddRange=function(C){this.addSelectionMarker(C.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(C){this.removeSelectionMarkers(C.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(C){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(u.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(C){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(u.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(C){var b=C.command,S=C.editor;if(S.multiSelect){if(b.multiSelectAction)b.multiSelectAction=="forEach"?I=S.forEachSelection(b,C.args):b.multiSelectAction=="forEachLine"?I=S.forEachSelection(b,C.args,!0):b.multiSelectAction=="single"?(S.exitMultiSelectMode(),I=b.exec(S,C.args||{})):I=b.multiSelectAction(S,C.args||{});else{var I=b.exec(S,C.args||{});S.multiSelect.addRange(S.multiSelect.toOrientedRange()),S.multiSelect.mergeOverlappingRanges()}return I}},this.forEachSelection=function(C,b,S){if(!this.inVirtualSelectionMode){var I=S&&S.keepOrder,L=S==!0||S&&S.$byLines,T=this.session,$=this.selection,P=$.rangeList,k=(I?$:P).ranges,A;if(!k.length)return C.exec?C.exec(this,b||{}):C(this,b||{});var w=$._eventRegistry;$._eventRegistry={};var E=new c(T);this.inVirtualSelectionMode=!0;for(var _=k.length;_--;){if(L)for(;_>0&&k[_].start.row==k[_-1].end.row;)_--;E.fromOrientedRange(k[_]),E.index=_,this.selection=T.selection=E;var R=C.exec?C.exec(this,b||{}):C(this,b||{});!A&&R!==void 0&&(A=R),E.toOrientedRange(k[_])}E.detach(),this.selection=T.selection=$,this.inVirtualSelectionMode=!1,$._eventRegistry=w,$.mergeOverlappingRanges(),$.ranges[0]&&$.fromOrientedRange($.ranges[0]);var M=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),M&&M.from==M.to&&this.renderer.animateScrolling(M.from),A}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var C="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var b=this.multiSelect.rangeList.ranges,S=[],I=0;I<b.length;I++)S.push(this.session.getTextRange(b[I]));var L=this.session.getDocument().getNewLineCharacter();C=S.join(L),C.length==(S.length-1)*L.length&&(C="")}else this.selection.isEmpty()||(C=this.session.getTextRange(this.getSelectionRange()));return C},this.$checkMultiselectChange=function(C,b){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var S=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&b==this.multiSelect.anchor)return;var I=b==this.multiSelect.anchor?S.cursor==S.start?S.end:S.start:S.cursor;I.row!=b.row||this.session.$clipPositionToDocument(I.row,I.column).column!=b.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(C,b,S){if(b=b||{},b.needle=C||b.needle,b.needle==null){var I=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();b.needle=this.session.getTextRange(I)}this.$search.set(b);var L=this.$search.findAll(this.session);if(!L.length)return 0;var T=this.multiSelect;S||T.toSingleRange(L[0]);for(var $=L.length;$--;)T.addRange(L[$],!0);return I&&T.rangeList.rangeAtPoint(I.start)&&T.addRange(I,!0),L.length},this.selectMoreLines=function(C,b){var S=this.selection.toOrientedRange(),I=S.cursor==S.end,L=this.session.documentToScreenPosition(S.cursor);this.selection.$desiredColumn&&(L.column=this.selection.$desiredColumn);var T=this.session.screenToDocumentPosition(L.row+C,L.column);if(S.isEmpty())var P=T;else var $=this.session.documentToScreenPosition(I?S.end:S.start),P=this.session.screenToDocumentPosition($.row+C,$.column);if(I){var k=o.fromPoints(T,P);k.cursor=k.start}else{var k=o.fromPoints(P,T);k.cursor=k.end}if(k.desiredColumn=L.column,!this.selection.inMultiSelectMode)this.selection.addRange(S);else if(b)var A=S.cursor;this.selection.addRange(k),A&&this.selection.substractPoint(A)},this.transposeSelections=function(C){for(var b=this.session,S=b.multiSelect,I=S.ranges,L=I.length;L--;){var T=I[L];if(T.isEmpty()){var $=b.getWordRange(T.start.row,T.start.column);T.start.row=$.start.row,T.start.column=$.start.column,T.end.row=$.end.row,T.end.column=$.end.column}}S.mergeOverlappingRanges();for(var P=[],L=I.length;L--;){var T=I[L];P.unshift(b.getTextRange(T))}C<0?P.unshift(P.pop()):P.push(P.shift());for(var L=I.length;L--;){var T=I[L],k=T.clone();b.replace(T,P[L]),T.start.row=k.start.row,T.start.column=k.start.column}S.fromOrientedRange(S.ranges[0])},this.selectMore=function(C,b,S){var I=this.session,L=I.multiSelect,T=L.toOrientedRange();if(!(T.isEmpty()&&(T=I.getWordRange(T.start.row,T.start.column),T.cursor=C==-1?T.start:T.end,this.multiSelect.addRange(T),S))){var $=I.getTextRange(T),P=f(I,$,C);P&&(P.cursor=C==-1?P.start:P.end,this.session.unfold(P),this.multiSelect.addRange(P),this.renderer.scrollCursorIntoView(null,.5)),b&&this.multiSelect.substractPoint(T.cursor)}},this.alignCursors=function(){var C=this.session,b=C.multiSelect,S=b.ranges,I=-1,L=S.filter(function(O){if(O.cursor.row==I)return!0;I=O.cursor.row});if(!S.length||L.length==S.length-1){var T=this.selection.getRange(),$=T.start.row,P=T.end.row,k=$==P;if(k){var A=this.session.getLength(),w;do w=this.session.getLine(P);while(/[=:]/.test(w)&&++P<A);do w=this.session.getLine($);while(/[=:]/.test(w)&&--$>0);$<0&&($=0),P>=A&&(P=A-1)}var E=this.session.removeFullLines($,P);E=this.$reAlignText(E,k),this.session.insert({row:$,column:0},E.join(`
`)+`
`),k||(T.start.column=0,T.end.column=E[E.length-1].length),this.selection.setRange(T)}else{L.forEach(function(O){b.substractPoint(O.cursor)});var _=0,R=1/0,M=S.map(function(O){var N=O.cursor,F=C.getLine(N.row),G=F.substr(N.column).search(/\S/g);return G==-1&&(G=0),N.column>_&&(_=N.column),G<R&&(R=G),G});S.forEach(function(O,N){var F=O.cursor,G=_-F.column,z=M[N]-R;G>z?C.insert(F,l.stringRepeat(" ",G-z)):C.remove(new o(F.row,F.column,F.row,F.column-G+z)),O.start.column=O.end.column=_,O.start.row=O.end.row=F.row,O.cursor=O.end}),b.fromOrientedRange(S[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(C,b){var S=!0,I=!0,L,T,$;return C.map(function(E){var _=E.match(/(\s*)(.*?)(\s*)([=:].*)/);return _?L==null?(L=_[1].length,T=_[2].length,$=_[3].length,_):(L+T+$!=_[1].length+_[2].length+_[3].length&&(I=!1),L!=_[1].length&&(S=!1),L>_[1].length&&(L=_[1].length),T<_[2].length&&(T=_[2].length),$>_[3].length&&($=_[3].length),_):[E]}).map(b?k:S?I?A:k:w);function P(E){return l.stringRepeat(" ",E)}function k(E){return E[2]?P(L)+E[2]+P(T-E[2].length+$)+E[4].replace(/^([=:])\s+/,"$1 "):E[0]}function A(E){return E[2]?P(L+T-E[2].length)+E[2]+P($)+E[4].replace(/^([=:])\s+/,"$1 "):E[0]}function w(E){return E[2]?P(L)+E[2]+P($)+E[4].replace(/^([=:])\s+/,"$1 "):E[0]}}}).call(m.prototype);function v(C,b){return C.row==b.row&&C.column==b.column}r.onSessionChange=function(C){var b=C.session;b&&!b.multiSelect&&(b.$selectionMarkers=[],b.selection.$initRangeList(),b.multiSelect=b.selection),this.multiSelect=b&&b.multiSelect;var S=C.oldSession;S&&(S.multiSelect.off("addRange",this.$onAddRange),S.multiSelect.off("removeRange",this.$onRemoveRange),S.multiSelect.off("multiSelect",this.$onMultiSelect),S.multiSelect.off("singleSelect",this.$onSingleSelect),S.multiSelect.lead.off("change",this.$checkMultiselectChange),S.multiSelect.anchor.off("change",this.$checkMultiselectChange)),b&&(b.multiSelect.on("addRange",this.$onAddRange),b.multiSelect.on("removeRange",this.$onRemoveRange),b.multiSelect.on("multiSelect",this.$onMultiSelect),b.multiSelect.on("singleSelect",this.$onSingleSelect),b.multiSelect.lead.on("change",this.$checkMultiselectChange),b.multiSelect.anchor.on("change",this.$checkMultiselectChange)),b&&this.inMultiSelectMode!=b.selection.inMultiSelectMode&&(b.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function y(C){C.$multiselectOnSessionChange||(C.$onAddRange=C.$onAddRange.bind(C),C.$onRemoveRange=C.$onRemoveRange.bind(C),C.$onMultiSelect=C.$onMultiSelect.bind(C),C.$onSingleSelect=C.$onSingleSelect.bind(C),C.$multiselectOnSessionChange=r.onSessionChange.bind(C),C.$checkMultiselectChange=C.$checkMultiselectChange.bind(C),C.$multiselectOnSessionChange(C),C.on("changeSession",C.$multiselectOnSessionChange),C.on("mousedown",a),C.commands.addCommands(u.defaultCommands),x(C))}function x(C){if(!C.textInput)return;var b=C.textInput.getElement(),S=!1;d.addListener(b,"keydown",function(L){var T=L.keyCode==18&&!(L.ctrlKey||L.shiftKey||L.metaKey);C.$blockSelectEnabled&&T?S||(C.renderer.setMouseCursor("crosshair"),S=!0):S&&I()},C),d.addListener(b,"keyup",I,C),d.addListener(b,"blur",I,C);function I(L){S&&(C.renderer.setMouseCursor(""),S=!1)}}r.MultiSelect=y,n("./config").defineOptions(m.prototype,"editor",{enableMultiselect:{set:function(C){y(this),C?this.on("mousedown",a):this.off("mousedown",a)},value:!0},enableBlockSelect:{set:function(C){this.$blockSelectEnabled=C},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(n,r,i){var s=n("../../range").Range,o=r.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(c,a,d){var l=c.getLine(d);return this.foldingStartMarker.test(l)?"start":a=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(l)?"end":""},this.getFoldWidgetRange=function(c,a,d){return null},this.indentationBlock=function(c,a,d){var l=/\S/,u=c.getLine(a),h=u.search(l);if(h!=-1){for(var p=d||u.length,f=c.getLength(),g=a,m=a;++a<f;){var v=c.getLine(a).search(l);if(v!=-1){if(v<=h){var y=c.getTokenAt(a,0);if(!y||y.type!=="string")break}m=a}}if(m>g){var x=c.getLine(m).length;return new s(g,p,m,x)}}},this.openingBracketBlock=function(c,a,d,l,u){var h={row:d,column:l+1},p=c.$findClosingBracket(a,h,u);if(p){var f=c.foldWidgets[p.row];return f==null&&(f=c.getFoldWidget(p.row)),f=="start"&&p.row>h.row&&(p.row--,p.column=c.getLine(p.row).length),s.fromPoints(h,p)}},this.closingBracketBlock=function(c,a,d,l,u){var h={row:d,column:l},p=c.$findOpeningBracket(a,h);if(p)return p.column++,h.column--,s.fromPoints(p,h)}}).call(o.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/lib/dom","ace/range","ace/config"],function(n,r,i){var s=n("../lib/dom"),o=n("../range").Range,c=n("../config").nls;function a(l,u,h){for(var p=0,f=l.length-1;p<=f;){var g=p+f>>1,m=h(u,l[g]);if(m>0)p=g+1;else if(m<0)f=g-1;else return g}return-(p+1)}function d(l,u,h){var p=l.getAnnotations().sort(o.comparePoints);if(p.length){var f=a(p,{row:u,column:-1},o.comparePoints);f<0&&(f=-f-1),f>=p.length?f=h>0?0:p.length-1:f===0&&h<0&&(f=p.length-1);var g=p[f];if(!(!g||!h)){if(g.row===u){do g=p[f+=h];while(g&&g.row===u);if(!g)return p.slice()}var m=[];u=g.row;do m[h<0?"unshift":"push"](g),g=p[f+=h];while(g&&g.row==u);return m.length&&m}}}r.showErrorMarker=function(l,u){var h=l.session,p=l.getCursorPosition(),f=p.row,g=h.widgetManager.getWidgetsAtRow(f).filter(function(L){return L.type=="errorMarker"})[0];g?g.destroy():f-=u;var m=d(h,f,u),v;if(m){var y=m[0];p.column=(y.pos&&typeof y.column!="number"?y.pos.sc:y.column)||0,p.row=y.row,v=l.renderer.$gutterLayer.$annotations[p.row]}else{if(g)return;v={displayText:[c("error-marker.good-state","Looks good!")],className:"ace_ok"}}l.session.unfold(p.row),l.selection.moveToPosition(p);var x={row:p.row,fixedWidth:!0,coverGutter:!0,el:s.createElement("div"),type:"errorMarker"},C=x.el.appendChild(s.createElement("div")),b=x.el.appendChild(s.createElement("div"));b.className="error_widget_arrow "+v.className;var S=l.renderer.$cursorLayer.getPixelPosition(p).left;b.style.left=S+l.renderer.gutterWidth-5+"px",x.el.className="error_widget_wrapper",C.className="error_widget "+v.className,v.displayText.forEach(function(L,T){C.appendChild(s.createTextNode(L)),T<v.displayText.length-1&&C.appendChild(s.createElement("br"))}),C.appendChild(s.createElement("div"));var I=function(L,T,$){if(T===0&&($==="esc"||$==="return"))return x.destroy(),{command:"null"}};x.destroy=function(){l.$mouseHandler.isMousePressed||(l.keyBinding.removeKeyboardHandler(I),h.widgetManager.removeLineWidget(x),l.off("changeSelection",x.destroy),l.off("changeSession",x.destroy),l.off("mouseup",x.destroy),l.off("change",x.destroy))},l.keyBinding.addKeyboardHandler(I),l.on("changeSelection",x.destroy),l.on("changeSession",x.destroy),l.on("mouseup",x.destroy),l.on("change",x.destroy),l.session.widgetManager.addLineWidget(x),x.el.onmousedown=l.focus.bind(l),l.renderer.scrollCursorIntoView(null,.5,{bottom:x.el.offsetHeight})},s.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(n,r,i){n("./loader_build")(r);var s=n("./lib/dom"),o=n("./range").Range,c=n("./editor").Editor,a=n("./edit_session").EditSession,d=n("./undomanager").UndoManager,l=n("./virtual_renderer").VirtualRenderer;n("./worker/worker_client"),n("./keyboard/hash_handler"),n("./placeholder"),n("./multi_select"),n("./mode/folding/fold_mode"),n("./theme/textmate"),n("./ext/error_marker"),r.config=n("./config"),r.edit=function(h,p){if(typeof h=="string"){var f=h;if(h=document.getElementById(f),!h)throw new Error("ace.edit can't find div #"+f)}if(h&&h.env&&h.env.editor instanceof c)return h.env.editor;var g="";if(h&&/input|textarea/i.test(h.tagName)){var m=h;g=m.value,h=s.createElement("pre"),m.parentNode.replaceChild(h,m)}else h&&(g=h.textContent,h.innerHTML="");var v=r.createEditSession(g),y=new c(new l(h),v,p),x={document:v,editor:y,onResize:y.resize.bind(y,null)};return m&&(x.textarea=m),y.on("destroy",function(){x.editor.container.env=null}),y.container.env=y.env=x,y},r.createEditSession=function(h,p){var f=new a(h,p);return f.setUndoManager(new d),f},r.Range=o,r.Editor=c,r.EditSession=a,r.UndoManager=d,r.VirtualRenderer=l;var u=r.config.version;r.version=u}),function(){ace.require(["ace/ace"],function(n){n&&(n.config.init(!0),n.define=ace.define);var r=function(){return this}();!r&&typeof window<"u"&&(r=window),!r&&typeof self<"u"&&(r=self),r.ace||(r.ace=n);for(var i in n)n.hasOwnProperty(i)&&(r.ace[i]=n[i]);r.ace.default=r.ace,e&&(e.exports=r.ace)})}()})(vL);var Tg=vL.exports,$g={exports:{}};$g.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,c="[object Arguments]",a="[object Array]",d="[object AsyncFunction]",l="[object Boolean]",u="[object Date]",h="[object Error]",p="[object Function]",f="[object GeneratorFunction]",g="[object Map]",m="[object Number]",v="[object Null]",y="[object Object]",x="[object Promise]",C="[object Proxy]",b="[object RegExp]",S="[object Set]",I="[object String]",L="[object Symbol]",T="[object Undefined]",$="[object WeakMap]",P="[object ArrayBuffer]",k="[object DataView]",A="[object Float32Array]",w="[object Float64Array]",E="[object Int8Array]",_="[object Int16Array]",R="[object Int32Array]",M="[object Uint8Array]",O="[object Uint8ClampedArray]",N="[object Uint16Array]",F="[object Uint32Array]",G=/[\\^$.*+?()[\]{}|]/g,z=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,V={};V[A]=V[w]=V[E]=V[_]=V[R]=V[M]=V[O]=V[N]=V[F]=!0,V[c]=V[a]=V[P]=V[l]=V[k]=V[u]=V[h]=V[p]=V[g]=V[m]=V[y]=V[b]=V[S]=V[I]=V[$]=!1;var Z=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,X=typeof self=="object"&&self&&self.Object===Object&&self,Y=Z||X||Function("return this")(),Q=t&&!t.nodeType&&t,te=Q&&!0&&e&&!e.nodeType&&e,re=te&&te.exports===Q,pe=re&&Z.process,le=function(){try{return pe&&pe.binding&&pe.binding("util")}catch{}}(),ge=le&&le.isTypedArray;function ne(K,J){for(var fe=-1,Ce=K==null?0:K.length,Nt=0,Qe=[];++fe<Ce;){var Jt=K[fe];J(Jt,fe,K)&&(Qe[Nt++]=Jt)}return Qe}function ve(K,J){for(var fe=-1,Ce=J.length,Nt=K.length;++fe<Ce;)K[Nt+fe]=J[fe];return K}function xe(K,J){for(var fe=-1,Ce=K==null?0:K.length;++fe<Ce;)if(J(K[fe],fe,K))return!0;return!1}function Me(K,J){for(var fe=-1,Ce=Array(K);++fe<K;)Ce[fe]=J(fe);return Ce}function Ve(K){return function(J){return K(J)}}function dt(K,J){return K.has(J)}function De(K,J){return K==null?void 0:K[J]}function rn(K){var J=-1,fe=Array(K.size);return K.forEach(function(Ce,Nt){fe[++J]=[Nt,Ce]}),fe}function pn(K,J){return function(fe){return K(J(fe))}}function Tt(K){var J=-1,fe=Array(K.size);return K.forEach(function(Ce){fe[++J]=Ce}),fe}var si=Array.prototype,ls=Function.prototype,Sr=Object.prototype,yt=Y["__core-js_shared__"],Fe=ls.toString,ln=Sr.hasOwnProperty,wo=function(){var K=/[^.]+$/.exec(yt&&yt.keys&&yt.keys.IE_PROTO||"");return K?"Symbol(src)_1."+K:""}(),xo=Sr.toString,Ue=RegExp("^"+Fe.call(ln).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$t=re?Y.Buffer:void 0,Qt=Y.Symbol,Os=Y.Uint8Array,Ru=Sr.propertyIsEnumerable,PL=si.splice,Ca=Qt?Qt.toStringTag:void 0,Tx=Object.getOwnPropertySymbols,OL=$t?$t.isBuffer:void 0,NL=pn(Object.keys,Object),m0=Pl(Y,"DataView"),Pu=Pl(Y,"Map"),v0=Pl(Y,"Promise"),y0=Pl(Y,"Set"),b0=Pl(Y,"WeakMap"),Ou=Pl(Object,"create"),BL=ka(m0),DL=ka(Pu),FL=ka(v0),UL=ka(y0),GL=ka(b0),$x=Qt?Qt.prototype:void 0,w0=$x?$x.valueOf:void 0;function Aa(K){var J=-1,fe=K==null?0:K.length;for(this.clear();++J<fe;){var Ce=K[J];this.set(Ce[0],Ce[1])}}function zL(){this.__data__=Ou?Ou(null):{},this.size=0}function HL(K){var J=this.has(K)&&delete this.__data__[K];return this.size-=J?1:0,J}function WL(K){var J=this.__data__;if(Ou){var fe=J[K];return fe===r?void 0:fe}return ln.call(J,K)?J[K]:void 0}function jL(K){var J=this.__data__;return Ou?J[K]!==void 0:ln.call(J,K)}function VL(K,J){var fe=this.__data__;return this.size+=this.has(K)?0:1,fe[K]=Ou&&J===void 0?r:J,this}Aa.prototype.clear=zL,Aa.prototype.delete=HL,Aa.prototype.get=WL,Aa.prototype.has=jL,Aa.prototype.set=VL;function Ns(K){var J=-1,fe=K==null?0:K.length;for(this.clear();++J<fe;){var Ce=K[J];this.set(Ce[0],Ce[1])}}function KL(){this.__data__=[],this.size=0}function YL(K){var J=this.__data__,fe=ch(J,K);if(fe<0)return!1;var Ce=J.length-1;return fe==Ce?J.pop():PL.call(J,fe,1),--this.size,!0}function ZL(K){var J=this.__data__,fe=ch(J,K);return fe<0?void 0:J[fe][1]}function qL(K){return ch(this.__data__,K)>-1}function XL(K,J){var fe=this.__data__,Ce=ch(fe,K);return Ce<0?(++this.size,fe.push([K,J])):fe[Ce][1]=J,this}Ns.prototype.clear=KL,Ns.prototype.delete=YL,Ns.prototype.get=ZL,Ns.prototype.has=qL,Ns.prototype.set=XL;function _a(K){var J=-1,fe=K==null?0:K.length;for(this.clear();++J<fe;){var Ce=K[J];this.set(Ce[0],Ce[1])}}function QL(){this.size=0,this.__data__={hash:new Aa,map:new(Pu||Ns),string:new Aa}}function JL(K){var J=uh(this,K).delete(K);return this.size-=J?1:0,J}function eM(K){return uh(this,K).get(K)}function tM(K){return uh(this,K).has(K)}function nM(K,J){var fe=uh(this,K),Ce=fe.size;return fe.set(K,J),this.size+=fe.size==Ce?0:1,this}_a.prototype.clear=QL,_a.prototype.delete=JL,_a.prototype.get=eM,_a.prototype.has=tM,_a.prototype.set=nM;function lh(K){var J=-1,fe=K==null?0:K.length;for(this.__data__=new _a;++J<fe;)this.add(K[J])}function rM(K){return this.__data__.set(K,r),this}function iM(K){return this.__data__.has(K)}lh.prototype.add=lh.prototype.push=rM,lh.prototype.has=iM;function So(K){var J=this.__data__=new Ns(K);this.size=J.size}function sM(){this.__data__=new Ns,this.size=0}function oM(K){var J=this.__data__,fe=J.delete(K);return this.size=J.size,fe}function aM(K){return this.__data__.get(K)}function lM(K){return this.__data__.has(K)}function cM(K,J){var fe=this.__data__;if(fe instanceof Ns){var Ce=fe.__data__;if(!Pu||Ce.length<n-1)return Ce.push([K,J]),this.size=++fe.size,this;fe=this.__data__=new _a(Ce)}return fe.set(K,J),this.size=fe.size,this}So.prototype.clear=sM,So.prototype.delete=oM,So.prototype.get=aM,So.prototype.has=lM,So.prototype.set=cM;function uM(K,J){var fe=dh(K),Ce=!fe&&AM(K),Nt=!fe&&!Ce&&x0(K),Qe=!fe&&!Ce&&!Nt&&Fx(K),Jt=fe||Ce||Nt||Qe,En=Jt?Me(K.length,String):[],On=En.length;for(var Vt in K)ln.call(K,Vt)&&!(Jt&&(Vt=="length"||Nt&&(Vt=="offset"||Vt=="parent")||Qe&&(Vt=="buffer"||Vt=="byteLength"||Vt=="byteOffset")||wM(Vt,On)))&&En.push(Vt);return En}function ch(K,J){for(var fe=K.length;fe--;)if(Ox(K[fe][0],J))return fe;return-1}function dM(K,J,fe){var Ce=J(K);return dh(K)?Ce:ve(Ce,fe(K))}function Nu(K){return K==null?K===void 0?T:v:Ca&&Ca in Object(K)?yM(K):CM(K)}function Lx(K){return Bu(K)&&Nu(K)==c}function Mx(K,J,fe,Ce,Nt){return K===J?!0:K==null||J==null||!Bu(K)&&!Bu(J)?K!==K&&J!==J:fM(K,J,fe,Ce,Mx,Nt)}function fM(K,J,fe,Ce,Nt,Qe){var Jt=dh(K),En=dh(J),On=Jt?a:Eo(K),Vt=En?a:Eo(J);On=On==c?y:On,Vt=Vt==c?y:Vt;var Dr=On==y,Ti=Vt==y,Yn=On==Vt;if(Yn&&x0(K)){if(!x0(J))return!1;Jt=!0,Dr=!1}if(Yn&&!Dr)return Qe||(Qe=new So),Jt||Fx(K)?Rx(K,J,fe,Ce,Nt,Qe):mM(K,J,On,fe,Ce,Nt,Qe);if(!(fe&i)){var oi=Dr&&ln.call(K,"__wrapped__"),ai=Ti&&ln.call(J,"__wrapped__");if(oi||ai){var Co=oi?K.value():K,Bs=ai?J.value():J;return Qe||(Qe=new So),Nt(Co,Bs,fe,Ce,Qe)}}return Yn?(Qe||(Qe=new So),vM(K,J,fe,Ce,Nt,Qe)):!1}function hM(K){if(!Dx(K)||SM(K))return!1;var J=Nx(K)?Ue:z;return J.test(ka(K))}function pM(K){return Bu(K)&&Bx(K.length)&&!!V[Nu(K)]}function gM(K){if(!EM(K))return NL(K);var J=[];for(var fe in Object(K))ln.call(K,fe)&&fe!="constructor"&&J.push(fe);return J}function Rx(K,J,fe,Ce,Nt,Qe){var Jt=fe&i,En=K.length,On=J.length;if(En!=On&&!(Jt&&On>En))return!1;var Vt=Qe.get(K);if(Vt&&Qe.get(J))return Vt==J;var Dr=-1,Ti=!0,Yn=fe&s?new lh:void 0;for(Qe.set(K,J),Qe.set(J,K);++Dr<En;){var oi=K[Dr],ai=J[Dr];if(Ce)var Co=Jt?Ce(ai,oi,Dr,J,K,Qe):Ce(oi,ai,Dr,K,J,Qe);if(Co!==void 0){if(Co)continue;Ti=!1;break}if(Yn){if(!xe(J,function(Bs,Ia){if(!dt(Yn,Ia)&&(oi===Bs||Nt(oi,Bs,fe,Ce,Qe)))return Yn.push(Ia)})){Ti=!1;break}}else if(!(oi===ai||Nt(oi,ai,fe,Ce,Qe))){Ti=!1;break}}return Qe.delete(K),Qe.delete(J),Ti}function mM(K,J,fe,Ce,Nt,Qe,Jt){switch(fe){case k:if(K.byteLength!=J.byteLength||K.byteOffset!=J.byteOffset)return!1;K=K.buffer,J=J.buffer;case P:return!(K.byteLength!=J.byteLength||!Qe(new Os(K),new Os(J)));case l:case u:case m:return Ox(+K,+J);case h:return K.name==J.name&&K.message==J.message;case b:case I:return K==J+"";case g:var En=rn;case S:var On=Ce&i;if(En||(En=Tt),K.size!=J.size&&!On)return!1;var Vt=Jt.get(K);if(Vt)return Vt==J;Ce|=s,Jt.set(K,J);var Dr=Rx(En(K),En(J),Ce,Nt,Qe,Jt);return Jt.delete(K),Dr;case L:if(w0)return w0.call(K)==w0.call(J)}return!1}function vM(K,J,fe,Ce,Nt,Qe){var Jt=fe&i,En=Px(K),On=En.length,Vt=Px(J),Dr=Vt.length;if(On!=Dr&&!Jt)return!1;for(var Ti=On;Ti--;){var Yn=En[Ti];if(!(Jt?Yn in J:ln.call(J,Yn)))return!1}var oi=Qe.get(K);if(oi&&Qe.get(J))return oi==J;var ai=!0;Qe.set(K,J),Qe.set(J,K);for(var Co=Jt;++Ti<On;){Yn=En[Ti];var Bs=K[Yn],Ia=J[Yn];if(Ce)var Ux=Jt?Ce(Ia,Bs,Yn,J,K,Qe):Ce(Bs,Ia,Yn,K,J,Qe);if(!(Ux===void 0?Bs===Ia||Nt(Bs,Ia,fe,Ce,Qe):Ux)){ai=!1;break}Co||(Co=Yn=="constructor")}if(ai&&!Co){var fh=K.constructor,hh=J.constructor;fh!=hh&&"constructor"in K&&"constructor"in J&&!(typeof fh=="function"&&fh instanceof fh&&typeof hh=="function"&&hh instanceof hh)&&(ai=!1)}return Qe.delete(K),Qe.delete(J),ai}function Px(K){return dM(K,IM,bM)}function uh(K,J){var fe=K.__data__;return xM(J)?fe[typeof J=="string"?"string":"hash"]:fe.map}function Pl(K,J){var fe=De(K,J);return hM(fe)?fe:void 0}function yM(K){var J=ln.call(K,Ca),fe=K[Ca];try{K[Ca]=void 0;var Ce=!0}catch{}var Nt=xo.call(K);return Ce&&(J?K[Ca]=fe:delete K[Ca]),Nt}var bM=Tx?function(K){return K==null?[]:(K=Object(K),ne(Tx(K),function(J){return Ru.call(K,J)}))}:TM,Eo=Nu;(m0&&Eo(new m0(new ArrayBuffer(1)))!=k||Pu&&Eo(new Pu)!=g||v0&&Eo(v0.resolve())!=x||y0&&Eo(new y0)!=S||b0&&Eo(new b0)!=$)&&(Eo=function(K){var J=Nu(K),fe=J==y?K.constructor:void 0,Ce=fe?ka(fe):"";if(Ce)switch(Ce){case BL:return k;case DL:return g;case FL:return x;case UL:return S;case GL:return $}return J});function wM(K,J){return J=J??o,!!J&&(typeof K=="number"||j.test(K))&&K>-1&&K%1==0&&K<J}function xM(K){var J=typeof K;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?K!=="__proto__":K===null}function SM(K){return!!wo&&wo in K}function EM(K){var J=K&&K.constructor,fe=typeof J=="function"&&J.prototype||Sr;return K===fe}function CM(K){return xo.call(K)}function ka(K){if(K!=null){try{return Fe.call(K)}catch{}try{return K+""}catch{}}return""}function Ox(K,J){return K===J||K!==K&&J!==J}var AM=Lx(function(){return arguments}())?Lx:function(K){return Bu(K)&&ln.call(K,"callee")&&!Ru.call(K,"callee")},dh=Array.isArray;function _M(K){return K!=null&&Bx(K.length)&&!Nx(K)}var x0=OL||$M;function kM(K,J){return Mx(K,J)}function Nx(K){if(!Dx(K))return!1;var J=Nu(K);return J==p||J==f||J==d||J==C}function Bx(K){return typeof K=="number"&&K>-1&&K%1==0&&K<=o}function Dx(K){var J=typeof K;return K!=null&&(J=="object"||J=="function")}function Bu(K){return K!=null&&typeof K=="object"}var Fx=ge?Ve(ge):pM;function IM(K){return _M(K)?uM(K):gM(K)}function TM(){return[]}function $M(){return!1}e.exports=kM})($g,$g.exports);var yL=$g.exports,Ji={};Object.defineProperty(Ji,"__esModule",{value:!0});Ji.getAceInstance=Ji.debounce=Ji.editorEvents=Ji.editorOptions=void 0;var $j=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];Ji.editorOptions=$j;var Lj=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];Ji.editorEvents=Lj;var Mj=function(){var e;return typeof window>"u"?(globalThis.window={},e=Tg,delete globalThis.window):window.ace?(e=window.ace,e.acequire=window.ace.require||window.ace.acequire):e=Tg,e};Ji.getAceInstance=Mj;var Rj=function(e,t){var n=null;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(r,i)},t)}};Ji.debounce=Rj;var Pj=Ls&&Ls.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xb=Ls&&Ls.__assign||function(){return Xb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Xb.apply(this,arguments)};Object.defineProperty(gx,"__esModule",{value:!0});var Oj=Tg,Oe=p1,nA=U,ip=yL,nc=Ji,rA=(0,nc.getAceInstance)(),Nj=function(e){Pj(t,e);function t(n){var r=e.call(this,n)||this;return nc.editorEvents.forEach(function(i){r[i]=r[i].bind(r)}),r.debounce=nc.debounce,r}return t.prototype.isInShadow=function(n){for(var r=n&&n.parentNode;r;){if(r.toString()==="[object ShadowRoot]")return!0;r=r.parentNode}return!1},t.prototype.componentDidMount=function(){var n=this,r=this.props,i=r.className,s=r.onBeforeLoad,o=r.onValidate,c=r.mode,a=r.focus,d=r.theme,l=r.fontSize,u=r.lineHeight,h=r.value,p=r.defaultValue,f=r.showGutter,g=r.wrapEnabled,m=r.showPrintMargin,v=r.scrollMargin,y=v===void 0?[0,0,0,0]:v,x=r.keyboardHandler,C=r.onLoad,b=r.commands,S=r.annotations,I=r.markers,L=r.placeholder;this.editor=rA.edit(this.refEditor),s&&s(rA);for(var T=Object.keys(this.props.editorProps),$=0;$<T.length;$++)this.editor[T[$]]=this.props.editorProps[T[$]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(y[0],y[1],y[2],y[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof c=="string"?"ace/mode/".concat(c):c),d&&d!==""&&this.editor.setTheme("ace/theme/".concat(d)),this.editor.setFontSize(typeof l=="number"?"".concat(l,"px"):l),u&&(this.editor.container.style.lineHeight=typeof u=="number"?"".concat(u,"px"):"".concat(u),this.editor.renderer.updateFontSize()),this.editor.getSession().setValue(p||h||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(f),this.editor.getSession().setUseWrapMode(g),this.editor.setShowPrintMargin(m),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),L&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),o&&this.editor.getSession().on("changeAnnotation",function(){var k=n.editor.getSession().getAnnotations();n.props.onValidate(k)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(S||[]),I&&I.length>0&&this.handleMarkers(I);var P=this.editor.$options;nc.editorOptions.forEach(function(k){P.hasOwnProperty(k)?n.editor.setOption(k,n.props[k]):n.props[k]&&console.warn("ReactAce: editor option ".concat(k," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(b)&&b.forEach(function(k){typeof k.exec=="string"?n.editor.commands.bindKey(k.bindKey,k.exec):n.editor.commands.addCommand(k)}),x&&this.editor.setKeyboardHandler("ace/keyboard/"+x),i&&(this.refEditor.className+=" "+i),C&&C(this.editor),this.editor.resize(),a&&this.editor.focus()},t.prototype.componentDidUpdate=function(n){for(var r=n,i=this.props,s=0;s<nc.editorOptions.length;s++){var o=nc.editorOptions[s];i[o]!==r[o]&&this.editor.setOption(o,i[o])}if(i.className!==r.className){var c=this.refEditor.className,a=c.trim().split(" "),d=r.className.trim().split(" ");d.forEach(function(h){var p=a.indexOf(h);a.splice(p,1)}),this.refEditor.className=" "+i.className+" "+a.join(" ")}var l=this.editor&&i.value!=null&&this.editor.getValue()!==i.value;if(l){this.silent=!0;var u=this.editor.session.selection.toJSON();this.editor.setValue(i.value,i.cursorStart),this.editor.session.selection.fromJSON(u),this.silent=!1}i.placeholder!==r.placeholder&&this.updatePlaceholder(),i.mode!==r.mode&&this.editor.getSession().setMode(typeof i.mode=="string"?"ace/mode/".concat(i.mode):i.mode),i.theme!==r.theme&&this.editor.setTheme("ace/theme/"+i.theme),i.keyboardHandler!==r.keyboardHandler&&(i.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+i.keyboardHandler):this.editor.setKeyboardHandler(null)),i.fontSize!==r.fontSize&&this.editor.setFontSize(typeof i.fontSize=="number"?"".concat(i.fontSize,"px"):i.fontSize),i.lineHeight!==r.lineHeight&&(this.editor.container.style.lineHeight=typeof i.lineHeight=="number"?"".concat(i.lineHeight,"px"):i.lineHeight,this.editor.renderer.updateFontSize()),i.wrapEnabled!==r.wrapEnabled&&this.editor.getSession().setUseWrapMode(i.wrapEnabled),i.showPrintMargin!==r.showPrintMargin&&this.editor.setShowPrintMargin(i.showPrintMargin),i.showGutter!==r.showGutter&&this.editor.renderer.setShowGutter(i.showGutter),ip(i.setOptions,r.setOptions)||this.handleOptions(i),(l||!ip(i.annotations,r.annotations))&&this.editor.getSession().setAnnotations(i.annotations||[]),!ip(i.markers,r.markers)&&Array.isArray(i.markers)&&this.handleMarkers(i.markers),ip(i.scrollMargin,r.scrollMargin)||this.handleScrollMargins(i.scrollMargin),(n.height!==this.props.height||n.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!n.focus&&this.editor.focus()},t.prototype.handleScrollMargins=function(n){n===void 0&&(n=[0,0,0,0]),this.editor.renderer.setScrollMargin(n[0],n[1],n[2],n[3])},t.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},t.prototype.onChange=function(n){if(this.editor&&this.props.onChange&&!this.silent){var r=this.editor.getValue();this.props.onChange(r,n)}},t.prototype.onSelectionChange=function(n){if(this.props.onSelectionChange){var r=this.editor.getSelection();this.props.onSelectionChange(r,n)}},t.prototype.onCursorChange=function(n){if(this.props.onCursorChange){var r=this.editor.getSelection();this.props.onCursorChange(r,n)}},t.prototype.onInput=function(n){this.props.onInput&&this.props.onInput(n),this.props.placeholder&&this.updatePlaceholder()},t.prototype.onFocus=function(n){this.props.onFocus&&this.props.onFocus(n,this.editor)},t.prototype.onBlur=function(n){this.props.onBlur&&this.props.onBlur(n,this.editor)},t.prototype.onCopy=function(n){var r=n.text;this.props.onCopy&&this.props.onCopy(r)},t.prototype.onPaste=function(n){var r=n.text;this.props.onPaste&&this.props.onPaste(r)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(n){for(var r=Object.keys(n.setOptions),i=0;i<r.length;i++)this.editor.setOption(r[i],n.setOptions[r[i]])},t.prototype.handleMarkers=function(n){var r=this,i=this.editor.getSession().getMarkers(!0);for(var s in i)i.hasOwnProperty(s)&&this.editor.getSession().removeMarker(i[s].id);i=this.editor.getSession().getMarkers(!1);for(var s in i)i.hasOwnProperty(s)&&i[s].clazz!=="ace_active-line"&&i[s].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(i[s].id);n.forEach(function(o){var c=o.startRow,a=o.startCol,d=o.endRow,l=o.endCol,u=o.className,h=o.type,p=o.inFront,f=p===void 0?!1:p,g=new Oj.Range(c,a,d,l);r.editor.getSession().addMarker(g,u,h,f)})},t.prototype.updatePlaceholder=function(){var n=this.editor,r=this.props.placeholder,i=!n.session.getValue().length,s=n.renderer.placeholderNode;!i&&s?(n.renderer.scroller.removeChild(n.renderer.placeholderNode),n.renderer.placeholderNode=null):i&&!s?(s=n.renderer.placeholderNode=document.createElement("div"),s.textContent=r||"",s.className="ace_comment ace_placeholder",s.style.padding="0 9px",s.style.position="absolute",s.style.zIndex="3",n.renderer.scroller.appendChild(s)):i&&s&&(s.textContent=r)},t.prototype.updateRef=function(n){this.refEditor=n},t.prototype.render=function(){var n=this.props,r=n.name,i=n.width,s=n.height,o=n.style,c=Xb({width:i,height:s},o);return nA.createElement("div",{ref:this.updateRef,id:r,style:c})},t.propTypes={mode:Oe.oneOfType([Oe.string,Oe.object]),focus:Oe.bool,theme:Oe.string,name:Oe.string,className:Oe.string,height:Oe.string,width:Oe.string,fontSize:Oe.oneOfType([Oe.number,Oe.string]),lineHeight:Oe.oneOfType([Oe.number,Oe.string]),showGutter:Oe.bool,onChange:Oe.func,onCopy:Oe.func,onPaste:Oe.func,onFocus:Oe.func,onInput:Oe.func,onBlur:Oe.func,onScroll:Oe.func,value:Oe.string,defaultValue:Oe.string,onLoad:Oe.func,onSelectionChange:Oe.func,onCursorChange:Oe.func,onBeforeLoad:Oe.func,onValidate:Oe.func,minLines:Oe.number,maxLines:Oe.number,readOnly:Oe.bool,highlightActiveLine:Oe.bool,tabSize:Oe.number,showPrintMargin:Oe.bool,cursorStart:Oe.number,debounceChangePeriod:Oe.number,editorProps:Oe.object,setOptions:Oe.object,style:Oe.object,scrollMargin:Oe.array,annotations:Oe.array,markers:Oe.array,keyboardHandler:Oe.string,wrapEnabled:Oe.bool,enableSnippets:Oe.bool,enableBasicAutocompletion:Oe.oneOfType([Oe.bool,Oe.array]),enableLiveAutocompletion:Oe.oneOfType([Oe.bool,Oe.array]),navigateToFileEnd:Oe.bool,commands:Oe.array,placeholder:Oe.string},t.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},t}(nA.Component);gx.default=Nj;var mx={},h0={},bL={exports:{}};(function(e,t){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(n,r,i){var s=n("./lib/oop");n("./lib/lang");var o=n("./lib/event_emitter").EventEmitter,c=n("./editor").Editor,a=n("./virtual_renderer").VirtualRenderer,d=n("./edit_session").EditSession,l;l=function(u,h,p){this.BELOW=1,this.BESIDE=0,this.$container=u,this.$theme=h,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(p||1),this.$cEditor=this.$editors[0],this.on("focus",(function(f){this.$cEditor=f}).bind(this))},(function(){s.implement(this,o),this.$createEditor=function(){var u=document.createElement("div");u.className=this.$editorCSS,u.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(u);var h=new c(new a(u,this.$theme));return h.on("focus",(function(){this._emit("focus",h)}).bind(this)),this.$editors.push(h),h.setFontSize(this.$fontSize),h},this.setSplits=function(u){var h;if(u<1)throw"The number of splits have to be > 0!";if(u!=this.$splits){if(u>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<u;)h=this.$editors[this.$splits],this.$container.appendChild(h.container),h.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<u;)this.$createEditor(),this.$splits++}else for(;this.$splits>u;)h=this.$editors[this.$splits-1],this.$container.removeChild(h.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(u){return this.$editors[u]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(u){this.$editors.forEach(function(h){h.setTheme(u)})},this.setKeyboardHandler=function(u){this.$editors.forEach(function(h){h.setKeyboardHandler(u)})},this.forEach=function(u,h){this.$editors.forEach(u,h)},this.$fontSize="",this.setFontSize=function(u){this.$fontSize=u,this.forEach(function(h){h.setFontSize(u)})},this.$cloneSession=function(u){var h=new d(u.getDocument(),u.getMode()),p=u.getUndoManager();return h.setUndoManager(p),h.setTabSize(u.getTabSize()),h.setUseSoftTabs(u.getUseSoftTabs()),h.setOverwrite(u.getOverwrite()),h.setBreakpoints(u.getBreakpoints()),h.setUseWrapMode(u.getUseWrapMode()),h.setUseWorker(u.getUseWorker()),h.setWrapLimitRange(u.$wrapLimitRange.min,u.$wrapLimitRange.max),h.$foldData=u.$cloneFoldData(),h},this.setSession=function(u,h){var p;h==null?p=this.$cEditor:p=this.$editors[h];var f=this.$editors.some(function(g){return g.session===u});return f&&(u=this.$cloneSession(u)),p.setSession(u),u},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(u){this.$orientation!=u&&(this.$orientation=u,this.resize())},this.resize=function(){var u=this.$container.clientWidth,h=this.$container.clientHeight,p;if(this.$orientation==this.BESIDE)for(var f=u/this.$splits,g=0;g<this.$splits;g++)p=this.$editors[g],p.container.style.width=f+"px",p.container.style.top="0px",p.container.style.left=g*f+"px",p.container.style.height=h+"px",p.resize();else for(var m=h/this.$splits,g=0;g<this.$splits;g++)p=this.$editors[g],p.container.style.width=u+"px",p.container.style.top=g*m+"px",p.container.style.left="0px",p.container.style.height=m+"px",p.resize()}}).call(l.prototype),r.Split=l}),ace.define("ace/ext/split",["require","exports","module","ace/ext/split","ace/split"],function(n,r,i){i.exports=n("../split")}),function(){ace.require(["ace/ext/split"],function(n){e&&(e.exports=n)})}()})(bL);var Bj=bL.exports,Dj="Expected a function",wL="__lodash_hash_undefined__",Fj="[object Function]",Uj="[object GeneratorFunction]",Gj="[object Symbol]",zj=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hj=/^\w*$/,Wj=/^\./,jj=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vj=/[\\^$.*+?()[\]{}|]/g,Kj=/\\(\\)?/g,Yj=/^\[object .+?Constructor\]$/,Zj=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,qj=typeof self=="object"&&self&&self.Object===Object&&self,vx=Zj||qj||Function("return this")();function Xj(e,t){return e==null?void 0:e[t]}function Qj(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}var Jj=Array.prototype,eV=Function.prototype,xL=Object.prototype,Hv=vx["__core-js_shared__"],iA=function(){var e=/[^.]+$/.exec(Hv&&Hv.keys&&Hv.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),SL=eV.toString,yx=xL.hasOwnProperty,EL=xL.toString,tV=RegExp("^"+SL.call(yx).replace(Vj,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sA=vx.Symbol,nV=Jj.splice,rV=CL(vx,"Map"),$f=CL(Object,"create"),oA=sA?sA.prototype:void 0,aA=oA?oA.toString:void 0;function Sl(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function iV(){this.__data__=$f?$f(null):{}}function sV(e){return this.has(e)&&delete this.__data__[e]}function oV(e){var t=this.__data__;if($f){var n=t[e];return n===wL?void 0:n}return yx.call(t,e)?t[e]:void 0}function aV(e){var t=this.__data__;return $f?t[e]!==void 0:yx.call(t,e)}function lV(e,t){var n=this.__data__;return n[e]=$f&&t===void 0?wL:t,this}Sl.prototype.clear=iV;Sl.prototype.delete=sV;Sl.prototype.get=oV;Sl.prototype.has=aV;Sl.prototype.set=lV;function Mu(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function cV(){this.__data__=[]}function uV(e){var t=this.__data__,n=p0(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():nV.call(t,n,1),!0}function dV(e){var t=this.__data__,n=p0(t,e);return n<0?void 0:t[n][1]}function fV(e){return p0(this.__data__,e)>-1}function hV(e,t){var n=this.__data__,r=p0(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}Mu.prototype.clear=cV;Mu.prototype.delete=uV;Mu.prototype.get=dV;Mu.prototype.has=fV;Mu.prototype.set=hV;function Rl(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function pV(){this.__data__={hash:new Sl,map:new(rV||Mu),string:new Sl}}function gV(e){return g0(this,e).delete(e)}function mV(e){return g0(this,e).get(e)}function vV(e){return g0(this,e).has(e)}function yV(e,t){return g0(this,e).set(e,t),this}Rl.prototype.clear=pV;Rl.prototype.delete=gV;Rl.prototype.get=mV;Rl.prototype.has=vV;Rl.prototype.set=yV;function p0(e,t){for(var n=e.length;n--;)if(TV(e[n][0],t))return n;return-1}function bV(e,t){t=EV(t,e)?[t]:SV(t);for(var n=0,r=t.length;e!=null&&n<r;)e=e[kV(t[n++])];return n&&n==r?e:void 0}function wV(e){if(!_L(e)||AV(e))return!1;var t=$V(e)||Qj(e)?tV:Yj;return t.test(IV(e))}function xV(e){if(typeof e=="string")return e;if(wx(e))return aA?aA.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function SV(e){return AL(e)?e:_V(e)}function g0(e,t){var n=e.__data__;return CV(t)?n[typeof t=="string"?"string":"hash"]:n.map}function CL(e,t){var n=Xj(e,t);return wV(n)?n:void 0}function EV(e,t){if(AL(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||wx(e)?!0:Hj.test(e)||!zj.test(e)||t!=null&&e in Object(t)}function CV(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function AV(e){return!!iA&&iA in e}var _V=bx(function(e){e=MV(e);var t=[];return Wj.test(e)&&t.push(""),e.replace(jj,function(n,r,i,s){t.push(i?s.replace(Kj,"$1"):r||n)}),t});function kV(e){if(typeof e=="string"||wx(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function IV(e){if(e!=null){try{return SL.call(e)}catch{}try{return e+""}catch{}}return""}function bx(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(Dj);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o),o};return n.cache=new(bx.Cache||Rl),n}bx.Cache=Rl;function TV(e,t){return e===t||e!==e&&t!==t}var AL=Array.isArray;function $V(e){var t=_L(e)?EL.call(e):"";return t==Fj||t==Uj}function _L(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function LV(e){return!!e&&typeof e=="object"}function wx(e){return typeof e=="symbol"||LV(e)&&EL.call(e)==Gj}function MV(e){return e==null?"":xV(e)}function RV(e,t,n){var r=e==null?void 0:bV(e,t);return r===void 0?n:r}var PV=RV,OV=Ls&&Ls.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qb=Ls&&Ls.__assign||function(){return Qb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Qb.apply(this,arguments)};Object.defineProperty(h0,"__esModule",{value:!0});var Da=Ji,Wv=(0,Da.getAceInstance)(),NV=Tg,BV=Bj,Ge=p1,lA=U,jv=yL,Gs=PV,DV=function(e){OV(t,e);function t(n){var r=e.call(this,n)||this;return Da.editorEvents.forEach(function(i){r[i]=r[i].bind(r)}),r.debounce=Da.debounce,r}return t.prototype.isInShadow=function(n){for(var r=n&&n.parentNode;r;){if(r.toString()==="[object ShadowRoot]")return!0;r=r.parentNode}return!1},t.prototype.componentDidMount=function(){var n=this,r=this.props,i=r.className,s=r.onBeforeLoad,o=r.mode,c=r.focus,a=r.theme,d=r.fontSize,l=r.value,u=r.defaultValue,h=r.cursorStart,p=r.showGutter,f=r.wrapEnabled,g=r.showPrintMargin,m=r.scrollMargin,v=m===void 0?[0,0,0,0]:m,y=r.keyboardHandler,x=r.onLoad,C=r.commands,b=r.annotations,S=r.markers,I=r.splits;this.editor=Wv.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(a)),s&&s(Wv);var L=Object.keys(this.props.editorProps),T=new BV.Split(this.editor.container,"ace/theme/".concat(a),I);this.editor.env.split=T,this.splitEditor=T.getEditor(0),this.split=T,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var $=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),T.forEach(function(k,A){for(var w=0;w<L.length;w++)k[L[w]]=n.props.editorProps[L[w]];var E=Gs(u,A),_=Gs(l,A,"");k.session.setUndoManager(new Wv.UndoManager),k.setTheme("ace/theme/".concat(a)),k.renderer.setScrollMargin(v[0],v[1],v[2],v[3]),k.getSession().setMode("ace/mode/".concat(o)),k.setFontSize(d),k.renderer.setShowGutter(p),k.getSession().setUseWrapMode(f),k.setShowPrintMargin(g),k.on("focus",n.onFocus),k.on("blur",n.onBlur),k.on("input",n.onInput),k.on("copy",n.onCopy),k.on("paste",n.onPaste),k.on("change",n.onChange),k.getSession().selection.on("changeSelection",n.onSelectionChange),k.getSession().selection.on("changeCursor",n.onCursorChange),k.session.on("changeScrollTop",n.onScroll),k.setValue(E===void 0?_:E,h);var R=Gs(b,A,[]),M=Gs(S,A,[]);k.getSession().setAnnotations(R),M&&M.length>0&&n.handleMarkers(M,k);for(var w=0;w<Da.editorOptions.length;w++){var O=Da.editorOptions[w];$.hasOwnProperty(O)?k.setOption(O,n.props[O]):n.props[O]&&console.warn("ReaceAce: editor option ".concat(O," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}n.handleOptions(n.props,k),Array.isArray(C)&&C.forEach(function(N){typeof N.exec=="string"?k.commands.bindKey(N.bindKey,N.exec):k.commands.addCommand(N)}),y&&k.setKeyboardHandler("ace/keyboard/"+y)}),i&&(this.refEditor.className+=" "+i),c&&this.splitEditor.focus();var P=this.editor.env.split;P.setOrientation(this.props.orientation==="below"?P.BELOW:P.BESIDE),P.resize(!0),x&&x(P)},t.prototype.componentDidUpdate=function(n){var r=this,i=n,s=this.props,o=this.editor.env.split;if(s.splits!==i.splits&&o.setSplits(s.splits),s.orientation!==i.orientation&&o.setOrientation(s.orientation==="below"?o.BELOW:o.BESIDE),o.forEach(function(l,u){s.mode!==i.mode&&l.getSession().setMode("ace/mode/"+s.mode),s.keyboardHandler!==i.keyboardHandler&&(s.keyboardHandler?l.setKeyboardHandler("ace/keyboard/"+s.keyboardHandler):l.setKeyboardHandler(null)),s.fontSize!==i.fontSize&&l.setFontSize(s.fontSize),s.wrapEnabled!==i.wrapEnabled&&l.getSession().setUseWrapMode(s.wrapEnabled),s.showPrintMargin!==i.showPrintMargin&&l.setShowPrintMargin(s.showPrintMargin),s.showGutter!==i.showGutter&&l.renderer.setShowGutter(s.showGutter);for(var h=0;h<Da.editorOptions.length;h++){var p=Da.editorOptions[h];s[p]!==i[p]&&l.setOption(p,s[p])}jv(s.setOptions,i.setOptions)||r.handleOptions(s,l);var f=Gs(s.value,u,"");if(l.getValue()!==f){r.silent=!0;var g=l.session.selection.toJSON();l.setValue(f,s.cursorStart),l.session.selection.fromJSON(g),r.silent=!1}var m=Gs(s.annotations,u,[]),v=Gs(i.annotations,u,[]);jv(m,v)||l.getSession().setAnnotations(m);var y=Gs(s.markers,u,[]),x=Gs(i.markers,u,[]);!jv(y,x)&&Array.isArray(y)&&r.handleMarkers(y,l)}),s.className!==i.className){var c=this.refEditor.className,a=c.trim().split(" "),d=i.className.trim().split(" ");d.forEach(function(l){var u=a.indexOf(l);a.splice(u,1)}),this.refEditor.className=" "+s.className+" "+a.join(" ")}s.theme!==i.theme&&o.setTheme("ace/theme/"+s.theme),s.focus&&!i.focus&&this.splitEditor.focus(),(s.height!==this.props.height||s.width!==this.props.width)&&this.editor.resize()},t.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},t.prototype.onChange=function(n){if(this.props.onChange&&!this.silent){var r=[];this.editor.env.split.forEach(function(i){r.push(i.getValue())}),this.props.onChange(r,n)}},t.prototype.onSelectionChange=function(n){if(this.props.onSelectionChange){var r=[];this.editor.env.split.forEach(function(i){r.push(i.getSelection())}),this.props.onSelectionChange(r,n)}},t.prototype.onCursorChange=function(n){if(this.props.onCursorChange){var r=[];this.editor.env.split.forEach(function(i){r.push(i.getSelection())}),this.props.onCursorChange(r,n)}},t.prototype.onFocus=function(n){this.props.onFocus&&this.props.onFocus(n)},t.prototype.onInput=function(n){this.props.onInput&&this.props.onInput(n)},t.prototype.onBlur=function(n){this.props.onBlur&&this.props.onBlur(n)},t.prototype.onCopy=function(n){this.props.onCopy&&this.props.onCopy(n)},t.prototype.onPaste=function(n){this.props.onPaste&&this.props.onPaste(n)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(n,r){for(var i=Object.keys(n.setOptions),s=0;s<i.length;s++)r.setOption(i[s],n.setOptions[i[s]])},t.prototype.handleMarkers=function(n,r){var i=r.getSession().getMarkers(!0);for(var s in i)i.hasOwnProperty(s)&&r.getSession().removeMarker(i[s].id);i=r.getSession().getMarkers(!1);for(var s in i)i.hasOwnProperty(s)&&r.getSession().removeMarker(i[s].id);n.forEach(function(o){var c=o.startRow,a=o.startCol,d=o.endRow,l=o.endCol,u=o.className,h=o.type,p=o.inFront,f=p===void 0?!1:p,g=new NV.Range(c,a,d,l);r.getSession().addMarker(g,u,h,f)})},t.prototype.updateRef=function(n){this.refEditor=n},t.prototype.render=function(){var n=this.props,r=n.name,i=n.width,s=n.height,o=n.style,c=Qb({width:i,height:s},o);return lA.createElement("div",{ref:this.updateRef,id:r,style:c})},t.propTypes={className:Ge.string,debounceChangePeriod:Ge.number,defaultValue:Ge.arrayOf(Ge.string),focus:Ge.bool,fontSize:Ge.oneOfType([Ge.number,Ge.string]),height:Ge.string,mode:Ge.string,name:Ge.string,onBlur:Ge.func,onChange:Ge.func,onCopy:Ge.func,onFocus:Ge.func,onInput:Ge.func,onLoad:Ge.func,onPaste:Ge.func,onScroll:Ge.func,orientation:Ge.string,showGutter:Ge.bool,splits:Ge.number,theme:Ge.string,value:Ge.arrayOf(Ge.string),width:Ge.string,onSelectionChange:Ge.func,onCursorChange:Ge.func,onBeforeLoad:Ge.func,minLines:Ge.number,maxLines:Ge.number,readOnly:Ge.bool,highlightActiveLine:Ge.bool,tabSize:Ge.number,showPrintMargin:Ge.bool,cursorStart:Ge.number,editorProps:Ge.object,setOptions:Ge.object,style:Ge.object,scrollMargin:Ge.array,annotations:Ge.array,markers:Ge.array,keyboardHandler:Ge.string,wrapEnabled:Ge.bool,enableBasicAutocompletion:Ge.oneOfType([Ge.bool,Ge.array]),enableLiveAutocompletion:Ge.oneOfType([Ge.bool,Ge.array]),commands:Ge.array},t.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},t}(lA.Component);h0.default=DV;var kL={exports:{}};(function(e){var t=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1,r=1,i=0;t.Diff=function(s,o){return[s,o]},t.prototype.diff_main=function(s,o,c,a){typeof a>"u"&&(this.Diff_Timeout<=0?a=Number.MAX_VALUE:a=new Date().getTime()+this.Diff_Timeout*1e3);var d=a;if(s==null||o==null)throw new Error("Null input. (diff_main)");if(s==o)return s?[new t.Diff(i,s)]:[];typeof c>"u"&&(c=!0);var l=c,u=this.diff_commonPrefix(s,o),h=s.substring(0,u);s=s.substring(u),o=o.substring(u),u=this.diff_commonSuffix(s,o);var p=s.substring(s.length-u);s=s.substring(0,s.length-u),o=o.substring(0,o.length-u);var f=this.diff_compute_(s,o,l,d);return h&&f.unshift(new t.Diff(i,h)),p&&f.push(new t.Diff(i,p)),this.diff_cleanupMerge(f),f},t.prototype.diff_compute_=function(s,o,c,a){var d;if(!s)return[new t.Diff(r,o)];if(!o)return[new t.Diff(n,s)];var l=s.length>o.length?s:o,u=s.length>o.length?o:s,h=l.indexOf(u);if(h!=-1)return d=[new t.Diff(r,l.substring(0,h)),new t.Diff(i,u),new t.Diff(r,l.substring(h+u.length))],s.length>o.length&&(d[0][0]=d[2][0]=n),d;if(u.length==1)return[new t.Diff(n,s),new t.Diff(r,o)];var p=this.diff_halfMatch_(s,o);if(p){var f=p[0],g=p[1],m=p[2],v=p[3],y=p[4],x=this.diff_main(f,m,c,a),C=this.diff_main(g,v,c,a);return x.concat([new t.Diff(i,y)],C)}return c&&s.length>100&&o.length>100?this.diff_lineMode_(s,o,a):this.diff_bisect_(s,o,a)},t.prototype.diff_lineMode_=function(s,o,c){var a=this.diff_linesToChars_(s,o);s=a.chars1,o=a.chars2;var d=a.lineArray,l=this.diff_main(s,o,!1,c);this.diff_charsToLines_(l,d),this.diff_cleanupSemantic(l),l.push(new t.Diff(i,""));for(var u=0,h=0,p=0,f="",g="";u<l.length;){switch(l[u][0]){case r:p++,g+=l[u][1];break;case n:h++,f+=l[u][1];break;case i:if(h>=1&&p>=1){l.splice(u-h-p,h+p),u=u-h-p;for(var m=this.diff_main(f,g,!1,c),v=m.length-1;v>=0;v--)l.splice(u,0,m[v]);u=u+m.length}p=0,h=0,f="",g="";break}u++}return l.pop(),l},t.prototype.diff_bisect_=function(s,o,c){for(var a=s.length,d=o.length,l=Math.ceil((a+d)/2),u=l,h=2*l,p=new Array(h),f=new Array(h),g=0;g<h;g++)p[g]=-1,f[g]=-1;p[u+1]=0,f[u+1]=0;for(var m=a-d,v=m%2!=0,y=0,x=0,C=0,b=0,S=0;S<l&&!(new Date().getTime()>c);S++){for(var I=-S+y;I<=S-x;I+=2){var L=u+I,T;I==-S||I!=S&&p[L-1]<p[L+1]?T=p[L+1]:T=p[L-1]+1;for(var $=T-I;T<a&&$<d&&s.charAt(T)==o.charAt($);)T++,$++;if(p[L]=T,T>a)x+=2;else if($>d)y+=2;else if(v){var P=u+m-I;if(P>=0&&P<h&&f[P]!=-1){var k=a-f[P];if(T>=k)return this.diff_bisectSplit_(s,o,T,$,c)}}}for(var A=-S+C;A<=S-b;A+=2){var P=u+A,k;A==-S||A!=S&&f[P-1]<f[P+1]?k=f[P+1]:k=f[P-1]+1;for(var w=k-A;k<a&&w<d&&s.charAt(a-k-1)==o.charAt(d-w-1);)k++,w++;if(f[P]=k,k>a)b+=2;else if(w>d)C+=2;else if(!v){var L=u+m-A;if(L>=0&&L<h&&p[L]!=-1){var T=p[L],$=u+T-L;if(k=a-k,T>=k)return this.diff_bisectSplit_(s,o,T,$,c)}}}}return[new t.Diff(n,s),new t.Diff(r,o)]},t.prototype.diff_bisectSplit_=function(s,o,c,a,d){var l=s.substring(0,c),u=o.substring(0,a),h=s.substring(c),p=o.substring(a),f=this.diff_main(l,u,!1,d),g=this.diff_main(h,p,!1,d);return f.concat(g)},t.prototype.diff_linesToChars_=function(s,o){var c=[],a={};c[0]="";function d(p){for(var f="",g=0,m=-1,v=c.length;m<p.length-1;){m=p.indexOf(`
`,g),m==-1&&(m=p.length-1);var y=p.substring(g,m+1);(a.hasOwnProperty?a.hasOwnProperty(y):a[y]!==void 0)?f+=String.fromCharCode(a[y]):(v==l&&(y=p.substring(g),m=p.length),f+=String.fromCharCode(v),a[y]=v,c[v++]=y),g=m+1}return f}var l=4e4,u=d(s);l=65535;var h=d(o);return{chars1:u,chars2:h,lineArray:c}},t.prototype.diff_charsToLines_=function(s,o){for(var c=0;c<s.length;c++){for(var a=s[c][1],d=[],l=0;l<a.length;l++)d[l]=o[a.charCodeAt(l)];s[c][1]=d.join("")}},t.prototype.diff_commonPrefix=function(s,o){if(!s||!o||s.charAt(0)!=o.charAt(0))return 0;for(var c=0,a=Math.min(s.length,o.length),d=a,l=0;c<d;)s.substring(l,d)==o.substring(l,d)?(c=d,l=c):a=d,d=Math.floor((a-c)/2+c);return d},t.prototype.diff_commonSuffix=function(s,o){if(!s||!o||s.charAt(s.length-1)!=o.charAt(o.length-1))return 0;for(var c=0,a=Math.min(s.length,o.length),d=a,l=0;c<d;)s.substring(s.length-d,s.length-l)==o.substring(o.length-d,o.length-l)?(c=d,l=c):a=d,d=Math.floor((a-c)/2+c);return d},t.prototype.diff_commonOverlap_=function(s,o){var c=s.length,a=o.length;if(c==0||a==0)return 0;c>a?s=s.substring(c-a):c<a&&(o=o.substring(0,c));var d=Math.min(c,a);if(s==o)return d;for(var l=0,u=1;;){var h=s.substring(d-u),p=o.indexOf(h);if(p==-1)return l;u+=p,(p==0||s.substring(d-u)==o.substring(0,u))&&(l=u,u++)}},t.prototype.diff_halfMatch_=function(s,o){if(this.Diff_Timeout<=0)return null;var c=s.length>o.length?s:o,a=s.length>o.length?o:s;if(c.length<4||a.length*2<c.length)return null;var d=this;function l(x,C,b){for(var S=x.substring(b,b+Math.floor(x.length/4)),I=-1,L="",T,$,P,k;(I=C.indexOf(S,I+1))!=-1;){var A=d.diff_commonPrefix(x.substring(b),C.substring(I)),w=d.diff_commonSuffix(x.substring(0,b),C.substring(0,I));L.length<w+A&&(L=C.substring(I-w,I)+C.substring(I,I+A),T=x.substring(0,b-w),$=x.substring(b+A),P=C.substring(0,I-w),k=C.substring(I+A))}return L.length*2>=x.length?[T,$,P,k,L]:null}var u=l(c,a,Math.ceil(c.length/4)),h=l(c,a,Math.ceil(c.length/2)),p;if(!u&&!h)return null;h?u?p=u[4].length>h[4].length?u:h:p=h:p=u;var f,g,m,v;s.length>o.length?(f=p[0],g=p[1],m=p[2],v=p[3]):(m=p[0],v=p[1],f=p[2],g=p[3]);var y=p[4];return[f,g,m,v,y]},t.prototype.diff_cleanupSemantic=function(s){for(var o=!1,c=[],a=0,d=null,l=0,u=0,h=0,p=0,f=0;l<s.length;)s[l][0]==i?(c[a++]=l,u=p,h=f,p=0,f=0,d=s[l][1]):(s[l][0]==r?p+=s[l][1].length:f+=s[l][1].length,d&&d.length<=Math.max(u,h)&&d.length<=Math.max(p,f)&&(s.splice(c[a-1],0,new t.Diff(n,d)),s[c[a-1]+1][0]=r,a--,a--,l=a>0?c[a-1]:-1,u=0,h=0,p=0,f=0,d=null,o=!0)),l++;for(o&&this.diff_cleanupMerge(s),this.diff_cleanupSemanticLossless(s),l=1;l<s.length;){if(s[l-1][0]==n&&s[l][0]==r){var g=s[l-1][1],m=s[l][1],v=this.diff_commonOverlap_(g,m),y=this.diff_commonOverlap_(m,g);v>=y?(v>=g.length/2||v>=m.length/2)&&(s.splice(l,0,new t.Diff(i,m.substring(0,v))),s[l-1][1]=g.substring(0,g.length-v),s[l+1][1]=m.substring(v),l++):(y>=g.length/2||y>=m.length/2)&&(s.splice(l,0,new t.Diff(i,g.substring(0,y))),s[l-1][0]=r,s[l-1][1]=m.substring(0,m.length-y),s[l+1][0]=n,s[l+1][1]=g.substring(y),l++),l++}l++}},t.prototype.diff_cleanupSemanticLossless=function(s){function o(y,x){if(!y||!x)return 6;var C=y.charAt(y.length-1),b=x.charAt(0),S=C.match(t.nonAlphaNumericRegex_),I=b.match(t.nonAlphaNumericRegex_),L=S&&C.match(t.whitespaceRegex_),T=I&&b.match(t.whitespaceRegex_),$=L&&C.match(t.linebreakRegex_),P=T&&b.match(t.linebreakRegex_),k=$&&y.match(t.blanklineEndRegex_),A=P&&x.match(t.blanklineStartRegex_);return k||A?5:$||P?4:S&&!L&&T?3:L||T?2:S||I?1:0}for(var c=1;c<s.length-1;){if(s[c-1][0]==i&&s[c+1][0]==i){var a=s[c-1][1],d=s[c][1],l=s[c+1][1],u=this.diff_commonSuffix(a,d);if(u){var h=d.substring(d.length-u);a=a.substring(0,a.length-u),d=h+d.substring(0,d.length-u),l=h+l}for(var p=a,f=d,g=l,m=o(a,d)+o(d,l);d.charAt(0)===l.charAt(0);){a+=d.charAt(0),d=d.substring(1)+l.charAt(0),l=l.substring(1);var v=o(a,d)+o(d,l);v>=m&&(m=v,p=a,f=d,g=l)}s[c-1][1]!=p&&(p?s[c-1][1]=p:(s.splice(c-1,1),c--),s[c][1]=f,g?s[c+1][1]=g:(s.splice(c+1,1),c--))}c++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(s){for(var o=!1,c=[],a=0,d=null,l=0,u=!1,h=!1,p=!1,f=!1;l<s.length;)s[l][0]==i?(s[l][1].length<this.Diff_EditCost&&(p||f)?(c[a++]=l,u=p,h=f,d=s[l][1]):(a=0,d=null),p=f=!1):(s[l][0]==n?f=!0:p=!0,d&&(u&&h&&p&&f||d.length<this.Diff_EditCost/2&&u+h+p+f==3)&&(s.splice(c[a-1],0,new t.Diff(n,d)),s[c[a-1]+1][0]=r,a--,d=null,u&&h?(p=f=!0,a=0):(a--,l=a>0?c[a-1]:-1,p=f=!1),o=!0)),l++;o&&this.diff_cleanupMerge(s)},t.prototype.diff_cleanupMerge=function(s){s.push(new t.Diff(i,""));for(var o=0,c=0,a=0,d="",l="",u;o<s.length;)switch(s[o][0]){case r:a++,l+=s[o][1],o++;break;case n:c++,d+=s[o][1],o++;break;case i:c+a>1?(c!==0&&a!==0&&(u=this.diff_commonPrefix(l,d),u!==0&&(o-c-a>0&&s[o-c-a-1][0]==i?s[o-c-a-1][1]+=l.substring(0,u):(s.splice(0,0,new t.Diff(i,l.substring(0,u))),o++),l=l.substring(u),d=d.substring(u)),u=this.diff_commonSuffix(l,d),u!==0&&(s[o][1]=l.substring(l.length-u)+s[o][1],l=l.substring(0,l.length-u),d=d.substring(0,d.length-u))),o-=c+a,s.splice(o,c+a),d.length&&(s.splice(o,0,new t.Diff(n,d)),o++),l.length&&(s.splice(o,0,new t.Diff(r,l)),o++),o++):o!==0&&s[o-1][0]==i?(s[o-1][1]+=s[o][1],s.splice(o,1)):o++,a=0,c=0,d="",l="";break}s[s.length-1][1]===""&&s.pop();var h=!1;for(o=1;o<s.length-1;)s[o-1][0]==i&&s[o+1][0]==i&&(s[o][1].substring(s[o][1].length-s[o-1][1].length)==s[o-1][1]?(s[o][1]=s[o-1][1]+s[o][1].substring(0,s[o][1].length-s[o-1][1].length),s[o+1][1]=s[o-1][1]+s[o+1][1],s.splice(o-1,1),h=!0):s[o][1].substring(0,s[o+1][1].length)==s[o+1][1]&&(s[o-1][1]+=s[o+1][1],s[o][1]=s[o][1].substring(s[o+1][1].length)+s[o+1][1],s.splice(o+1,1),h=!0)),o++;h&&this.diff_cleanupMerge(s)},t.prototype.diff_xIndex=function(s,o){var c=0,a=0,d=0,l=0,u;for(u=0;u<s.length&&(s[u][0]!==r&&(c+=s[u][1].length),s[u][0]!==n&&(a+=s[u][1].length),!(c>o));u++)d=c,l=a;return s.length!=u&&s[u][0]===n?l:l+(o-d)},t.prototype.diff_prettyHtml=function(s){for(var o=[],c=/&/g,a=/</g,d=/>/g,l=/\n/g,u=0;u<s.length;u++){var h=s[u][0],p=s[u][1],f=p.replace(c,"&amp;").replace(a,"&lt;").replace(d,"&gt;").replace(l,"&para;<br>");switch(h){case r:o[u]='<ins style="background:#e6ffe6;">'+f+"</ins>";break;case n:o[u]='<del style="background:#ffe6e6;">'+f+"</del>";break;case i:o[u]="<span>"+f+"</span>";break}}return o.join("")},t.prototype.diff_text1=function(s){for(var o=[],c=0;c<s.length;c++)s[c][0]!==r&&(o[c]=s[c][1]);return o.join("")},t.prototype.diff_text2=function(s){for(var o=[],c=0;c<s.length;c++)s[c][0]!==n&&(o[c]=s[c][1]);return o.join("")},t.prototype.diff_levenshtein=function(s){for(var o=0,c=0,a=0,d=0;d<s.length;d++){var l=s[d][0],u=s[d][1];switch(l){case r:c+=u.length;break;case n:a+=u.length;break;case i:o+=Math.max(c,a),c=0,a=0;break}}return o+=Math.max(c,a),o},t.prototype.diff_toDelta=function(s){for(var o=[],c=0;c<s.length;c++)switch(s[c][0]){case r:o[c]="+"+encodeURI(s[c][1]);break;case n:o[c]="-"+s[c][1].length;break;case i:o[c]="="+s[c][1].length;break}return o.join("	").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(s,o){for(var c=[],a=0,d=0,l=o.split(/\t/g),u=0;u<l.length;u++){var h=l[u].substring(1);switch(l[u].charAt(0)){case"+":try{c[a++]=new t.Diff(r,decodeURI(h))}catch{throw new Error("Illegal escape in diff_fromDelta: "+h)}break;case"-":case"=":var p=parseInt(h,10);if(isNaN(p)||p<0)throw new Error("Invalid number in diff_fromDelta: "+h);var f=s.substring(d,d+=p);l[u].charAt(0)=="="?c[a++]=new t.Diff(i,f):c[a++]=new t.Diff(n,f);break;default:if(l[u])throw new Error("Invalid diff operation in diff_fromDelta: "+l[u])}}if(d!=s.length)throw new Error("Delta length ("+d+") does not equal source text length ("+s.length+").");return c},t.prototype.match_main=function(s,o,c){if(s==null||o==null||c==null)throw new Error("Null input. (match_main)");return c=Math.max(0,Math.min(c,s.length)),s==o?0:s.length?s.substring(c,c+o.length)==o?c:this.match_bitap_(s,o,c):-1},t.prototype.match_bitap_=function(s,o,c){if(o.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var a=this.match_alphabet_(o),d=this;function l(T,$){var P=T/o.length,k=Math.abs(c-$);return d.Match_Distance?P+k/d.Match_Distance:k?1:P}var u=this.Match_Threshold,h=s.indexOf(o,c);h!=-1&&(u=Math.min(l(0,h),u),h=s.lastIndexOf(o,c+o.length),h!=-1&&(u=Math.min(l(0,h),u)));var p=1<<o.length-1;h=-1;for(var f,g,m=o.length+s.length,v,y=0;y<o.length;y++){for(f=0,g=m;f<g;)l(y,c+g)<=u?f=g:m=g,g=Math.floor((m-f)/2+f);m=g;var x=Math.max(1,c-g+1),C=Math.min(c+g,s.length)+o.length,b=Array(C+2);b[C+1]=(1<<y)-1;for(var S=C;S>=x;S--){var I=a[s.charAt(S-1)];if(y===0?b[S]=(b[S+1]<<1|1)&I:b[S]=(b[S+1]<<1|1)&I|((v[S+1]|v[S])<<1|1)|v[S+1],b[S]&p){var L=l(y,S-1);if(L<=u)if(u=L,h=S-1,h>c)x=Math.max(1,2*c-h);else break}}if(l(y+1,c)>u)break;v=b}return h},t.prototype.match_alphabet_=function(s){for(var o={},c=0;c<s.length;c++)o[s.charAt(c)]=0;for(var c=0;c<s.length;c++)o[s.charAt(c)]|=1<<s.length-c-1;return o},t.prototype.patch_addContext_=function(s,o){if(o.length!=0){if(s.start2===null)throw Error("patch not initialized");for(var c=o.substring(s.start2,s.start2+s.length1),a=0;o.indexOf(c)!=o.lastIndexOf(c)&&c.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)a+=this.Patch_Margin,c=o.substring(s.start2-a,s.start2+s.length1+a);a+=this.Patch_Margin;var d=o.substring(s.start2-a,s.start2);d&&s.diffs.unshift(new t.Diff(i,d));var l=o.substring(s.start2+s.length1,s.start2+s.length1+a);l&&s.diffs.push(new t.Diff(i,l)),s.start1-=d.length,s.start2-=d.length,s.length1+=d.length+l.length,s.length2+=d.length+l.length}},t.prototype.patch_make=function(s,o,c){var a,d;if(typeof s=="string"&&typeof o=="string"&&typeof c>"u")a=s,d=this.diff_main(a,o,!0),d.length>2&&(this.diff_cleanupSemantic(d),this.diff_cleanupEfficiency(d));else if(s&&typeof s=="object"&&typeof o>"u"&&typeof c>"u")d=s,a=this.diff_text1(d);else if(typeof s=="string"&&o&&typeof o=="object"&&typeof c>"u")a=s,d=o;else if(typeof s=="string"&&typeof o=="string"&&c&&typeof c=="object")a=s,d=c;else throw new Error("Unknown call format to patch_make.");if(d.length===0)return[];for(var l=[],u=new t.patch_obj,h=0,p=0,f=0,g=a,m=a,v=0;v<d.length;v++){var y=d[v][0],x=d[v][1];switch(!h&&y!==i&&(u.start1=p,u.start2=f),y){case r:u.diffs[h++]=d[v],u.length2+=x.length,m=m.substring(0,f)+x+m.substring(f);break;case n:u.length1+=x.length,u.diffs[h++]=d[v],m=m.substring(0,f)+m.substring(f+x.length);break;case i:x.length<=2*this.Patch_Margin&&h&&d.length!=v+1?(u.diffs[h++]=d[v],u.length1+=x.length,u.length2+=x.length):x.length>=2*this.Patch_Margin&&h&&(this.patch_addContext_(u,g),l.push(u),u=new t.patch_obj,h=0,g=m,p=f);break}y!==r&&(p+=x.length),y!==n&&(f+=x.length)}return h&&(this.patch_addContext_(u,g),l.push(u)),l},t.prototype.patch_deepCopy=function(s){for(var o=[],c=0;c<s.length;c++){var a=s[c],d=new t.patch_obj;d.diffs=[];for(var l=0;l<a.diffs.length;l++)d.diffs[l]=new t.Diff(a.diffs[l][0],a.diffs[l][1]);d.start1=a.start1,d.start2=a.start2,d.length1=a.length1,d.length2=a.length2,o[c]=d}return o},t.prototype.patch_apply=function(s,o){if(s.length==0)return[o,[]];s=this.patch_deepCopy(s);var c=this.patch_addPadding(s);o=c+o+c,this.patch_splitMax(s);for(var a=0,d=[],l=0;l<s.length;l++){var u=s[l].start2+a,h=this.diff_text1(s[l].diffs),p,f=-1;if(h.length>this.Match_MaxBits?(p=this.match_main(o,h.substring(0,this.Match_MaxBits),u),p!=-1&&(f=this.match_main(o,h.substring(h.length-this.Match_MaxBits),u+h.length-this.Match_MaxBits),(f==-1||p>=f)&&(p=-1))):p=this.match_main(o,h,u),p==-1)d[l]=!1,a-=s[l].length2-s[l].length1;else{d[l]=!0,a=p-u;var g;if(f==-1?g=o.substring(p,p+h.length):g=o.substring(p,f+this.Match_MaxBits),h==g)o=o.substring(0,p)+this.diff_text2(s[l].diffs)+o.substring(p+h.length);else{var m=this.diff_main(h,g,!1);if(h.length>this.Match_MaxBits&&this.diff_levenshtein(m)/h.length>this.Patch_DeleteThreshold)d[l]=!1;else{this.diff_cleanupSemanticLossless(m);for(var v=0,y,x=0;x<s[l].diffs.length;x++){var C=s[l].diffs[x];C[0]!==i&&(y=this.diff_xIndex(m,v)),C[0]===r?o=o.substring(0,p+y)+C[1]+o.substring(p+y):C[0]===n&&(o=o.substring(0,p+y)+o.substring(p+this.diff_xIndex(m,v+C[1].length))),C[0]!==n&&(v+=C[1].length)}}}}}return o=o.substring(c.length,o.length-c.length),[o,d]},t.prototype.patch_addPadding=function(s){for(var o=this.Patch_Margin,c="",a=1;a<=o;a++)c+=String.fromCharCode(a);for(var a=0;a<s.length;a++)s[a].start1+=o,s[a].start2+=o;var d=s[0],l=d.diffs;if(l.length==0||l[0][0]!=i)l.unshift(new t.Diff(i,c)),d.start1-=o,d.start2-=o,d.length1+=o,d.length2+=o;else if(o>l[0][1].length){var u=o-l[0][1].length;l[0][1]=c.substring(l[0][1].length)+l[0][1],d.start1-=u,d.start2-=u,d.length1+=u,d.length2+=u}if(d=s[s.length-1],l=d.diffs,l.length==0||l[l.length-1][0]!=i)l.push(new t.Diff(i,c)),d.length1+=o,d.length2+=o;else if(o>l[l.length-1][1].length){var u=o-l[l.length-1][1].length;l[l.length-1][1]+=c.substring(0,u),d.length1+=u,d.length2+=u}return c},t.prototype.patch_splitMax=function(s){for(var o=this.Match_MaxBits,c=0;c<s.length;c++)if(!(s[c].length1<=o)){var a=s[c];s.splice(c--,1);for(var d=a.start1,l=a.start2,u="";a.diffs.length!==0;){var h=new t.patch_obj,p=!0;for(h.start1=d-u.length,h.start2=l-u.length,u!==""&&(h.length1=h.length2=u.length,h.diffs.push(new t.Diff(i,u)));a.diffs.length!==0&&h.length1<o-this.Patch_Margin;){var f=a.diffs[0][0],g=a.diffs[0][1];f===r?(h.length2+=g.length,l+=g.length,h.diffs.push(a.diffs.shift()),p=!1):f===n&&h.diffs.length==1&&h.diffs[0][0]==i&&g.length>2*o?(h.length1+=g.length,d+=g.length,p=!1,h.diffs.push(new t.Diff(f,g)),a.diffs.shift()):(g=g.substring(0,o-h.length1-this.Patch_Margin),h.length1+=g.length,d+=g.length,f===i?(h.length2+=g.length,l+=g.length):p=!1,h.diffs.push(new t.Diff(f,g)),g==a.diffs[0][1]?a.diffs.shift():a.diffs[0][1]=a.diffs[0][1].substring(g.length))}u=this.diff_text2(h.diffs),u=u.substring(u.length-this.Patch_Margin);var m=this.diff_text1(a.diffs).substring(0,this.Patch_Margin);m!==""&&(h.length1+=m.length,h.length2+=m.length,h.diffs.length!==0&&h.diffs[h.diffs.length-1][0]===i?h.diffs[h.diffs.length-1][1]+=m:h.diffs.push(new t.Diff(i,m))),p||s.splice(++c,0,h)}}},t.prototype.patch_toText=function(s){for(var o=[],c=0;c<s.length;c++)o[c]=s[c];return o.join("")},t.prototype.patch_fromText=function(s){var o=[];if(!s)return o;for(var c=s.split(`
`),a=0,d=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;a<c.length;){var l=c[a].match(d);if(!l)throw new Error("Invalid patch string: "+c[a]);var u=new t.patch_obj;for(o.push(u),u.start1=parseInt(l[1],10),l[2]===""?(u.start1--,u.length1=1):l[2]=="0"?u.length1=0:(u.start1--,u.length1=parseInt(l[2],10)),u.start2=parseInt(l[3],10),l[4]===""?(u.start2--,u.length2=1):l[4]=="0"?u.length2=0:(u.start2--,u.length2=parseInt(l[4],10)),a++;a<c.length;){var h=c[a].charAt(0);try{var p=decodeURI(c[a].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+p)}if(h=="-")u.diffs.push(new t.Diff(n,p));else if(h=="+")u.diffs.push(new t.Diff(r,p));else if(h==" ")u.diffs.push(new t.Diff(i,p));else{if(h=="@")break;if(h!=="")throw new Error('Invalid patch mode "'+h+'" in: '+p)}a++}}return o},t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},t.patch_obj.prototype.toString=function(){var s,o;this.length1===0?s=this.start1+",0":this.length1==1?s=this.start1+1:s=this.start1+1+","+this.length1,this.length2===0?o=this.start2+",0":this.length2==1?o=this.start2+1:o=this.start2+1+","+this.length2;for(var c=["@@ -"+s+" +"+o+` @@
`],a,d=0;d<this.diffs.length;d++){switch(this.diffs[d][0]){case r:a="+";break;case n:a="-";break;case i:a=" ";break}c[d+1]=a+encodeURI(this.diffs[d][1])+`
`}return c.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=n,e.exports.DIFF_INSERT=r,e.exports.DIFF_EQUAL=i})(kL);var FV=kL.exports,UV=Ls&&Ls.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(mx,"__esModule",{value:!0});var wt=p1,cA=U,GV=h0,zV=FV,HV=function(e){UV(t,e);function t(n){var r=e.call(this,n)||this;return r.state={value:r.props.value},r.onChange=r.onChange.bind(r),r.diff=r.diff.bind(r),r}return t.prototype.componentDidUpdate=function(){var n=this.props.value;n!==this.state.value&&this.setState({value:n})},t.prototype.onChange=function(n){this.setState({value:n}),this.props.onChange&&this.props.onChange(n)},t.prototype.diff=function(){var n=new zV,r=this.state.value[0],i=this.state.value[1];if(r.length===0&&i.length===0)return[];var s=n.diff_main(r,i);n.diff_cleanupSemantic(s);var o=this.generateDiffedLines(s),c=this.setCodeMarkers(o);return c},t.prototype.generateDiffedLines=function(n){var r={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},i={left:[],right:[]},s={left:1,right:1};return n.forEach(function(o){var c=o[0],a=o[1],d=a.split(`
`).length-1;if(a.length!==0){var l=a[0],u=a[a.length-1],h=0;switch(c){case r.DIFF_EQUAL:s.left+=d,s.right+=d;break;case r.DIFF_DELETE:l===`
`&&(s.left++,d--),h=d,h===0&&i.right.push({startLine:s.right,endLine:s.right}),u===`
`&&(h-=1),i.left.push({startLine:s.left,endLine:s.left+h}),s.left+=d;break;case r.DIFF_INSERT:l===`
`&&(s.right++,d--),h=d,h===0&&i.left.push({startLine:s.left,endLine:s.left}),u===`
`&&(h-=1),i.right.push({startLine:s.right,endLine:s.right+h}),s.right+=d;break;default:throw new Error("Diff type was not defined.")}}}),i},t.prototype.setCodeMarkers=function(n){n===void 0&&(n={left:[],right:[]});for(var r=[],i={left:[],right:[]},s=0;s<n.left.length;s++){var o={startRow:n.left[s].startLine-1,endRow:n.left[s].endLine,type:"text",className:"codeMarker"};i.left.push(o)}for(var s=0;s<n.right.length;s++){var o={startRow:n.right[s].startLine-1,endRow:n.right[s].endLine,type:"text",className:"codeMarker"};i.right.push(o)}return r[0]=i.left,r[1]=i.right,r},t.prototype.render=function(){var n=this.diff();return cA.createElement(GV.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:n})},t.propTypes={cursorStart:wt.number,editorProps:wt.object,enableBasicAutocompletion:wt.bool,enableLiveAutocompletion:wt.bool,focus:wt.bool,fontSize:wt.number,height:wt.string,highlightActiveLine:wt.bool,maxLines:wt.number,minLines:wt.number,mode:wt.string,name:wt.string,className:wt.string,onLoad:wt.func,onPaste:wt.func,onScroll:wt.func,onChange:wt.func,orientation:wt.string,readOnly:wt.bool,scrollMargin:wt.array,setOptions:wt.object,showGutter:wt.bool,showPrintMargin:wt.bool,splits:wt.number,style:wt.object,tabSize:wt.number,theme:wt.string,value:wt.array,width:wt.string,wrapEnabled:wt.bool},t.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},t}(cA.Component);mx.default=HV;Object.defineProperty(vu,"__esModule",{value:!0});vu.diff=vu.split=void 0;var WV=gx,jV=mx;vu.diff=jV.default;var VV=h0;vu.split=VV.default;var KV=vu.default=WV.default,YV={exports:{}};(function(e,t){ace.define("ace/theme/monokai-css",["require","exports","module"],function(n,r,i){i.exports=`.ace-monokai .ace_gutter {
  background: #2F3129;
  color: #8F908A
}

.ace-monokai .ace_print-margin {
  width: 1px;
  background: #555651
}

.ace-monokai {
  background-color: #272822;
  color: #F8F8F2
}

.ace-monokai .ace_cursor {
  color: #F8F8F0
}

.ace-monokai .ace_marker-layer .ace_selection {
  background: #49483E
}

.ace-monokai.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #272822;
}

.ace-monokai .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-monokai .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #49483E
}

.ace-monokai .ace_marker-layer .ace_active-line {
  background: #202020
}

.ace-monokai .ace_gutter-active-line {
  background-color: #272727
}

.ace-monokai .ace_marker-layer .ace_selected-word {
  border: 1px solid #49483E
}

.ace-monokai .ace_invisible {
  color: #52524d
}

.ace-monokai .ace_entity.ace_name.ace_tag,
.ace-monokai .ace_keyword,
.ace-monokai .ace_meta.ace_tag,
.ace-monokai .ace_storage {
  color: #F92672
}

.ace-monokai .ace_punctuation,
.ace-monokai .ace_punctuation.ace_tag {
  color: #fff
}

.ace-monokai .ace_constant.ace_character,
.ace-monokai .ace_constant.ace_language,
.ace-monokai .ace_constant.ace_numeric,
.ace-monokai .ace_constant.ace_other {
  color: #AE81FF
}

.ace-monokai .ace_invalid {
  color: #F8F8F0;
  background-color: #F92672
}

.ace-monokai .ace_invalid.ace_deprecated {
  color: #F8F8F0;
  background-color: #AE81FF
}

.ace-monokai .ace_support.ace_constant,
.ace-monokai .ace_support.ace_function {
  color: #66D9EF
}

.ace-monokai .ace_fold {
  background-color: #A6E22E;
  border-color: #F8F8F2
}

.ace-monokai .ace_storage.ace_type,
.ace-monokai .ace_support.ace_class,
.ace-monokai .ace_support.ace_type {
  font-style: italic;
  color: #66D9EF
}

.ace-monokai .ace_entity.ace_name.ace_function,
.ace-monokai .ace_entity.ace_other,
.ace-monokai .ace_entity.ace_other.ace_attribute-name,
.ace-monokai .ace_variable {
  color: #A6E22E
}

.ace-monokai .ace_variable.ace_parameter {
  font-style: italic;
  color: #FD971F
}

.ace-monokai .ace_string {
  color: #E6DB74
}

.ace-monokai .ace_comment {
  color: #75715E
}

.ace-monokai .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y
}

.ace-monokai .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/monokai",["require","exports","module","ace/theme/monokai-css","ace/lib/dom"],function(n,r,i){r.isDark=!0,r.cssClass="ace-monokai",r.cssText=n("./monokai-css");var s=n("../lib/dom");s.importCssString(r.cssText,r.cssClass,!1)}),function(){ace.require(["ace/theme/monokai"],function(n){e&&(e.exports=n)})}()})(YV);const ZV={Basics:[{name:"Simple",code:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract Simple {
    function main() public pure returns (string memory) {
        return "Hello from EthereumJS!";
    }
}`},{name:"Counter",code:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract Counter {
    uint256 private count;
    
    function increment() public {
        count++;
    }
    
    function getCount() public view returns (uint256) {
        return count;
    }
    
    function main() public {
        increment();
        increment();
        increment();
    }
}`},{name:"Calculator",code:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract Calculator {
    function add(uint256 a, uint256 b) public pure returns (uint256) {
        return a + b;
    }
    
    function multiply(uint256 a, uint256 b) public pure returns (uint256) {
        return a * b;
    }
    
    function main() public pure returns (uint256) {
        return add(5, 3) + multiply(2, 4);
    }
}`},{name:"Storage",code:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract Storage {
    uint256 private storedData;
    
    function set(uint256 x) public {
        storedData = x;
    }
    
    function get() public view returns (uint256) {
        return storedData;
    }
    
    function main() public {
        set(42);
    }
}`}],"Data Structures":[{name:"Arrays",code:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract ArrayOperations {
    uint256[] private numbers;
    
    function addNumber(uint256 num) public {
        numbers.push(num);
    }
    
    function getNumbers() public view returns (uint256[] memory) {
        return numbers;
    }
    
    function sum() public view returns (uint256) {
        uint256 total = 0;
        for (uint256 i = 0; i < numbers.length; i++) {
            total += numbers[i];
        }
        return total;
    }
    
    function main() public {
        addNumber(10);
        addNumber(20);
        addNumber(30);
    }
}`},{name:"Mappings",code:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract MappingExample {
    mapping(address => uint256) private balances;
    mapping(address => string) private names;
    
    function setBalance(address user, uint256 amount) public {
        balances[user] = amount;
    }
    
    function setName(address user, string memory name) public {
        names[user] = name;
    }
    
    function getBalance(address user) public view returns (uint256) {
        return balances[user];
    }
    
    function getName(address user) public view returns (string memory) {
        return names[user];
    }
    
    function main() public {
        address user = address(0x123);
        setBalance(user, 1000);
        setName(user, "Alice");
    }
}`},{name:"Structs",code:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract StructExample {
    struct Person {
        string name;
        uint256 age;
        bool isActive;
    }
    
    Person[] private people;
    
    function addPerson(string memory name, uint256 age) public {
        people.push(Person(name, age, true));
    }
    
    function getPerson(uint256 index) public view returns (string memory, uint256, bool) {
        require(index < people.length, "Person not found");
        Person memory person = people[index];
        return (person.name, person.age, person.isActive);
    }
    
    function getPersonCount() public view returns (uint256) {
        return people.length;
    }
    
    function main() public {
        addPerson("Alice", 25);
        addPerson("Bob", 30);
        addPerson("Charlie", 35);
    }
}`},{name:"Enums",code:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract EnumExample {
    enum Status { Pending, Approved, Rejected, Cancelled }
    enum Priority { Low, Medium, High, Critical }
    
    struct Task {
        string description;
        Status status;
        Priority priority;
        uint256 createdAt;
    }
    
    Task[] private tasks;
    
    function addTask(string memory description, Priority priority) public {
        tasks.push(Task(description, Status.Pending, priority, block.timestamp));
    }
    
    function updateStatus(uint256 taskId, Status newStatus) public {
        require(taskId < tasks.length, "Task not found");
        tasks[taskId].status = newStatus;
    }
    
    function getTask(uint256 taskId) public view returns (string memory, Status, Priority, uint256) {
        require(taskId < tasks.length, "Task not found");
        Task memory task = tasks[taskId];
        return (task.description, task.status, task.priority, task.createdAt);
    }
    
    function getTasksByStatus(Status status) public view returns (uint256[] memory) {
        uint256 count = 0;
        for (uint256 i = 0; i < tasks.length; i++) {
            if (tasks[i].status == status) {
                count++;
            }
        }
        
        uint256[] memory result = new uint256[](count);
        uint256 index = 0;
        for (uint256 i = 0; i < tasks.length; i++) {
            if (tasks[i].status == status) {
                result[index] = i;
                index++;
            }
        }
        return result;
    }
    
    function main() public {
        addTask("Complete project", Priority.High);
        addTask("Review code", Priority.Medium);
        addTask("Write tests", Priority.Critical);
        updateStatus(0, Status.Approved);
    }
}`}],"Advanced Features":[{name:"Events",code:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract EventExample {
    event Transfer(address indexed from, address indexed to, uint256 amount);
    event UserRegistered(address indexed user, string name);
    
    mapping(address => string) private users;
    
    function registerUser(string memory name) public {
        users[msg.sender] = name;
        emit UserRegistered(msg.sender, name);
    }
    
    function transfer(address to, uint256 amount) public {
        emit Transfer(msg.sender, to, amount);
    }
    
    function getUserName(address user) public view returns (string memory) {
        return users[user];
    }
    
    function main() public {
        registerUser("TestUser");
        transfer(address(0x456), 100);
    }
}`},{name:"Modifiers",code:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract ModifierExample {
    address private owner;
    mapping(address => bool) private authorized;
    
    modifier onlyOwner() {
        require(msg.sender == owner, "Only owner can call this function");
        _;
    }
    
    modifier onlyAuthorized() {
        require(authorized[msg.sender], "Not authorized");
        _;
    }
    
    constructor() {
        owner = msg.sender;
        authorized[msg.sender] = true;
    }
    
    function addAuthorized(address user) public onlyOwner {
        authorized[user] = true;
    }
    
    function removeAuthorized(address user) public onlyOwner {
        authorized[user] = false;
    }
    
    function authorizedFunction() public onlyAuthorized returns (string memory) {
        return "This function is only for authorized users";
    }
    
    function main() public {
        // This will work because msg.sender is owner
        addAuthorized(address(0x789));
        authorizedFunction();
    }
}`},{name:"Inheritance",code:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract Animal {
    string public name;
    uint256 public age;
    
    constructor() {
        name = "Unknown";
        age = 0;
    }
    
    function setName(string memory _name) public {
        name = _name;
    }
    
    function setAge(uint256 _age) public {
        age = _age;
    }
    
    function makeSound() public virtual returns (string memory) {
        return "Some sound";
    }
}

contract Dog is Animal {
    constructor() {
        setName("Buddy");
        setAge(3);
    }
    
    function makeSound() public virtual override returns (string memory) {
        return "Woof!";
    }
    
    function fetch() public returns (string memory) {
        return "Fetching the ball!";
    }
}

contract Cat is Animal {
    constructor() {
        setName("Whiskers");
        setAge(2);
    }
    
    function makeSound() public virtual override returns (string memory) {
        return "Meow!";
    }
    
    function purr() public returns (string memory) {
        return "Purring...";
    }
}

contract PetShop {
    function main() public returns (string memory) {
        Dog dog = new Dog();
        Cat cat = new Cat();
        
        string memory dogSound = dog.makeSound();
        string memory catSound = cat.makeSound();
        
        return string(abi.encodePacked("Dog says: ", dogSound, ", Cat says: ", catSound));
    }
}`},{name:"Interfaces",code:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

interface ICalculator {
    function add(uint256 a, uint256 b) external pure returns (uint256);
    function subtract(uint256 a, uint256 b) external pure returns (uint256);
    function multiply(uint256 a, uint256 b) external pure returns (uint256);
    function divide(uint256 a, uint256 b) external pure returns (uint256);
}

contract AdvancedCalculator is ICalculator {
    function add(uint256 a, uint256 b) public pure override returns (uint256) {
        return a + b;
    }
    
    function subtract(uint256 a, uint256 b) public pure override returns (uint256) {
        require(a >= b, "Subtraction underflow");
        return a - b;
    }
    
    function multiply(uint256 a, uint256 b) public pure override returns (uint256) {
        return a * b;
    }
    
    function divide(uint256 a, uint256 b) public pure override returns (uint256) {
        require(b > 0, "Division by zero");
        return a / b;
    }
    
    function power(uint256 base, uint256 exponent) public pure returns (uint256) {
        uint256 result = 1;
        for (uint256 i = 0; i < exponent; i++) {
            result *= base;
        }
        return result;
    }
    
    function main() public pure returns (uint256) {
        return power(2, 8); // 2^8 = 256
    }
}`},{name:"Library",code:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

library MathUtils {
    function min(uint256 a, uint256 b) internal pure returns (uint256) {
        return a < b ? a : b;
    }
    
    function max(uint256 a, uint256 b) internal pure returns (uint256) {
        return a > b ? a : b;
    }
    
    function average(uint256 a, uint256 b) internal pure returns (uint256) {
        return (a + b) / 2;
    }
    
    function isEven(uint256 num) internal pure returns (bool) {
        return num % 2 == 0;
    }
    
    function factorial(uint256 n) internal pure returns (uint256) {
        if (n <= 1) return 1;
        uint256 result = 1;
        for (uint256 i = 2; i <= n; i++) {
            result *= i;
        }
        return result;
    }
}

contract LibraryExample {
    using MathUtils for uint256;
    
    function testMath() public pure returns (uint256, uint256, uint256, bool, uint256) {
        uint256 a = 10;
        uint256 b = 20;
        
        uint256 minVal = a.min(b);
        uint256 maxVal = a.max(b);
        uint256 avgVal = a.average(b);
        bool isEvenNum = a.isEven();
        uint256 fact = MathUtils.factorial(5);
        
        return (minVal, maxVal, avgVal, isEvenNum, fact);
    }
    
    function main() public pure returns (uint256) {
        return MathUtils.factorial(5); // 5! = 120
    }
}`}],"Error Handling":[{name:"Custom Errors",code:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract ErrorHandling {
    error InsufficientBalance(uint256 available, uint256 requested);
    error UserNotFound(address user);
    error InvalidAmount(uint256 amount);
    
    mapping(address => uint256) private balances;
    
    function deposit() public payable {
        balances[msg.sender] += msg.value;
    }
    
    function withdraw(uint256 amount) public {
        if (amount == 0) {
            revert InvalidAmount(amount);
        }
        
        if (balances[msg.sender] < amount) {
            revert InsufficientBalance(balances[msg.sender], amount);
        }
        
        balances[msg.sender] -= amount;
        payable(msg.sender).transfer(amount);
    }
    
    function getBalance(address user) public view returns (uint256) {
        if (user == address(0)) {
            revert UserNotFound(user);
        }
        return balances[user];
    }
    
    function main() public {
        // This will work
        deposit();
        getBalance(msg.sender);
    }
}`},{name:"Gas Optimization",code:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract GasOptimization {
    // Gas efficient: packed struct
    struct User {
        uint32 id;
        uint32 age;
        uint64 balance;
        bool isActive;
    }
    
    // Gas inefficient: separate variables
    uint256 private userId;
    uint256 private userAge;
    uint256 private userBalance;
    bool private userActive;
    
    User[] private users;
    
    function addUser(uint32 id, uint32 age, uint64 balance) public {
        users.push(User(id, age, balance, true));
    }
    
    function addUserInefficient(uint256 id, uint256 age, uint256 balance) public {
        userId = id;
        userAge = age;
        userBalance = balance;
        userActive = true;
    }
    
    function getUser(uint256 index) public view returns (uint32, uint32, uint64, bool) {
        require(index < users.length, "User not found");
        User memory user = users[index];
        return (user.id, user.age, user.balance, user.isActive);
    }
    
    function getUserCount() public view returns (uint256) {
        return users.length;
    }
    
    function main() public {
        addUser(1, 25, 1000);
        addUser(2, 30, 2000);
        addUser(3, 35, 3000);
    }
}`}],Tokens:[{name:"Basic Token",code:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract Token {
    string public name = "MyToken";
    string public symbol = "MTK";
    uint8 public decimals = 18;
    uint256 public totalSupply = 1000000 * 10**18;
    mapping(address => uint256) public balanceOf;

    constructor() {
        balanceOf[msg.sender] = totalSupply;
    }

    function transfer(address to, uint256 amount) public returns (bool) {
        require(balanceOf[msg.sender] >= amount, "Insufficient balance");
        balanceOf[msg.sender] -= amount;
        balanceOf[to] += amount;
        return true;
    }
}`},{name:"ERC20 Token",code:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

interface IERC20 {
    function totalSupply() external view returns (uint256);
    function balanceOf(address account) external view returns (uint256);
    function transfer(address recipient, uint256 amount) external returns (bool);
    function allowance(address owner, address spender) external view returns (uint256);
    function approve(address spender, uint256 amount) external returns (bool);
    function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);
    event Transfer(address indexed from, address indexed to, uint256 value);
    event Approval(address indexed owner, address indexed spender, uint256 value);
}

contract ERC20 is IERC20 {
    string public name = "MyERC20Token";
    string public symbol = "MET";
    uint8 public decimals = 18;
    uint256 private _totalSupply = 1000000 * 10**18;
    mapping(address => uint256) private _balances;
    mapping(address => mapping(address => uint256)) private _allowances;

    constructor() {
        _balances[msg.sender] = _totalSupply;
    }

    function totalSupply() public view override returns (uint256) {
        return _totalSupply;
    }

    function balanceOf(address account) public view override returns (uint256) {
        return _balances[account];
    }

    function transfer(address recipient, uint256 amount) public override returns (bool) {
        require(_balances[msg.sender] >= amount, "Insufficient balance");
        _balances[msg.sender] -= amount;
        _balances[recipient] += amount;
        emit Transfer(msg.sender, recipient, amount);
        return true;
    }

    function allowance(address owner, address spender) public view override returns (uint256) {
        return _allowances[owner][spender];
    }

    function approve(address spender, uint256 amount) public override returns (bool) {
        _allowances[msg.sender][spender] = amount;
        emit Approval(msg.sender, spender, amount);
        return true;
    }

    function transferFrom(address sender, address recipient, uint256 amount) public override returns (bool) {
        require(_balances[sender] >= amount, "Insufficient balance");
        require(_allowances[sender][msg.sender] >= amount, "Insufficient allowance");
        _balances[sender] -= amount;
        _balances[recipient] += amount;
        _allowances[sender][msg.sender] -= amount;
        emit Transfer(sender, recipient, amount);
        return true;
    }
}`}],Events:[{name:"Event Counter",code:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract EventCounter {
    uint256 private count = 0;
    
    // Define events
    event CountIncremented(address indexed user, uint256 newCount, uint256 timestamp);
    event CountReset(address indexed user, uint256 timestamp);
    event CountSet(address indexed user, uint256 oldCount, uint256 newCount, uint256 timestamp);
    
    function increment() public {
        count++;
        // Emit event when count is incremented
        emit CountIncremented(msg.sender, count, block.timestamp);
    }
    
    function reset() public {
        uint256 oldCount = count;
        count = 0;
        // Emit event when count is reset
        emit CountReset(msg.sender, block.timestamp);
    }
    
    function setCount(uint256 newCount) public {
        uint256 oldCount = count;
        count = newCount;
        // Emit event when count is set
        emit CountSet(msg.sender, oldCount, newCount, block.timestamp);
    }
    
    function getCount() public view returns (uint256) {
        return count;
    }
    
    function main() public {
        increment();
        increment();
        setCount(10);
        increment();
    }
}`},{name:"Event Logger",code:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract EventLogger {
    // Different types of events
    event UserRegistered(address indexed user, string name, uint256 timestamp);
    event UserUpdated(address indexed user, string oldName, string newName, uint256 timestamp);
    event UserDeleted(address indexed user, uint256 timestamp);
    event MessageSent(address indexed from, address indexed to, string message, uint256 timestamp);
    
    mapping(address => string) private userNames;
    mapping(address => bool) private userExists;
    
    function registerUser(string memory name) public {
        require(!userExists[msg.sender], "User already exists");
        userNames[msg.sender] = name;
        userExists[msg.sender] = true;
        emit UserRegistered(msg.sender, name, block.timestamp);
    }
    
    function updateUser(string memory newName) public {
        require(userExists[msg.sender], "User does not exist");
        string memory oldName = userNames[msg.sender];
        userNames[msg.sender] = newName;
        emit UserUpdated(msg.sender, oldName, newName, block.timestamp);
    }
    
    function deleteUser() public {
        require(userExists[msg.sender], "User does not exist");
        delete userNames[msg.sender];
        delete userExists[msg.sender];
        emit UserDeleted(msg.sender, block.timestamp);
    }
    
    function sendMessage(address to, string memory message) public {
        require(userExists[msg.sender], "Sender not registered");
        require(userExists[to], "Recipient not registered");
        emit MessageSent(msg.sender, to, message, block.timestamp);
    }
    
    function getUserName(address user) public view returns (string memory) {
        return userNames[user];
    }
    
    function main() public {
        registerUser("Alice");
        updateUser("Alice Smith");
        sendMessage(address(0x123), "Hello World!");
    }
}`},{name:"Token Events",code:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract TokenEvents {
    string public name = "Event Token";
    string public symbol = "EVT";
    uint8 public decimals = 18;
    uint256 public totalSupply = 1000000 * 10**18;
    
    mapping(address => uint256) public balanceOf;
    mapping(address => mapping(address => uint256)) public allowance;
    
    // Standard ERC20 events
    event Transfer(address indexed from, address indexed to, uint256 value);
    event Approval(address indexed owner, address indexed spender, uint256 value);
    
    // Custom events
    event TokensMinted(address indexed to, uint256 amount, uint256 timestamp);
    event TokensBurned(address indexed from, uint256 amount, uint256 timestamp);
    event EmergencyStop(address indexed by, uint256 timestamp);
    
    bool public paused = false;
    
    constructor() {
        balanceOf[msg.sender] = totalSupply;
        emit Transfer(address(0), msg.sender, totalSupply);
    }
    
    modifier whenNotPaused() {
        require(!paused, "Contract is paused");
        _;
    }
    
    function transfer(address to, uint256 amount) public whenNotPaused returns (bool) {
        require(balanceOf[msg.sender] >= amount, "Insufficient balance");
        balanceOf[msg.sender] -= amount;
        balanceOf[to] += amount;
        emit Transfer(msg.sender, to, amount);
        return true;
    }
    
    function approve(address spender, uint256 amount) public whenNotPaused returns (bool) {
        allowance[msg.sender][spender] = amount;
        emit Approval(msg.sender, spender, amount);
        return true;
    }
    
    function transferFrom(address from, address to, uint256 amount) public whenNotPaused returns (bool) {
        require(balanceOf[from] >= amount, "Insufficient balance");
        require(allowance[from][msg.sender] >= amount, "Insufficient allowance");
        balanceOf[from] -= amount;
        balanceOf[to] += amount;
        allowance[from][msg.sender] -= amount;
        emit Transfer(from, to, amount);
        return true;
    }
    
    function mint(address to, uint256 amount) public whenNotPaused {
        balanceOf[to] += amount;
        totalSupply += amount;
        emit TokensMinted(to, amount, block.timestamp);
        emit Transfer(address(0), to, amount);
    }
    
    function burn(uint256 amount) public whenNotPaused {
        require(balanceOf[msg.sender] >= amount, "Insufficient balance");
        balanceOf[msg.sender] -= amount;
        totalSupply -= amount;
        emit TokensBurned(msg.sender, amount, block.timestamp);
        emit Transfer(msg.sender, address(0), amount);
    }
    
    function emergencyStop() public {
        paused = true;
        emit EmergencyStop(msg.sender, block.timestamp);
    }
    
    function main() public {
        mint(address(0x123), 1000 * 10**18);
        transfer(address(0x456), 500 * 10**18);
        burn(100 * 10**18);
    }
}`}]};function qV({executor:e,blockManager:t,code:n,setCode:r}){const[i,s]=U.useState(""),[o,c]=U.useState(!1),a=U.useRef(null),[d,l]=U.useState(null),[u,h]=U.useState(50),p=U.useRef(null),f=U.useRef(!1),g=U.useRef(0),m=U.useRef(50),v=$=>{l($.currentTarget)},y=()=>{l(null)},x=$=>{r($.code),y()},C=async()=>{c(!0),s("");try{const $=await e.deploySolidity(n);if($.success){let P=`✅ Deployment successful!
`;P+=`📊 Gas used: ${$.gasUsed.toString()}
`,P+=`📤 Output: ${$.output}
`,$.logs&&$.logs.length>0&&(P+=`📋 Logs:
${$.logs.join(`
`)}
`),$.contractAddress&&(P+=`🏗️ Contract deployed at: ${$.contractAddress}
`,P+=`💡 Go to Dashboard to execute contract functions.
`),s(P)}else s(`❌ Deployment failed: ${$.error}`)}catch($){s(`❌ Deployment failed: ${$.message||"An error occurred while deploying the contract"}`)}finally{c(!1)}},b=async()=>{c(!0),s("");try{const $=await e.executeSolidity(n);if($.success){let P=`✅ Execution successful!
`;P+=`📊 Gas used: ${$.gasUsed.toString()}
`,P+=`📤 Output: ${$.output}
`,$.logs&&$.logs.length>0&&(P+=`📋 Logs:
${$.logs.join(`
`)}
`),$.contractAddress&&(P+=`🏗️ Contract deployed at: ${$.contractAddress}
`),s(P)}else s(`❌ Execution failed: ${$.error}`)}catch($){s(`❌ Execution failed: ${$.message||"An error occurred while executing the code"}`)}finally{c(!1)}},S=()=>{r(""),s("")};U.useEffect(()=>{a.current&&setTimeout(()=>{a.current.editor.resize()},100)},[u]);const I=U.useCallback($=>{if(!f.current||!p.current)return;$.preventDefault();const P=p.current.getBoundingClientRect(),k=$.clientY-g.current,A=P.height,w=k/A*100,E=m.current+w,_=Math.min(Math.max(E,20),80);h(_)},[]),L=U.useCallback(()=>{f.current=!1,document.body.style.cursor="",document.body.style.userSelect=""},[]),T=U.useCallback($=>{$.preventDefault(),f.current=!0,g.current=$.clientY,m.current=u,document.body.style.cursor="ns-resize",document.body.style.userSelect="none"},[u]);return U.useEffect(()=>(document.addEventListener("mousemove",I),document.addEventListener("mouseup",L),()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",L)}),[I,L]),B.jsxs(Be,{sx:{display:"flex",flexDirection:"column",height:"calc(100vh - 100px)",width:"100%",p:2},children:[B.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Solidity Code Editor"}),B.jsxs(Be,{sx:{mb:2,display:"flex",justifyContent:"flex-start"},children:[B.jsx(Ln,{variant:"outlined",onClick:v,sx:{mr:1,borderStyle:"dashed","&:hover":{borderStyle:"solid"}},startIcon:B.jsx(CF,{}),endIcon:B.jsx(wF,{}),children:"Examples"}),B.jsx(UI,{anchorEl:d,open:!!d,onClose:y,PaperProps:{style:{maxHeight:"400px",width:"300px"}},children:Object.entries(ZV).map(([$,P])=>B.jsxs(Be,{children:[B.jsx(du,{disabled:!0,children:B.jsx(ce,{variant:"subtitle1",sx:{fontWeight:"bold",color:"primary.main"},children:$})}),P.map(k=>B.jsx(du,{onClick:()=>x(k),sx:{pl:3},children:k.name},k.name))]},$))}),B.jsx(Ln,{variant:"contained",startIcon:B.jsx(EF,{}),onClick:C,disabled:o,sx:{mr:1},children:"Deploy Only"}),B.jsx(Ln,{variant:"outlined",startIcon:B.jsx(HI,{}),onClick:b,disabled:o,sx:{mr:1},children:"Deploy & Run"}),B.jsx(Ln,{variant:"outlined",startIcon:B.jsx(xF,{}),onClick:S,children:"Clear"})]}),B.jsxs(Be,{ref:p,sx:{flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden",width:"100%",minHeight:"400px"},children:[B.jsxs(Kt,{elevation:3,sx:{height:`${u}%`,mb:0,p:2,overflow:"hidden",width:"100%",minHeight:"150px",display:"flex",flexDirection:"column"},children:[B.jsx(ce,{variant:"subtitle2",sx:{mb:1},children:"Code Editor"}),B.jsx(Be,{sx:{flexGrow:1,minHeight:0},children:B.jsx(KV,{ref:a,mode:"text",theme:"monokai",value:n,onChange:r,name:"code-editor",editorProps:{$blockScrolling:!0},style:{width:"100%",height:"100%"},fontSize:14,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,setOptions:{showLineNumbers:!0,tabSize:2,wrap:!0,fontSize:14}})})]}),B.jsx(Be,{sx:{height:"8px",backgroundColor:"primary.main",cursor:"ns-resize","&:hover":{backgroundColor:"primary.dark",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},width:"100%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative","&::after":{content:'""',position:"absolute",width:"30px",height:"3px",backgroundColor:"white",borderRadius:"2px",opacity:.7}},onMouseDown:T}),B.jsxs(Kt,{elevation:3,sx:{height:`${100-u}%`,mt:0,p:2,overflow:"auto",width:"100%",minHeight:"150px",display:"flex",flexDirection:"column"},children:[B.jsx(ce,{variant:"subtitle2",sx:{mb:1},children:"Output"}),B.jsx(Be,{sx:{flexGrow:1,minHeight:0,overflow:"auto"},children:o?B.jsx(Be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:B.jsx(MI,{})}):B.jsx(ce,{variant:"body2",sx:{whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"0.9rem",lineHeight:1.4},children:i||`No output yet.
• "Deploy Only" - Just deploys the contract to the blockchain
• "Deploy & Run" - Deploys and automatically runs main/test/run function if available`})})]})]})]})}function XV({blockManager:e}){const[t,n]=U.useState([]),[r,i]=U.useState(!1),[s,o]=U.useState("1000000000000000000"),[c,a]=U.useState(!1);U.useEffect(()=>{d();const m=setInterval(d,5e3);return()=>clearInterval(m)},[e]);const d=()=>{const m=e.getAccounts();n(m)},l=()=>{i(!0)},u=()=>{i(!1),o("0")},h=async()=>{try{const m=BigInt(s);await e.createAccount(m),d(),u()}catch(m){console.error("Error creating account:",m),alert("Failed to create account: "+m.message)}},p=()=>{d()},f=()=>{a(!0)},g=()=>{a(!1)};return B.jsxs(Be,{sx:{p:2},children:[B.jsx(ce,{variant:"h5",gutterBottom:!0,children:"Account Management"}),B.jsxs(Be,{sx:{display:"flex",justifyContent:"flex-end",mb:2},children:[B.jsx(Ln,{variant:"contained",color:"primary",startIcon:B.jsx(bF,{}),onClick:l,sx:{mr:1},children:"Create Account"}),B.jsx(Ln,{variant:"outlined",color:"secondary",startIcon:B.jsx(AF,{}),onClick:p,sx:{mr:1},children:"Refresh"}),B.jsx(Ln,{variant:"contained",color:"primary",startIcon:B.jsx(_F,{}),onClick:f,children:"Transfer"})]}),B.jsxs(Kt,{elevation:1,sx:{p:3,minHeight:"300px",maxHeight:"500px",overflowY:"auto"},children:[B.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Accounts"}),t.length>0?B.jsx(Bm,{children:t.map((m,v)=>B.jsxs(Vr.Fragment,{children:[B.jsx(Lw,{children:B.jsx(Mw,{primary:`Address: ${m.address}`,secondary:`Balance: ${m.balance.toString()} wei | Nonce: ${m.nonce.toString()} | ${m.isContract?"Contract":"EOA"}`})}),v<t.length-1&&B.jsx(Iw,{})]},v))}):B.jsx(ce,{children:"No accounts found."})]}),B.jsxs(Oc,{open:r,onClose:u,children:[B.jsx(Dc,{children:"Create New Account"}),B.jsx(Bc,{children:B.jsx(Nw,{autoFocus:!0,margin:"dense",label:"Initial Balance (wei)",type:"number",fullWidth:!0,value:s,onChange:m=>o(m.target.value)})}),B.jsxs(Nc,{children:[B.jsx(Ln,{onClick:u,color:"secondary",children:"Cancel"}),B.jsx(Ln,{onClick:h,color:"primary",disabled:s===""||BigInt(s)<0,children:"Create"})]})]}),B.jsx(QV,{open:c,onClose:g,blockManager:e})]})}function QV({open:e,onClose:t,blockManager:n}){const[r,i]=U.useState(""),[s,o]=U.useState(""),[c,a]=U.useState(""),[d,l]=U.useState([]),[u,h]=U.useState("");U.useEffect(()=>{if(e){const f=n.getAccounts();l(f),i(""),o(""),a(""),h("")}},[e,n]);const p=async()=>{if(!r||!s||!c){h("All fields are required");return}try{const f=BigInt(c);if(f<=0){h("Amount must be greater than 0");return}await n.transferETH(r,s,f),t()}catch(f){console.error("Error transferring ETH:",f),h(f.message||"Failed to transfer ETH")}};return B.jsxs(Oc,{open:e,onClose:t,fullWidth:!0,maxWidth:"sm",children:[B.jsx(Dc,{children:"Transfer ETH"}),B.jsxs(Bc,{children:[B.jsxs(nb,{fullWidth:!0,margin:"dense",children:[B.jsx(ib,{children:"From Address"}),B.jsx(df,{value:r,onChange:f=>i(f.target.value),label:"From Address",children:d.map(f=>B.jsxs(du,{value:f.address,children:[f.address," (Balance: ",f.balance.toString()," wei)"]},f.address))})]}),B.jsxs(nb,{fullWidth:!0,margin:"dense",children:[B.jsx(ib,{children:"To Address"}),B.jsx(df,{value:s,onChange:f=>o(f.target.value),label:"To Address",children:d.map(f=>B.jsxs(du,{value:f.address,children:[f.address," (Balance: ",f.balance.toString()," wei)"]},f.address))})]}),B.jsx(Nw,{fullWidth:!0,margin:"dense",label:"Amount (wei)",type:"number",value:c,onChange:f=>a(f.target.value)}),u&&B.jsx(ce,{color:"error",sx:{mt:1},children:u})]}),B.jsxs(Nc,{children:[B.jsx(Ln,{onClick:t,color:"secondary",children:"Cancel"}),B.jsx(Ln,{onClick:p,color:"primary",disabled:!r||!s||!c||BigInt(c||"0")<=0,children:"Transfer"})]})]})}var xx={},Vv={};const JV=mo(pO);var uA;function ah(){return uA||(uA=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=JV}(Vv)),Vv}var eK=Cl;Object.defineProperty(xx,"__esModule",{value:!0});var IL=xx.default=void 0,tK=eK(ah()),nK=B;IL=xx.default=(0,tK.default)((0,nK.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");var Sx={},rK=Cl;Object.defineProperty(Sx,"__esModule",{value:!0});var Ex=Sx.default=void 0,iK=rK(ah()),sK=B;Ex=Sx.default=(0,iK.default)((0,sK.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow");var Cx={},oK=Cl;Object.defineProperty(Cx,"__esModule",{value:!0});var TL=Cx.default=void 0,aK=oK(ah()),lK=B;TL=Cx.default=(0,aK.default)((0,lK.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy");function cK({transaction:e,open:t,onClose:n,deployedContracts:r,onContractClick:i,onReturnValueClick:s,onEventDataClick:o}){const[c,a]=U.useState("");if(!e)return null;const d=r.find(b=>b.deploymentTxId===e.id),l=e.type==="function_call"&&e.to?r.find(b=>b.address.toLowerCase()===e.to.toLowerCase()):null,u=(b,S)=>{switch(b){case"deployment":return"🤝";case"function_call":return"▶️";case"contract_call":return"🔗";case"eth_transfer":return"💸";case"account_creation":return S&&S.from==="0x0000000000000000000000000000000000000000"?"👑":"👤";default:return"📄"}},h=b=>{switch(b){case"executed":return"✅";case"failed":return"❌";case"pending":return"⏳";default:return"❓"}},p=()=>{var b,S;return e.type==="function_call"&&l&&e.functionName?`${l.name} - ${e.functionName}()`:e.type==="function_call"&&e.functionName?`Contract - ${e.functionName}()`:e.type==="contract_call"&&e.functionName?`Contract Call - ${e.functionName}()`:e.type==="account_creation"?e.from==="0x0000000000000000000000000000000000000000"?`Genesis Account - ${(b=e.to)==null?void 0:b.slice(0,8)}...`:`Account Creation - ${(S=e.to)==null?void 0:S.slice(0,8)}...`:e.type==="eth_transfer"?`ETH Transfer - ${dd(e.value)} ETH`:e.type.replace("_"," ")},f=b=>{i&&i(b)},g=(b,S)=>{s&&s(b,S)},m=(b,S)=>{o&&o(b,S)},v=b=>{try{const S=JSON.parse(b||"");return typeof S=="string"?S:Array.isArray(S)&&S.length===1&&typeof S[0]=="string"?S[0]:JSON.stringify(S,null,2)}catch{return b&&b.startsWith('"')&&b.endsWith('"')?b.slice(1,-1):b||""}},y=b=>b.length>20?b.substring(0,20)+"...":b,x=(b,S=100)=>b.length>S?b.substring(0,S)+"...":b,C=async b=>{try{await navigator.clipboard.writeText(b),a("Copied!"),setTimeout(()=>a(""),2e3)}catch(S){console.error("Failed to copy text: ",S),a("Copy failed"),setTimeout(()=>a(""),2e3)}};return B.jsxs(Oc,{open:t,onClose:n,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:2,maxHeight:"80vh"}},children:[B.jsxs(Dc,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",pb:1},children:[B.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:1},children:[B.jsx("span",{children:u(e.type,e)}),B.jsx("span",{children:h(e.status)}),B.jsx(ce,{variant:"h6",component:"span",children:p()})]}),B.jsx(uf,{onClick:n,size:"small",children:B.jsx(IL,{})})]}),B.jsxs(Bc,{sx:{px:3,py:2},children:[B.jsxs(Kt,{elevation:1,sx:{p:2,mb:2},children:[B.jsx(ce,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:"bold"},children:"📋 Transaction Details"}),B.jsxs(Be,{sx:{display:"grid",gridTemplateColumns:"auto 1fr",gap:1,alignItems:"start"},children:[B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"ID:"}),B.jsx(ce,{variant:"body2",sx:{fontFamily:"monospace",wordBreak:"break-all"},children:e.id}),B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"Status:"}),B.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:1},children:[h(e.status),B.jsx(ce,{variant:"body2",sx:{textTransform:"capitalize"},children:e.status})]}),B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"Gas Used:"}),B.jsx(ce,{variant:"body2",children:e.gasUsed.toString()}),e.gasPrice&&B.jsxs(B.Fragment,{children:[B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"Gas Price:"}),B.jsx(ce,{variant:"body2",children:e.gasPrice.toString()})]}),e.timestamp&&B.jsxs(B.Fragment,{children:[B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"Timestamp:"}),B.jsx(ce,{variant:"body2",children:new Date(e.timestamp).toLocaleString()})]}),e.from&&B.jsxs(B.Fragment,{children:[B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"From:"}),B.jsx(ce,{variant:"body2",sx:{fontFamily:"monospace",wordBreak:"break-all"},children:e.from})]}),e.to&&B.jsxs(B.Fragment,{children:[B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"To:"}),B.jsx(ce,{variant:"body2",sx:{fontFamily:"monospace",wordBreak:"break-all"},children:e.to})]}),e.value>0&&B.jsxs(B.Fragment,{children:[B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"Value:"}),B.jsxs(ce,{variant:"body2",children:[dd(e.value)," ETH"]})]})]})]}),e.contractAddress&&B.jsxs(Kt,{elevation:1,sx:{p:2,mb:2},children:[B.jsx(ce,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:"bold"},children:"📝 Contract Address"}),B.jsx(ce,{variant:"body2",sx:{fontFamily:"monospace",wordBreak:"break-all"},children:e.contractAddress})]}),e.type==="account_creation"&&B.jsxs(Kt,{elevation:1,sx:{p:2,mb:2,bgcolor:e.from==="0x0000000000000000000000000000000000000000"?"purple.50":"blue.50"},children:[B.jsx(ce,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:"bold",color:e.from==="0x0000000000000000000000000000000000000000"?"purple.700":"blue.700"},children:e.from==="0x0000000000000000000000000000000000000000"?"👑 Genesis Account":"👤 Account Created"}),B.jsxs(Be,{sx:{display:"grid",gridTemplateColumns:"auto 1fr",gap:1,alignItems:"start"},children:[B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"Address:"}),B.jsx(ce,{variant:"body2",sx:{fontFamily:"monospace",wordBreak:"break-all"},children:e.to}),B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"Initial Balance:"}),B.jsxs(ce,{variant:"body2",children:[dd(e.value)," ETH"]})]}),e.from==="0x0000000000000000000000000000000000000000"&&B.jsx(ce,{variant:"body2",sx:{fontSize:"0.8rem",fontStyle:"italic",mt:1},children:"This is the default account created during blockchain initialization"})]}),e.type==="eth_transfer"&&B.jsxs(Kt,{elevation:1,sx:{p:2,mb:2,bgcolor:"green.50"},children:[B.jsx(ce,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:"bold",color:"green.700"},children:"💸 ETH Transfer"}),B.jsxs(Be,{sx:{display:"grid",gridTemplateColumns:"auto 1fr",gap:1,alignItems:"start"},children:[B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"From:"}),B.jsx(ce,{variant:"body2",sx:{fontFamily:"monospace",wordBreak:"break-all"},children:e.from}),B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"To:"}),B.jsx(ce,{variant:"body2",sx:{fontFamily:"monospace",wordBreak:"break-all"},children:e.to}),B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"Amount:"}),B.jsxs(ce,{variant:"body2",sx:{fontWeight:"bold"},children:[dd(e.value)," ETH"]})]})]}),e.type==="contract_call"&&B.jsxs(Kt,{elevation:1,sx:{p:2,mb:2,bgcolor:"orange.50"},children:[B.jsx(ce,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:"bold",color:"orange.700"},children:"🔗 Contract-to-Contract Call"}),B.jsxs(Be,{sx:{display:"grid",gridTemplateColumns:"auto 1fr",gap:1,alignItems:"start"},children:[B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"From Contract:"}),B.jsx(ce,{variant:"body2",sx:{fontFamily:"monospace",wordBreak:"break-all"},children:e.from}),B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"To Contract:"}),B.jsx(ce,{variant:"body2",sx:{fontFamily:"monospace",wordBreak:"break-all"},children:e.to}),B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"Function:"}),B.jsx(ce,{variant:"body2",children:e.functionName}),e.functionArgs&&e.functionArgs.length>0&&B.jsxs(B.Fragment,{children:[B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"Arguments:"}),B.jsx(ce,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.8rem"},children:JSON.stringify(e.functionArgs)})]}),e.value>0&&B.jsxs(B.Fragment,{children:[B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"Value Sent:"}),B.jsxs(ce,{variant:"body2",children:[dd(e.value)," ETH"]})]})]})]}),e.functionName&&B.jsxs(Kt,{elevation:1,sx:{p:2,mb:2},children:[B.jsx(ce,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:"bold"},children:"⚙️ Function Details"}),B.jsxs(Be,{sx:{display:"grid",gridTemplateColumns:"auto 1fr",gap:1,alignItems:"start"},children:[B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"Function:"}),B.jsx(ce,{variant:"body2",children:e.functionName}),e.functionArgs&&e.functionArgs.length>0&&B.jsxs(B.Fragment,{children:[B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"Arguments:"}),B.jsx(ce,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.8rem"},children:JSON.stringify(e.functionArgs)})]})]})]}),e.returnValue&&B.jsxs(Kt,{elevation:1,sx:{p:2,mb:2,bgcolor:"grey.50"},children:[B.jsxs(ce,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:"bold",display:"flex",alignItems:"center",gap:1},children:["📤 Return Value",B.jsx(uf,{size:"small",onClick:()=>C(v(e.returnValue)),sx:{color:c?"#4caf50":"#666","&:hover":{bgcolor:"rgba(0,0,0,0.04)"}},title:"Copy return value to clipboard",children:B.jsx(TL,{fontSize:"small"})}),c&&B.jsx(ce,{variant:"caption",sx:{color:"#4caf50",fontWeight:"bold"},children:c})]}),B.jsx(Be,{sx:{display:"flex",alignItems:"flex-start",gap:1},children:B.jsx(ce,{variant:"body2",onClick:()=>g(v(e.returnValue),`Return Value - ${e.functionName||"Contract Execution"}`),sx:{fontFamily:"monospace",fontSize:"0.9rem",color:"#2e7d32",cursor:"pointer",p:1,bgcolor:"white",borderRadius:1,border:"1px solid #e0e0e0",flex:1,wordBreak:"break-all","&:hover":{textDecoration:"underline",color:"#1b5e20",bgcolor:"#f5f5f5"}},children:x(v(e.returnValue))})}),B.jsx(ce,{variant:"caption",sx:{color:"#666",mt:1,display:"block"},children:"Click to view full value in popup • Click copy icon to copy to clipboard"})]}),d&&B.jsxs(Kt,{elevation:1,sx:{p:2,mb:2,bgcolor:"grey.50"},children:[B.jsx(ce,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:"bold"},children:"📋 Contract Details"}),B.jsxs(Be,{sx:{display:"grid",gridTemplateColumns:"auto 1fr",gap:1,alignItems:"start",mb:2},children:[B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"Name:"}),B.jsx(ce,{variant:"body2",children:d.name}),B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"Functions:"}),B.jsx(ce,{variant:"body2",children:d.functions.map(b=>b.name).join(", ")}),B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"Deployed:"}),B.jsx(ce,{variant:"body2",children:new Date(d.deployedAt).toLocaleString()})]}),e.type==="deployment"&&B.jsx(Ln,{variant:"contained",color:"primary",startIcon:B.jsx(Ex,{}),onClick:()=>f(d),sx:{backgroundColor:"#B05823","&:hover":{backgroundColor:"#8B4513"},fontWeight:"bold"},children:"Execute Contract"})]}),e.error&&B.jsxs(Kt,{elevation:1,sx:{p:2,mb:2,bgcolor:"red.50"},children:[B.jsx(ce,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:"bold",color:"red.700"},children:"❌ Transaction Failed"}),B.jsx(ce,{variant:"body2",color:"error",sx:{mb:1},children:e.error}),e.errorDetails&&B.jsxs(Be,{sx:{mt:1},children:[B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold",mb:1},children:"Error Details:"}),B.jsxs(Be,{sx:{display:"grid",gridTemplateColumns:"auto 1fr",gap:1,alignItems:"start"},children:[B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"Reason:"}),B.jsx(ce,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.8rem"},children:e.errorDetails.reason}),B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"Gas Used:"}),B.jsx(ce,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.8rem"},children:e.errorDetails.gasUsed.toString()}),e.errorDetails.opcode&&B.jsxs(B.Fragment,{children:[B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"Opcode:"}),B.jsx(ce,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.8rem"},children:e.errorDetails.opcode})]})]}),e.errorDetails.revertData&&B.jsxs(Be,{sx:{mt:1},children:[B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold",mb:1},children:"Revert Data:"}),B.jsx(ce,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.7rem",backgroundColor:"grey.100",padding:"8px",borderRadius:"4px",maxHeight:"100px",overflow:"auto",wordBreak:"break-all"},children:e.errorDetails.revertData})]})]})]}),e.logs&&e.logs.length>0&&B.jsxs(Kt,{elevation:1,sx:{p:2,mb:2},children:[B.jsxs(ce,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:"bold"},children:["📋 Event Logs (",e.logs.length,")"]}),B.jsx(Bm,{dense:!0,children:e.logs.map((b,S)=>B.jsx(Lw,{sx:{px:0},children:B.jsx(Mw,{primary:B.jsxs(Be,{children:[B.jsxs(ce,{variant:"body2",sx:{fontWeight:"bold"},children:["Event #",S+1]}),B.jsxs(ce,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.8rem"},children:["Address: ",b.address]}),B.jsxs(ce,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.8rem"},children:["Topics: ",b.topics.join(", ")]}),B.jsxs(ce,{variant:"body2",children:["Data:",B.jsx("span",{onClick:()=>m(b.data,`Event Log #${S+1} Data`),style:{fontFamily:"monospace",backgroundColor:"#f0f0f0",padding:"2px 4px",borderRadius:"3px",cursor:"pointer",textDecoration:"underline",color:"#1976d2",marginLeft:"4px"},children:y(b.data)})]})]})})},S))})]})]}),B.jsx(Nc,{sx:{px:3,py:2},children:B.jsx(Ln,{onClick:n,variant:"contained",color:"primary",children:"Close"})})]})}const uK="0.3.6",dK={version:uK};var Ax={},fK=Cl;Object.defineProperty(Ax,"__esModule",{value:!0});var $L=Ax.default=void 0,hK=fK(ah()),pK=B;$L=Ax.default=(0,hK.default)((0,pK.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");var _x={},gK=Cl;Object.defineProperty(_x,"__esModule",{value:!0});var LL=_x.default=void 0,mK=gK(ah()),vK=B;LL=_x.default=(0,mK.default)((0,vK.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos");const Ud=160,Kv=12,Jb=82,dA=3,ML=Vr.memo(({tx:e,txNumber:t,isSelected:n,getTransactionTypeIcon:r,getTransactionStatusIcon:i,onTileClick:s,deployedContracts:o,onContractExecute:c,shouldPreventClick:a})=>{var g,m;const d=U.useMemo(()=>e.type==="account_creation"&&e.from==="0x0000000000000000000000000000000000000000"?"Genesis":e.type==="account_creation"?"Account":e.type==="deployment"?"Contract":e.type==="function_call"?"Execution":e.type==="contract_call"?"Call":e.type==="eth_transfer"?"Transfer":String(e.type).replace("_"," "),[e.type,e.from]),l=U.useMemo(()=>o?o.find(v=>v.deploymentTxId===e.id):null,[o,e.id]),u=U.useMemo(()=>!o||!["function_call","contract_call"].includes(e.type)||!e.to?null:o.find(v=>v.address.toLowerCase()===e.to.toLowerCase()),[o,e.type,e.to]),h=U.useMemo(()=>e.type==="account_creation"?e.from==="0x0000000000000000000000000000000000000000"?"Genesis Account":"Creation":e.type==="deployment"&&l?l.name:(e.type==="function_call"||e.type==="contract_call")&&u?u.name:(e.type==="function_call"||e.type==="contract_call")&&e.functionName?e.functionName+"()":e.type==="eth_transfer"?`${parseFloat((Number(e.value)/1e18).toFixed(4))} ETH`:null,[e,l,u]),p=U.useCallback(()=>{a&&a()||s(e)},[e,s,a]),f=U.useCallback(v=>{v.stopPropagation(),l&&c&&c(l)},[l,c]);return B.jsxs(Be,{onClick:p,sx:{minWidth:`${Ud}px`,maxWidth:`${Ud}px`,height:`${Jb+20}px`,bgcolor:n?"#e3f2fd":"#f5f5f5",border:n?"2px solid #1976d2":"1px solid #ccc",borderRadius:2,boxShadow:n?"0 2px 8px #1976d233":"none",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",px:1.2,py:1,cursor:"pointer",transition:"all 0.15s","&:hover":{bgcolor:"#e3f2fd",borderColor:"#1976d2"},overflow:"hidden"},children:[B.jsxs(Be,{sx:{width:"100%"},children:[B.jsxs(Be,{sx:{display:"flex",alignItems:"center",width:"100%",mb:.2},children:[B.jsx(Be,{sx:{mr:.8},children:r(e.type,e)}),B.jsx(Be,{sx:{mr:.8},children:i(e.status)}),B.jsx(Be,{sx:{fontWeight:700,fontSize:"0.9em",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},children:d})]}),h&&B.jsx(Be,{sx:{width:"100%",mb:.1},children:e.type==="deployment"&&l?B.jsx(Ln,{onClick:f,size:"small",variant:"contained",startIcon:B.jsx(Ex,{}),sx:{backgroundColor:"#B05823",fontSize:"0.7rem",py:.2,px:.6,minHeight:"auto",width:"100%",mt:-.3,"&:hover":{backgroundColor:"#8B4513"}},children:l.name}):B.jsx(Be,{sx:{fontSize:"0.8em",fontWeight:600,color:"#444",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100%"},children:h})})]}),B.jsxs(Be,{sx:{width:"100%",mt:.3},children:[B.jsxs(Be,{sx:{color:"#666",fontSize:"0.7em",mb:.2},children:["TX: ",t,", Gas: ",((m=(g=e.gasUsed)==null?void 0:g.toString)==null?void 0:m.call(g))??"-"]}),B.jsx(Be,{sx:{color:"#888",fontSize:"0.6em",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:1.1},children:e.timestamp?new Date(e.timestamp).toLocaleString():""})]})]})});ML.displayName="TransactionTile";function yK({transactions:e,getTransactionTypeIcon:t,getTransactionStatusIcon:n,onTileClick:r,selectedTxId:i,deployedContracts:s,onContractExecute:o}){const c=U.useRef(null),[a,d]=U.useState(0),[l,u]=U.useState(0),[h,p]=U.useState(!1),f=U.useRef(0),g=U.useRef(0),[m,v]=U.useState(!1),y=U.useRef(!1),{visibleStart:x,visibleEnd:C,totalWidth:b,tilesPerPage:S}=U.useMemo(()=>{const N=Ud+Kv,F=Math.max(1,Math.floor(l/N)),G=e.length*N,z=Math.max(0,Math.floor(a/N)-dA),j=Math.min(e.length,Math.ceil((a+l)/N)+dA);return{visibleStart:z,visibleEnd:j,totalWidth:G,tilesPerPage:F}},[a,l,e.length]),I=U.useMemo(()=>e.slice(x,C),[e,x,C]),L=U.useCallback(()=>{c.current&&u(c.current.offsetWidth)},[]);U.useEffect(()=>{L();const N=setTimeout(()=>{L()},50),F=setTimeout(()=>{L()},200),G=()=>{clearTimeout(N),setTimeout(L,100)};return window.addEventListener("resize",G),()=>{window.removeEventListener("resize",G),clearTimeout(N),clearTimeout(F)}},[L]),U.useEffect(()=>{if(e.length>0&&l>0){const N=Math.max(0,b-l);d(N),v(!0)}},[e.length,b,l]);const T=U.useCallback(N=>{p(!0),f.current=N.clientX,g.current=a,y.current=!1,document.body.style.cursor="grabbing",N.preventDefault(),N.stopPropagation()},[a]),$=U.useCallback(N=>{if(!h)return;N.preventDefault(),N.stopPropagation();const F=N.clientX-f.current;Math.abs(F)>3&&(y.current=!0);const G=Math.max(0,Math.min(b-l,g.current-F));d(G)},[h,b,l]),P=U.useCallback(N=>{p(!1),document.body.style.cursor="",N.preventDefault(),N.stopPropagation()},[]),k=U.useCallback(()=>y.current,[]),A=U.useCallback(N=>{N.touches.length===1&&(h||(p(!0),f.current=N.touches[0].clientX,g.current=a),N.preventDefault())},[a,h]),w=U.useCallback(N=>{if(!h||N.touches.length!==1)return;N.preventDefault(),N.stopPropagation();const F=N.touches[0].clientX-f.current,G=Math.max(0,Math.min(b-l,g.current-F));d(G)},[h,b,l]),E=U.useCallback(()=>{p(!1)},[]);U.useEffect(()=>{if(h)return window.addEventListener("mousemove",$),window.addEventListener("mouseup",P),()=>{window.removeEventListener("mousemove",$),window.removeEventListener("mouseup",P)}},[h,$,P]);const _=U.useCallback(N=>{const F=Ud+Kv,G=S*F;d(N==="left"?z=>Math.max(0,z-G):z=>Math.min(b-l,z+G))},[S,b,l]),R=U.useCallback(N=>{N.preventDefault(),N.stopPropagation();const F=N.deltaX||N.deltaY,G=Math.max(0,Math.min(b-l,a+F));d(G)},[b,l,a]);U.useEffect(()=>{const N=c.current;if(N)return N.addEventListener("touchstart",A,{passive:!1}),N.addEventListener("touchmove",w,{passive:!1}),N.addEventListener("touchend",E,{passive:!1}),N.addEventListener("wheel",R,{passive:!1}),()=>{N.removeEventListener("touchstart",A),N.removeEventListener("touchmove",w),N.removeEventListener("touchend",E),N.removeEventListener("wheel",R)}},[A,w,E,R]);const M=a>0,O=a<b-l;return B.jsxs(Be,{sx:{position:"fixed",left:0,right:0,bottom:0,zIndex:1201,bgcolor:"#fff",borderTop:"2px solid #B05823",boxShadow:"0 -2px 8px rgba(0,0,0,0.08)",height:`${Jb+40}px`,display:"flex",alignItems:"center",px:2},children:[B.jsx(uf,{onClick:()=>_("left"),disabled:!M,sx:{mr:1,opacity:M?1:.3},size:"large",children:B.jsx(LL,{})}),B.jsxs(Be,{ref:c,sx:{flex:1,height:`${Jb+24}px`,cursor:h?"grabbing":"grab",userSelect:"none",overflow:"hidden",position:"relative"},onMouseDown:T,children:[B.jsx(Be,{sx:{position:"relative",width:`${b}px`,height:"100%",transform:`translateX(-${a}px)`,transition:h?"none":"transform 0.2s ease"},children:I.map((N,F)=>{const G=x+F,z=G*(Ud+Kv);return B.jsx(Be,{sx:{position:"absolute",left:`${z}px`,top:0,height:"100%",display:"flex",alignItems:"center"},children:B.jsx(ML,{tx:N,txNumber:G+1,isSelected:i===N.id,getTransactionTypeIcon:t,getTransactionStatusIcon:n,onTileClick:r,deployedContracts:s,onContractExecute:o,shouldPreventClick:k})},N.id)})}),e.length>0&&B.jsxs(Be,{sx:{position:"absolute",top:4,right:8,bgcolor:"rgba(0,0,0,0.7)",color:"white",px:1,py:.5,borderRadius:1,fontSize:"0.75em",pointerEvents:"none"},children:[e.length," txns"]})]}),B.jsx(uf,{onClick:()=>_("right"),disabled:!O,sx:{ml:1,opacity:O?1:.3},size:"large",children:B.jsx($L,{})})]})}const fA=240;let Yv=null,Zv=null;const RL=()=>(Yv||(Yv=new Cj),Yv),bK=()=>(Zv||(Zv=new Tj(RL())),Zv);function wK(){const e=Cu(),t=A3(e.breakpoints.down("sm")),[n,r]=U.useState("code"),i=RL(),s=bK(),[o,c]=U.useState(null),[a,d]=U.useState([]),[l,u]=U.useState(null),[h,p]=U.useState([]),[f,g]=U.useState({open:!1,value:"",title:""}),[m,v]=U.useState({open:!1,value:"",title:""}),[y,x]=U.useState(null),[C,b]=U.useState(!1),[S,I]=U.useState(""),[L,T]=U.useState(""),[$,P]=U.useState(""),[k,A]=U.useState(!1),[w,E]=U.useState("");U.useEffect(()=>{const ve=(async()=>{await i.initialize();const xe=()=>{const Ve=i.getTransactions();d(Ve),O(Ve)};xe(),i.onTransactionUpdate(xe);const Me=setInterval(xe,1e3);return()=>clearInterval(Me)})();return()=>{ve.then(xe=>xe&&xe())}},[i]),U.useEffect(()=>{const ne=()=>{u(i.getCurrentBlock())};ne();const ve=setInterval(ne,1e3);return()=>clearInterval(ve)},[i]);const _=(ne,ve)=>{switch(ne){case"deployment":return"🤝";case"function_call":return"▶️";case"contract_call":return"🔗";case"eth_transfer":return"💸";case"account_creation":return ve&&ve.from==="0x0000000000000000000000000000000000000000"?"👑":"👤";default:return"📄"}},R=ne=>{switch(ne){case"executed":return"✅";case"failed":return"❌";case"pending":return"⏳";default:return"❓"}},M=ne=>{if(ne.data){const ve=ne.data.toLowerCase();if(ve.includes("increment")&&ve.includes("getcount"))return"Counter";if(ve.includes("add")&&ve.includes("multiply")&&!ve.includes("set")&&!ve.includes("get"))return"Calculator";if(ve.includes("set")&&ve.includes("get")||ve.includes("storeddata"))return"Storage";if(ve.includes("hello")||ve.includes("simple")&&!ve.includes("increment")&&!ve.includes("add"))return"Simple";if(ve.includes("array")||ve.includes("addnumber"))return"ArrayOperations"}return null},O=ne=>{const ve=[];ne.forEach(xe=>{if(xe.type==="deployment"&&xe.contractAddress&&xe.status==="executed"){let Me="Unknown Contract",Ve=[];if(s){const De=s.getContractByAddress(xe.contractAddress);if(De)Me=De.name,Ve=De.abi;else{const rn=s.lastCompiledAbi,pn=s.lastCompiledName;rn&&pn?(Me=M(xe)||pn,Ve=rn):Me=M(xe)||`Contract_${xe.contractAddress.slice(0,8)}`}}else Me=M(xe)||`Contract_${xe.contractAddress.slice(0,8)}`;const dt={address:xe.contractAddress,name:Me,deploymentTxId:xe.id,abi:Ve,functions:Ve.filter(De=>De.type==="function").map(De=>({signature:`${De.name}(${De.inputs.map(rn=>`${rn.type} ${rn.name}`).join(", ")}) → ${De.outputs.length>0?De.outputs.map(rn=>rn.type).join(", "):"void"}`,name:De.name,inputs:De.inputs,outputs:De.outputs,stateMutability:De.stateMutability})),deployedAt:xe.timestamp};ve.push(dt)}}),p(ve)},N=ne=>{r(ne)},F=()=>{c(null)},G=ne=>{},z=ne=>{x(ne),I(""),T(""),P(""),b(!0)},j=(ne,ve)=>{g({open:!0,value:ne,title:ve})},V=()=>{g({open:!1,value:"",title:""})},Z=(ne,ve)=>{v({open:!0,value:ne,title:ve})},X=()=>{v({open:!1,value:"",title:""})},Y=()=>{b(!1)},Q=ne=>{I(ne.target.value)},te=ne=>{T(ne.target.value)},re=async()=>{if(!(!S||!y)){A(!0),P("");try{const ne=y.functions.find(Me=>Me.signature===S);if(!ne)throw new Error("Function not found");let ve=[];if(L.trim()&&L.trim()!=="[]")try{if(ve=JSON.parse(L),!Array.isArray(ve))throw new Error("Arguments must be an array")}catch{throw new Error("Invalid JSON format for arguments")}if(ve.length!==ne.inputs.length)throw new Error(`Expected ${ne.inputs.length} arguments, got ${ve.length}`);const xe=await i.executeContractFunction(y.address,y.abi,ne.name,ve);if(xe.status==="executed"){let Me=`✅ Function "${ne.name}" executed successfully!
`;Me+=`📊 Gas used: ${xe.gasUsed.toString()}
`,Me+=`💰 Gas price: ${xe.gasPrice.toString()}
`,xe.returnValue&&(Me+=`📤 Return value: ${xe.returnValue}
`),xe.logs&&xe.logs.length>0&&(Me+=`📋 Event logs:
`,xe.logs.forEach((Ve,dt)=>{Me+=`  ${dt+1}. Address: ${Ve.address}
`,Me+=`     Topics: ${Ve.topics.join(", ")}
`,Me+=`     Data: ${Ve.data}
`})),P(Me)}else P(`❌ Function execution failed: ${xe.error||"Unknown error"}`)}catch(ne){P(`❌ Error: ${ne.message||"An error occurred while executing the function"}`)}finally{A(!1)}}},pe=ne=>ne.functions||[],le=ne=>ne?B.jsxs(Be,{sx:{mb:2,p:2,bgcolor:"grey.50",borderRadius:1},children:[B.jsx(ce,{variant:"subtitle2",gutterBottom:!0,children:"Function Details:"}),B.jsx(ce,{variant:"body2",sx:{fontFamily:"monospace",mb:1},children:ne.signature}),ne.inputs.length>0&&B.jsxs(Be,{children:[B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold",mb:1},children:"Parameters:"}),ne.inputs.map((ve,xe)=>B.jsxs(ce,{variant:"body2",sx:{fontFamily:"monospace",ml:2},children:[ve.name,": ",ve.type]},xe))]})]}):null,ge=[{text:"Code Editor",icon:B.jsxs("span",{style:{fontFamily:"monospace",fontSize:"1.2rem",fontWeight:"bold"},children:["{","}"]}),section:"code"},{text:"Accounts",icon:B.jsx(yF,{}),section:"accounts"}];return B.jsxs(Be,{sx:{display:"flex"},children:[B.jsx(s4,{position:"fixed",sx:{zIndex:ne=>ne.zIndex.drawer+1},children:B.jsx(eC,{children:B.jsxs(ce,{variant:"h6",noWrap:!0,component:"div",children:["YZ ETH Blockchain Simulator v",dK.version]})})}),B.jsxs(sD,{variant:t?"temporary":"permanent",open:t?n!=="code":!0,onClose:()=>N("code"),sx:{width:fA,flexShrink:0,"& .MuiDrawer-paper":{width:fA,boxSizing:"border-box"}},children:[B.jsx(eC,{}),B.jsxs(Be,{sx:{overflow:"auto",display:"flex",flexDirection:"column",height:"100%"},children:[B.jsx(Bm,{children:ge.map(ne=>B.jsx(Lw,{disablePadding:!0,sx:{display:"block"},children:B.jsxs(jD,{selected:n===ne.section,onClick:()=>N(ne.section),sx:{minHeight:48,justifyContent:"initial",px:2.5},children:[B.jsx(o8,{sx:{minWidth:0,mr:t?3:"auto",justifyContent:"center"},children:ne.icon}),B.jsx(Mw,{primary:ne.text,sx:{opacity:1}})]})},ne.text))}),B.jsx(Iw,{}),B.jsx(Be,{sx:{px:2,py:1},children:B.jsxs(Kt,{elevation:2,sx:{p:2,mb:2,bgcolor:"#f5f5f5"},children:[B.jsx(ce,{variant:"subtitle2",sx:{fontWeight:"bold",mb:1},children:"Current Block"}),l?B.jsxs(Be,{children:[B.jsxs(ce,{variant:"body2",children:[B.jsx("strong",{children:"Number:"})," ",l.blockNumber.toString()]}),B.jsxs(ce,{variant:"body2",children:[B.jsx("strong",{children:"Gas Used:"})," ",l.gasUsed.toString()," / ",l.gasLimit.toString()]}),B.jsxs(ce,{variant:"body2",children:[B.jsx("strong",{children:"Transactions:"})," ",l.transactions.length]}),B.jsxs(ce,{variant:"body2",children:[B.jsx("strong",{children:"Timestamp:"})," ",new Date(Number(l.timestamp)*1e3).toLocaleString()]})]}):B.jsx(ce,{variant:"body2",color:"textSecondary",children:"No block data available"})]})}),B.jsx(Be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",py:4,px:2,mt:2},children:B.jsx("img",{src:"/yz.png",alt:"YZ Logo",style:{width:"120px",height:"auto",opacity:.3,filter:"grayscale(20%)",transition:"opacity 0.3s ease"}})})]})]}),B.jsxs(Be,{component:"main",sx:{flexGrow:1,p:3,width:"100%",mt:8,pb:12},children:[n==="code"&&B.jsx(qV,{executor:s,blockManager:i,code:w,setCode:E}),n==="accounts"&&B.jsx(XV,{blockManager:i})]}),B.jsx(yK,{transactions:a,getTransactionTypeIcon:_,getTransactionStatusIcon:R,onTileClick:c,selectedTxId:o==null?void 0:o.id,deployedContracts:h,onContractExecute:z}),B.jsx(cK,{transaction:o,open:!!o,onClose:F,deployedContracts:h,onContractClick:G,onReturnValueClick:j,onEventDataClick:Z}),B.jsxs(Oc,{open:f.open,onClose:V,maxWidth:"md",fullWidth:!0,children:[B.jsx(Dc,{children:f.title}),B.jsx(Bc,{children:B.jsx(ce,{variant:"body1",sx:{fontFamily:"monospace",backgroundColor:"#f5f5f5",padding:2,borderRadius:1,whiteSpace:"pre-wrap",wordBreak:"break-all"},children:f.value})}),B.jsx(Nc,{children:B.jsx(Ln,{onClick:V,children:"Close"})})]}),B.jsxs(Oc,{open:m.open,onClose:X,maxWidth:"md",fullWidth:!0,children:[B.jsx(Dc,{children:m.title}),B.jsx(Bc,{children:B.jsx(ce,{variant:"body1",sx:{fontFamily:"monospace",backgroundColor:"#f5f5f5",padding:2,borderRadius:1,whiteSpace:"pre-wrap",wordBreak:"break-all"},children:m.value})}),B.jsx(Nc,{children:B.jsx(Ln,{onClick:X,children:"Close"})})]}),B.jsxs(Oc,{open:C,onClose:Y,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:2,maxHeight:"80vh"}},children:[B.jsxs(Dc,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",pb:1},children:[B.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:1},children:[B.jsx("span",{children:"📝"}),B.jsx(ce,{variant:"h6",component:"span",children:"Execute Contract Function"}),y&&B.jsxs(ce,{variant:"subtitle2",sx:{ml:1,opacity:.7},children:["- ",y.name]})]}),B.jsx(uf,{onClick:Y,size:"small",children:B.jsx(SF,{})})]}),B.jsxs(Bc,{sx:{px:3,py:2},children:[B.jsxs(Kt,{elevation:1,sx:{p:2,mb:2},children:[B.jsx(ce,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:"bold"},children:"📋 Contract Details"}),B.jsxs(Be,{sx:{display:"grid",gridTemplateColumns:"auto 1fr",gap:1,alignItems:"start"},children:[B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"Name:"}),B.jsx(ce,{variant:"body2",children:(y==null?void 0:y.name)||"Unnamed Contract"}),B.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:"Address:"}),B.jsx(ce,{variant:"body2",sx:{fontFamily:"monospace",wordBreak:"break-all"},children:(y==null?void 0:y.address)||"N/A"})]})]}),y&&B.jsxs(Kt,{elevation:1,sx:{p:2,mb:2},children:[B.jsxs(ce,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:"bold"},children:["⚙️ Available Functions (",y.functions.length,")"]}),B.jsxs(Be,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[y.functions.slice(0,5).map(ne=>B.jsx(ev,{label:ne.name,size:"small",variant:"outlined",color:ne.stateMutability==="view"?"info":"primary"},ne.name)),y.functions.length>5&&B.jsx(ev,{label:`+${y.functions.length-5} more`,size:"small",variant:"outlined"})]})]}),B.jsxs(Kt,{elevation:1,sx:{p:2,mb:2},children:[B.jsx(ce,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:"bold"},children:"🔧 Function Execution"}),B.jsxs(Be,{sx:{display:"flex",flexDirection:"column",gap:2},children:[B.jsxs(df,{value:S,onChange:Q,displayEmpty:!0,fullWidth:!0,children:[B.jsx(du,{value:"",disabled:!0,children:"Select a function..."}),y&&pe(y).map(ne=>B.jsx(du,{value:ne.signature,children:B.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:1},children:[B.jsx(ev,{label:ne.stateMutability,size:"small",color:ne.stateMutability==="view"?"info":"primary",sx:{minWidth:"60px"}}),ne.signature]})},ne.signature))]}),S&&y&&(()=>{const ne=y.functions.find(ve=>ve.signature===S);return le(ne)})(),B.jsx(Nw,{label:"Arguments (JSON array)",value:L,onChange:te,fullWidth:!0,multiline:!0,rows:3,disabled:!S,placeholder:S?'Enter arguments as JSON array, e.g., [123, "hello", true]':"Select a function first",helperText:S?"Enter arguments as a JSON array. Use quotes for strings and addresses.":""}),B.jsxs(Kt,{elevation:2,sx:{p:2,minHeight:"150px",overflow:"auto",bgcolor:"#1e1e1e",color:"#fff"},children:[B.jsx(ce,{variant:"subtitle2",sx:{color:"#4caf50",mb:1},children:"Execution Output:"}),k?B.jsxs(Be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100px"},children:[B.jsx(MI,{size:24,sx:{color:"#4caf50"}}),B.jsx(ce,{variant:"body2",sx:{ml:2,color:"#4caf50"},children:"Executing function..."})]}):B.jsx(ce,{variant:"body2",sx:{whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"0.9rem",lineHeight:1.4,color:$.includes("❌")?"#f44336":"#fff"},children:$||'No output yet. Select a function and click "Execute" to see results.'})]})]})]})]}),B.jsxs(Nc,{sx:{px:3,py:2},children:[B.jsx(Ln,{onClick:re,variant:"contained",disabled:!S||k,startIcon:B.jsx(HI,{}),sx:{bgcolor:"#4caf50","&:hover":{bgcolor:"#45a049"},"&:disabled":{bgcolor:"#ccc"}},children:k?"Executing...":"Execute Function"}),B.jsx(Ln,{onClick:Y,variant:"contained",color:"primary",children:"Close"})]})]})]})}const xK=T1({palette:{primary:{main:"#B05823"},secondary:{main:"#8B4513"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif'}});sb.createRoot(document.getElementById("root")).render(B.jsx(Vr.StrictMode,{children:B.jsxs(lO,{theme:xK,children:[B.jsx(e6,{}),B.jsx(wK,{})]})}));
